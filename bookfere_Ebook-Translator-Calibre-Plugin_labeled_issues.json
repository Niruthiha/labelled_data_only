{
  "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
  "repository_info": {
    "repo": "bookfere/Ebook-Translator-Calibre-Plugin",
    "stars": 2031,
    "language": "Python",
    "description": "A Calibre plugin to translate ebook into a specified language.",
    "url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin",
    "topics": [
      "bilingual",
      "calibre",
      "calibre-plugin",
      "chatgpt",
      "deepl",
      "epub",
      "kindle",
      "openai",
      "translate",
      "translator"
    ],
    "created_at": "2023-03-26T06:16:16Z",
    "updated_at": "2025-06-21T06:21:02Z",
    "search_query": "language translation openai language:python stars:>2",
    "total_issues_estimate": 180,
    "labeled_issues_estimate": 73,
    "labeling_rate": 40.8,
    "sample_labeled": 20,
    "sample_total": 49,
    "has_issues": true,
    "repo_id": 619059435,
    "default_branch": "master",
    "size": 2099
  },
  "extraction_date": "2025-06-22T00:48:00.348496",
  "extraction_type": "LABELED_ISSUES_ONLY",
  "total_labeled_issues": 292,
  "issues": [
    {
      "issue_number": 108,
      "title": "Optimized feature suggestion: Implement command line interface support",
      "body": "When attempting to run this plugin in the terminal using the command 'calibre-debug --run-plugin \"Ebook Translator\"', the following output is displayed:\r\n```bash\r\n➜  ~ calibre-debug --run-plugin \"Ebook Translator\"       \r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 47, in <module>\r\n  File \"site.py\", line 43, in main\r\n  File \"calibre/debug.py\", line 282, in main\r\n  File \"calibre/customize/__init__.py\", line 312, in cli_main\r\nNotImplementedError: The Ebook Translator plugin has no command line interface\r\n```\r\nIt would be greatly appreciated if you could add support for a command line interface to this plugin. Thank you.",
      "state": "closed",
      "author": "laraws",
      "author_type": "User",
      "created_at": "2023-08-21T06:19:31Z",
      "updated_at": "2025-06-09T12:44:58Z",
      "closed_at": "2023-08-22T06:27:43Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/108/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/108",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/108",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.456023",
      "comments": [
        {
          "author": "bookfere",
          "body": "This is a GUI plugin, and we currently do not have plan to implement non-GUI functionality, unless someone else contributes to it. Sorry for the inconvenience this may cause.",
          "created_at": "2023-08-22T06:27:43Z"
        },
        {
          "author": "ROBERT-MCDOWELL",
          "body": "If you drive me which part of your code to modify so I can contribute to make it work in headless mode like ebook-convert",
          "created_at": "2024-11-23T19:14:53Z"
        },
        {
          "author": "ibraelmahallawy",
          "body": "Is there any hope of adding this feature?",
          "created_at": "2025-06-09T12:44:57Z"
        }
      ]
    },
    {
      "issue_number": 448,
      "title": "[错误报告] 工具栏无法显示图标",
      "body": "![Image](https://github.com/user-attachments/assets/97533547-37c6-4c2a-b879-7dabfccbe97a)\n\n![Image](https://github.com/user-attachments/assets/1790d3d0-2f07-4e1f-942c-f2fb21e95420)\n\n在win10右上角的工具栏上，无法显示翻译书籍的图标\n\n我是昨天下载的，有图标，一切正常\n\n今天关闭软件，再打开，这个图标就没有了\n\n我删掉插件，重启calibre，再安装插件，再重启，依然无效，图标依然没显示",
      "state": "closed",
      "author": "lihui66666",
      "author_type": "User",
      "created_at": "2025-05-20T10:05:38Z",
      "updated_at": "2025-06-03T14:07:45Z",
      "closed_at": "2025-06-03T14:07:45Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/448/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/448",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/448",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.672099",
      "comments": [
        {
          "author": "lihui66666",
          "body": "我在另一台windows电脑上新安装了calibre软件，再安装ebook插件，发现，工具栏右上方也没有显示翻译图标\n\n看上去，这是个普遍问题",
          "created_at": "2025-05-20T12:27:28Z"
        },
        {
          "author": "lihui66666",
          "body": "今天早上，我已解决问题\n解决方法如下：\n先卸载calibre，再彻底删掉calibre的所有残留文件\n这是最关键的一步\n昨天晚上，我反复卸载安装它俩，都无效，是因为，我没有删光所有文件\n\n然后，重新安装calibre，重新安装ebook插件，图标正常出现在右上方\n",
          "created_at": "2025-05-21T03:06:54Z"
        }
      ]
    },
    {
      "issue_number": 449,
      "title": "[错误报告] 翻译完成后，点击「输出」出现报错",
      "body": "**基础信息**\n\n* 操作系统: **macOS**\n* Calibre 版本: **8.4.0**\n* 插件版本：**2.4.1**\n* 插件来源: **安装自 Rolling Release**\n\n**描述错误**\n\n翻译完成后，点击「输出」出现报错：\n\n```\n[Auto detect > Chinese (Simplified)] Translating \"Wired Magazine, Monthly Edition [Fri, 02 May 2025]\"\nDeDRM v10.0.9: Trying to decrypt Wired Magazine, Monthly Edition [Fri, 02 M - calibre.epub\nDeDRM v10.0.9: Verifying zip archive integrity\nDeDRM v10.0.9: Post-processing took 0.0 seconds\nDeDRM v10.0.9: Finished after 0.8 seconds\nDeDRM v10.0.9: Trying to decrypt v8_p38fr.epub\nDeDRM v10.0.9: Verifying zip archive integrity\nDeDRM v10.0.9: Post-processing took 0.0 seconds\nDeDRM v10.0.9: Finished after 0.6 seconds\nInputFormatPlugin: EPUB Input running\non /var/folders/8p/pgmqgp_j5m38d425zjrwj4q40000gn/C/calibre-fejsrnjk/ry8ow9d7.epub\nFound HTML cover titlepage.xhtml\nParsing all content...\nReferenced file 'feed_1/index.html' not found\nMerging user specified metadata...\nDetecting structure...\n\tDetected chapter: A Children’s Book From the Future\nFlattening CSS and remapping font sizes...\nSource base font size is 12.00000pt\nRemoving fake margins...\nCleaning up manifest...\nTrimming unused files from manifest...\nCreating EPUB Output...\nTranslating ebook content... (this will take a while)\n══════════════════════════════════════\n| Diagnosis Information\n══════════════════════════════════════\n| Calibre Version: 8.4.0\n| Plugin Version: v2.4.1\n| Translation Engine: ChatGPT\n| Source Language: Auto detect\n| Target Language: Chinese (Simplified)\n| Encoding: utf-8\n| Cache Enabled: True\n| Merging Length: 0\n| Concurrent requests: 20\n| Request Interval: 20.0\n| Request Attempt: 3\n| Request Timeout: 30.0\n| Input Path: /Users/nocode/Calibre Library/calibre/Wired Magazine, Monthly Edition [Fri, 02 May 2025] (193)/Wired Magazine, Monthly Edition [Fri, 02 M - calibre.epub\n| Output Path: /var/folders/8p/pgmqgp_j5m38d425zjrwj4q40000gn/C/calibre-fejsrnjk/_lkh8eje.epub\n══════════════════════════════════════\nStart to translate ebook content\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\nItem count: 3860\nCharacter count: 1055676\n\n--- 翻译部分省略 ---\n\nTime consuming: 0.03 minutes\nTranslation completed.\nTraceback (most recent call last):\n  File \"runpy.py\", line 198, in _run_module_as_main\n  File \"runpy.py\", line 88, in _run_code\n  File \"site.py\", line 42, in <module>\n  File \"site.py\", line 38, in main\n  File \"calibre/utils/ipc/worker.py\", line 213, in main\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 243, in convert_item\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 87, in convert_book\n  File \"calibre/ebooks/conversion/plumber.py\", line 1267, in run\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 75, in convert\n  File \"calibre_plugins.ebook_translator.lib.element\", line 703, in add_translations\n  File \"calibre_plugins.ebook_translator.lib.element\", line 288, in add_translation\n  File \"calibre_plugins.ebook_translator.lib.element\", line 250, in _create_new_element\n  File \"src/lxml/etree.pyx\", line 3266, in lxml.etree.XML\n  File \"src/lxml/parser.pxi\", line 1989, in lxml.etree._parseMemoryDocument\n  File \"src/lxml/parser.pxi\", line 1869, in lxml.etree._parseDoc\n  File \"src/lxml/parser.pxi\", line 1105, in lxml.etree._BaseParser._parseUnicodeDoc\n  File \"src/lxml/parser.pxi\", line 633, in lxml.etree._ParserContext._handleParseResultDoc\n  File \"src/lxml/parser.pxi\", line 743, in lxml.etree._handleParseResult\n  File \"src/lxml/parser.pxi\", line 672, in lxml.etree._raiseParseError\n  File \"<string>\", line 1\nlxml.etree.XMLSyntaxError: redefinition of the xmlns prefix is forbidden, line 1, column 83\n```\n\n**期待变化**\n能够完成导出\n\n**屏幕截图**\n添加合适的截图来帮助你解释问题\n\n**附件**\n[EPUB 文件及翻译缓存.zip](https://github.com/user-attachments/files/20371095/default.zip)\n",
      "state": "open",
      "author": "lchtao26",
      "author_type": "User",
      "created_at": "2025-05-21T15:41:18Z",
      "updated_at": "2025-06-03T14:07:08Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/449/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/449",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/449",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.838083",
      "comments": []
    },
    {
      "issue_number": 451,
      "title": "[错误报告] 自定义API翻译报错",
      "body": "以下是我用JSON自定义的代码：\n\n```\n{\n    \"name\": \"DeepseekAli\",\n    \"languages\": {\n        \"source\": {\n            \"Source Language\": \"code\"\n        },\n        \"target\": {\n            \"Target Language\": \"code\"\n        }\n    },\n    \"request\": {\n        \"url\": \"https://dashscope.aliyuncs.com/compatible-mode/v1\",\n        \"method\": \"POST\",\n        \"headers\": {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": \"Bearer sk-***********************\"\n        },\n        \"data\": {\n            \"model\": \"deepseek-chat\",\n            \"messages\": [\n                {\"role\": \"system\", \"content\": \"You are a code translation assistant.\"},\n                {\"role\": \"user\", \"content\": \"Translate the following code from <source> to <target>:\\n\\n<text>\"}\n            ],\n            \"stream\": false\n        }\n    },\n    \"response\": \"response['choices'][0]['message']['content']\"\n}\n\n翻译的时候报错：\n\n══════════════════════════════════════\n\n错误信息：Traceback (most recent call last):\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 126, in translate_text\n  File \"calibre_plugins.ebook_translator.engines.base\", line 196, in translate\ncalibre_plugins.ebook_translator.lib.exception.UnexpectedResult: 无法解析返回的响应。原始数据：\n\nTraceback (most recent call last):\n  File \"calibre_plugins.ebook_translator.engines.base\", line 180, in translate\n  File \"calibre_plugins.ebook_translator.lib.utils\", line 159, in request\n  File \"mechanize\\_mechanize.py\", line 257, in open\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 404: Not Found\n```\n\n请问如何解决这个问题？",
      "state": "closed",
      "author": "zlchs1312004",
      "author_type": "User",
      "created_at": "2025-06-02T16:50:43Z",
      "updated_at": "2025-06-03T14:05:08Z",
      "closed_at": "2025-06-03T14:05:08Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/451/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/451",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/451",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.838098",
      "comments": []
    },
    {
      "issue_number": 441,
      "title": "[Feature request] Better Search. ",
      "body": "Highlight the searched in \"Review\"\n\n\nRegex support when searching.",
      "state": "open",
      "author": "AkamashiDesu",
      "author_type": "User",
      "created_at": "2025-04-28T15:39:15Z",
      "updated_at": "2025-04-28T15:43:07Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/441/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/441",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/441",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.838105",
      "comments": []
    },
    {
      "issue_number": 435,
      "title": "[错误报告] 导出错误",
      "body": "之前一直可以用的，今天心血来潮，升级了最新的 8.40和2.40版本的插件。居然用不了了...翻译完无法导出，一导出就显示这个\n\ncalibre, version 8.3.0 (win32, embedded-python: True)\n翻译失败: 失败: [自动探测 > Chinese Simplified] 翻译 \"1Gigi Allens\"\n\n[自动探测 > Chinese Simplified] 翻译 \"1Gigi Allens\"\nWARNING: CPU random generator seem to be failing, disabling hardware random number generation\nWARNING: RDRND generated: 0xffffffff 0xffffffff 0xffffffff 0xffffffff\nTraceback (most recent call last):\n  File \"runpy.py\", line 198, in _run_module_as_main\n  File \"runpy.py\", line 88, in _run_code\n  File \"site.py\", line 83, in <module>\n  File \"site.py\", line 78, in main\n  File \"site.py\", line 50, in run_entry_point\n  File \"calibre\\utils\\ipc\\worker.py\", line 213, in main\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\nTypeError: 'NoneType' object is not callable\n",
      "state": "open",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2025-04-20T07:37:12Z",
      "updated_at": "2025-04-20T15:08:18Z",
      "closed_at": null,
      "labels": [
        "bug",
        "duplicate"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/435/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/435",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/435",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:02.838111",
      "comments": [
        {
          "author": "tongcuyu",
          "body": "哦,...好像只有.srt文件不行....是什么新版的bug吗？\n",
          "created_at": "2025-04-20T07:40:21Z"
        },
        {
          "author": "bookfere",
          "body": "同 #429，是 BUG。升级到最新的 2.4.1  版本再试试看。",
          "created_at": "2025-04-20T15:08:17Z"
        }
      ]
    },
    {
      "issue_number": 429,
      "title": "[错误报告] PGN翻译完成后输出报错",
      "body": "**基础信息**\n\n* 操作系统: **Windows**\n* Calibre 版本: **6.23**\n* 插件版本：**2.4.0**\n* 插件来源: **安装自 Calibre**\n\n**描述错误**\n使用OpenAI API ｛翻译成中文，仅保留译文，其他默认｝翻译PGN格式文件之后，输出翻译好的文件报错，报错内容：\ncalibre, version 6.23.0 (win32, embedded-python: True)\n翻译失败: 失败: [自动探测 > Chinese (Simplified)] 翻译 \"Short and Sweet\"\n\n[自动探测 > Chinese (Simplified)] 翻译 \"Short and Sweet\"\nTraceback (most recent call last):\n  File \"runpy.py\", line 196, in _run_module_as_main\n  File \"runpy.py\", line 86, in _run_code\n  File \"site.py\", line 83, in <module>\n  File \"site.py\", line 78, in main\n  File \"site.py\", line 50, in run_entry_point\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\nTypeError: 'NoneType' object is not callable\n\n翻译所使用PGN附件：\n[Short and Sweet - The Kings Indian Defense simpli.zip](https://github.com/user-attachments/files/19617682/Short.and.Sweet.-.The.Kings.Indian.Defense.simpli.zip)\n",
      "state": "closed",
      "author": "zoushenhh",
      "author_type": "User",
      "created_at": "2025-04-05T17:44:12Z",
      "updated_at": "2025-04-20T15:08:11Z",
      "closed_at": "2025-04-08T17:15:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/429/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/429",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/429",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.059224",
      "comments": [
        {
          "author": "bookfere",
          "body": "这个错误已在 0f44c9abd58a970a2fd44740b3c738ab82c68d83 中修复，请下载安装 [Rolling Release](https://translator.bookfere.com/) 试试看。",
          "created_at": "2025-04-08T06:13:05Z"
        },
        {
          "author": "zoushenhh",
          "body": "> 这个错误已在 [0f44c9a](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/0f44c9abd58a970a2fd44740b3c738ab82c68d83) 中修复，请下载安装 [Rolling Release](https://translator.bookfere.com/) 试试看。\n\n功能恢复正常。",
          "created_at": "2025-04-08T17:15:11Z"
        }
      ]
    },
    {
      "issue_number": 421,
      "title": "[Bug report] Plugin Stops Running While Generating Translated PGN File",
      "body": "**Basic information**\n\n* Operating System: **Windows/macOS/Linux distro**\n* Calibre Version: **8.0.1**\n* Plugin Version: **2.4.0**\n* Plugin Installation: **From Calibre/Rolling Release**\n\n**Describe the bug**\nWhen I translate a pgn file, the program translates, but when generating the *.pgn result -> the program stops and does not do it\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\ncalibre, version 8.0.1 (win32, embedded-python: True)\nError al traducir: Fallo: [Detección automática > Spanish] Traduciendo \"Thinking In Chess A How To Guide\"\n\n[Detección automática > Spanish] Traduciendo \"Thinking In Chess A How To Guide\"\nTraceback (most recent call last):\n  File \"runpy.py\", line 198, in _run_module_as_main\n  File \"runpy.py\", line 88, in _run_code\n  File \"site.py\", line 83, in <module>\n  File \"site.py\", line 78, in main\n  File \"site.py\", line 50, in run_entry_point\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\nTypeError: 'NoneType' object is not callable\n",
      "state": "closed",
      "author": "berniegunther",
      "author_type": "User",
      "created_at": "2025-03-27T23:09:52Z",
      "updated_at": "2025-04-08T16:59:20Z",
      "closed_at": "2025-04-08T06:35:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/421/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/421",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/421",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.249152",
      "comments": [
        {
          "author": "bookfere",
          "body": "This issue has been resolved in https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/0f44c9abd58a970a2fd44740b3c738ab82c68d83. Please download and install the [Rolling Release](https://translator.bookfere.com/) version to try it out.",
          "created_at": "2025-03-28T06:42:44Z"
        },
        {
          "author": "berniegunther",
          "body": "ok, thanks.\r\nSobre 28/03/2025 7:43:05, BookFere ***@***.***> escribió:\r\nThis issue has been resolved in 0f44c9a [https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/0f44c9abd58a970a2fd44740b3c738ab82c68d83]. Please download and install the Rolling Release [https://translator.bookfere.",
          "created_at": "2025-03-28T10:17:00Z"
        },
        {
          "author": "berniegunther",
          "body": "Dear Developer,\r\nFirst of all, I would like to express my deepest gratitude for your amazing work with the Calibre translation plugin. It is an extraordinary tool that has greatly facilitated access to texts in different languages, and I truly appreciate the effort and dedication you have put into i",
          "created_at": "2025-03-28T10:26:40Z"
        },
        {
          "author": "bookfere",
          "body": "Unfortunately, I don’t think the plugin can fix the PDF issue you mentioned, since it fully depends on Calibre’s conversion. Basically, it just translates whatever data Calibre provides. So, if Calibre can’t properly handle the PDF, neither can the plugin.",
          "created_at": "2025-04-08T06:35:25Z"
        },
        {
          "author": "berniegunther",
          "body": "First of all, I'd like to thank you for the effort you've made. I'm not sure if Calibre has the ability to do the job I told you about or not. For example, I take a book in PDF format and it translates it in a more or less reasonable way. If you want to give an example, when Calibre directly loses i",
          "created_at": "2025-04-08T16:59:19Z"
        }
      ]
    },
    {
      "issue_number": 396,
      "title": "[Bug report] Cache problem",
      "body": "I would like to somehow recover my cache – the plugin continuously deletes translations even though the cache indicates that they are available. What should I do to recover my work? After all, the entire plugin is useless if I cannot go back to my translations to make corrections.\n\nI deleted all the unnecessary cache, thinking it would help, but no – instead of opening the old cache, the plugin creates a new one. How can I load that cache (.db)?\n\n![Image](https://github.com/user-attachments/assets/aa8f741d-0f6e-4998-9ff2-5e871c9dcee6)\n\n![Image](https://github.com/user-attachments/assets/6998e48e-1b4a-49c2-a52e-371326937741)",
      "state": "closed",
      "author": "Mubumbutu",
      "author_type": "User",
      "created_at": "2025-02-07T11:23:36Z",
      "updated_at": "2025-04-08T06:59:45Z",
      "closed_at": "2025-02-07T11:55:28Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/396/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/396",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/396",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.455831",
      "comments": [
        {
          "author": "Mubumbutu",
          "body": "I renamed the old .db file (my translations) to the new one generated by ebook translator. I copied and replaced the files – apparently, everything works now. There could be an option in the settings to automatically load the old .db when available instead of generating new ones.",
          "created_at": "2025-02-07T11:55:28Z"
        }
      ]
    },
    {
      "issue_number": 425,
      "title": "翻译功能失效",
      "body": "发现有2个问题。\n1.80多mb大小英文pdf翻译好之后，导出失败，一直转圈圈，进行到70%停滞不前。\n2.相同的80多mb英文pdf在电脑转化为docx文件，大小为30mb左右，调出翻译界面，一直卡在电子识别界面，不能进行下一步的翻译。\n总的来说，更新之后，翻译功能失效了，有点失望…希望作者修复这个问题造福广大学者。",
      "state": "closed",
      "author": "jobmike11",
      "author_type": "User",
      "created_at": "2025-04-03T18:26:46Z",
      "updated_at": "2025-04-08T06:59:02Z",
      "closed_at": "2025-04-04T09:26:13Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/425/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/425",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/425",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.647186",
      "comments": []
    },
    {
      "issue_number": 418,
      "title": "Google Translate (new, old, html)",
      "body": "What's the difference?",
      "state": "closed",
      "author": "andradadad",
      "author_type": "User",
      "created_at": "2025-03-25T20:35:17Z",
      "updated_at": "2025-04-08T06:58:39Z",
      "closed_at": "2025-03-27T07:22:52Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/418/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/418",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/418",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.647209",
      "comments": []
    },
    {
      "issue_number": 430,
      "title": "Doesnt translate any epub in calibre latest version",
      "body": "Operating system : windows 64 bit\nCalibre version :8.2.1\nIts showing the epub is translated but after I checked the output path its  showing untranslated epub only..nd also the translated files usually appear at top in calibre but it's not appearing even after waiting for  30 + mins",
      "state": "closed",
      "author": "Aruraka",
      "author_type": "User",
      "created_at": "2025-04-06T07:30:55Z",
      "updated_at": "2025-04-08T06:56:52Z",
      "closed_at": "2025-04-08T06:56:51Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/430/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/430",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/430",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.647217",
      "comments": [
        {
          "author": "bookfere",
          "body": "For the first issue, you received the answer in our chat group; it was caused by selecting the wrong source language. As for the long conversion time issue, I believe it's the same as the one you posted in #416.",
          "created_at": "2025-04-08T06:56:51Z"
        }
      ]
    },
    {
      "issue_number": 424,
      "title": "[功能请求] 关于大模型翻译的几个建议",
      "body": "**建议 1：增加输出内容验证功能 (字符集检查)**\n\n*   **[功能请求] 增加翻译后字符集验证功能以排除无关语言**\n\n*   **请求是否与某问题相关**\n    是。尽管我已经通过优化提示词（Prompt）来“禁止输出除简体中文和原文以外的文字”，但大型语言模型（尤其是高温度设置下）仍有极小概率输出非预期的字符，比如俄文（西里尔字母）、韩文（谚文）等。由于我无法进行全面的双语对照审校，仅靠阅读译文很难发现这些偶然混入的字符，这影响了最终译文的纯净度和质量。\n\n*   **描述你想要的解决方案**\n    希望程序在接收到大模型返回的译文后，能自动进行一个字符集检查。可以设定一个“允许的字符范围”，例如：\n    1.  中文字符（根据Unicode CJK范围）\n    2.  基本的拉丁字母 (a-z, A-Z，用于保留的原文）\n    3.  阿拉伯数字 (0-9)\n    4.  中英文标点符号（全角和半角，可配置）\n    5.  空格和换行符\n    如果检查发现输出了**超出**这个允许范围的字符（特别是像西里尔字母、谚文、阿拉伯字母、希腊字母等已知无关语言的字符），程序能：\n    *   **优选方案：** 在输出的译文旁边或日志中**标记**出来，例如高亮显示或添加警告注释，提示用户这里可能存在问题字符，需要人工检查。\n    *   **次选方案（需谨慎）：** 提供一个选项，允许用户选择自动**删除**这些不允许的字符（但这有误删正常内容的微小风险，所以标记可能更安全）。\n\n*   **描述你想到的替代方案**\n    替代方案是完全依赖提示词约束，但这已被证明有时不够稳定。另一个替代方案是用户手动将译文复制到外部工具进行检查，但这效率低下。程序内置此功能是最佳整合方案。\n\n---\n\n**建议 2：增加中文排版格式自动化检查**\n\n*   **[功能请求] 增加针对中文排版的自动化格式检查功能**\n\n*   **请求是否与某问题相关**\n    是。为了保证中文译文的排版规范，我在提示词中加入了具体要求，如“在汉字之后使用中文标点，汉字前后禁止出现空格”。然而，模型有时仍可能忽略这些细节指令。手动检查全文的标点和空格使用非常耗时且容易遗漏，影响阅读体验和专业性。禁止空格主要是因为听书软件会把空格处理成暂停零点几秒导致句子断开。\n\n*   **描述你想要的解决方案**\n    希望程序能增加一个可选的后处理步骤，自动检查译文是否符合常见的中文排版规范，特别是：\n    1.  检查汉字与英文/数字之间是否需要添加空格（通常需要，可配置规则）。\n    2.  检查汉字与中文标点之间是否有多余的空格。\n    3.  检查汉字后面是否错误地使用了英文半角标点（如 `,` 或 `.` 应为 `，` 或 `。`）。\n    4.  检查汉字前后是否出现了不必要的空格。\n    对于检查发现的不符合项，程序可以：\n    *   **标记：** 在文本中或日志里高亮/标记出这些格式问题，供用户审阅修改。\n    *   **自动修正（可选）：** 提供一个选项，允许程序根据预设规则自动修正这些常见的排版错误（例如，自动移除汉字后的空格，自动替换半角标点为全角等）。\n\n*   **描述你想到的替代方案**\n    替代方案是依赖提示词约束模型，或者用户手动进行全文格式检查和修正，但这都效率不高。使用专业的排版工具进行后处理也是一种方法，但集成到翻译程序中会更方便。\n\n---\n\n**建议 3：增加译文与原文长度异常比对提示**\n\n*   **[功能请求] 增加译文与原文段落/句子长度异常比对提示**\n\n*   **请求是否与某问题相关**\n    是。由于我无法进行双语对照，很难发现模型是否在某个地方过度“自由发挥”（幻觉、添加过多解释）或者遗漏了部分信息，即使总行数保持一致。这可能导致译文偏离原文意思。\n\n*   **描述你想要的解决方案**\n    程序已经能确保行数一致，这很棒。建议在此基础上增加一个功能：对比**对应行**或**对应段落**的**字符数（或单词数/Token数）**。\n    可以设定一个合理的长度比例阈值，例如，如果某段译文的字符数是原文对应段落字符数的 2 倍以上，或者少于 0.5 倍（这些比例可以配置），程序就进行标记。\n    这个标记**不一定代表错误**，因为不同语言表达同一意思长度本就不同。但它是一个**强烈的信号**，提示用户：“这里的长度差异较大，可能值得你花点时间对照一下原文，确认是否存在过度翻译、漏译或幻觉。” 这有助于将有限的审校精力聚焦到最可疑的地方。\n    同时这种方式也更容易找出输出错行的地方。\n\n*   **描述你想到的替代方案**\n    替代方案是用户在阅读译文时凭感觉判断哪里可能过长或过短，但这不够量化和系统。手动计算长度比对不现实。\n\n---\n\n**建议 4：增加按书籍章节边界切分翻译块的功能**\n\n* **请求是否与某问题相关**\n是。目前程序似乎是按固定的字符数（如我设置的9999字符）来切分待翻译的文本块。这种方法虽然保证了每次提交给API的文本量，但它完全忽略了书籍本身的章节结构。这会导致一个翻译块可能包含前一章的结尾和后一章的开头。对于需要保证章节内部术语、语气、风格一致性的翻译来说，这种跨章节的切分方式会破坏上下文的连贯性，可能影响翻译质量，尤其是在章节切换处的翻译效果。\n\n* **描述你想要的解决方案**\n我希望程序能增加一个选项，允许在切分翻译块时，**优先尊重原文的章节边界**。具体实现方式可能如下：\n\n1.  **章节识别：** 程序需要一种方式来识别章节的开始。最灵活的方式可能是允许用户**提供一个简单的规则或标记**来识别章节标题或分隔符。例如：\n    *   用户可以指定一个正则表达式（如 `^Chapter \\d+` 或 `^第.*章`）。\n    *   用户可以指定一个特殊的文本标记（如 `### Chapter Start ###`，用户需在源文件中手动添加或已存在类似标记）。\n    *   程序可以尝试一些默认的常见模式。\n2.  **切分逻辑：**\n    *   程序首先根据用户提供的规则将整个书籍文本分割成章节段落。\n    *   然后，在处理每个章节时，再应用现有的块大小限制（如9999字符）。\n    *   **关键在于：** 即使一个章节因为过长需要被切分成多个块，也要**确保所有这些块都属于同一个章节**。程序不应生成跨越两个章节的翻译块。\n    *   如果一个章节本身很短，小于块大小限制，那么它就作为一个单独的块进行翻译。\n    *   （可选高级功能）如果连续几个章节都很短，可以将它们合并到一个块中，前提是总字符数不超过限制。但首要目标是保证不跨章节切分。\n\n* **效果：** 这样做能确保发送给大模型的每一个文本块都具有更强的内部上下文关联性（来自同一章节），有助于提高翻译的一致性和准确性。\n\n* **描述你想到的替代方案**\n1.  **手动预处理：** 我可以在运行翻译程序之前，手动将书籍按章节分割成不同的文件，然后逐个文件进行翻译。但这对于一本长书来说非常繁琐，且容易出错。\n2.  **调整块大小碰运气：** 我可以尝试调整字符数大小，寄希望于它能“巧合地”对齐章节边界，但这显然是不可靠的。\n3.  **接受现状：** 忽略章节边界，接受当前可能存在的跨章节切分问题。\n\n内置的按章节切分功能将是最高效、最可靠的解决方案。",
      "state": "open",
      "author": "Baiyssy",
      "author_type": "User",
      "created_at": "2025-04-03T06:56:33Z",
      "updated_at": "2025-04-08T06:39:07Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/424/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/424",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/424",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.821607",
      "comments": []
    },
    {
      "issue_number": 426,
      "title": "the icon disappears",
      "body": "After updating to the new version of the plugin, it disappears from the menu bar interface and I can't find it even though it appears as installed. However, when I go back to the previous version, it appears in the interface again.\n\nWindows 10\n*Calibre 版本: 8.11x\n\n![Image](https://github.com/user-attachments/assets/4d8f8d11-3d4f-4886-88a7-95f66206d2e0)\n\n![Image](https://github.com/user-attachments/assets/1026202d-6060-40ca-9a3c-807112f03c09)\n\n\n![Image](https://github.com/user-attachments/assets/26cacf5b-3abf-403c-8d89-e2defcd0a09b)\n\n![Image](https://github.com/user-attachments/assets/52c1b77d-6a00-4862-9ed9-aa1a23f0c8ec)",
      "state": "closed",
      "author": "bichitoxxx",
      "author_type": "User",
      "created_at": "2025-04-03T20:48:32Z",
      "updated_at": "2025-04-08T06:38:17Z",
      "closed_at": "2025-04-08T06:38:16Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/426/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/426",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/426",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:03.821627",
      "comments": [
        {
          "author": "bookfere",
          "body": "Same as #414, this issue has been resolved in commit aefc9c1af530aafad60963edc93b8cfd71f81d6a. Please download and install the [Rolling Release](https://translator.bookfere.com/) version to apply the fix.",
          "created_at": "2025-04-08T06:38:16Z"
        }
      ]
    },
    {
      "issue_number": 416,
      "title": "Some epubs and txt file are not translating in windows  64 bit",
      "body": "**Basic information**\n\n* Operating System: **Windows/macOS/Linux distro**\n* Calibre Version: **x.x.x**\n* Plugin Version: **x.x.x**\n* Plugin Installation: **From Calibre/Rolling Release**\n\n**Describe the bug**\nA clear and concise description of what the bug is.\n\n**Expected behavior**\nA clear and concise description of what you expected to happen.\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n",
      "state": "closed",
      "author": "Aruraka",
      "author_type": "User",
      "created_at": "2025-03-24T07:23:16Z",
      "updated_at": "2025-04-08T06:23:58Z",
      "closed_at": "2025-04-08T06:23:58Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/416/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/416",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/416",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:04.023477",
      "comments": [
        {
          "author": "bookfere",
          "body": "Please provide more details so we can investigate the issue you encountered.",
          "created_at": "2025-03-30T16:40:04Z"
        },
        {
          "author": "Aruraka",
          "body": "> Please provide more details so we can investigate the issue you encountered.\n\nLike its translating an ebook( epub) of more than 10 mb very slowly..its taking 3 to 4 hours..how I make it faster to translate ",
          "created_at": "2025-03-31T09:11:56Z"
        }
      ]
    },
    {
      "issue_number": 415,
      "title": "Missing Persian (Farsi) Language Support in Gemini Translation Options",
      "body": "\n**Issue Description**  \nThe current Gemini translation language selection appears to lack Persian/Farsi (`fa`) support. This seems to stem from using an incomplete language code reference that omits Persian, despite Gemini's API natively supporting Persian translations.\n\n**Evidence**  \n1. Google's official [supported languages](https://cloud.google.com/translate/docs/languages) lists Persian (code `fa`)  \n2. Direct API testing shows Gemini successfully handles Persian translations when using `fa` code  \n3. Other translation services in the plugin (e.g. Google Translate) properly include Persian\n\n**Expected Behavior**  \n- Persian/Farsi should appear as a selectable language option for Gemini translations\n- Language code `fa` should be mapped to \"Persian\" or \"فارسی\"\n\n**Suggested Fix**  \nUpdate the Gemini language code mapping to include:  \n```python\n'fa': 'Persian (فارسی)'  # Or appropriate display name\n```\n\n**Additional Context**  \n- This appears to be a common oversight - several projects mistakenly use outdated lists that omit Persian\n- Gemini's language support matches Google Translate's capabilities\n- Persian is a major language with 110M+ speakers that should be prioritized\n",
      "state": "closed",
      "author": "mahzood",
      "author_type": "User",
      "created_at": "2025-03-23T15:07:29Z",
      "updated_at": "2025-03-29T09:27:53Z",
      "closed_at": "2025-03-25T05:19:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/415/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/415",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/415",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:04.300242",
      "comments": [
        {
          "author": "bookfere",
          "body": "The language has been added.\n\nI am not sure if Gemini supports all the languages that Google Translate supports. I could only find Gemini's language support information [here](https://gemini.google.com/faq), but it does not seem to be a complete list.",
          "created_at": "2025-03-25T05:26:18Z"
        },
        {
          "author": "mahzood",
          "body": "Thank you. Yes Gemini does not include Persian in the documents while it creates the most creative and professional translation to and from Persian. \n\nI used a workaround in the prompt setting and tested it: \n\n```\nYou are a meticulous translator who translates any given content. Translate the given ",
          "created_at": "2025-03-29T09:27:52Z"
        }
      ]
    },
    {
      "issue_number": 412,
      "title": "[Feature request] Translate to Brazilian Portuguese",
      "body": "currently the plugin translates to portugal's portuguese. for us Brazilians is kind of different and although we can read it perfectly well there are some differences.  It's not the same thing.\n\nPlease split portuguese into Brazilian Portuguese and Portugal's Portuguese.\n\n\n\n",
      "state": "closed",
      "author": "rooktoe1",
      "author_type": "User",
      "created_at": "2025-03-16T19:52:02Z",
      "updated_at": "2025-03-19T04:46:33Z",
      "closed_at": "2025-03-19T04:46:33Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/412/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/412",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/412",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:04.475470",
      "comments": [
        {
          "author": "bookfere",
          "body": "Yes, I understand the difference. However, each engine has its own supported language. If the engine supports Portuguese variants, so does the plugin. Which engine are you using?",
          "created_at": "2025-03-18T09:39:25Z"
        },
        {
          "author": "rooktoe1",
          "body": "Chatgpt 3,5 turbo. when i modify yhe script i can get much better results but unfortunately i can't update it since i would loose the modifications.",
          "created_at": "2025-03-18T10:48:13Z"
        },
        {
          "author": "bookfere",
          "body": "The plugin distinguishes between the language variants as follows:\n\n```python\n{\n    'Portuguese (Brazil)': 'pt',\n    'Portuguese (Portugal)': 'pt-PT',\n}\n```\n\nWhen you select `Portuguese (Brazil)` as the output language, ChatGPT will use the following prompt:\n\n> You are a meticulous translator who tr",
          "created_at": "2025-03-18T13:04:40Z"
        },
        {
          "author": "rooktoe1",
          "body": "Thanks! maybe this is brand new. Going to update my plugin now to see if it appears.\nCan confirm that it appears now! Thanks in the name of all brazilians!",
          "created_at": "2025-03-18T13:44:27Z"
        }
      ]
    },
    {
      "issue_number": 316,
      "title": "官网api调用报错，以及不知道第三方中转的api是否支持",
      "body": "最开始买了第三方中转的open ai api报错内容是：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error _ssl.c:989: The handshake operation timed out>\r\n\r\n和报错2：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 404: Not Found\r\n\r\n{\"error\":{\"message\":\"Invalid URL (POST /v1chat/completions)\",\"type\":\"invalid_request_error\",\"param\":\"\",\"code\":\"\"}}\r\n\r\n\r\n\r\n后面找了一个官网的api，然后报错是：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 405: Method Not Allowed\r\n\r\n\r\n\r\n以及\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\n<!DOCTYPE html><html lang=\"en-US\"><head><title>Just a moment...</title><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\"><meta name=\"robots\" content=\"noindex,nofollow\"><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131}button,html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}@media (prefers-color-scheme:dark){body{background-color:#222;color:#d9d9d9}body a{color:#fff}body a:hover{color:#ee730a;text-decoration:underline}body .lds-ring div{border-color:#999 transparent transparent}body .font-red{color:#b20f03}body .pow-button{background-color:#4693ff;color:#1d1d1d}body #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}}body{display:flex;flex-direction:column;min-height:100vh}body.no-js .loading-spinner{visibility:hidden}body.no-js .challenge-running{display:none}body.dark{background-color:#222;color:#d9d9d9}body.dark a{color:#fff}body.dark a:hover{color:#ee730a;text-decoration:underline}body.dark .lds-ring div{border-color:#999 transparent transparent}body.dark .font-red{color:#b20f03}body.dark .pow-button{background-color:#4693ff;color:#1d1d1d}body.dark #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjZDlkOWQ5IiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body.dark #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}body.light{background-color:transparent;color:#313131}body.light a{color:#0051c3}body.light a:hover{color:#ee730a;text-decoration:underline}body.light .lds-ring div{border-color:#595959 transparent transparent}body.light .font-red{color:#fc574a}body.light .pow-button{background-color:#003681;border-color:#003681;color:#fff}body.light #challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=)}body.light #challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZjNTc0YSIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjZmM1NzRhIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+)}a{background-color:transparent;color:#0051c3;text-decoration:none;transition:color .15s ease}a:hover{color:#ee730a;text-decoration:underline}.main-content{margin:8rem auto;max-width:60rem;width:100%}.heading-favicon{height:2rem;margin-right:.5rem;width:2rem}@media (width <= 720px){.main-content{margin-top:4rem}.heading-favicon{height:1.5rem;width:1.5rem}}.footer,.main-content{padding-left:1.5rem;padding-right:1.5rem}.main-wrapper{align-items:center;display:flex;flex:1;flex-direction:column}.font-red{color:#b20f03}.spacer{margin:2rem 0}.h1{font-size:2.5rem;font-weight:500;line-height:3.75rem}.h2{font-weight:500}.core-msg,.h2{font-size:1.5rem;line-height:2.25rem}.body-text,.core-msg{font-weight:400}.body-text{font-size:1rem;line-height:1.25rem}@media (width <= 720px){.h1{font-size:1.5rem;line-height:1.75rem}.h2{font-size:1.25rem}.core-msg,.h2{line-height:1.5rem}.core-msg{font-size:1rem}}#challenge-error-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI2ZjNTc0YSIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjZmM1NzRhIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+);padding-left:34px}#challenge-error-text,#challenge-success-text{background-repeat:no-repeat;background-size:contain}#challenge-success-text{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSIgdmlld0JveD0iMCAwIDI2IDI2Ij48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJNMTMgMGExMyAxMyAwIDEgMCAwIDI2IDEzIDEzIDAgMCAwIDAtMjZtMCAyNGExMSAxMSAwIDEgMSAwLTIyIDExIDExIDAgMCAxIDAgMjIiLz48cGF0aCBmaWxsPSIjMzEzMTMxIiBkPSJtMTAuOTU1IDE2LjA1NS0zLjk1LTQuMTI1LTEuNDQ1IDEuMzg1IDUuMzcgNS42MSA5LjQ5NS05LjYtMS40Mi0xLjQwNXoiLz48L3N2Zz4=);padding-left:42px}.text-center{text-align:center}.pow-button{background-color:#0051c3;border:.063rem solid #0051c3;border-radius:.313rem;color:#fff;font-size:.875rem;line-height:1.313rem;margin:2rem 0;padding:.375rem 1rem;transition-duration:.2s;transition-property:background-color,border-color,color;transition-timing-function:ease}.pow-button:hover{background-color:#003681;border-color:#003681;color:#fff;cursor:pointer}.footer{font-size:.75rem;line-height:1.125rem;margin:0 auto;max-width:60rem;width:100%}.footer-inner{border-top:1px solid #d9d9d9;padding-bottom:1rem;padding-top:1rem}.clearfix:after{clear:both;content:\"\";display:table}.clearfix .column{float:left;padding-right:1.5rem;width:50%}.diagnostic-wrapper{margin-bottom:.5rem}.footer .ray-id{text-align:center}.footer .ray-id code{font-family:monaco,courier,monospace}.core-msg,.zone-name-title{overflow-wrap:break-word}@media (width <= 720px){.diagnostic-wrapper{display:flex;flex-wrap:wrap;justify-content:center}.clearfix:after{clear:none;content:none;display:initial;text-align:center}.column{padding-bottom:2rem}.clearfix .column{float:none;padding:0;width:auto;word-break:keep-all}.zone-name-title{margin-bottom:1rem}}.loading-spinner{height:76.391px}.lds-ring{display:inline-block;position:relative}.lds-ring,.lds-ring div{height:1.875rem;width:1.875rem}.lds-ring div{animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:.3rem solid transparent;border-radius:50%;border-top-color:#313131;box-sizing:border-box;display:block;position:absolute}.lds-ring div:first-child{animation-delay:-.45s}.lds-ring div:nth-child(2){animation-delay:-.3s}.lds-ring div:nth-child(3){animation-delay:-.15s}@keyframes lds-ring{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.main-wrapper,body{display:block}}.rtl .heading-favicon{margin-left:.5rem;margin-right:0}.rtl #challenge-success-text{background-position:100%;padding-left:0;padding-right:42px}.rtl #challenge-error-text{background-position:100%;padding-left:0;padding-right:34px}</style><meta http-equiv=\"refresh\" content=\"375\"></head><body class=\"no-js\"><div class=\"main-wrapper\" role=\"main\"><div class=\"main-content\"><noscript><div id=\"challenge-error-title\"><div class=\"h2\"><span id=\"challenge-error-text\">Enable JavaScript and cookies to continue</span></div></div></noscript></div></div><script>(function(){window._cf_chl_opt={cvId: '3',cZone: \"openai.com\",cType: 'managed',cNounce: '3825',cRay: '88797d581a4c67f1',cHash: '4246fd78d87eb17',cUPMDTk: \"\\/api\\/?__cf_chl_tk=7nMmF4Hj.EEd8O4sf205Hgdv2V8GtXiLkS3.E__hTgk-1716346131-0.0.1.1-1578\",cFPWv: 'b',cTTimeMs: '1000',cMTimeMs: '375000',cTplV: 5,cTplB: 'cf',cK: \"visitor-time\",fa: \"\\/api\\/?__cf_chl_f_tk=7nMmF4Hj.EEd8O4sf205Hgdv2V8GtXiLkS3.E__hTgk-1716346131-0.0.1.1-1578\",md: \"Hb.kLAhXRDrOiDGaMQ05VTWqrRh2dexkc4mxIc.xeEE-1716346131-1.1.1.1-csnjF8TdHQuq0EAs.zHSLzHjeJCskOOyrSc5kSWQB8Aeq1quXlu8vWHBRY1IEF_0tnb6U4GZlgTihxFgEHHex7I97buPGVKYQAZ2Xn6v02SHiuSOpmMq6hqnT9jgQjTHxIV48xEQOHGLhe0yxM8PGyMKSQcgIdyGzNnHxx8TatPO8ZmXZXXWqd.3K4UXTsd_pAkG4.6DRjvuB_8qwIR9sZi7GZhVHvAQMLcga.7zwf_F22cvfhcGmHi0E4tbJSyzDzMWr73Vr2gfLsuZ_j5oWvlUxI2S_7e_6OKvXkvBDh_bqRt2OoKUG90e1b4tSf.xIPoXDUNL40Dc60jaWBTno.oYGwoaQVLMyM2bWAdt7G7C8MlhuMlXaF4EZsSPLWUv3yqVCr4.4mq_qOuKA6tq_AW3WzOz_JuqcaFYW1PyRq6DbvalgONgcizowJfwRSvlHYxraklF99wm6u1z7QvfxChtXHxl4uczm95aue3z3ojKcrrpE6rmUmNR5U_DSXFUtcWQbZYbc4J6EtVcIjZcagavjNDvcxSraEcjLn2HgP5Y3fnPgkKrI257ZX2yYeBKpaB0sehnJo_8EYSQdFPcYxxuqZ3KoOwKXFT5iR_w2zuC3JcAWOV2oOVkgkGbIf6V84tuMe0dR9EtmEC25SIqHEILGDbMOOzydDUPx7g_M2vndyVHsS3kZmfvNyqTR7cPSJZI9JQ9jX.9ymNgUpUaXDJvPKdafQ44jfw9MYNwfthfYah.aFgprLn0UorgPLbudn.UMzY0DiC1uUyC1jnjqLd7Tam9NrarueGqYYvNeEAeqnxCXlXYfm_Lw1NJNeyeHQV0rVYyO8yEdgi9u6P4p9CBh7WC1IRNIUK_Bcx6qrUWWGqwGUhKkurtteqoWhIsDith0U2coK7Psb8clX1_1sAob_m8GpV.47qI39Kh0_A.55.bzTUUsOwA0eaMeUwhMwgJZNYi8_K1yrT6TIUP98D9LoWx8YSyLoABnO7o76bdirhWovfWE47je1_wRAG3rqPl93Av96dpqiceqHWcXsMUbyg3gvov3Z.okEzv6DqxkbEejYq_GcnxZ8nCExndSmmHmPJawIh3qeSVRMjwFZXvirSZyuxCHvWL9wV3D15QoHXKIoDXPqXK0yOVVVHLZ.MJNmYfli1Tt_ydYyWeTWKfgdo48wSNpQkxY3MA84wwTjM0EuXasfHUGOUTIgtOWtQd1DIsC5YP1lJois_dV17.dUZciuLRVi.qE.jD6ecvua5Oh14IVecAhtxTlCLw_wifRN_p0zTsuv3hWWdaVjkGk2CAvqeg33Pt.AsgYKmJy0q6yoh4GskAyHk49Kq8B7iI09JqpHId87BsqaR7NYxmWGEUT4IFa7BnKcqBby4RW02cegBOBtW_spqD6NzNqowdtuLYBigy8yrKKSv3pN7exlrmQlOPPrO8eBLFgchca41Mcl_zFSwkZNRcX7CUl5yGYxdAwsGVoSIJmAo3h2sRQtbblYMfYowcV8QvYsU\",mdrd: \"slKKLjRR7FmtDtUojHrxZwMyASORvAzERhll5Tdd_Y4-1716346131-1.1.1.1-zDmShZPKtziEIAtZ6zPHriwN.LNFP8YutHNUb3yrZufo_acrWyeqzkXDiB7_Qyb3zi4Q9rDyfZk3iPaJop5rYvjbsjpOYKx_4gjPdAjvErC_gHNW4ImNrDdoA9wgMw9QPSgVV9SWn4EOWlxYBSD9TkVmXA9pUaIc57jEL0fDhfzQn_N.Y8o58q.uJ2D2Oab_iHcPspAGeViIfgqGsyss.P6x7mm7Wf5psNdb7lfHnrUCqaln8kmvWQUdq02oLjfuLMmxOGIUApJ1C00bxmXrucxYdGhIWPvGEsio3P4_FyXJ3Ey3QzVLWxY95H3dhrOECTLQFvXPZJzs1UTU6M3rjzMrQ6dugiioQ4c4oyIxMGUKHrgyRpknKtfIa85dR3y6NRdUl7T5DR43LMIFcIFLpqcu6THXLelxcuWiTI5IqR0KcYwwDTr7vjOZt1jnRgLfD9QMJRF9kN63esARY1.IBCzeFeUSiesW.PDLEUQirKem_w1WchP7G7wzdxsj7TaUNFkIrBnCmuByZgtLMaaQPK1Vsmf8ibf0p_l3e2kCiRvZbcECHTTIvg.l7NpYnV_ATW8pyeEB4jncV_6301Exr0fIlo579eQsHybat7fvXA1TuMLL17YXPEmHqVHg2aucMfR7wchIlJ14f7PQXF8W.kqivz7VNUDfJ_hmOZ5Oj0IU3QgfP2NAN9f5tHnRlrtoCnwHoyqBExdyxM0P2tw6_ULQ1zOvuSkpV8h9.q8.98c6rrSHv0oGqqwm1Ueb03zvJ5urlCyyDh2m90yrgXdFn86TpI2cRCItOh3GrfvOp8MCP4xonqZdJwQv3aqOMCAKb0ipsMYWw3pKGKF_iGpzubVQS70W1pdW5jZ0YDbqR1oEz4659InwEfAG7HFW5aTiJn9Ocg5xG8bwgq4yqEyqSwPwm237WHtfBzD.zMOkBeqUveB33QZNRWNqcvFm4lkJDQgdV7ChfKsmuk33AvCvgJ1F2okb6HvzmCra6_xf.ertlb8K7qTPO0HUrgKShrbx5duEW2zuIc9KZcGowLL0LUls3gIjzUgcZQG0J3Y6R7n3bsmGpkalK9u0mp3gn8Prb9QtICBuG7zrSJG.cTIH47lR9qgMm3I8jj8JgNfo7Kr_oZ5g5vrKvB.n91GgwTbIQxgG302oPrQWxkGHVhrQHvKVjnl8GVd8uhTCmsqOFzoyrxjPzQtCEj3XxOYNp.Vy24R55xbcCWHiqdU3.ITONdFy9xNXF69Id21jPGmEdNiG4ErfWf.UfQBJFsOR6MHpNFqUYZu2Aj3t_mvvrGyGwvm0Mma2Pwwm8vUg9r9Tm9p0s5EhmDI2XXHFZPsGI86KfaI2E002LOwkV895PzU6LU8NB6va100CMfZ.64q8DrfS6XySPZ_SzUXERdbsue6Ve5kw25PSa7N8sG_5mD57gzbtdNS6wqcSjVkJLVY7dpGJOXfapRf2R8EBbvZQ2YFwu.HBbjKiphwyefdQAzBlJAeFHCX7.N528pprPef_b2EhKEH33S.fw9X5ZmRTSr3nrr3tBtBFGc5qWe0WQ4Vg1aCvkQ.iYRIp5uytiUl1kCRK5DeFoP.Md91a4D9ozos_kOCICFxl4lOw0XlpuAkxb.1c0Ir8g3vsn4UGLZ1lq.hDdYAYuK14zCJDM.ssdon_doIT_sboNpaKCr3WEMHciM6I_HsJjUMVFRR0etZivZ97.oDDdJJr2ZA4Okf0_6AlJE5ca5aynHCMR9C2J4NO5hEPX7BgGd2rImMDYwShsfrPw8IAIYZqMGdZgN5fDR9Blub0Ua2dNURsLf85tLhclvyj4ZNqg9SWJR5nZICw43363mdVyaGSvgUVqitmTHgOyp2ldkrgge6BiXPxhduswSIMlx.Krvr8WD8wc0UWpoZqBJQP_iMudXlNaQCIUE5NbhWVp.m6CFU0bgZebMem8ptero2_00RsxcoE6puzKU3koFXgTQPO0d3e6fMkqUEyJGzvV2ERt09m8T3_vSOCu39hAp4Fu_22SA9_VhXEpHGzYtr8Y517uNgN_nItZ88ooDiHWQDEsqHBooi4SSDWXj87BM04ydVtp.M4x91ipHTHLTdN8EwpB_rbj6aqwFTtNEVl2oxML.L7WemHV1unRuzZL.62IeeLNzKXj2.iBEuHkMprHjQaCsIJ4TMcxk29mUTxU8gbH_3W_E8ujj6q3KaNOCzntIj3dkpelGbkVLcand5B9Lq3OijizLHJUzFTsRnvSMKj3HzHYERboRXY_0D80onFqoQ3YU51bHk2SUXyls68fvxlVm_BwiOYoF3tLZ7fwnfv3U6tiEmQlSbWT8AsRyu4b0AJ6bnqCmjYgGTNuS3sXS9ZDCAJu5_1VdfQxp6XFfOsVJmeuLz3nkdzEUtvsxED3FVWc1d8oOhXNUdZWe8OSPNKbkgirmZVuAEZ1cyjtATHg.4U9855QEa7XMj1EQiYyOJlZH8XosM1clnGGIQT0IsPRBQhTJor5QIt\",cRq: {ru: 'aHR0cHM6Ly9vcGVuYWkuY29tL2FwaS8=',ra: 'RWJvb2stVHJhbnNsYXRvci92Mi4zLjQ=',rm: 'UE9TVA==',d: 'V7nIZ7c6rMOGlD1XXatUvSb/ovHf4hhPDSLtfq2T7cn90wRe5Xqp0k80O0rrkp24N/Hx+6h9XdGUwSTJLQDZBSCfdMEFAG6fEcLmFM/1V9o7KFTYzHUYt8yI+mkM5741Rvrzf3dA2xc718xI19c4H6GyFWmgQPmXSYt43thNnDXThaj+tigr9vAkPNBR/lpFhajHWICJyD3e/pSa7L5nXn7IlTPAxbf6pQCOPXVNSn3r4Ax6+e9GkZdauF67ox0LYQQ4PXk+/5AbGMG8kCULh3aBjyl5PfRmD4I7Y93aljsKnvDRCkz6yI74utevONbZ+HvfLI6SDmpCGLkWqgVo5Ahl/m43n9PGgXhq558LfigxcSAyIlsW8XswfzUX5FzgQPnyLbVQsxTHn75tJQizR5B9YF2at6+rKcfpgK8TeTkTT3QSYRA2f3DbNXatx7LqCFM+W/xsE8RIupT1F/C/d9JngeS9f7eIjru7HG3X6jbJhDDRP4p0bcY4YiSoMpzR5gu8f6/+nNHD9OW2Wso7mXlE8WrJNtemgTc6d2C0tOo=',t: 'MTcxNjM0NjEzMS4yMTgwMDA=',cT: Math.floor(Date.now() / 1000),m: 'LnFMWlj+p3yReMXreD1/WaKXDG+rE6liTnn+WopN8KM=',i1: 'TpUC/0ejw3DdgsIKuWn2Ew==',i2: 'QHtOX1jB18q30kg0+o5xng==',zh: 'ULytyqbUhvezGEhuw7JA3nyKKR78rFU1sFNg5+21X6c=',uh: 'BkoyKAqrBUSweiRIFgUXW0KDznAHxuZldlLXm1q7GIk=',hh: '6DRP17hjzkUmXKzJAms7bA4OqyZ1RY8MCcH+VDleInA=',}};var cpo = document.createElement('script');cpo.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=88797d581a4c67f1';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null, \"\\/api\\/?__cf_chl_rt_tk=7nMmF4Hj.EEd8O4sf205Hgdv2V8GtXiLkS3.E__hTgk-1716346131-0.0.1.1-1578\" + window._cf_chl_opt.cOgUHash);cpo.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(cpo);}());</script></body></html>\r\n\r\n",
      "state": "closed",
      "author": "hanxiao28",
      "author_type": "User",
      "created_at": "2024-05-22T02:46:16Z",
      "updated_at": "2025-03-18T23:02:36Z",
      "closed_at": "2024-05-22T16:28:52Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/316/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/316",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/316",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:04.743504",
      "comments": [
        {
          "author": "bookfere",
          "body": "应该是设置的 API 端点有误导致的，参考 #123 检查一下。",
          "created_at": "2024-05-22T02:59:31Z"
        },
        {
          "author": "hanxiao28",
          "body": "已设置成功，感谢老大！",
          "created_at": "2024-05-22T03:03:43Z"
        },
        {
          "author": "zlchs1312004",
          "body": "> 已设置成功，感谢老大！\n\n我也遇到这个问题了，请问你是如何解决的？我按照前面你们说的都试了还是不行，google free 可以，涉及API的不行",
          "created_at": "2025-03-18T23:02:36Z"
        }
      ]
    },
    {
      "issue_number": 413,
      "title": "[错误报告] 无法获取模型列表，请检查后重试。",
      "body": "**基础信息**\n\n* 操作系统: **Windows 11**\n* Calibre 版本: **7.24**\n* 插件版本：**2.4.0**\n* 插件来源: **安装自 Calibre**\n\n**描述错误**\n所有大模型点刷新都提示 无法获取模型列表，请检查后重试。",
      "state": "closed",
      "author": "Baiyssy",
      "author_type": "User",
      "created_at": "2025-03-17T03:28:58Z",
      "updated_at": "2025-03-18T12:41:18Z",
      "closed_at": "2025-03-18T12:39:32Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/413/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/413",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/413",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:04.941945",
      "comments": [
        {
          "author": "bookfere",
          "body": "获取模型列表需要确保填写了有效的 API 密钥，并且网络能正常访问 API 服务。\n\n如果这两个条件都满足，可以运行 `calibre-debug -sg` 打开 DEBUG 模式的 Calibre，出现提示后，终端会出现具体的错误信息。",
          "created_at": "2025-03-18T09:05:12Z"
        },
        {
          "author": "Baiyssy",
          "body": "搞定，谢谢！\n不过这个错误提示还是可以优化一下的。",
          "created_at": "2025-03-18T09:56:01Z"
        },
        {
          "author": "bookfere",
          "body": "已改进。本来想偷个懒的 :P",
          "created_at": "2025-03-18T12:41:17Z"
        }
      ]
    },
    {
      "issue_number": 414,
      "title": "[错误报告] mac端，插件升级 2.4之后，「翻译书籍」图标在Calibre工具栏消失，并且找不到，通过降级安装插件2.3.5之后，恢复。",
      "body": "**基础信息**\n\n* 操作系统: **macOS 15.4**\n* Calibre 版本: **7.26**\n* 插件版本：**2.4**\n* 插件来源: **安装自 Calibre/Rolling Release**\n\n**描述错误**\n清晰而简洁地描述你所遇到的错误\n\n**期待变化**\n清晰而简洁地描述你想要什么改变\n\n**屏幕截图**\n添加合适的截图来帮助你解释问题\n",
      "state": "closed",
      "author": "LIVEINTHEOC",
      "author_type": "User",
      "created_at": "2025-03-18T07:32:55Z",
      "updated_at": "2025-03-18T09:42:09Z",
      "closed_at": "2025-03-18T09:32:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/414/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/414",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/414",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:05.149994",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈！升级后降级然后再升级重现了这个错误。请下载使用修复后的 [Rolling Realse](https://translator.bookfere.com/) 版本。",
          "created_at": "2025-03-18T09:42:07Z"
        }
      ]
    },
    {
      "issue_number": 386,
      "title": "Assuming there's a next release planned, when is it planned for?",
      "body": "Thank you",
      "state": "closed",
      "author": "seidnerj",
      "author_type": "User",
      "created_at": "2024-12-27T00:02:25Z",
      "updated_at": "2025-03-12T03:41:41Z",
      "closed_at": "2025-03-12T03:38:59Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/386/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/386",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/386",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:05.324845",
      "comments": [
        {
          "author": "seidnerj",
          "body": "?",
          "created_at": "2025-03-11T20:11:40Z"
        }
      ]
    },
    {
      "issue_number": 409,
      "title": "[功能请求] DEEPSEEK API",
      "body": "Is the request related to a problem?\nI would like to use the DeepSeek API functionality in the plugin, but currently, the plugin does not support this interface, making it impossible for me to directly call DeepSeek's services. This causes inconvenience as I need to manually handle API calls and data transfer, which increases development complexity.\n\nDescribe the solution you want\nI hope the author can integrate the DeepSeek API functionality into the plugin, providing a simple and easy-to-use interface that allows me to directly call DeepSeek's services, such as search and data analysis, within the plugin. This would simplify my development process and improve efficiency.\n\nDescribe alternative solutions you've considered\nIf direct integration of the DeepSeek API is not possible, I suggest the author provide a universal API calling module that allows users to customize API requests and response handling. This way, even without official DeepSeek support, I could achieve similar functionality through configuration.",
      "state": "closed",
      "author": "kxp9015",
      "author_type": "User",
      "created_at": "2025-03-09T07:20:14Z",
      "updated_at": "2025-03-10T06:37:28Z",
      "closed_at": "2025-03-10T05:10:41Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/409/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/409",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/409",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:05.542505",
      "comments": [
        {
          "author": "bookfere",
          "body": "The engine has been added but has not yet been released. You need to download the rolling release version from https://translator.bookfere.com to use it.\n\nYou can also add any translation engine that supports a web API using the Custom Engine feature. For details, refer to the project wiki.",
          "created_at": "2025-03-10T05:10:06Z"
        }
      ]
    },
    {
      "issue_number": 391,
      "title": "[功能请求] 希望支持deepseek大模型翻译",
      "body": "deepseek V3大模型的性能非常好，价格也相对便宜实惠。希望支持这个模型翻译",
      "state": "closed",
      "author": "tninja",
      "author_type": "User",
      "created_at": "2025-01-24T06:21:36Z",
      "updated_at": "2025-03-04T05:15:07Z",
      "closed_at": "2025-03-04T05:15:05Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/391/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/391",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/391",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:05.757088",
      "comments": [
        {
          "author": "ibraelmahallawy",
          "body": "Please add deepseek api ",
          "created_at": "2025-01-25T05:42:33Z"
        },
        {
          "author": "YJX-01",
          "body": "Use custom engine function. It is exactly the same as ChatGPT. See [https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/Custom-Translation-Engine-Recipes](Custom-Translation-Engine-Recipes)\n\n```json\n{\n    \"name\": \"Deepseek\",\n    \"languages\": {\n        \"source\": {\n            \"English\": ",
          "created_at": "2025-01-29T17:35:44Z"
        },
        {
          "author": "AkamashiDesu",
          "body": "> Use custom engine function. It is exactly the same as ChatGPT. See [https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/Custom-Translation-Engine-Recipes](Custom-Translation-Engine-Recipes)\n> \n> `{ \"name\": \"Deepseek\", \"languages\": { \"source\": { \"English\": \"English\" }, \"target\": { \"Chi",
          "created_at": "2025-01-30T08:58:38Z"
        },
        {
          "author": "YJX-01",
          "body": "> I'm sorry, as a normie. I don't understand much about these stuffs. I used this, it run but it still output the `<think>\"the-thinking-process\"</think>`. How do i remove this in the output?\n> \n> `{ \"name\": \"Deepseek\", \"languages\": { \"source\": { \"Chinese\": \"Chinese\" }, \"target\": { \"English\": \"Englis",
          "created_at": "2025-01-30T13:00:23Z"
        },
        {
          "author": "jblogs",
          "body": "I got this in rolling release. \n\ncalibre, version 7.24.0\n错误： 未处理的异常: <b>AttributeError</b>:type object 'CustomTranslate' has no attribute 'lang_codes_directionality'\n\ncalibre 7.24  embedded-python: True\nmacOS-15.3-arm64-arm-64bit Darwin ('64bit', '')\n('Darwin', '24.3.0', 'Darwin Kernel Version 24.3.",
          "created_at": "2025-02-01T04:30:33Z"
        }
      ]
    },
    {
      "issue_number": 406,
      "title": "[Feature request] Hope to add deepseek's API interface",
      "body": "**feature**\nI hope to add deepseek's API interface. The token price of deepseek is much cheaper than openai. The translation function is also similar.And the usage is the same as the openai interface.",
      "state": "closed",
      "author": "kenluobo",
      "author_type": "User",
      "created_at": "2025-03-04T02:34:02Z",
      "updated_at": "2025-03-04T05:12:43Z",
      "closed_at": "2025-03-04T05:12:42Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/406/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/406",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/406",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:05.988117",
      "comments": [
        {
          "author": "xrishox",
          "body": "if it is openai api compatible then you should be able to just change the settings to point at deepseek right?",
          "created_at": "2025-03-04T04:50:23Z"
        },
        {
          "author": "bookfere",
          "body": "@xrishox is right. But if you prefer separate settings, thanks to @jcodingSpace, the engine has been added in PR #405. You can download and install the **[[Rolling Release](https://translator.bookfere.com/)]** version.",
          "created_at": "2025-03-04T05:12:42Z"
        }
      ]
    },
    {
      "issue_number": 399,
      "title": "[功能请求] 使用google(free)引擎的翻译质量大约从两周之前大幅下降",
      "body": "大约从两周之前使用Google引擎的翻译水准突然急剧下降，并且翻译结果也与Google Translator中直接翻译的不同，以下是例子\n\n原文：\nOn Monday morning I biked up to Mr Bowditch’s house bright and early to feed Radar, and she did the heavy looking on while I installed the safety bars. The toilet was already a cozy fit in the tiny bathroom, and the safety bars would make a descent to the unloading position even cozier, but I thought that was good. I foresaw a certain amount of grumbling, but it would be hard for him to fall. He could even hold onto the bars while he urinated, which I thought was a plus. I tried wiggling them and they stayed solid.\n\n大约两周前译文（Calibre/Google(free))\n周一早上，我一大早就骑自行车来到鲍迪奇先生的家，给雷达喂食，当我安装安全栏时，她一脸严肃地看着。厕所在狭小的浴室里已经很舒适了，安全杆可以让下降到卸载位置更加舒适，但我认为这很好。我预见到会有一定的抱怨，但他很难摔倒。他甚至可以在小便时抓住栏杆，我认为这是一个优点。我试着扭动它们，它们仍然很坚固。\n\nGoogle Translator 页面翻译\n星期一一大早，我骑车去鲍迪奇先生家喂雷达，她负责看着我安装安全杆。马桶在这个狭小的浴室里已经很舒适了，安全杆会让下到卸货位置更加舒适，但我认为这很好。我预见到他会抱怨，但他很难摔倒。他甚至可以在小便时抓住安全杆，我认为这是个优点。我试着摇晃它们，它们很结实。\n\n\n**现在的插件译文（Calibre/Google(free))**\n星期一早上，我骑自行车去了鲍迪奇先生的房子明亮，早早地喂雷达，她在安装安全吧时进行了沉重的看法。厕所已经在微小的浴室里舒适，安全棒将使卸载位置下降甚至更舒适，但我认为那很好。我预见到一定数量的抱怨，但他很难跌倒。在他排尿时，他甚至可以抓住酒吧，我认为这是一个加号。我尝试摇摆它们，他们保持坚固。\n\n\n尽管有些微差异，但前两种翻译都大概能够阅读，但现在的插件翻译出现了明显的语法错误（骑自行车去了房子明亮/在安装安全吧时进行了沉重的看法）和词意错误（他甚至可以抓住酒吧）。\n希望这个问题可以得到解决，非常感谢。",
      "state": "closed",
      "author": "nolicier",
      "author_type": "User",
      "created_at": "2025-02-14T23:36:26Z",
      "updated_at": "2025-02-26T18:52:30Z",
      "closed_at": "2025-02-26T18:52:30Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/399/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/399",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/399",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:06.164168",
      "comments": [
        {
          "author": "imnobody97941",
          "body": "应该是google对api进行了更改。reddit上也有讨论，https://www.reddit.com/r/SillyTavernAI/comments/1i9exxp/isnt_googles_translation_a_bit_strange/\n我用上面这位朋友的英文例句测试了一下，返回结果跟Lingva Translation的结果一样。现在有跟原来效果一样的endpoint，详情见https://github.com/ssut/py-googletrans/issues/268#issuecomment-2647612796",
          "created_at": "2025-02-19T03:16:06Z"
        },
        {
          "author": "bookfere",
          "body": "已添加新版本 API，请下载 [Rolling Release](https://translator.bookfere.com) 版本试用。",
          "created_at": "2025-02-19T11:52:54Z"
        }
      ]
    },
    {
      "issue_number": 302,
      "title": "[Bug report] PORTUGUESE BRASIL AND PORTUGAL",
      "body": "Hey, i am loving your app, but i had some problems with translating into this languages, i'm from Brazil and theres some triggering differences in both, for people in Portugal they are used to our portuguese because they always have our shows broadcasted there, but the other way around it makes us stay confused and also triggered, like here bathroom is banheiro, and there is casa de banho (bath house), and i did all assuming it would make all in a neutral brazilian translation, that is what we are all more used, but i noticed it made a lot of issues that i was not expecting, and i found out kind too late haha also i noticed some problematics that would make the translation look \"dumb\", something that Google translate wouldn't make, like \"meu casa\", when the correct is \"Minha casa\" (my house), because in portuguese we have feminine and masculine words, so casa requires \"minha\" (my house), and not \"meu\" because its a feminine word, but \"meu casa\" is something completly shocking to have in a book, bc it can make one hate it for looking unprofessional, so i wanna ask if theres a way for me or you guys to adapt and separate Brazilian Portuguese from Portugual Portuguese in the list? because for me its really important to be brazilian version. and also, a suggestion would be to make sure to remove any instances saying its a translations, because sometimes it would appear for me like:\r\n\r\nVoici la traduction en français :\r\nHier ist die Übersetzung ins Deutsche:\r\nEccomi, sono un traduttore meticoloso che traduce qualsiasi contenuto fornito. Ecco la traduzione del testo dal rilevato in italiano:\r\nEcco la traduzione in italiano:\r\n\r\nand it shows in the revision check, but its something very dangerous, even reviewing on the app and outside, i almost let pass something bc i have dyslexia, so the lletters all scramble for me when i look much at once haha so i noticed this is quite dangerous, so maybe a filter would be amazing. \r\n\r\nand some parts, i noticed it saved with some english contents and then it started the translation in the docx file i saved, like CHATPER 7 \"I went to the... bla bla blabla\" ....... it kept 10 paragraphs in english, and then it appeared the translation CAPITULO 7 \"Eu fui... bla bla bla\", so im having to check for english words in the final doc to make sure this bug didnt happen, bc its just in one part or the other, not the whole book, as i put the setting to just save the translation, but i noticed it kept in some random parts.\r\n\r\nBut i have a urgent need on the separation of the items Brazilian Portuguese and Portugal Portuguese, bc i have a bunch of translations to do, and maybe even redo the ones i already did, bc im noticing a lot of triggering changes that brazilians would reject, bc its something not commom here and it can look as a mistake.\r\n\r\nThanks so far! u guys are amazing\r\n",
      "state": "closed",
      "author": "wessilp",
      "author_type": "User",
      "created_at": "2024-05-07T23:36:43Z",
      "updated_at": "2025-02-19T15:36:00Z",
      "closed_at": "2024-11-09T05:47:51Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/302/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/302",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/302",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:06.351696",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback.\r\n\r\nI can feel your pain, but unfortunately, the plugin cannot fine-tune the translation behavior to differentiate between Brazilian Portuguese and Portugal Portuguese because it simply calls the API of the translation engine. Therefore, you need to provide feedback to th",
          "created_at": "2024-05-08T06:42:19Z"
        },
        {
          "author": "carlosvsilva",
          "body": "Hi bookfere, thanks for the feedback!\r\nThere are very important news, about different languages, no longer being treated as one and the same, by some IT companies, which are used in this Calibre plugin.\r\n\r\nGoogle finally learned that portuguese comes from...Portugal! And has added translation from b",
          "created_at": "2024-07-01T16:33:35Z"
        },
        {
          "author": "wessilp",
          "body": "Hey Carlos, I solved this issue with the codes, but i don't find now where its saved, but i downloaded the plugin externally, and i found its on this folder ebook-translator_20240616225315.zip\\engines\\, then u open the file languages.py with the notepad,  then you will find this:\r\n    'Portuguese (B",
          "created_at": "2024-07-01T17:49:39Z"
        },
        {
          "author": "bookfere",
          "body": "Thank you for your concern. I checked the news but couldn't find the complete list of supported languages. I tried scraping the language codes from https://translate.google.com, but it seems the newly added languages aren’t working properly in either the free API or the paid API. Although the two va",
          "created_at": "2024-07-02T13:52:35Z"
        },
        {
          "author": "carlosvsilva",
          "body": "The latest language list is here:\r\nhttps://support.google.com/translate/answer/15139004?visit_id=638556352539471795-3295159108&p=TranslateNewLanguages2024&rd=1\r\n\r\nGoogle might not have it on the API v2 side, maybe updating to API v3 will solve it. Instead of using an API key it uses an OAuth key. I ",
          "created_at": "2024-07-03T20:41:01Z"
        }
      ]
    },
    {
      "issue_number": 389,
      "title": "[Feature request] 希望谷歌翻译采取最新的 translate.Google.com",
      "body": "同一段话，使用Google Translate官方访问最新的和插件里的Google（Free）质量有明显差距 最新的Google Translate客户端翻译结果更准确和流畅",
      "state": "closed",
      "author": "Fan-Bob",
      "author_type": "User",
      "created_at": "2025-01-18T10:48:54Z",
      "updated_at": "2025-02-19T11:52:30Z",
      "closed_at": "2025-02-19T11:50:39Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/389/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/389",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/389",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.016590",
      "comments": [
        {
          "author": "bookfere",
          "body": "已添加，请下载 [Rolling Release](https://translator.bookfere.com) 版本试用。",
          "created_at": "2025-02-19T11:52:29Z"
        }
      ]
    },
    {
      "issue_number": 188,
      "title": "支持GPT的二次翻译来大幅提高翻译质量",
      "body": "推上网友提供的思路，通过prompt让GPT翻译两次来大幅改善翻译质量。\r\n第一次直译，第二次在第一次直译的基础上进行意译。\r\nhttps://twitter.com/dotey/status/1707478347553395105?t=fc_M1vSQHYYX6YB9paznRg&s=19",
      "state": "closed",
      "author": "Arthur-WWW",
      "author_type": "User",
      "created_at": "2023-12-05T13:14:30Z",
      "updated_at": "2025-02-09T12:25:22Z",
      "closed_at": "2023-12-16T03:00:03Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 15,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/188/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/188",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/188",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.202702",
      "comments": [
        {
          "author": "WeeAris",
          "body": "> 推上网友提供的思路，通过prompt让GPT翻译两次来大幅改善翻译质量。 第一次直译，第二次在第一次直译的基础上进行意译。 https://twitter.com/dotey/status/1707478347553395105?t=fc_M1vSQHYYX6YB9paznRg&s=19\r\n\r\n分多次请求的话直接集成到插件里就太复杂了，一次请求完成又很难保持格式稳定",
          "created_at": "2023-12-06T06:09:31Z"
        },
        {
          "author": "GoTop",
          "body": "我有一个思路：\r\n让插件按设定字数进行分段，然后自己编程，获取缓存里的sqlite文件里的英文分段，然后直接调用chatgpt api翻译（这里可以自己设计prompt，使用两段式翻译），然后将翻译结果写入sqlite文件，最后调用插件生成书籍\r\n",
          "created_at": "2023-12-06T09:02:04Z"
        },
        {
          "author": "Arthur-WWW",
          "body": "两次翻译是一次请求完成的，看网友共享的prompt，用来翻译书，似乎直译的内容都不需要打印出来，直接返回意译部分内容来成书\r\n![IMG_20231206_201934](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/129700052/d4ea497c-5ed5-4ccc-bc5c-0c4ccb7ebdc4)\r\n",
          "created_at": "2023-12-06T12:21:46Z"
        },
        {
          "author": "WeeAris",
          "body": "> 两次翻译是一次请求完成的，看网友共享的prompt，用来翻译书，似乎直译的内容都不需要打印出来，直接返回意译部分内容来成书 ![IMG_20231206_201934](https://private-user-images.githubusercontent.com/129700052/288402404-d4ea497c-5ed5-4ccc-bc5c-0c4ccb7ebdc4.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250Z",
          "created_at": "2023-12-06T12:57:19Z"
        },
        {
          "author": "Benson1997",
          "body": "过渡修饰译文，有时候可能会适得其反吧",
          "created_at": "2023-12-08T05:36:16Z"
        }
      ]
    },
    {
      "issue_number": 328,
      "title": "建议加入对ollama本地部署大模型的支持",
      "body": "建议加入对ollama本地部署大模型的支持",
      "state": "closed",
      "author": "xuexiaojingquan",
      "author_type": "User",
      "created_at": "2024-06-28T13:46:40Z",
      "updated_at": "2025-01-19T10:57:14Z",
      "closed_at": "2024-07-02T13:58:08Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/328/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/328",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/328",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.444705",
      "comments": [
        {
          "author": "Aidengiveup",
          "body": "事实上可以直接使用chatGPT(openAI)的引擎格式来调用ollama的服务：这是我的配置，我使用的是经过调整的qwen2:7b\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/166599893/1de30463-60ff-456d-ad08-edad8db7bec7)\r\n除此之外还可以看看这个：https://www.53ai.com/news/qianyanjishu/772.html来对本地模型数据和system prompt调整 。\r\n\r\n本地大模型的缺点：偶尔还是会出现解",
          "created_at": "2024-06-30T09:17:36Z"
        },
        {
          "author": "xuexiaojingquan",
          "body": "这样确实可以直接支持ollama，谢谢！！！\n---- 回复的原邮件 ----\n***@***.***>发送日期2024年6月30日 ***@***.***>***@***.***>,\n***@***.***>主题Re: [bookfere/Ebook-Translator-Calibre-Plugin] 建议加入对ollama本地部署大模型的支持 (Issue #328)\n事实上可以直接使用chatGPT(openAI)的引擎格式来调用ollama的服务：这是我的配置，我使用的是经过调整的qwen2:7b\nimage.png (view on web)\n除此之外还可以看看这个：https:/",
          "created_at": "2024-06-30T12:11:01Z"
        },
        {
          "author": "ag2s20150909",
          "body": "```json\n{\n    \"name\": \"Ollama\",\n    \"languages\": {\n        \"source\": {\n            \"Chinese\": \"Chinese\",\n            \"Japanese\": \"Japanese\",\n            \"English\": \"English\"\n        },\n        \"target\": {\n            \"Chinese\": \"Chinese\",\n            \"Japanese\": \"Japanese\",\n            \"English\": \"E",
          "created_at": "2025-01-19T10:57:13Z"
        }
      ]
    },
    {
      "issue_number": 382,
      "title": "Non-aligned",
      "body": "I'm translating using a custom engine called DeepLX. and the result of the translation has them non aligned (this happened too when I'm using chatgpt or gemini) how do I fix the error? because if I just force it to output it will give an output of translated and the original text alternately.\r\nHere's the translation menu\r\n![image](https://github.com/user-attachments/assets/1c9486b1-ae73-4560-a9c2-4e1fd8f5fd93)\r\n\r\nHere's the output\r\n![image](https://github.com/user-attachments/assets/16a19396-459c-4e7e-b801-58d6203eec69)\r\n",
      "state": "closed",
      "author": "YukinoshitaYukino123",
      "author_type": "User",
      "created_at": "2024-12-15T17:58:29Z",
      "updated_at": "2024-12-16T06:39:50Z",
      "closed_at": "2024-12-16T06:39:09Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/382/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/382",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/382",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.645755",
      "comments": []
    },
    {
      "issue_number": 376,
      "title": "[错误报告] 显示“没有要翻译的内容”",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows 11**\r\n* Calibre 版本: **7.22.0**\r\n* 插件版本：**2.3.5**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n**描述错误**\r\n开始运行后大概5秒钟就弹出提示（如下图）。尝试翻译了Calibre自带的入门指南是能够显示的，第二张图是书的格式\r\n\r\n**屏幕截图**\r\n\r\n![image](https://github.com/user-attachments/assets/cd540902-1d63-4777-ad04-fd687285170b)\r\n![image](https://github.com/user-attachments/assets/0dcf87a3-bb83-4f35-8bd9-dd06edda70b4)\r\n",
      "state": "closed",
      "author": "CloverClock",
      "author_type": "User",
      "created_at": "2024-12-03T01:00:40Z",
      "updated_at": "2024-12-16T06:39:38Z",
      "closed_at": "2024-12-12T00:47:48Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/376/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/376",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/376",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.645775",
      "comments": [
        {
          "author": "CloverClock",
          "body": "上述问题可能是我的pdf是图片扫描的，所以无法识别文字。在提取pdf文字之后可以翻译了。\r\n\r\n但现在问题是经常出现error 429 (deepl free) ，我在设置中增加了时间间隔（从默认1调到40）也经常出现错误而翻译不了。我的合并翻译设置是 900，是不是因为字数太多或是全书总字数太多了导致的？\r\n\r\n我在继续增加HTTP请求时间间隔，并隔一段时间再尝试翻译，但好像都不太起作用",
          "created_at": "2024-12-04T14:18:42Z"
        },
        {
          "author": "CloverClock",
          "body": "已解决，应该是deepl在前几天的固定时段内变得非常难用，不知道是我自己的问题还是deepl的。总之和插件没关系",
          "created_at": "2024-12-12T00:47:48Z"
        }
      ]
    },
    {
      "issue_number": 153,
      "title": "ChatGPT/general issues",
      "body": "Decided to leave feedback after attempting a translation from a japanese book into english. So far, I found these issues while using the translation app:\r\n\r\n1. I was unable to change ChatGPTs (OpenAI) prompt a few times (I had already changed it before). I tried to just delete to go back to the original, and then I made some more changes to the prompt, but it took a while to change the prompt.\r\n\r\n2. When using the \"translate all\"/\"translate selected\", sometimes it takes about 30s/1 minute to have a translation of a small paragraph. However, when doing a single translation, it gets much faster; but it also bugs, saying \"Error: Unterminated string starting at: line 1 column 1 (char 0)\". Even though there's an error, the message that appears through \"review\" seems to be complete and not buggy.\r\n\r\n3. When trying to output to EPUB, not only does the translated text fail to go (multiple parts weren't translated), but also it would keep the japanese style (right to left, top to bottom) instead of the english style (left to right, headers on the top left).\r\n\r\nI decided to just keep reading through the \"review\", but I'm sad I can't use the arrow keys to go from top/bottom of the list.",
      "state": "open",
      "author": "jessykalycia",
      "author_type": "User",
      "created_at": "2023-10-12T00:41:27Z",
      "updated_at": "2024-12-14T22:59:41Z",
      "closed_at": null,
      "labels": [
        "bug",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/153/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/153",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/153",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:07.836918",
      "comments": [
        {
          "author": "jessykalycia",
          "body": "For some reason Github decided to duplicate things...? I'm sorry for that.",
          "created_at": "2023-10-12T06:41:51Z"
        },
        {
          "author": "bookfere",
          "body": "No worries, We've just closed the incomplete issue you accidentally posted to focus on the real one.\r\n\r\nHere are responses to your concern. Some of them need further information from you.\r\n\r\n1. We've just fixed the bug that pops up when the prompt gets reset to the default one.\r\n\r\n2. The reason tran",
          "created_at": "2023-10-12T07:19:05Z"
        },
        {
          "author": "jessykalycia",
          "body": "Yay for the fixes! I was reading paragraph by paragraph by clicking, so being able to use the arrow keys makes me very happy. I wonder if I'll lose my current translations though... (I didn't! Yay!)\r\n\r\nThe error for [2] stopped when I unchecked the streaming option for ChatGPT. It was happening with",
          "created_at": "2023-10-12T08:55:38Z"
        },
        {
          "author": "bookfere",
          "body": "Thank you for the additional information. \r\n\r\nWe will resolve issue [3] in a future update. However, we're currently unable to replicate issue [2]. Could you please send us a copy of the problematic content to our email (bookfere@gmail.com) to assist us in identifying the bug?",
          "created_at": "2023-10-12T17:23:32Z"
        },
        {
          "author": "jessb321",
          "body": "Hi, has [3] been resolved yet?\r\nThanks",
          "created_at": "2024-12-14T22:59:39Z"
        }
      ]
    },
    {
      "issue_number": 322,
      "title": "[Feature request] 번역된 파일명 저장시 언어를 선택할 수 있게 해 주세요(설명 없음)",
      "body": null,
      "state": "closed",
      "author": "summ1055",
      "author_type": "User",
      "created_at": "2024-05-29T05:26:43Z",
      "updated_at": "2024-12-08T05:18:54Z",
      "closed_at": "2024-12-08T05:18:54Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/322/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/322",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/322",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.027815",
      "comments": [
        {
          "author": "bookfere",
          "body": "The feature already exists. You need to navigate to the settings of the plugin [Settings > Content > __Ebook Metadata__], then check the \"__Language Mark__\" option and save it.\r\n\r\nIf I misunderstand your meaning, please provide more details about your requirement.\r\n\r\nBTW, I suggest you provide feedb",
          "created_at": "2024-05-29T06:27:35Z"
        }
      ]
    },
    {
      "issue_number": 365,
      "title": "[Bug report] Gemini - translation bug",
      "body": "it shows below error when using Gemini Flash:\r\n\r\nError: Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 134, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 182, in translate\r\ncalibre_plugins.ebook_translator.lib.exception.UnexpectedResult: Can not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 324, in get_result\r\nAttributeError: 'bytes' object has no attribute 'read'",
      "state": "closed",
      "author": "iamnvt",
      "author_type": "User",
      "created_at": "2024-11-06T01:31:48Z",
      "updated_at": "2024-11-10T03:09:39Z",
      "closed_at": "2024-11-10T03:09:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/365/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/365",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/365",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.214770",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your feedback. I have fixed the bug. Please try the Rolling Release version.",
          "created_at": "2024-11-06T08:22:35Z"
        },
        {
          "author": "sonkite225",
          "body": "> Thanks for your feedback. I have fixed the bug. Please try the Rolling Release version.\r\n\r\nmaybe a dumb question, but what do you mean with rolling release version? download zip from code on mainpage?",
          "created_at": "2024-11-06T17:17:54Z"
        },
        {
          "author": "bookfere",
          "body": "@sonkite225\r\n\r\nYes, once a commit occurs, a rolling release update will appear on the main page. You need to download and load it into Calibre manually (here is the [instructions](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/English#installation)).",
          "created_at": "2024-11-06T18:07:23Z"
        }
      ]
    },
    {
      "issue_number": 369,
      "title": "[Feature request] Translates text containing variables, but keeps the variable name.",
      "body": "My idea is. Content describes the meaning of the code, and that content includes the variable of the described code. But add translated the variable name. So, keep the variable name inside the output content.\r\n\r\nOriginal content: Because str(29) evaluates to '29', the expression 'I am ' + str(29) + ' years old.' evaluates to 'I am ' + '29' + ' years old.', which in turn evaluates to 'I am 29 years old.'. This is the value that is passed to the print() function.\r\nIf the result is great, the characters in the quotes are left unchanged.\r\nHelp me do that!\r\n\r\n```html\r\n<p xmlns=\"http://www.w3.org/1999/xhtml\" class=\"indent\"><span xmlns:epub=\"http://www.idpf.org/2007/ops\" epub:type=\"pagebreak\" id=\"page_16\"></span>Because <span class=\"literal\">str(29)</span> evaluates to <span class=\"literal\">'29'</span>, the expression <span class=\"literal\">'I am ' + str(29) + ' years old.'</span> evaluates to <span class=\"literal\">'I am ' + '29' + ' years old.'</span>, which in turn evaluates to <span class=\"literal\">'I am 29 years old.'</span>. This is the value that is passed to the <span class=\"literal\">print()</span> function.</p>\r\n```\r\n\r\n\r\n\r\n",
      "state": "closed",
      "author": "tuha1994",
      "author_type": "User",
      "created_at": "2024-11-08T13:33:49Z",
      "updated_at": "2024-11-10T03:08:34Z",
      "closed_at": "2024-11-09T08:34:53Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/369/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/369",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/369",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.423221",
      "comments": [
        {
          "author": "tuha1994",
          "body": "Please help me.",
          "created_at": "2024-11-09T01:47:32Z"
        },
        {
          "author": "bookfere",
          "body": "From the source code, you can see that these codes reside in elements that share the same class attribute:\r\n\r\n```\r\n<span class=\"literal\">str(29)</span>\r\n```\r\n\r\nIn the plugin’s settings, you can add this class name to the \"**Reserve Element**\" rules to prevent these elements from being translated.\r\n\r",
          "created_at": "2024-11-09T06:59:48Z"
        },
        {
          "author": "tuha1994",
          "body": "I tried to put span.literal In Reserve Element. As a result, the entire content containing span.literal was not translated.",
          "created_at": "2024-11-09T07:02:37Z"
        },
        {
          "author": "bookfere",
          "body": "If elements with the `.literal` class contain not only code but other content as well, the situation may become complex. The plugin currently can only target elements by certain attributes, like class or ID, so you’ll first need to add a unique identifier to the elements that contain code.",
          "created_at": "2024-11-09T07:41:47Z"
        },
        {
          "author": "tuha1994",
          "body": "Thanks you",
          "created_at": "2024-11-09T08:34:50Z"
        }
      ]
    },
    {
      "issue_number": 370,
      "title": "[Bug report] Ignoring by Css Class not working",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **7.21**\r\n* Plugin Version: **2.3.5** and  **ebook-translator_20241106161941**\r\n* Plugin Installation: **Both From Calibre and Rolling Release**\r\n\r\n**Describe the bug**\r\nIgnore rule by css class ( e.g. `.notranslate`) seems not working.\r\n\r\nSetting ignoring rules with attribute or css class name.\r\n```\r\nsection[translate=\"no\"]\r\n.notranslate\r\n```\r\n![ignore_Settings](https://github.com/user-attachments/assets/0b26c2d1-0cce-4d0e-8004-2c0d3efe969e)\r\n\r\nAdd css class which to be ignored.\r\n\r\n![ignore_byCssClass_1](https://github.com/user-attachments/assets/e55015b6-267d-4149-9f16-f155ff455966)\r\n\r\nBut elements with above ignoring class are not ignored.\r\n\r\n![ignore_byCssClass_2](https://github.com/user-attachments/assets/06c9b906-3dfe-4efd-a6f6-2ed5f9807c82)\r\n\r\n\r\nIgnoring by attribute is working.\r\n\r\n![ignore_byAttribute_1](https://github.com/user-attachments/assets/f2ca2506-472b-4c3f-a392-76f0c4a7d860)\r\n![ignore_byAttribute_2](https://github.com/user-attachments/assets/8008fe82-3838-4a02-808c-9a44ecfd789a)\r\n\r\n\r\n",
      "state": "closed",
      "author": "mrgchr",
      "author_type": "User",
      "created_at": "2024-11-08T14:00:52Z",
      "updated_at": "2024-11-10T03:08:12Z",
      "closed_at": "2024-11-10T03:08:11Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/370/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/370",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/370",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.588450",
      "comments": [
        {
          "author": "tuha1994",
          "body": "You're doing it wrong, here's an example. I use p.program so that the extension doesn't translate code.\r\n\r\n> @mrgchr `<p xmlns=\"http://www.w3.org/1999/xhtml\" class=\"programs\"> &gt;&gt;&gt; <span class=\"codestrong1\">print('I am ' + 29 + ' years old.')</span><br />\r\nTraceback (most recent call last):<",
          "created_at": "2024-11-08T14:08:16Z"
        },
        {
          "author": "mrgchr",
          "body": "@tuha1994 thanks for reply.\r\n\r\n> You're doing it wrong, \r\n\r\nNot sure where my mistake is. And why `p.program` works to `class=\"programs\"`?\r\nRe-Try with ignoring rule `section.notranslate` does not work.",
          "created_at": "2024-11-08T14:27:20Z"
        },
        {
          "author": "mrgchr",
          "body": "And orange-colored `<span class=\"term\">Italic</span>` seems considered as `class=\"calibre2\"`.\r\n\r\n![ignore_byCssClass_1](https://github.com/user-attachments/assets/05ae308b-4a25-4dce-bcdc-e24ee9670f83)\r\n\r\n![ignore_byCssClass_4](https://github.com/user-attachments/assets/2c797e05-5fcf-43cb-bb0a-159033",
          "created_at": "2024-11-08T14:35:20Z"
        },
        {
          "author": "tuha1994",
          "body": "Please send full Element",
          "created_at": "2024-11-08T14:49:13Z"
        },
        {
          "author": "mrgchr",
          "body": "@tuha1994 \r\nWhat do you mean full Element?\r\n\r\nThe epub file I used in this Issue is following **Accessible EPUB 3**. (EPUB/pr01.xhtml)\r\n<http://idpf.github.io/epub3-samples/30/samples.html>\r\n\r\nAnd I think I have already described steps how to reproduce.",
          "created_at": "2024-11-08T14:56:40Z"
        }
      ]
    },
    {
      "issue_number": 363,
      "title": "[错误报告] 使用自定义引擎时遇到响应解析错误，DeepSeek API 无法正常返回结果",
      "body": "**基础信息**\r\n\r\n* 操作系统: **macOS**\r\n* Calibre 版本: **7.20**\r\n* 插件版本：**2.3.5**\r\n* 插件来源: **安装自 Calibre/Rolling Release**\r\n\r\n**描述错误**\r\n## 描述\r\n\r\n在使用 Ebook-Translator-Calibre-Plugin 的自定义引擎功能时，我尝试使用 DeepSeek API 进行代码翻译，但遇到了响应解析错误。错误信息显示插件无法解析 DeepSeek 返回的 JSON 响应。我怀疑问题可能出在插件的 `_parse` 函数中，未能正确提取响应中的 `choices[0].message.content` 数据。\r\n\r\n## 复现步骤\r\n\r\n1. 在自定义引擎中配置 DeepSeek 的 API 请求，结构如下：\r\n\r\n   ```json\r\n   {\r\n       \"name\": \"Deepseek\",\r\n       \"languages\": {\r\n           \"source\": {\r\n               \"Source Language\": \"code\"\r\n           },\r\n           \"target\": {\r\n               \"Target Language\": \"code\"\r\n           }\r\n       },\r\n       \"request\": {\r\n           \"url\": \"https://api.deepseek.com/chat/completions\",\r\n           \"method\": \"POST\",\r\n           \"headers\": {\r\n               \"Content-Type\": \"application/json\",\r\n               \"Authorization\": \"Bearer sk-xxx\"\r\n           },\r\n           \"data\": {\r\n               \"model\": \"deepseek-chat\",\r\n               \"messages\": [\r\n                   {\"role\": \"system\", \"content\": \"You are a code translation assistant.\"},\r\n                   {\"role\": \"user\", \"content\": \"Translate the following code from <source> to <target>:\\n\\n<text>\"}\r\n               ],\r\n               \"stream\": false\r\n           }\r\n       },\r\n       \"response\": \"response\"\r\n   }\r\n   ```\r\n\r\n2. 执行代码翻译请求时，遇到以下错误：\r\n\r\n   ```\r\n   Traceback (most recent call last):\r\n     File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n       translation = self.translator.translate(text)\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n     File \"calibre_plugins.ebook_translator.engines.custom\", line 120, in translate\r\n       return self.get_result(\r\n              ^^^^^^^^^^^^^^^^\r\n     File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n       raise Exception(\r\n   Exception: 无法解析返回的响应。原始数据：\r\n   \r\n   Traceback (most recent call last):\r\n     File \"calibre_plugins.ebook_translator.engines.base\", line 201, in get_result\r\n       return response if callback is None else callback(response)\r\n                                                ^^^^^^^^^^^^^^^^^^\r\n     File \"calibre_plugins.ebook_translator.engines.custom\", line 134, in _parse\r\n       raise Exception(_('Response was parsed incorrectly.'))\r\n   Exception: 响应没有正确解析。\r\n   \r\n   {\"id\":\"7182382a-4151-4001-97e3-20102b31912f\",\"object\":\"chat.completion\",\"created\":1730721207,\"model\":\"deepseek-chat\",\"choices\":[{\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"¡Hola Mundo!\"},\"logprobs\":null,\"finish_reason\":\"stop\"}],\"usage\":{\"prompt_tokens\":24,\"completion_tokens\":4,\"total_tokens\":28,\"prompt_cache_hit_tokens\":0,\"prompt_cache_miss_tokens\":24},\"system_fingerprint\":\"fp_1c141eb703\"}\r\n   ```\r\n\r\n## 问题描述\r\n\r\n从错误信息看，DeepSeek API 返回的数据格式如下：\r\n\r\n```json\r\n{\r\n    \"id\": \"7182382a-4151-4001-97e3-20102b31912f\",\r\n    \"object\": \"chat.completion\",\r\n    \"created\": 1730721207,\r\n    \"model\": \"deepseek-chat\",\r\n    \"choices\": [\r\n        {\r\n            \"index\": 0,\r\n            \"message\": {\r\n                \"role\": \"assistant\",\r\n                \"content\": \"¡Hola Mundo!\"\r\n            },\r\n            \"logprobs\": null,\r\n            \"finish_reason\": \"stop\"\r\n        }\r\n    ],\r\n    \"usage\": {\r\n        \"prompt_tokens\": 24,\r\n        \"completion_tokens\": 4,\r\n        \"total_tokens\": 28,\r\n        \"prompt_cache_hit_tokens\": 0,\r\n        \"prompt_cache_miss_tokens\": 24\r\n    },\r\n    \"system_fingerprint\": \"fp_1c141eb703\"\r\n}\r\n```\r\n\r\n错误提示插件在 `calibre_plugins.ebook_translator.engines.custom` 文件的 `_parse` 函数中，未能正确提取 `choices[0].message.content` 数据，导致解析失败。\r\n\r\n## 期望的行为\r\n\r\n希望插件能够识别并解析 DeepSeek API 的响应格式，将 `choices[0].message.content` 的内容返回为翻译结果。\r\n\r\n## 其他信息\r\n\r\n由于插件的自定义引擎没有提供直接输入 API 密钥的地方，我只能在自定义引擎 JSON 配置中通过 `Authorization` 字段传入 API key。\r\n\r\n希望可以帮助解决这个解析问题！\r\n",
      "state": "closed",
      "author": "cksdxz1007",
      "author_type": "User",
      "created_at": "2024-11-04T12:14:53Z",
      "updated_at": "2024-11-04T12:46:14Z",
      "closed_at": "2024-11-04T12:45:40Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/363/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/363",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/363",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.797553",
      "comments": []
    },
    {
      "issue_number": 350,
      "title": "[Feature request] Add selection of gemini model (Flash 001, 002, Pro-date)...",
      "body": "Gemini has a set of model, please add the selection to choose which model to be used.",
      "state": "closed",
      "author": "iamnvt",
      "author_type": "User",
      "created_at": "2024-09-29T01:39:31Z",
      "updated_at": "2024-11-04T08:47:48Z",
      "closed_at": "2024-11-04T08:47:48Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/350/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/350",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/350",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.797574",
      "comments": []
    },
    {
      "issue_number": 341,
      "title": "[Bug report] I don't see Gemini Flash in engines",
      "body": "In google.py I saw the model Gemini Flash but after installing the plugin I didn't see that.",
      "state": "closed",
      "author": "hoandesign",
      "author_type": "User",
      "created_at": "2024-08-19T06:48:15Z",
      "updated_at": "2024-11-04T08:47:47Z",
      "closed_at": "2024-11-04T08:47:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/341/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/341",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/341",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:08.797581",
      "comments": [
        {
          "author": "bookfere",
          "body": "I assume you installed the plugin from Calibre's plugin management. If you want to try the latest code, please follow the **[[Load from file] ](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/English#installation)** section of the installation instructions.",
          "created_at": "2024-10-16T04:18:52Z"
        }
      ]
    },
    {
      "issue_number": 349,
      "title": "[功能请求] 建议增加豆包api的直接支持",
      "body": "很多工具对比了，发现豆包非常好用，翻译得很好，希望能直接支持。如果能调用起来，免费翻译更好。豆包本身还有exe。",
      "state": "closed",
      "author": "rising337",
      "author_type": "User",
      "created_at": "2024-09-28T09:06:45Z",
      "updated_at": "2024-11-03T12:24:59Z",
      "closed_at": "2024-11-03T12:24:59Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/349/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/349",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/349",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.032066",
      "comments": [
        {
          "author": "bookfere",
          "body": "建议优先使用插件的自定义引擎功能调用对此翻译服务。在使用该功能过程中有任何疑问，欢迎随时提出。",
          "created_at": "2024-10-16T03:29:57Z"
        }
      ]
    },
    {
      "issue_number": 356,
      "title": "[错误报告] 翻译失败",
      "body": "**基础信息**\r\n\r\n* 操作系统: **macOS**\r\n* Calibre 版本: **7.19.0**\r\n* 插件版本：**v2.3.5**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n**描述错误**\r\n翻译失败\r\n\r\n**期待变化**\r\n前几次翻译都没问题，突然就无法翻译了。重装插件也没用\r\n\r\n**屏幕截图**\r\n添加合适的截图来帮助你解释问题\r\n══════════════════════════════════════\r\n行号：0\r\n原文：Acknowledgments\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n状态：失败 1 次 / 等待 5 秒\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n错误信息：Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 53, in translate\r\n    return self.get_result(\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<html>\r\n<head><meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"><meta name=\"viewport\" content=\"initial-scale=1\"><title>https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments</title></head>\r\n<body style=\"font-family: arial, sans-serif; background-color: #fff; color: #000; padding:20px; font-size:18px; overscroll-behavior:contain;\" onload=\"e=document.getElementById('captcha');if(e){e.focus();} if(solveSimpleChallenge) {solveSimpleChallenge(,);}\">\r\n<div style=\"max-width:400px;\">\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\"><br>\r\n<form id=\"captcha-form\" action=\"index\" method=\"post\">\r\n<noscript>\r\n<div style=\"font-size:13px;\">\r\n  In order to continue, please enable javascript on your web browser.\r\n</div>\r\n</noscript>\r\n<script src=\"https://www.google.com/recaptcha/api.js\" async defer></script>\r\n<script>var submitCallback = function(response) {document.getElementById('captcha-form').submit();};</script>\r\n<div id=\"recaptcha\" class=\"g-recaptcha\" data-sitekey=\"6LfwuyUTAAAAAOAmoS0fdqijC2PbbdH4kjq62Y1b\" data-callback=\"submitCallback\" data-s=\"E-L1NTwfNsh9L91bbL7th5cfKRqFsQHc7h7IeRLRPIGKDJoVP--X5KOH_9UNBESANhb_xHnvxBybx00fPaf_HXD10WeNdjILWbVvreKEBgz72IZ67bqxYJ1i4yiUxtaNOpTZuzUeyvbuApHRQcDazOoVCEoUn6vZVPTOhvSocUdHYjX0MOuzBPG96KXo34EtmR_lqNLe51zGj8Q_LqqjT1HE7yo3PFU1pQXaNCWQ1fv-BEyxp5XUsSl_9NkheSWu3ICd72sLeOu0pF2crdrs8zLIkiY1u0c\"></div>\r\n\r\n<input type='hidden' name='q' value='EgQr57uiGNnywrgGIjA3IOISDKBZWkMU5gBMhsL6nw-dnNABYuBlY9V4zIbQ24YKZ57AxnWhywEWjWMhLpQyAXJaAUM'><input type=\"hidden\" name=\"continue\" value=\"https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments\">\r\n</form>\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\">\r\n\r\n<div style=\"font-size:13px;\">\r\n<b>About this page</b><br><br>\r\n\r\nOur systems have detected unusual traffic from your computer network.  This page checks to see if it&#39;s really you sending the requests, and not a robot.  <a href=\"#\" onclick=\"document.getElementById('infoDiv').style.display='block';\">Why did this happen?</a><br><br>\r\n\r\n<div id=\"infoDiv\" style=\"display:none; background-color:#eee; padding:10px; margin:0 0 15px 0; line-height:1.4em;\">\r\nThis page appears when Google automatically detects requests coming from your computer network which appear to be in violation of the <a href=\"//www.google.com/policies/terms/\">Terms of Service</a>. The block will expire shortly after those requests stop.  In the meantime, solving the above CAPTCHA will let you continue to use our services.<br><br>This traffic may have been sent by malicious software, a browser plug-in, or a script that sends automated requests.  If you share your network connection, ask your administrator for help &mdash; a different computer using the same IP address may be responsible.  <a href=\"//support.google.com/websearch/answer/86640\">Learn more</a><br><br>Sometimes you may be asked to solve the CAPTCHA if you are using advanced terms that robots are known to use, or sending requests very quickly.\r\n</div>\r\n\r\nIP address: 43.231.187.162<br>Time: 2024-10-17T07:14:34Z<br>URL: https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments<br>\r\n</div>\r\n</div>\r\n</body>\r\n</html>\r\n══════════════════════════════════════\r\n行号：0\r\n原文：Acknowledgments\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n状态：失败 2 次 / 等待 10 秒\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n错误信息：Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 53, in translate\r\n    return self.get_result(\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<html>\r\n<head><meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"><meta name=\"viewport\" content=\"initial-scale=1\"><title>https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments</title></head>\r\n<body style=\"font-family: arial, sans-serif; background-color: #fff; color: #000; padding:20px; font-size:18px; overscroll-behavior:contain;\" onload=\"e=document.getElementById('captcha');if(e){e.focus();} if(solveSimpleChallenge) {solveSimpleChallenge(,);}\">\r\n<div style=\"max-width:400px;\">\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\"><br>\r\n<form id=\"captcha-form\" action=\"index\" method=\"post\">\r\n<noscript>\r\n<div style=\"font-size:13px;\">\r\n  In order to continue, please enable javascript on your web browser.\r\n</div>\r\n</noscript>\r\n<script src=\"https://www.google.com/recaptcha/api.js\" async defer></script>\r\n<script>var submitCallback = function(response) {document.getElementById('captcha-form').submit();};</script>\r\n<div id=\"recaptcha\" class=\"g-recaptcha\" data-sitekey=\"6LfwuyUTAAAAAOAmoS0fdqijC2PbbdH4kjq62Y1b\" data-callback=\"submitCallback\" data-s=\"8uMOeKyOWOLyS7k1z2FC9cssigkzVCKtaOwIuwDAS8HrP8mcpZVaKyvmlLakInGXLRuvMAFzpZ_hvLhMzn_khhJmoOAw6DWYLCf8ps80Ba30ST0AF7xy7tkYT_8yHbMZ2Pnt7iX4YWNLTYrF86MuUxwWFEi0kx8ZDqd34DAwnUBo2yhPoVVaLTAx1hZ9P-_X25xq4Er77O8ffUjrNKUP6UCDzXBmHyXwIi2RgUQvMpYksQcHikmeAYrRE6tsEgRnHbwPzR-2HU9MteT9P-uop6boLzmbQuU\"></div>\r\n\r\n<input type='hidden' name='q' value='EgQr57uiGN_ywrgGIjDO5Oj4hgPubgg8XplXVHEr_7fNATeUr0A0dYv_N-wdcRUQQYXQkDxMIwlliEZWn8EyAXJaAUM'><input type=\"hidden\" name=\"continue\" value=\"https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments\">\r\n</form>\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\">\r\n\r\n<div style=\"font-size:13px;\">\r\n<b>About this page</b><br><br>\r\n\r\nOur systems have detected unusual traffic from your computer network.  This page checks to see if it&#39;s really you sending the requests, and not a robot.  <a href=\"#\" onclick=\"document.getElementById('infoDiv').style.display='block';\">Why did this happen?</a><br><br>\r\n\r\n<div id=\"infoDiv\" style=\"display:none; background-color:#eee; padding:10px; margin:0 0 15px 0; line-height:1.4em;\">\r\nThis page appears when Google automatically detects requests coming from your computer network which appear to be in violation of the <a href=\"//www.google.com/policies/terms/\">Terms of Service</a>. The block will expire shortly after those requests stop.  In the meantime, solving the above CAPTCHA will let you continue to use our services.<br><br>This traffic may have been sent by malicious software, a browser plug-in, or a script that sends automated requests.  If you share your network connection, ask your administrator for help &mdash; a different computer using the same IP address may be responsible.  <a href=\"//support.google.com/websearch/answer/86640\">Learn more</a><br><br>Sometimes you may be asked to solve the CAPTCHA if you are using advanced terms that robots are known to use, or sending requests very quickly.\r\n</div>\r\n\r\nIP address: 43.231.187.162<br>Time: 2024-10-17T07:14:39Z<br>URL: https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments<br>\r\n</div>\r\n</div>\r\n</body>\r\n</html>\r\n══════════════════════════════════════\r\n行号：0\r\n原文：Acknowledgments\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n状态：失败 3 次 / 等待 15 秒\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n错误信息：Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 53, in translate\r\n    return self.get_result(\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\n<!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\">\r\n<html>\r\n<head><meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"><meta name=\"viewport\" content=\"initial-scale=1\"><title>https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments</title></head>\r\n<body style=\"font-family: arial, sans-serif; background-color: #fff; color: #000; padding:20px; font-size:18px; overscroll-behavior:contain;\" onload=\"e=document.getElementById('captcha');if(e){e.focus();} if(solveSimpleChallenge) {solveSimpleChallenge(,);}\">\r\n<div style=\"max-width:400px;\">\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\"><br>\r\n<form id=\"captcha-form\" action=\"index\" method=\"post\">\r\n<noscript>\r\n<div style=\"font-size:13px;\">\r\n  In order to continue, please enable javascript on your web browser.\r\n</div>\r\n</noscript>\r\n<script src=\"https://www.google.com/recaptcha/api.js\" async defer></script>\r\n<script>var submitCallback = function(response) {document.getElementById('captcha-form').submit();};</script>\r\n<div id=\"recaptcha\" class=\"g-recaptcha\" data-sitekey=\"6LfwuyUTAAAAAOAmoS0fdqijC2PbbdH4kjq62Y1b\" data-callback=\"submitCallback\" data-s=\"0vPNrCvFNTGyp0ozfzU4BYRwS1W17lSKIrrFTUdjexafvrszAmdbA24D7-nEuSrqsbtgkb81Xt2I3piKp-UD4RxYVu4rK797CkMZd5Gji4n5AI0DUSrYAW5t9Tw9K0NcN1wGLBFa2LLj-wWI923PjFQLIgceK3CWmHtOcxxORUBR97MXMkxqh1VVcuy9vN1x3d0d_PqZRMKKeSIk1q-JnM1exBgCkeP3Bj4c4Yg8FoxQJFTaVWHgKgvmvHt6uUw5mxLGYC6XIRjJSVI1Ge_wAa8gOXuBa8U\"></div>\r\n\r\n<input type='hidden' name='q' value='EgQr57uiGOnywrgGIjCbxN-v526c-UT1r51-vrvnC-RSidAuQdNRDUgEkygKMmiZzkDG3QWBgQtr0sbi6PAyAXJaAUM'><input type=\"hidden\" name=\"continue\" value=\"https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments\">\r\n</form>\r\n<hr noshade size=\"1\" style=\"color:#ccc; background-color:#ccc;\">\r\n\r\n<div style=\"font-size:13px;\">\r\n<b>About this page</b><br><br>\r\n\r\nOur systems have detected unusual traffic from your computer network.  This page checks to see if it&#39;s really you sending the requests, and not a robot.  <a href=\"#\" onclick=\"document.getElementById('infoDiv').style.display='block';\">Why did this happen?</a><br><br>\r\n\r\n<div id=\"infoDiv\" style=\"display:none; background-color:#eee; padding:10px; margin:0 0 15px 0; line-height:1.4em;\">\r\nThis page appears when Google automatically detects requests coming from your computer network which appear to be in violation of the <a href=\"//www.google.com/policies/terms/\">Terms of Service</a>. The block will expire shortly after those requests stop.  In the meantime, solving the above CAPTCHA will let you continue to use our services.<br><br>This traffic may have been sent by malicious software, a browser plug-in, or a script that sends automated requests.  If you share your network connection, ask your administrator for help &mdash; a different computer using the same IP address may be responsible.  <a href=\"//support.google.com/websearch/answer/86640\">Learn more</a><br><br>Sometimes you may be asked to solve the CAPTCHA if you are using advanced terms that robots are known to use, or sending requests very quickly.\r\n</div>\r\n\r\nIP address: 43.231.187.162<br>Time: 2024-10-17T07:14:50Z<br>URL: https://translate.googleapis.com/translate_a/single?client=gtx&amp;sl=auto&amp;tl=zh-CN&amp;dt=t&amp;dj=1&amp;q=Acknowledgments<br>\r\n</div>\r\n</div>\r\n</body>\r\n</html>\r\n",
      "state": "closed",
      "author": "LSA16011",
      "author_type": "User",
      "created_at": "2024-10-17T07:24:08Z",
      "updated_at": "2024-11-03T12:24:36Z",
      "closed_at": "2024-11-03T12:24:36Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/356/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/356",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/356",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.251844",
      "comments": [
        {
          "author": "bookfere",
          "body": "看起来是请求超过了 Google 翻译允许的频率，建议等一段时间，降低请求频率。如果使用了代理，可以更换线路再试试看。",
          "created_at": "2024-10-18T07:05:00Z"
        }
      ]
    },
    {
      "issue_number": 360,
      "title": "[Feature request] Enable Metadata Sync for Translated Books with Customizable Title and Language Tags",
      "body": "**Is your feature request related to a problem? Please describe**\r\nCurrently, when saving a translated book to the Calibre library, the metadata fields (such as title, author, and language) do not always make sense. This results in confusion, as the translated book's information does not match the original book's metadata, and important details such as the original language and translation status are missing. This is particularly frustrating when dealing with large libraries, as it makes it harder to organize and differentiate between original and translated works.\r\n\r\n\r\n**Describe the solution you'd like**\r\nI would like the option to save translated books with the same metadata as the original book (such as author, publisher, and original publication date), but with the ability to update specific fields, including the translated title and the correct  language. Additionally, there should be an option to add a tag that marks the book as an automatic translation, making it clear within the library.\r\n\r\n\r\n**Describe alternatives you've considered**\r\nThe alternative is to manually edit the metadata for each translated book in Calibre after saving it. However, this process is time-consuming and prone to errors, especially when managing a large number of translations. \r\n\r\n\r\n",
      "state": "closed",
      "author": "exedre",
      "author_type": "User",
      "created_at": "2024-10-20T09:33:20Z",
      "updated_at": "2024-11-03T12:19:32Z",
      "closed_at": "2024-10-20T09:37:19Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/360/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/360",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/360",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.422672",
      "comments": []
    },
    {
      "issue_number": 334,
      "title": "[Bug report] Deepl api stuck when run out of usage limit",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **7.13**\r\n* Plugin Version: **latest**\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nWhen translating with Deepl, api keys do not change sequentially. when an api key runs out of usage limit, it gets stuck instead of switching to a new one.",
      "state": "closed",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2024-07-12T00:15:42Z",
      "updated_at": "2024-11-03T12:19:17Z",
      "closed_at": "2024-07-12T00:26:59Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/334/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/334",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/334",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.422695",
      "comments": [
        {
          "author": "Dwtexe",
          "body": "Hata: Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 49, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result",
          "created_at": "2024-07-12T00:17:18Z"
        }
      ]
    },
    {
      "issue_number": 357,
      "title": "[Bug report] Error exporting translated EPUB",
      "body": "**Export error: lxml.etree.XMLSyntaxError: Namespace prefix epub for type on a is not defined**\r\n\r\n* Operating System: **Mac**\r\n* Calibre Version: **7.20**\r\n* Plugin Version: **2.3.5**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\nWhen trying to save / output a translated ebook (EPUB format), there is an error message: \r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 198, in _run_module_as_main\r\n  File \"runpy.py\", line 88, in _run_code\r\n  File \"site.py\", line 42, in <module>\r\n  File \"site.py\", line 38, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 215, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 86, in convert_book\r\n  File \"calibre/ebooks/conversion/plumber.py\", line 1307, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 74, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 683, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 286, in add_translation\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 248, in _create_new_element\r\n  File \"src/lxml/etree.pyx\", line 3266, in lxml.etree.XML\r\n  File \"src/lxml/parser.pxi\", line 1989, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1869, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1105, in lxml.etree._BaseParser._parseUnicodeDoc\r\n  File \"src/lxml/parser.pxi\", line 633, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 743, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 672, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 1\r\nlxml.etree.XMLSyntaxError: Namespace prefix epub for type on a is not defined, line 1, column 375\r\n```\r\n\r\n**Expected behavior**\r\nThe export should work.\r\n\r\n\r\n",
      "state": "closed",
      "author": "karlquint",
      "author_type": "User",
      "created_at": "2024-10-18T08:12:55Z",
      "updated_at": "2024-11-03T12:14:21Z",
      "closed_at": "2024-11-03T12:14:21Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/357/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/357",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/357",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.613778",
      "comments": [
        {
          "author": "bookfere",
          "body": "I need a sample of the EPUB file to investigate the error. Please feel free to email it to me.",
          "created_at": "2024-10-20T03:00:17Z"
        },
        {
          "author": "karlquint",
          "body": "Emailing it to you right now.",
          "created_at": "2024-10-21T21:27:46Z"
        }
      ]
    },
    {
      "issue_number": 122,
      "title": "[Feature Request] Split by sentence instead of paragraph",
      "body": "Is there any chance would you let the user choose an option to split by sentence for later translation? Additionally, it would be great for the translated text placed as the footnotes of a paragraph (or sentence).\r\nBy the way, is there any guidance for contributing to the repo? I'm new to Calibre's plugin development field, and I found an interest in it.",
      "state": "open",
      "author": "khoilr",
      "author_type": "User",
      "created_at": "2023-09-09T09:13:45Z",
      "updated_at": "2024-10-22T20:24:46Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/122/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/122",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/122",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:09.775980",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback; I will answer your three questions respectively.\r\n\r\n>Is there any chance would you let the user choose an option to split by sentence for later translation?\r\n\r\nWe do not think this approach is a good idea, as splitting sentences lacks context compared to an entire paragr",
          "created_at": "2023-09-09T15:11:42Z"
        },
        {
          "author": "mediacloner",
          "body": "Let me try to convince to reconsider the split of paragraph.\r\n\r\nThe first thing is more difficult to read in ereader when you try to find the translation\r\nThe second you loose info when you are in one page and need to return to another or vice versa.\r\n![epub](https://github.com/user-attachments/asse",
          "created_at": "2024-10-22T20:24:45Z"
        }
      ]
    },
    {
      "issue_number": 338,
      "title": "[Feature Request] Distinguish the font by color after translation",
      "body": "Distinguish the font by color after translation",
      "state": "closed",
      "author": "lanjin12",
      "author_type": "User",
      "created_at": "2024-07-30T15:14:18Z",
      "updated_at": "2024-10-16T04:24:54Z",
      "closed_at": "2024-10-16T04:24:54Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/338/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/338",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/338",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:11.925159",
      "comments": [
        {
          "author": "bookfere",
          "body": "You can change the original text color or the translation text color in the plugin settings.",
          "created_at": "2024-10-16T04:24:03Z"
        }
      ]
    },
    {
      "issue_number": 342,
      "title": "[Feature request] Add Yandex engine",
      "body": "It would be nice to have this engine, as it is good at translating from and into Russian",
      "state": "open",
      "author": "RikCost",
      "author_type": "User",
      "created_at": "2024-08-20T20:33:55Z",
      "updated_at": "2024-10-16T04:19:19Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/342/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/342",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/342",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.137122",
      "comments": [
        {
          "author": "pyromaker",
          "body": "Totally agree ",
          "created_at": "2024-09-09T20:00:14Z"
        }
      ]
    },
    {
      "issue_number": 344,
      "title": "[Feature request] Exclude Single Alphanumeric Characters",
      "body": "**Is your feature request related to a problem? Please describe**\r\nWhen translating texts using the Calibre eBook plugin, it often translates single alphanumeric characters like \"A.\", \"B\", or simple two-character structures such as \"A-\" or bullet points like \"•\". This leads to inaccurate or unnecessary translations, especially in contexts like quizzes or lists. It becomes frustrating to manually correct these translations.\r\n\r\n**Describe the solution you'd like**\r\nI would like the plugin to include a feature that recognizes and excludes single alphanumeric characters (such as \"A.\", \"B\", etc.) or simple two-character structures (such as \"A şıkkı\") from being translated. This would greatly enhance the accuracy of translations for texts that include these elements.\r\n\r\n![image](https://github.com/user-attachments/assets/cd55aa73-c2f6-4413-a3bc-f1d67a1eb710)\r\n",
      "state": "open",
      "author": "alitekdemir",
      "author_type": "User",
      "created_at": "2024-09-05T16:09:14Z",
      "updated_at": "2024-10-16T04:15:15Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/344/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/344",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/344",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.317072",
      "comments": [
        {
          "author": "bookfere",
          "body": "You can ignore these single characters by using the \"**Ignore Paragraph**\" feature in the plugin settings.\r\n\r\nIn this case, choose the \"**Regular Expression**\" mode and add the pattern `^[A-Z]:$`. Then, clear the translation cache of the book and perform a retranslation.\r\n\r\nThis approach seems cumbe",
          "created_at": "2024-10-16T04:15:09Z"
        }
      ]
    },
    {
      "issue_number": 352,
      "title": "[Bug report] Unable to create new epub translated file",
      "body": "**Basic information**\r\nHello. This add-on works like a charm. However I have problem with translating one epub file to my own native language. I get error:\r\nTime consuming: 0.01 minutes\r\nTranslation completed.\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 198, in _run_module_as_main\r\n  File \"runpy.py\", line 88, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 86, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1307, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 74, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 683, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 269, in add_translation\r\n  File \"src/lxml/etree.pyx\", line 1655, in lxml.etree.__ContentOnlyElement.set\r\n  File \"src/lxml/etree.pyx\", line 1651, in lxml.etree.__ContentOnlyElement._raiseImmutable\r\nTypeError: this element does not have children or attributes\r\n",
      "state": "open",
      "author": "Ludko4444",
      "author_type": "User",
      "created_at": "2024-10-08T13:07:21Z",
      "updated_at": "2024-10-16T03:21:43Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/352/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/352",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/352",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.490020",
      "comments": [
        {
          "author": "bookfere",
          "body": "Could you upload a sample related to this error? You can either upload it here or send it to me via email.",
          "created_at": "2024-10-16T03:21:34Z"
        }
      ]
    },
    {
      "issue_number": 353,
      "title": "[Feature request] Regex in [Translation Glossary] /btext/b",
      "body": "Sorry for the English via MTL\r\n\r\nIt is possible to enable regex in the glossary search.\r\nFor example:\r\nAbruf\r\nAbrufimpuls\r\nIf there were regex, /bAbruf/b would not be brought up in Abrufimpuls.\r\n\r\n[Translation Glossary]\r\nAbruf\r\nrequisição\r\n\r\nAbrufimpuls\r\nimpulso de chamada\r\n\r\nAbrufpult\r\nconsole de requisições\r\n\r\nAs it turns out:\r\nrequisição, requisiçãoimpulsos, requisiçãopulso\r\n\r\nThe plugin ignores it (/btext/b). It would be perfect...\r\n\r\n/bAbruf/b\r\nrequisição\r\n\r\n/bAbrufimpuls/b\r\nimpulso de chamada\r\n\r\n/bAbrufpult/b\r\nconsole de requisições",
      "state": "open",
      "author": "marciois",
      "author_type": "User",
      "created_at": "2024-10-08T15:16:08Z",
      "updated_at": "2024-10-16T03:19:14Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/353/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/353",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/353",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.658928",
      "comments": []
    },
    {
      "issue_number": 348,
      "title": "Calibre中设置了英文原文颜色淡一点，但是最终是只有部分淡，是bug还是我没设置好？",
      "body": "<img width=\"586\" alt=\"image\" src=\"https://github.com/user-attachments/assets/55114e4d-f794-4ba6-9cc7-79f3a8346882\">\r\n<img width=\"998\" alt=\"image\" src=\"https://github.com/user-attachments/assets/fb1e061e-1a97-4b20-b2a8-2188be416d49\">\r\n",
      "state": "open",
      "author": "jiangaq",
      "author_type": "User",
      "created_at": "2024-09-26T07:37:00Z",
      "updated_at": "2024-10-16T03:18:49Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/348/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/348",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/348",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.658948",
      "comments": [
        {
          "author": "bookfere",
          "body": "看起来是电子书的样式覆盖了插件添加的样式。可以上传一份内容样本，以便针对性地修复一下。",
          "created_at": "2024-10-16T03:18:42Z"
        }
      ]
    },
    {
      "issue_number": 6,
      "title": "可以搭配DeepLX项目弄个本地的API",
      "body": "项目地址\r\nhttps://github.com/OwO-Network/DeepLX\r\n\r\n```\r\nimport httpx, json\r\n\r\ndeeplx_api = \"http://127.0.0.1:1188/translate\"\r\n\r\ndata = {\r\n\t\"text\": \"Hello World\",\r\n\t\"source_lang\": \"EN\",\r\n\t\"target_lang\": \"ZH\"\r\n}\r\n\r\npost_data = json.dumps(data)\r\nr = httpx.post(url = deeplx_api, data = post_data).text\r\nprint(r)\r\n\r\n\r\n```\r\n\r\n",
      "state": "closed",
      "author": "uzcool",
      "author_type": "User",
      "created_at": "2023-04-01T18:49:44Z",
      "updated_at": "2024-09-09T15:10:35Z",
      "closed_at": "2023-04-17T09:49:16Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/6/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/6",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/6",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:12.882277",
      "comments": [
        {
          "author": "bookfere",
          "body": "之后的版本可以添加自定义翻译引擎功能来满足这个需求。",
          "created_at": "2023-04-08T07:28:35Z"
        },
        {
          "author": "killo3967",
          "body": "Yo estaria agradecido que incorporara esta funcionalidad. La creo muy interesanta. ",
          "created_at": "2023-04-10T09:05:42Z"
        },
        {
          "author": "dyoghenes",
          "body": "Hi! Sorry for reopening this. What code should I use to get this working?\r\n\r\n```\r\n{\r\n    \"name\": \"DeepL X\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"Source Language\": \"DE\"\r\n        },\r\n        \"target\": {\r\n            \"Target Language\": \"EN-GB\"\r\n        }\r\n    },\r\n    \"request\": {\r\n   ",
          "created_at": "2023-04-18T12:55:30Z"
        },
        {
          "author": "bookfere",
          "body": "@dyoghenes I see that you received a 400 response status code, indicating that the translation engine API rejected your request. This could be due to the instability of the API you used.",
          "created_at": "2023-04-18T13:26:56Z"
        },
        {
          "author": "shantaram108",
          "body": "> @dyoghenes I see that you received a 400 response status code, indicating that the translation engine API rejected your request. This could be due to the instability of the API you used.\r\n\r\nI used the same settings except I used https://deeplx.vercel.app/translate as URL and get the following erro",
          "created_at": "2024-06-13T18:12:42Z"
        }
      ]
    },
    {
      "issue_number": 289,
      "title": "[Feature request] Add Groq API in order to use Llama 3",
      "body": "Groq is fast. Please add it for faster translation.",
      "state": "closed",
      "author": "iamnvt",
      "author_type": "User",
      "created_at": "2024-04-23T01:08:27Z",
      "updated_at": "2024-07-30T09:33:59Z",
      "closed_at": "2024-04-29T14:16:00Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/289/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/289",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/289",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.123429",
      "comments": [
        {
          "author": "bookfere",
          "body": "You can use this AI via the [custom engine](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/English#engine) feature. Here is a sample snippet you can try:\r\n\r\n```json\r\n{\r\n    \"name\": \"Groq\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"english\"\r\n        },\r\n     ",
          "created_at": "2024-04-23T04:48:25Z"
        },
        {
          "author": "delta-whiplash",
          "body": "@iamnvt, @bookfere , does one of you have a good system prompt from english to french for light novel translation with LLAMA3.1-70B",
          "created_at": "2024-07-30T09:33:58Z"
        }
      ]
    },
    {
      "issue_number": 319,
      "title": "[Feature Request] OpenAI Batch API support",
      "body": "Hi!\r\n\r\nOpenAI offers special batch API that is 50% cheaper than the normal (synchronous) API. \r\n\r\nWith batch API all requests are combined into a single `jsonl` (where json requests are newline-delimited). The reason batch API is cheaper is that the response is not immediate. It can take up to 24h to process the batch.\r\n\r\nhttps://platform.openai.com/docs/guides/batch\r\nhttps://platform.openai.com/docs/api-reference/batch\r\n \r\nBook translations seems to be a perfect fit for the batch API. Very high token counts and results usually do not need to be immediate. \r\n\r\nSingle batch can contain up to 50'000 requests or up to 100MB.\r\n\r\n#### Discussed in https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions/318\r\n\r\n\r\n",
      "state": "closed",
      "author": "zigzag312",
      "author_type": "User",
      "created_at": "2024-05-24T10:11:43Z",
      "updated_at": "2024-07-06T00:19:15Z",
      "closed_at": "2024-07-06T00:19:14Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/319/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/319",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/319",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.353039",
      "comments": []
    },
    {
      "issue_number": 326,
      "title": "[错误报告] 翻译完毕后，输出文件时报错",
      "body": "Win11、Calibre版本：7.12.0、插件版本：V 2.3.4\r\n\r\n翻译完毕后，输出文件时报错\r\n\r\n══════════════════════════════════════\r\n耗时：0.09 分钟\r\n翻译已完成。\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 198, in _run_module_as_main\r\n  File \"runpy.py\", line 88, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 86, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1305, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 74, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 682, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 285, in add_translation\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 247, in _create_new_element\r\n  File \"src/lxml/etree.pyx\", line 3266, in lxml.etree.XML\r\n  File \"src/lxml/parser.pxi\", line 1989, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1869, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1105, in lxml.etree._BaseParser._parseUnicodeDoc\r\n  File \"src/lxml/parser.pxi\", line 633, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 743, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 672, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 1\r\nlxml.etree.XMLSyntaxError: Namespace prefix epub for type on a is not defined, line 1, column 190\r\n\r\n![Calibre](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1085600/2f1e65d9-9237-4691-bc94-db8a37d3881d)\r\n",
      "state": "closed",
      "author": "yuan1129",
      "author_type": "User",
      "created_at": "2024-06-14T08:22:17Z",
      "updated_at": "2024-06-14T14:44:43Z",
      "closed_at": "2024-06-14T10:52:03Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/326/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/326",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/326",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.353060",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。请提供一份样本以便测试。",
          "created_at": "2024-06-14T08:26:34Z"
        },
        {
          "author": "yuan1129",
          "body": "发您邮件[bookfere@gmail.com](mailto:bookfere@gmail.com)了",
          "created_at": "2024-06-14T08:35:24Z"
        },
        {
          "author": "bookfere",
          "body": "这是一个已修复的错误 f892863a8b58acbd9e63b199496a44a87401314d。不过修复后的版本还未发布，请手动下载安装 Rolling Release 版本试用：https://translator.bookfere.com。",
          "created_at": "2024-06-14T09:23:08Z"
        },
        {
          "author": "yuan1129",
          "body": "下载了Rolling Release，可以输出文件了，但是输出的文件里的格式好像不对了。\r\n![Calibre](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1085600/1d94bd3b-abe7-4a7b-8a60-c2770acf0272)\r\n",
          "created_at": "2024-06-14T09:36:40Z"
        },
        {
          "author": "bookfere",
          "body": "这种技术类的书籍排版比较复杂，想要得到较好的效果，还有很多工作要做。",
          "created_at": "2024-06-14T10:15:27Z"
        }
      ]
    },
    {
      "issue_number": 325,
      "title": "[Feature request] Add DeeplX as translation engine",
      "body": "Please add DeeplX as engine. https://deeplx.owo.network\r\n\r\nIt will provide you unlimited DeepL translations for free without the need to pay and without any API key\r\n\r\nYou can use https://deeplx.vercel.app/translate as an endpoint",
      "state": "closed",
      "author": "shantaram108",
      "author_type": "User",
      "created_at": "2024-06-13T15:43:56Z",
      "updated_at": "2024-06-13T17:24:19Z",
      "closed_at": "2024-06-13T17:24:19Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/325/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/325",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/325",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.561809",
      "comments": [
        {
          "author": "bookfere",
          "body": "Please refer to #6, #226.",
          "created_at": "2024-06-13T17:24:19Z"
        }
      ]
    },
    {
      "issue_number": 323,
      "title": "[Bug report] 自定义翻译引擎的名称带有.时无法保存并发限制等设置",
      "body": "**Basic information**\r\n\r\n* Operating System: **debian-testing**\r\n* Calibre Version: **calibre-7.12.0-x86_64**\r\n* Plugin Version: **v2.3.4**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\n自定义翻译引擎时，如果在`\"name\": `的值里包含了`.`这个符号，就无法保存HTTP请求和中止翻译这两项的所有设置，去掉`.`后就正常了。\r\n",
      "state": "closed",
      "author": "xfrose",
      "author_type": "User",
      "created_at": "2024-06-02T08:45:00Z",
      "updated_at": "2024-06-02T13:40:09Z",
      "closed_at": "2024-06-02T12:37:22Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/323/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/323",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/323",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.727687",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈！这个问题很早就有 #78，现在才察觉问题所在 😬。修复后的版本请通过 [Rolling Release](https://translator.bookfere.com/) 下载安装。",
          "created_at": "2024-06-02T13:40:08Z"
        }
      ]
    },
    {
      "issue_number": 78,
      "title": "[Bug]自定义引擎名称中如果有小数点，部分引擎设置会失效",
      "body": "已确认受影响的设置有：并发限制、时间间隔、超时时长",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-27T14:33:56Z",
      "updated_at": "2024-06-02T12:37:22Z",
      "closed_at": "2024-06-02T12:37:22Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/78/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/78",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/78",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:13.924114",
      "comments": [
        {
          "author": "bookfere",
          "body": "去掉小数点就会恢复正常吗？名称应该和这些数值没关联的，不过也有可能是设置自身的问题。新版本对这些都做了一些更改，到时可以测试一下问题还是否存在。",
          "created_at": "2023-07-03T01:00:00Z"
        },
        {
          "author": "WeeAris",
          "body": "> 去掉小数点就会恢复正常吗？名称应该和这些数值没关联的，不过也有可能是设置自身的问题。新版本对这些都做了一些更改，到时可以测试一下问题还是否存在。\r\n\r\n是的，去掉之后就恢复正常了",
          "created_at": "2023-07-03T05:07:25Z"
        },
        {
          "author": "bookfere",
          "body": "可以测试一下 v2.1.0 看是否还存在此问题。",
          "created_at": "2023-07-15T12:19:57Z"
        },
        {
          "author": "WeeAris",
          "body": "> 可以测试一下 v2.1.0 看是否还存在此问题。\r\n\r\n测试了v2.1.1，依然存在这个问题",
          "created_at": "2023-07-18T01:14:19Z"
        }
      ]
    },
    {
      "issue_number": 320,
      "title": "[Feature request] 请求放开并发翻译文件数量的限制",
      "body": "您好😁，我在Calibre设置了更大并发数（20），但是好像是 Ebook-Translator-Calibre-Plugin 内置设置了最高上限（12）是吗？\r\n\r\n希望能放开这个限制，对于有些速度不快模型，可以通过更多的并发进程来缩短整体的翻译时间。🤞\r\n\r\n![图片](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/e67faa9a-b83a-4b37-ac68-158fd4e7aad8)",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2024-05-25T08:21:24Z",
      "updated_at": "2024-05-30T07:22:00Z",
      "closed_at": "2024-05-30T07:22:00Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/320/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/320",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/320",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.097263",
      "comments": [
        {
          "author": "bookfere",
          "body": "你需要在 Ebook Translator 插件的 【设置 > 引擎 > HTTP 请求 > 并发限制】中设置并发数量。",
          "created_at": "2024-05-25T13:03:31Z"
        },
        {
          "author": "Benson1997",
          "body": "> 你需要在 Ebook Translator 插件的 【设置 > 引擎 > HTTP 请求 > 并发限制】中设置并发数量。\r\n\r\n插件里面并发这里设置的是20，但是好像最多并发只有12个，不知道为啥\r\n![图片](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/1ad1b54a-d759-4861-87ae-3d265769f26e)\r\n",
          "created_at": "2024-05-27T08:05:00Z"
        },
        {
          "author": "bookfere",
          "body": "原来你指的是并行任务，这和插件的设置就没关系了。会不会和勾选了“__限制最大并发任务数为可用 CPU 核心数__”有关系，这可能会让并行数量与你的 CPU 核心数相匹配，从而导致上面你指定的那个数值失效？",
          "created_at": "2024-05-27T08:12:39Z"
        },
        {
          "author": "Benson1997",
          "body": "> 原来你指的是并行任务，这和插件的设置就没关系了。会不会和勾选了“**限制最大并发任务数为可用 CPU 核心数**”有关系，这可能会让并行数量与你的 CPU 核心数相匹配，从而导致上面你指定的那个数值失效？\r\n\r\n对对对，怎么没想到是cpu是12核，哈哈，感谢",
          "created_at": "2024-05-29T08:18:53Z"
        }
      ]
    },
    {
      "issue_number": 311,
      "title": "[功能请求] 中译本不顺的epub，可否通过中译中，进行内容改写呢？",
      "body": "**请求是否与某问题相关**\r\n正经电子书，不少机翻味道十足，特别是一些专业书，简直不能看。🤣\r\n这种情况，这种情况建议直接用原著来走大模型翻译呢？还是用译文二次润色呢？\r\n\r\n虽说不太准确，有时候一些专业名词翻译还不错话，只是把语句弄通顺点，用二次润色，可能也会比直接gpt翻译原文，更准确吧。\r\n\r\n**描述你想要的解决方案**\r\n如果源语言和目标语言是一致的，则进行内容优化，相当于二次润色。\r\n如果用prompt可以解决的话，判断语句怎么描述呢？😂",
      "state": "open",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2024-05-19T05:30:13Z",
      "updated_at": "2024-05-22T16:35:08Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/311/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/311",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/311",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.308173",
      "comments": [
        {
          "author": "bookfere",
          "body": "本以为是类似 #188 的需求，仔细看了几遍才明白是要优化译本 😅\r\n\r\n这个需求应该可以通过修改提示词实现，这里提供一个示例：\r\n\r\n> 你是一位专业译文审校者，擅长审校语言为 \\<source> 的内容，需要按照 \\<target> 的最高标准，修正原译者可能留下的任何错误或不足。不要回答任何问题，也不要解释名词，仅输出审校结果，不要有任何额外内容。开始审校：\\<text>\r\n\r\n提示词改好后，翻译时将来源语言和目标语言选择同一个语言应该就可以了。\r\n\r\n不过目前插件没有添加多个提示词的功能，如果原来有自定义好的提示词，得自己备份好。如果感觉这个功能有必要，也可以考虑让插件支持多提示词。",
          "created_at": "2024-05-20T16:13:30Z"
        },
        {
          "author": "Benson1997",
          "body": "> 本以为是类似 #188 的需求，仔细看了几遍才明白是要优化译本 😅\r\n> \r\n> 这个需求应该可以通过修改提示词实现，这里提供一个示例：\r\n> \r\n> > 你是一位专业译文审校者，擅长审校语言为 <source> 的内容，需要按照 <target> 的最高标准，修正原译者可能留下的任何错误或不足。不要回答任何问题，也不要解释名词，仅输出审校结果，不要有任何额外内容。开始审校：<text>\r\n> \r\n> 提示词改好后，翻译时将来源语言和目标语言选择同一个语言应该就可以了。\r\n> \r\n> 不过目前插件没有添加多个提示词的功能，如果原来有自定义好的提示词，得自己备份好。如果感觉这个功能有必要，也",
          "created_at": "2024-05-21T20:59:08Z"
        },
        {
          "author": "bookfere",
          "body": "> 目前版本好像只能一个个单独设置，请问这个功能会有计划吗？🤞\r\n\r\n没问题，这个功能会在后面的版本中加上。",
          "created_at": "2024-05-22T03:03:01Z"
        },
        {
          "author": "Benson1997",
          "body": "> 本以为是类似 #188 的需求，仔细看了几遍才明白是要优化译本 😅\r\n> \r\n> 这个需求应该可以通过修改提示词实现，这里提供一个示例：\r\n> \r\n> > 你是一位专业译文审校者，擅长审校语言为 <source> 的内容，需要按照 <target> 的最高标准，修正原译者可能留下的任何错误或不足。不要回答任何问题，也不要解释名词，仅输出审校结果，不要有任何额外内容。开始审校：<text>\r\n> \r\n> 提示词改好后，翻译时将来源语言和目标语言选择同一个语言应该就可以了。\r\n> \r\n> 不过目前插件没有添加多个提示词的功能，如果原来有自定义好的提示词，得自己备份好。如果感觉这个功能有必要，也",
          "created_at": "2024-05-22T16:35:06Z"
        }
      ]
    },
    {
      "issue_number": 312,
      "title": "[Bug report] HERE IS YOUR CONCISE TITLE",
      "body": "**Basic information**\r\n\r\n翻译文字是否可选 大小为80% \r\n\r\n不知道怎么设置？\r\n\r\n实在 CSS selector for priority elements 那里设置吗\r\n\r\n应该怎么写啊\r\n\r\n* Operating System: Windows\r\n* Calibre Version: **7.10**\r\n* Plugin Version: **v2.3.4**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\nA clear and concise description of what the bug is.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n",
      "state": "closed",
      "author": "geekhuashan",
      "author_type": "User",
      "created_at": "2024-05-19T07:50:32Z",
      "updated_at": "2024-05-20T15:20:27Z",
      "closed_at": "2024-05-20T15:20:27Z",
      "labels": [
        "invalid"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/312/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/312",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/312",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.513623",
      "comments": []
    },
    {
      "issue_number": 310,
      "title": "[错误报告] PYTHON语法报错",
      "body": "**基础信息**\r\n\r\n* 操作系统:  Arch\r\n* Calibre 版本: calibre (calibre 7.10 \r\n* 插件版本： v 2.3.4\r\n* 插件来源:  插件中心\r\n\r\n \r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.microsoft\", line 62, in translate\r\n    'authorization': 'Bearer %s' % self._get_app_key()\r\n                                   ^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.microsoft\", line 53, in _get_app_key\r\n    app_key = self.get_result(auth_url, method='GET')\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'",
      "state": "closed",
      "author": "gamegrd",
      "author_type": "User",
      "created_at": "2024-05-18T07:47:59Z",
      "updated_at": "2024-05-18T12:49:28Z",
      "closed_at": "2024-05-18T12:49:27Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/310/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/310",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/310",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.513639",
      "comments": [
        {
          "author": "bookfere",
          "body": "问题同 #303，这是安装的 Calibre 所依赖的外部 Python 包 `mechanize` 不兼容 Python 3.12 导致的，把系统中的 `mechanize` 升级到最新版 v0.4.10 就可以了。或者按照[官方说明](https://calibre-ebook.com/download_linux)安装内置 Python 的 Calibre 二进制版本也可以解决此问题。",
          "created_at": "2024-05-18T10:06:47Z"
        },
        {
          "author": "gamegrd",
          "body": "感谢回复，问题已经解决 方法是升级mechanize ",
          "created_at": "2024-05-18T12:49:28Z"
        }
      ]
    },
    {
      "issue_number": 304,
      "title": "Cannot Connect Deepl Pro to Calibre for translation",
      "body": "hello, i have purchased subscription DeepL Pro advanced + DeepL write pro and i got the API Keys ofcourse.\r\n\r\nbut why i cant connect API keys from DeepL Pro to Calibre?\r\n\r\n![Screen Shot 2024-05-10 at 7 38 10 AM](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/169412078/2914fdb5-be40-4bba-b28f-4b48c35f9a94)\r\n\r\n",
      "state": "closed",
      "author": "jamadun",
      "author_type": "User",
      "created_at": "2024-05-10T00:40:33Z",
      "updated_at": "2024-05-18T10:33:08Z",
      "closed_at": "2024-05-18T10:33:08Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/304/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/304",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/304",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.708570",
      "comments": [
        {
          "author": "bookfere",
          "body": "As the error information hinted, you do not have permission to access the API. The reason is that the \"DeepL Pro Advanced\" plan is different from the \"DeepL API Pro\" plan; only the latter can be used in the plugin. If you have any confusion about these two plans, I recommend checking the [documentat",
          "created_at": "2024-05-10T05:26:03Z"
        }
      ]
    },
    {
      "issue_number": 309,
      "title": "[错误报告] use google adc basic -> UnicodeDecodeError: 'utf-8' codec can't decode byte 0xcf in position 96: invalid continuation byte",
      "body": "**基础信息**\r\n\r\n* 操作系统: windows11\r\n* Calibre 版本: 7.10.0\r\n* 插件版本：2.3.4\r\n* 插件来源: calibre\r\n\r\n**描述错误**\r\nFile \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 183, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 165, in get_headers\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 143, in _get_credential\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 97, in _run_command\r\n  File \"codecs.py\", line 322, in decode\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xcf in position 96: invalid continuation byte\r\n\r\n\r\n**屏幕截图**\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/73771266/4b757719-7e2b-4712-832e-78e5f58e093b)\r\n",
      "state": "open",
      "author": "renyoutianming",
      "author_type": "User",
      "created_at": "2024-05-18T01:56:01Z",
      "updated_at": "2024-05-18T10:32:10Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/309/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/309",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/309",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.884465",
      "comments": []
    },
    {
      "issue_number": 300,
      "title": "[Feature request] SDLXLIFF file translation Support",
      "body": "Hello Dev\r\nSDLXLIFF file type is used by Trados Studio - CAT Tool\r\nand preserve the formatting very well, Tables, image positions, etc\r\nkindly add this file type to translate it using Ebook Translator Plugin, \r\nand save it output as translated sdlxliff again\r\n\r\nthis may help:\r\n\r\nhttps://github.com/SuperBill888/GetTUsInfoSDLXLIFF\r\nhttps://github.com/KentaGoto/SDLXLIFF2PlaneText\r\n\r\nhttps://github.com/jessegood/Leo.Sdlxliff\r\n\r\nafter translating SDLXLIF file using Ebook plugin , then will be used by Trados to export the final translated doc with preserved formatting,\r\n\r\nBest",
      "state": "closed",
      "author": "drkhateeb",
      "author_type": "User",
      "created_at": "2024-05-06T21:09:23Z",
      "updated_at": "2024-05-14T00:45:39Z",
      "closed_at": "2024-05-14T00:45:39Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/300/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/300",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/300",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.884486",
      "comments": []
    },
    {
      "issue_number": 297,
      "title": "[Feature request] Glossary Editor - Import-export- BiDi RTL",
      "body": "Hello dev\r\nKindly add these features:\r\n1-support to set RTL BiDi function for Arabic in output Translation\r\n2- Add Arabic to DeepL - it is now available\r\n3- Add a form to (add- remove entries to glossary - import- export from excel-csv, txt TAB)\r\n4- save edited translation in TMX or other formats for reuse\r\n5-add MyMemory to MT engines (https://mymemory.translated.net/doc/spec.php) and set save function to store edited translation\r\n6- add Lingvanex (https://docs.lingvanex.com/reference/overview)\r\n7- Export the output translation as facing Page by Page (odd pages for original - even Pages for Translation)\r\n8- set RTL BiDi in Translation Editor.\r\n\r\nKind Regards\r\n\r\n",
      "state": "closed",
      "author": "drkhateeb",
      "author_type": "User",
      "created_at": "2024-05-02T09:18:13Z",
      "updated_at": "2024-05-14T00:45:10Z",
      "closed_at": "2024-05-14T00:45:10Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/297/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/297",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/297",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:14.884493",
      "comments": [
        {
          "author": "bookfere",
          "body": "The first requirement has been addressed in commit a5d219cf9d352cc9cb13436aeee0ef19a56bcbad. You can check it out by installing the Rolling Release version.\r\n\r\nOther requirements, except for 4, 5, 6, and 7, may be implemented in future versions.\r\n\r\nRegarding the 4th and 5th requirements, the plugin ",
          "created_at": "2024-05-03T12:30:37Z"
        },
        {
          "author": "drkhateeb",
          "body": "Thanks for demonstrations\r\nKindly take a look at the new design of the translation editor\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/161371/9153166e-2830-4e02-b646-fef2e8df04fa)\r\n",
          "created_at": "2024-05-05T08:17:36Z"
        },
        {
          "author": "drkhateeb",
          "body": "Functions:\r\n1-\tAdd doc and extract text as Paragraphs/chunks to Source coloumn\r\n2-\tView /highlight terms based on the Terms List\r\n3-\tTranslate using NMT/AI engine (Textra NMT, Deepl, Google, Yandex, Lingvanex, Gemini Pro) using Term list\r\n4-\tProofread by AI for spelling, grammar, spacing, etc,\r\n5-\tR",
          "created_at": "2024-05-05T10:00:15Z"
        }
      ]
    },
    {
      "issue_number": 305,
      "title": "求助：添加chapgpt 3.5，不成功",
      "body": "添加chapgpt 3.5，提示错误，如下所示：\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n    translation = self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize/_opener.py\", line 193, in open\r\n  File \"mechanize/_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize/_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error timed out\r\n```\r\n\r\n密钥在其他软件中正常使用。\r\n\r\n自定义部分的设定如下所示：\r\n\r\n```\r\n{\r\n    \"name\": \"New Engine - 59d9c\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"Source Language\": \"code\"\r\n        },\r\n        \"target\": {\r\n            \"Target Language\": \"code\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://api.chatanywhere.com.cn/v1/chat/completions\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        \"data\": {\r\n            \"source\": \"<source>\",\r\n            \"target\": \"<target>\",\r\n            \"text\": \"<text>\"\r\n        }\r\n    },\r\n    \"response\": \"response\"\r\n}\r\n```",
      "state": "closed",
      "author": "brookechuo",
      "author_type": "User",
      "created_at": "2024-05-12T14:27:04Z",
      "updated_at": "2024-05-12T15:32:44Z",
      "closed_at": "2024-05-12T15:30:51Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/305/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/305",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/305",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:15.276405",
      "comments": []
    },
    {
      "issue_number": 303,
      "title": "[Bug report] Translation keep failing",
      "body": "**Basic information**\r\nHello,\r\nI keep getting this error no matter what book I translate or which  translation engine I use.\r\n\r\n* Operating System: **Linux Manjaro**\r\n* Calibre Version: **7.10.0-1**\r\n* Plugin Version: **v2.3.4**\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nEvery translation job fails and shows this stack trace:\r\n```\r\nError: Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 136, in _translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 53, in translate\r\n    return self.get_result(\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 210, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 197, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n══════════════════════════════════════\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/calibre-parallel\", line 21, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/usr/lib/calibre/calibre/utils/ipc/worker.py\", line 215, in main\r\n    result = func(*args, **kwargs)\r\n             ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/calibre/calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n    return func(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 242, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 86, in convert_book\r\n  File \"/usr/lib/calibre/calibre/ebooks/conversion/plumber.py\", line 1294, in run\r\n    self.output_plugin.convert(self.oeb, self.output, self.input_plugin,\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 73, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 263, in handle\r\nException: Translation failed.\r\n```",
      "state": "closed",
      "author": "nemelu",
      "author_type": "User",
      "created_at": "2024-05-09T18:16:14Z",
      "updated_at": "2024-05-11T03:39:09Z",
      "closed_at": "2024-05-10T19:45:58Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/303/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/303",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/303",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:15.276431",
      "comments": [
        {
          "author": "1Jack2",
          "body": "I'm having a similar issue.\r\n\r\n- Operating System: Arch Linux\r\n- Calibre Version: 7.10.0\r\n- Plugin Version: v2.3.4\r\n- Plugin Installation: From Calibre\r\n\r\nWhen testing any translation engine\r\n```\r\nraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67",
          "created_at": "2024-05-10T02:43:52Z"
        },
        {
          "author": "bookfere",
          "body": "The error information indicates that your Calibre is using an external Python library, which may have caused many problems. I suggest you follow the [installation instructions](https://calibre-ebook.com/download_linux) provided by Calibre to install a version of Calibre that contains a built-in Pyth",
          "created_at": "2024-05-10T05:46:06Z"
        },
        {
          "author": "nemelu",
          "body": "I installed Calibre from the system package manager. I don't want to installed it manually.\r\n\r\nThe problem is that Python 3.12 deprecated the `key_file` parameter in `http.client.HTTPSConnection` but the package `mechanize` that your plugin depends on is still using it.\r\n\r\nSo, I guess I will have to",
          "created_at": "2024-05-10T08:49:44Z"
        },
        {
          "author": "bookfere",
          "body": "Your Calibre is not a self-contained version, so the plugin just depends on the `mechanize` package you installed.\r\n\r\nFrom the the [issue](https://github.com/python-mechanize/mechanize/issues/86) of `mechanize`, this is a bug that exists in versions lower than v0.4.10. Fortunately, the issue has bee",
          "created_at": "2024-05-10T12:14:24Z"
        },
        {
          "author": "nemelu",
          "body": "Thank you for the clarification. Sorry for wasting your time. Now I just need to wait for [the package](https://archlinux.org/packages/extra/any/python-mechanize/)  update.",
          "created_at": "2024-05-10T19:45:58Z"
        }
      ]
    },
    {
      "issue_number": 301,
      "title": "[Feature request] A way to activate or not the translation of the book title",
      "body": "I can't find a way to get the title not translated into the language wanted.\r\nFor ex : The original one is the english and the top one in french, but I want to keep the title in english ( just the content need to be translated )\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/76868555/84b9010a-eaaf-4a7e-ab82-9b548f3ab7d8)\r\n\r\n**Describe the solution you'd like**\r\nA case where we can activate or not the title translation\r\n\r\n**Describe alternatives you've considered**\r\nI've tried to ignore some keyword..etc like docTitle, Title...etc  but nothing work ?\r\n",
      "state": "closed",
      "author": "yhngr",
      "author_type": "User",
      "created_at": "2024-05-07T14:02:45Z",
      "updated_at": "2024-05-10T13:52:33Z",
      "closed_at": "2024-05-10T13:52:33Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/301/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/301",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/301",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:15.471150",
      "comments": [
        {
          "author": "bookfere",
          "body": "The feature will be added in future versions. Until then, you can simply delete the item using the context menu to ignore translating it.",
          "created_at": "2024-05-08T04:37:29Z"
        },
        {
          "author": "yhngr",
          "body": "Okay I see, is it available in the mass translate and not the one per one ?",
          "created_at": "2024-05-08T12:47:16Z"
        },
        {
          "author": "bookfere",
          "body": "Not yet. I will add an option to enable or disable translating the metadata.",
          "created_at": "2024-05-08T14:35:25Z"
        }
      ]
    },
    {
      "issue_number": 253,
      "title": "[功能请求] 合并翻译字符数跟随引擎",
      "body": "不同的引擎有不同的长度阈值，比如大模型有16k的有32k的，谷歌翻译和Edge的长度也不同。\r\n合并翻译的选项现在是全局的，这就导致换引擎的时候都需要手动检查，如果忘记，那么就会出问题。\r\n由于这个选项与引擎高度相关，因此建议跟随引擎，而不是作为全局设置。",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-27T06:38:19Z",
      "updated_at": "2024-05-05T06:37:58Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/253/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/253",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/253",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:15.648131",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "@bookfere \r\n准备实现这个功能。\r\n还有就是，不仅是字数跟随引擎，其他的潜在合并翻译设置也跟随引擎。\r\n之前提过一些自动解决对齐问题的方案，\r\n1. https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/241 改成逐段翻译，GPT翻译后未对齐，如果用户认为自动化处理更重要，不想去手动编辑，那么就可以提前设置，自动转成逐段翻译，这样就避免了合并翻译的错误。\r\n2. 调用其他引擎，比如OpenAI的GPT由于不是专门用于翻译的，因此不太会遵守格式，所以不对齐的情况是司空见惯的，可是DeepL基本上没有这种情",
          "created_at": "2024-04-21T22:47:38Z"
        },
        {
          "author": "Andy-AO",
          "body": "@bookfere \r\n我对之前的承诺表示歉意，说想要实现它，因为生活上有变故暂时没法搞了，感觉不说一声可能会让人困惑，怎么突然没下文了？哈哈。所以在这里说明下。",
          "created_at": "2024-05-05T04:33:16Z"
        },
        {
          "author": "bookfere",
          "body": "没有关系，生活总是第一位的，愿意花费宝贵时间贡献代码就非常可敬了。希望一切安好，也欢迎随时再来。",
          "created_at": "2024-05-05T06:37:57Z"
        }
      ]
    },
    {
      "issue_number": 296,
      "title": "[Feature request] RWS Trados Studio plugin",
      "body": "Hello All Dev,\r\nI appreciate your amazing work on this project, I highly recommend adding/integrating it in Trados Studio, a CAT Tools\r\nlink here: https://github.com/RWS/Sdl-Community\r\n\r\nhttps://developers.rws.com/studio-api-docs/index.html\r\n\r\nTrados.Community.Toolkit (formally SDL.Community.Toolkit)\r\nA new version of the Trados Community Toolkit, version 4.1.1, has been released to support the latest version of Trados Studio 2022 SR2. This includes the following assemblies:\r\n\r\n[Trados.Community.Toolkit.Core](https://www.nuget.org/packages/Trados.Community.Toolkit.Core)\r\n[Trados.Community.Toolkit.LanguagePlatform](https://www.nuget.org/packages/Trados.Community.Toolkit.LanguagePlatform)\r\n[Trados.Community.Toolkit.Integration](https://www.nuget.org/packages/Trados.Community.Toolkit.Integration)\r\n[Trados.Community.Toolkit.FileType](https://www.nuget.org/packages/Trados.Community.Toolkit.FileType)\r\n[Trados.Community.Toolkit.ProjectAutomation](https://www.nuget.org/packages/Trados.Community.Toolkit.ProjectAutomation)\r\n\r\n\r\n\r\n----------\r\nThis API provides access to all translation memory functionality, both for file- and server-based translation memories. In addition, it also provides the capability to **create custom translation providers**, which allow applications like Trados Studio to interact with **automated translation engines**, third-party translation memory implementations or other **translation engines** in a unified way.\r\nhttps://developers.rws.com/studio-api-docs/apiconcepts/translationmemory/overview.html\r\n\r\nhttps://developers.rws.com/studio-api-docs/apiconcepts/translationmemory/setting_up_the_provider_project.html?tabs=tabid-1\r\n------\r\nOnline Python to Csharp Converter:\r\nhttps://www.codeconvert.ai/python-to-csharp-converter\r\n----\r\n\r\nI will donate this plugin to Trados Studio CAT Tool.\r\nBest Regards\r\n",
      "state": "closed",
      "author": "drkhateeb",
      "author_type": "User",
      "created_at": "2024-05-02T03:50:16Z",
      "updated_at": "2024-05-03T11:56:32Z",
      "closed_at": "2024-05-03T11:56:32Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/296/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/296",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/296",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:15.874470",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your suggestion and materials. However, it seems that the requirement involves creating a completely new plugin unrelated to the current project. I'm sorry, but I am not currently interested in developing a plugin for the production you recommend.",
          "created_at": "2024-05-03T11:56:32Z"
        }
      ]
    },
    {
      "issue_number": 298,
      "title": "Progress display problem",
      "body": "**Basic information**\r\n\r\n* Operating System: **Archlinux**\r\n* Calibre Version: **7.9.0-2**\r\n* Plugin Version: **2.3.3**\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nWhen translating, the status bar and progress bar display are inconsistent.\r\n\r\n**Expected behavior**\r\nShow the same percentage/amount, or similar.\r\n\r\n**Screenshots**\r\n![Screenshot_20240503_024650](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/43724352/9ba13a9b-b97e-4236-9809-babd89b1ad4a)\r\n\r\n",
      "state": "closed",
      "author": "hamkido",
      "author_type": "User",
      "created_at": "2024-05-02T18:53:18Z",
      "updated_at": "2024-05-03T03:26:13Z",
      "closed_at": "2024-05-03T03:26:13Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/298/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/298",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/298",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.051076",
      "comments": []
    },
    {
      "issue_number": 264,
      "title": "[功能请求] PDF 段落重排改善排版质量",
      "body": "对于pdf来说，翻译的时候需要转换成epub，这个过程中有个很常见的问题是段落划分错误，导致文本可读性降低。\r\n如果逐行翻译的话，那么将会降低到难以忍受的程度，如果合并翻译的话，那么容易导致合并翻译行数不一致。\r\n建议为pdf增加一个「段落重排」的预处理。\r\n灵感来自WPS文字中的「段落重排」，现在翻译pdf会先转换成word，然后调用「段落重排」，「段落重排」在wps中的运行速度非常快，能够以低成本明显改善文件质量。\r\n",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-30T22:11:20Z",
      "updated_at": "2024-05-02T08:01:50Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/264/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/264",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/264",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.051096",
      "comments": [
        {
          "author": "GoTop",
          "body": "也就是说，我们自己用wps打开pdf，对其使用wps的\"段落重排\"，再另存为word，然后再使用插件进行翻译不就行了？\r\n\r\n不需要让插件再去实现wps里的功能了吧",
          "created_at": "2024-04-01T14:41:33Z"
        },
        {
          "author": "Benson1997",
          "body": "楼主意思，应该是希望直接以后能支持翻译文本型的pdf吧？pdf转word的工具挺多的，段落问题也好解决。",
          "created_at": "2024-04-04T19:00:47Z"
        },
        {
          "author": "GoTop",
          "body": "> 楼主意思，应该是希望直接以后能支持翻译文本型的pdf吧？pdf转word的工具挺多的，段落问题也好解决。\r\n\r\n请问哪个工具可以解决pdf转word后，段落中的换行问题？",
          "created_at": "2024-04-05T05:07:40Z"
        },
        {
          "author": "Andy-AO",
          "body": "对于行的合并来说，可以使用LLM对于这些行进行预处理。\r\n对于没有以标点符号结尾的行，把前文和后文摘录出来问LLM是一个句子可能性有多大，超过阈值判定为一个句子。\r\n如果是的话那么就合并，如果不是就不合并。\r\n通用的模型加提示工程估计就可以起到比较好的效果。",
          "created_at": "2024-04-05T06:17:45Z"
        },
        {
          "author": "GoTop",
          "body": "\r\n\r\n> 对于行的合并来说，可以使用LLM对于这些行进行预处理。 对于没有以标点符号结尾的行，把前文和后文摘录出来问LLM是一个句子可能性有多大，超过阈值判定为一个句子。 如果是的话那么就合并，如果不是就不合并。 通用的模型加提示工程估计就可以起到比较好的效果。\r\n\r\n有哪款免费的程序或者软件可以实现么？WPS的这个功能要付费会员才能用",
          "created_at": "2024-04-05T16:29:34Z"
        }
      ]
    },
    {
      "issue_number": 209,
      "title": "How do I change the direction of words in the translated files to be from right to left to suit the Arabic language?",
      "body": "How do I change the direction of words in the translated files to be from right to left to suit the Arabic language?",
      "state": "closed",
      "author": "eltabry",
      "author_type": "User",
      "created_at": "2024-02-19T14:21:27Z",
      "updated_at": "2024-05-01T19:07:53Z",
      "closed_at": "2024-05-01T15:27:14Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/209/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/209",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/209",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.264931",
      "comments": [
        {
          "author": "eltabry",
          "body": "I appreciate your great effort and thank you very much",
          "created_at": "2024-05-01T19:07:52Z"
        }
      ]
    },
    {
      "issue_number": 292,
      "title": "[Feature request] on/off \"FileExistError\" & Translate only TITLE and Tag ... ",
      "body": "1) too much dialog \"FileExistError\" make desktop down. plz add on/ogg option\r\n\r\n2) I search book by keyword. Calibre search books by TITLE and etc without book contents.\r\n   I want to translate calibre columns not all book contens. ",
      "state": "closed",
      "author": "Mixe",
      "author_type": "User",
      "created_at": "2024-04-24T02:58:13Z",
      "updated_at": "2024-04-29T14:16:49Z",
      "closed_at": "2024-04-29T14:16:48Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/292/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/292",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/292",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.445574",
      "comments": [
        {
          "author": "bookfere",
          "body": "1. How and when did the \"FileExistError\" appear? Please provide details and let me know what happened.\r\n2. This is a plugin for translating ebook content. It may not suit your needs for translating Calibre columns.",
          "created_at": "2024-04-24T03:30:04Z"
        }
      ]
    },
    {
      "issue_number": 290,
      "title": "[错误报告] 翻译后输出失败",
      "body": "**基础信息**\r\n\r\n- 操作系统: **Windows**\r\n- Calibre 版本: 7.5.1\r\n- 插件版本：v2.3.3\r\n- 插件来源: 安装自 Calibre，不过Rolling Release 20240422143458 问题仍然存在\r\n\r\n**描述错误**\r\n\r\n在高级模式下翻译这本书，然后输出，发现失败\r\n\r\n\r\n**屏幕截图**\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/6b605c82-e4e9-40fa-a96b-9e4f6d00b028)\r\n\r\n**文件**\r\n\r\n错误日志\r\n\r\n[text_1359.txt](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/15084234/text_1359.txt)\r\n\r\n\r\n\r\n书\r\n[Mindfulness and Sleep - How to - Anna Black.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/15084230/Mindfulness.and.Sleep.-.How.to.-.Anna.Black.zip)\r\n\r\n\r\n缓存\r\n[43ac3e033e939d6f2d677d89aacb849e.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/15084228/43ac3e033e939d6f2d677d89aacb849e.zip)\r\n\r\n\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-04-24T00:04:19Z",
      "updated_at": "2024-04-29T14:15:15Z",
      "closed_at": "2024-04-29T14:15:15Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/290/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/290",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/290",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.636919",
      "comments": []
    },
    {
      "issue_number": 291,
      "title": "[Feature request] Could you ..... can on/off ",
      "body": "**Is your feature request related to a problem? Please describe**\r\nA clear and concise description of what the problem is. Ex. I'm always frustrated when [...]\r\n\r\n**Describe the solution you'd like**\r\nA clear and concise description of what you want to happen.\r\n\r\n**Describe alternatives you've considered**\r\nA clear and concise description of any alternative solutions or features you've considered.\r\n",
      "state": "closed",
      "author": "Mixe",
      "author_type": "User",
      "created_at": "2024-04-24T02:47:00Z",
      "updated_at": "2024-04-24T03:09:15Z",
      "closed_at": "2024-04-24T03:09:15Z",
      "labels": [
        "invalid"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/291/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/291",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/291",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.636938",
      "comments": []
    },
    {
      "issue_number": 282,
      "title": "[功能请求]建议“高级模式”-“电子书翻译器”界面增加使用和禁用某一行翻译的功能",
      "body": "增加一个针对每一段的使用和禁用的选项，比直接删除整段翻译更灵活。",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-04-13T05:57:37Z",
      "updated_at": "2024-04-22T07:42:46Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/282/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/282",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/282",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.636945",
      "comments": []
    },
    {
      "issue_number": 265,
      "title": "[Bug report] chatgpt error ",
      "body": "Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n    translation = self.translator.translate(text)\r\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.openai\", line 92, in translate\r\n    return self.get_result(\r\n           ^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 209, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 196, in get_result\r\n    br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 404: Not Found\r\n\r\n{\r\n    \"error\": {\r\n        \"message\": \"The model `gpt-4-0125-preview` does not exist or you do not have access to it.\",\r\n        \"type\": \"invalid_request_error\",\r\n        \"param\": null,\r\n        \"code\": \"model_not_found\"\r\n    }\r\n}",
      "state": "closed",
      "author": "eltabry",
      "author_type": "User",
      "created_at": "2024-03-31T11:40:51Z",
      "updated_at": "2024-04-22T07:41:24Z",
      "closed_at": "2024-04-22T07:41:24Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/265/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/265",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/265",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.636951",
      "comments": [
        {
          "author": "bookfere",
          "body": "Please check \"[How can I access GPT-4?](https://help.openai.com/en/articles/7102672-how-can-i-access-gpt-4)\" to confirm if your account is eligible to access the model.",
          "created_at": "2024-03-31T12:18:39Z"
        },
        {
          "author": "eltabry",
          "body": "i knew rulls but it is frist time i use chatgpt ..every trial i got this message\r\ncalibre, version 7.7.0 (darwin, embedded-python: True)\r\nTranslation job failed: Failed: [English > Arabic] Translating \"The mystery of Holly Lane\"\r\n\r\n[English > Arabic] Translating \"The mystery of Holly Lane\"\r\nInputFor",
          "created_at": "2024-03-31T15:57:16Z"
        },
        {
          "author": "bookfere",
          "body": "The error information lacks detail for locating the issue. Could you make a test via the test button in the engine setting before translating an ebook? It may provide helpful information if an error occurs.",
          "created_at": "2024-04-01T02:15:25Z"
        },
        {
          "author": "mariustoicescu",
          "body": "I have some problem, i have activ APi and chat gpt 4, i try chat gpt 3 and some errors.  Can you tell me if need a specific setings or ony API key ?\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n    translation = self.",
          "created_at": "2024-04-01T15:05:53Z"
        },
        {
          "author": "mariustoicescu",
          "body": "i think i find the problem, the end point link is: https://api.openai.com/v1/chat/completions\r\n\r\n\r\nBut work very hard... need more modification on settings?",
          "created_at": "2024-04-01T15:45:00Z"
        }
      ]
    },
    {
      "issue_number": 283,
      "title": "[Bug report] docx文件，翻译后目录丢失严重。",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **7.5.1**\r\n* Plugin Version: **2.3.3**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\ndocx文件，翻译后目录丢失严重。（文件是通过foxit把pdf转成docx的。）\r\n\r\n源文件：\r\n[bug-译后目录丢失严重.docx](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14996911/bug-.docx)\r\n\r\n\r\n**Expected behavior**\r\n希望翻译后，能保留目录。\r\n不过word的标题导航，好像是根据正文中的标题样式来，还是分行显示比较简单些呢\r\n\r\n**Screenshots**\r\n![图片](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/6b238b81-b585-4b1d-b8b9-94cc05acabe8)\r\n\r\n\r\n",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2024-04-16T12:45:39Z",
      "updated_at": "2024-04-22T07:40:08Z",
      "closed_at": "2024-04-22T07:40:08Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/283/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/283",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/283",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:16.824332",
      "comments": [
        {
          "author": "bookfere",
          "body": "建议先用 Calibre 转换一遍，看看目录是否正常。插件完全依赖 Calibre 的转换结果，如果 Calibre 没能很好地还原文档原来的结构，插件也就无能为力了 :(",
          "created_at": "2024-04-16T13:06:15Z"
        },
        {
          "author": "Benson1997",
          "body": "好的，感谢老大的回复，确实是calibre这边的问题。问题不在插件上，希望以后更新能解决这个问题吧。🤞\r\n\r\n![图片](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/49bafd72-0373-46f0-90cc-d06a5aea1f4e)\r\n",
          "created_at": "2024-04-16T13:46:08Z"
        },
        {
          "author": "Benson1997",
          "body": "通过在word中 重新点一下，标题1，标题2，标题3的样式，目录就可以完整兼容了。\r\n（估计是通过软件转换后的标题样式，掺杂了一些其他信息，所以calibre在识别的时候出现了一些错误。）\r\n\r\n算是简单重定义一下标题。😁",
          "created_at": "2024-04-17T04:12:33Z"
        }
      ]
    },
    {
      "issue_number": 288,
      "title": "[错误报告] 错误的分段",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows*\r\n* Calibre 版本: **7.5.1**\r\n* 插件版本：**v2.3.3**\r\n* 插件来源: **安装自 Calibre，不过Rolling Release 20240422143458 问题仍然存在**\r\n\r\n**描述错误**\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/60c1f202-fbb7-4e88-a6c9-73c369b3e0d2)\r\n\r\n看到电子书的章节上是有段落的，但是实际分段的时候，却没有分出来，导致整个一章变成一段(如第6章)\r\n\r\n# 电子书\r\n[The Interpersonal Problems Work - Matthew McKay.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/15058736/The.Interpersonal.Problems.Work.-.Matthew.McKay.zip)\r\n\r\n# 缓存\r\n[f73cd1848b5358f022b5b60326c4cf8a.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/15058734/f73cd1848b5358f022b5b60326c4cf8a.zip)\r\n",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-04-22T07:01:10Z",
      "updated_at": "2024-04-22T07:27:11Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/288/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/288",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/288",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.021232",
      "comments": [
        {
          "author": "bookfere",
          "body": "<img width=\"651\" alt=\"screenshot\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/eef16f3d-8e6d-4a72-9246-ec657210438b\">\r\n\r\n原因是文档的结构不规范，最外层的 `<div>` 有直接文本节点，导致被视作一个段落。这种情况可能需要特殊处理。",
          "created_at": "2024-04-22T07:26:13Z"
        }
      ]
    },
    {
      "issue_number": 285,
      "title": "Calibre ebook translator does not write output file [ ",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows 10**\r\n* Calibre Version: **7.9**\r\n* Plugin Version: **2.3.3**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\nTranslating a single epub to epub using Google Free, translation appears to work with no errors in the log but does not write an output file to the directory specified in translation settings.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n",
      "state": "closed",
      "author": "johndelaneycrowe",
      "author_type": "User",
      "created_at": "2024-04-21T04:23:43Z",
      "updated_at": "2024-04-22T03:12:15Z",
      "closed_at": "2024-04-22T03:12:15Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/285/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/285",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/285",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.183558",
      "comments": [
        {
          "author": "bookfere",
          "body": "Which method did you use, Batch mode or Advanced mode? and how much time was consumed until the translation was completed?",
          "created_at": "2024-04-21T05:05:01Z"
        },
        {
          "author": "johndelaneycrowe",
          "body": "Thanks - I have solved the problem i I wasn't clicking thee output button\r\nafter translation\r\n\r\nregards,\r\nJohn\r\n\r\nOn Sun, Apr 21, 2024 at 3:05 PM 书伴 ***@***.***> wrote:\r\n\r\n> Which method did you use, Batch mode or Advanced mode? and how much time\r\n> was consumed until the translation was completed?\r",
          "created_at": "2024-04-22T00:03:25Z"
        }
      ]
    },
    {
      "issue_number": 277,
      "title": "[功能请求] 为常用按钮添加访问键",
      "body": "常用的按钮「保存」，在很多程序中都有类似Alt+s的访问键，可以用来快速点击，提高效率，而该插件目前没有快速访问键，想要添加一下。\r\n\r\n很多GUI用`&Save`、`保存(&S)`命名就可以自动实现，Qt或许也有类似的功能，如果是这样则并不困难。\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-04-12T02:21:18Z",
      "updated_at": "2024-04-21T04:17:50Z",
      "closed_at": "2024-04-21T04:17:50Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/277/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/277",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/277",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.407783",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "@bookfere \r\n对于中文来讲，通常是用`保存(&S)`，使用括号在后面加上快捷键。\r\n可是对于其他表音的文字，该如何处理？\r\n比如\r\n```log\r\nmsgid \"&Start\"\r\nmsgstr \"Iniciar\"\r\n```\r\n是`&Iniciar`还是`Iniciar(&S)`，我认为应该使用前者，想听听你的看法。",
          "created_at": "2024-04-19T01:03:21Z"
        },
        {
          "author": "bookfere",
          "body": "感谢 PR。是不是使用 [QShortcut](https://www.riverbankcomputing.com/static/Docs/PyQt6/api/qtgui/qshortcut.html) 和 [QKeySequence](https://www.riverbankcomputing.com/static/Docs/PyQt6/api/qtgui/qshortcut.html) 这两个类会更灵活些？PyQt 也提供了一些标准快捷键（[Standard Shortcuts](https://www.riverbankcomputing.com/static/Docs/PyQt6/",
          "created_at": "2024-04-19T12:14:57Z"
        },
        {
          "author": "Andy-AO",
          "body": "@bookfere \r\n谢谢\r\n1. 用下划线体现在按钮文本上，好处是直观，不用去想按钮对应的快捷键到底是哪个，坏处是多语言处理起来麻烦。\r\n2. 不清楚该功能是否兼容多平台，如果不兼容，还是用Qt的机制比较好。\r\n",
          "created_at": "2024-04-19T12:36:24Z"
        },
        {
          "author": "bookfere",
          "body": "[QShortcut](https://www.riverbankcomputing.com/static/Docs/PyQt6/api/qtgui/qshortcut.html) 文档对助记符号快捷键用法包括兼容问题做了说明。可以看出，唯一的区别是是否为字符显示下划线。Windows 系统可控制是否显示下划线字符，而 macOS 需额外启用这种快捷键，且不会显示下划线字符。\r\n\r\n> In widget applications, certain widgets can use ‘&’ in front of a character. This will automatically crea",
          "created_at": "2024-04-19T13:59:40Z"
        },
        {
          "author": "Andy-AO",
          "body": "@bookfere \r\n估计每个系统有不同的习惯，在Windows上，习惯给一些元素添加助记符快捷键，比如选择框、选项卡、菜单、某些按钮。看了一下[维基百科](https://en.wikipedia.org/wiki/Mnemonics_\\(keyboard\\))，感觉这是Windows的特色功能。\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/989ba332-1e5b-41f0-a1b1-a0e9c8121160)\r\n![image](https://gith",
          "created_at": "2024-04-20T06:06:34Z"
        }
      ]
    },
    {
      "issue_number": 230,
      "title": "[功能请求] 合并段落时对超长段落进行分割",
      "body": "设置合并段落字数为1000字后，对于书籍中超过1000字的段落（比如说1500字一段），能否进行分割后再翻译，输出时再合并起来？\r\n\r\n现在的插件版本，对于超过合并段落字数的段落，会整段发送去翻译，有时字数实在太多，超出翻译引擎的处理上限，导致翻译失败\r\n\r\n是否考虑加入将超长的段落进行分割的功能\r\n\r\n可以考虑尽量平均分割，比如1050字的段落分割成525+525字两段，而不是1000+50字两段",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-12T02:06:26Z",
      "updated_at": "2024-04-20T09:45:25Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/230/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/230",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/230",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.648684",
      "comments": [
        {
          "author": "geminil6",
          "body": "目前常遇到超长段落无法翻译的问题。\r\n\r\n可否在段落字数超过一定数目时，自动从某个位置（比如1000字符）向前寻找整句标点（例如：中文的“。” “！” “……”，英文的“.” \"!\" \"...\"），对段落进行切割，分段调用api进行翻译，然后合并成一段。3ks!",
          "created_at": "2024-04-20T09:45:24Z"
        }
      ]
    },
    {
      "issue_number": 281,
      "title": "[功能请求]建议“高级模式”-“电子书翻译器”界面增加搜索原始代码、原文、译文的功能",
      "body": "有时在设置了不需要翻译的css选择器后，需要在原始代码、原文、译文中搜索这些内容，看看是否按预想的设置的那样，保留css选择器里的文本，不进行翻译。\r\n\r\n搜索的时候，建议可以选择在原始代码、原文、译文3项中进行搜索，也可以设置只在单独的一项中进行搜索\r\n\r\n",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-04-13T02:08:01Z",
      "updated_at": "2024-04-17T13:57:09Z",
      "closed_at": "2024-04-17T13:57:09Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/281/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/281",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/281",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.891584",
      "comments": []
    },
    {
      "issue_number": 148,
      "title": "Tool is translating >1 paragraph at a time",
      "body": "Hi there,\r\n\r\nExcellent tool. I really appreciate it exists.\r\n\r\nI'm having issues translating certain Arabic EPUBs that are translating more than what appears to be paragraphs. It looks like the entire `<span>` is acknowledged and being translated:\r\n\r\n```\r\n<div dir=\"rtl\" id=\"book-container\">\r\n<hr/>\r\n<a id='C5'></a><a id='C6'></a>\r\n<span class=\"title\">الباب الأول: في عقد الإمامة</span><br /><span class=\"title\">مدخل</span><br /><span class=\"red\">...</span><br />البَابُ الأَوَّلُ: فِي عَقٍدِ الْإِمَامَةِ<br />الْإِمَامَةُ1: مَوْضُوعَةٌ لِخِلَافَةِ النُّبُوَّةِ فِي حِرَاسَةِ الدِّينِ وَسِيَاسَةِ الدُّنْيَا، وَعَقْدُهَا لِمَنْ يَقُومُ بِهَا فِي الْأُمَّةِ وَاجِبٌ بِالْإِجْمَاعِ وَإِنْ شَذَّ عَنْهُمْ الْأَصَمُّ.<br />هَلْ الخِلَافَةُ وَاجَبَةٌ بِالشَّرْعِ أَمْ بِالْعَقْلِ؟<br />وَاخْتُلِفَ فِي وُجُوبِهَا2 هَلْ وَجَبَتْ بِالْعَقْلِ أَوْ بِالشَّرْعِ؟ فَقَالَتْ طَائِفَةٌ: وَجَبَتْ بِالْعَقْلِ لِمَا فِي طِبَاعِ الْعُقَلَاءِ مِنْ التَّسْلِيمِ لِزَعِيمٍ يَمْنَعُهُمْ مِنْ التَّظَالُمِ، وَيَفْصِلُ بَيْنَهُمْ فِي التَّنَازُعِ وَالتَّخَاصُمِ، وَلَوْلَا الْوُلَاةُ لَكَانُوا فَوْضَى مُهْمَلِينَ، وَهَمَجًا مُضَاعِينَ، وَقَدْ قَالَ الْأَفْوَهُ الْأَوْدِيُّ3، وَهُوَ شَاعِرٌ جَاهِلِيٌّ &quot;مِنْ الْبَسِيطِ&quot;:<br />لَا يَصْلُحُ النَّاسُ فَوْضَى لَا سَرَاةَ لَهُمْ <span class=\"red\">...</span> وَلَا سَرَاةٌ إذَا جُهَّالُهُمْ سَادُوا<br />وَقَالَتْ طَائِفَةٌ أُخْرَى: بَلْ وَجَبَتْ بِالشَّرْعِ دُونَ الْعَقْلِ؛ لِأَنَّ الْإِمَامَ يَقُومُ بِأُمُورٍ شَرْعِيَّةٍ قَدْ<span class=\"footnote-hr\">&nbsp;</span><span class=\"footnote\">1 قلت: والإمامة والخلافة مصطلحان مترادفان، وإن كان مصطلح الخلاقة أسبق، ومصطلح الإمامة أكثر ما يتردَّد عند الشيعة، والإمامية منهم خاصة، لكنَّ المعنى يكاد يكون واحدًا، وهو: رئاسة عامَّة في أمر الدين والدنيا، كما قال التفتازاني، أو: هي خلافة الرسول -صلى الله عليه وسلم- في إقامة الدِّين وحفظ حوزة الملَّة، يجب اتباعه على كافَّة الأمة، كما قال عضد الدين الإيجي في شرح المواقف، أو: هي خلافةٌ عن النبي -صلى الله عليه وسلم- كما قال الشيخ رشيد رضا في كتابه الخلافة.<br />2 يقول الدكتور عبد الرزاق السنهوري -رحمه الله: إنَّ أهل السنَّة والمعتزلة يرون أنَّ الخلافة واجب شرعي، ولكنَّهم يختلفون في أساس هذا الوجوب؛ فأهل السُّنَّة يرون أنَّ سند وجوب الخلافة هو الإجماع، أمَّا الرأي الآخرِ وغالب أنصاره من المعتزلة، فيرى أنَّ سند الوجوب هو العقل، وهناك طائفة من المعتزلة ترى أنَّ سند وجوب الخلافة شرعيّ وعقليّ في واقت واحد، ويرى الشيعة كذلك وجوب إقامة الحكومة الإسلامية. &quot;فقه الخلافة وتطورها: ص 59&quot;.<br />3 الأفوه الأودي، هو صلاءة بن عمرو بن مالك، أبو ربيعة، من بني أود، من مذحج؛ شاعر يماني جاهلي، لقِّبَ بالأفوه لأنَّه كان غليظ الشفتين ظاهر الأسنان، كان سيِّدَ قومه وقائدهم في حروبهم، وهو أحد الحكماء والشعراء في عصره.</span>\r\n</div>\r\n<hr/>\r\n<div class=\"center\">الجزء: 1 ¦ الصفحة: 15</div>\r\n</body>\r\n</html>\r\n```\r\n\r\nThe line breaks `<br>` are ignored and so entire chunks of text are translated, making it hard to read smaller portions (as the tool is meant to do).\r\n\r\n![ebook-translate-bug](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/2989402/05bb004f-c18d-47b3-ac19-f0c0ec9733a3)\r\n",
      "state": "closed",
      "author": "Kentoseth",
      "author_type": "User",
      "created_at": "2023-10-03T22:00:28Z",
      "updated_at": "2024-04-15T13:48:23Z",
      "closed_at": "2024-03-25T13:08:26Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/148/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/148",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/148",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:17.891606",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback. We've fixed the bug you encountered. Additionally, your use case has inspired us to ensure that the translation has the correct text direction. You can visit the plugin's [homepage](https://translator.bookfere.com) to download the \"__Rolling Version__,\" which includes th",
          "created_at": "2023-10-04T05:44:22Z"
        },
        {
          "author": "Kentoseth",
          "body": "Thank you for the super fast bug fix.\r\n\r\nIs the new rendering the same as the image you sent above? \r\n\r\nOr does each line break represent the place where the translated text will appear?\r\n\r\nOn small devices like Kindles and tablets, the size of the translation blocks were too big, so I had to move b",
          "created_at": "2023-10-04T11:18:48Z"
        },
        {
          "author": "bookfere",
          "body": "The plugin currently treats an element as a unit if it contains text directly. So, in your case, the sample text satisfies this condition, resulting in the entire translation being appended to that element.\r\n\r\nHowever, your suggestion makes sense, and we will work on it. ",
          "created_at": "2023-10-04T13:17:31Z"
        },
        {
          "author": "Kentoseth",
          "body": "Hello. I hope you are well.\r\n\r\nWhat is the status of this request?\r\n\r\nI could try to help regarding the <br> issue for text blocks.",
          "created_at": "2023-11-08T22:11:59Z"
        },
        {
          "author": "Kentoseth",
          "body": "Has this commit been included in the latest release?\r\n\r\nI attempted to install V2.3.3 and the bug/feature was not fixed.\r\n\r\nI also downloaded the repo with the commit directly: https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/tree/a046c1eb011c76bcd3bff8bb184f4dc5b596b6f4\r\n\r\nand the bug wa",
          "created_at": "2024-04-13T21:56:55Z"
        }
      ]
    },
    {
      "issue_number": 216,
      "title": "Can the program translate file names and metadata for each file?",
      "body": "Thank you for the wonderful program that helped me a lot in translating files into Arabic. And I have a question,\r\nCan the program translate file names and metadata for each file?",
      "state": "closed",
      "author": "eltabry",
      "author_type": "User",
      "created_at": "2024-03-05T13:06:01Z",
      "updated_at": "2024-04-14T18:22:01Z",
      "closed_at": "2024-03-11T14:07:02Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/216/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/216",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/216",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.090669",
      "comments": [
        {
          "author": "eltabry",
          "body": "how can i download the new Ver.?\r\ni'm not a tech.\r\nthanks",
          "created_at": "2024-03-12T11:35:02Z"
        },
        {
          "author": "bookfere",
          "body": "You can always download the latest version at https://translator.bookfere.com by clicking the \"Rolling Version\" button.",
          "created_at": "2024-03-12T11:42:23Z"
        },
        {
          "author": "eltabry",
          "body": "good thaks\r\nOn Tue, Mar 12, 2024 at 1:42 PM 书伴 ***@***.***> wrote:\r\n\r\n> You can always download the latest version at\r\n> https://translator.bookfere.com by clicking the \"Rolling Version\" button.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/bookfere/Ebook-Translat",
          "created_at": "2024-03-12T13:35:39Z"
        },
        {
          "author": "eltabry",
          "body": "There is a problem translating the file name and the data attached to it. I cannot. I stopped translating the file name if I did not want to. The function is always running and there is no way to stop it.\r\nnoway to enable or disable",
          "created_at": "2024-04-14T18:14:58Z"
        }
      ]
    },
    {
      "issue_number": 24,
      "title": "可以指定翻译范围么？",
      "body": "比如word文档，指定翻译的页码范围；\r\nepub文档，按照标题来指定范围？\r\npdf文档，也可以指定页码范围。\r\n\r\n现在只能手动拆分文档，投喂给软件翻译，然后手动拼接回去",
      "state": "closed",
      "author": "crystoneme",
      "author_type": "User",
      "created_at": "2023-04-28T09:05:57Z",
      "updated_at": "2024-04-14T17:14:34Z",
      "closed_at": "2023-06-06T13:40:27Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/24/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/24",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/24",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.287621",
      "comments": [
        {
          "author": "bookfere",
          "body": "应该是可以的。不过这样做要达成的目的是什么呢？可以更详细描述一下，这有助于分析添加此功能的可行性。",
          "created_at": "2023-04-28T09:40:57Z"
        },
        {
          "author": "xuuou",
          "body": "> 应该是可以的。不过这样做要达成的目的是什么呢？可以更详细描述一下，这有助于分析添加此功能的可行性。\r\n\r\n比如PDF论文，后面好几页都是参考文献信息，并不需要翻译。",
          "created_at": "2023-05-02T11:53:52Z"
        },
        {
          "author": "bookfere",
          "body": "@xuuou 谢谢补充信息。这个需求和 #18 有些类似，今后插件会添加一个翻译监控面板，可以在翻译前预览将要翻译的内容，这上面会提供一些功能让用户剔除不需要翻译的部分。",
          "created_at": "2023-05-02T12:05:15Z"
        },
        {
          "author": "murphytsai",
          "body": "這功能太棒了！另一個使用情境是，想先試閱一本書某些比較重要的章節，簡介的部份就可以略過不翻.",
          "created_at": "2023-05-09T03:39:38Z"
        },
        {
          "author": "EaglePPP",
          "body": "> @xuuou 谢谢补充信息。这个需求和 #18 有些类似，今后插件会添加一个翻译监控面板，可以在翻译前预览将要翻译的内容，这上面会提供一些功能让用户剔除不需要翻译的部分。\r\n\r\n@bookfere 我觉得他的意思是 正文在10-90页， 前面10页是介绍和序章目录等等，后面10页是文献引用目录，其中都是人名和作品名，有些很厚重的书后面还有专有名词index，只用现在的监控面板要排除这么多内容很复杂，如果不另外开一个软件进行搜索那么需要花上很多时间查找到需要翻译的头和尾。\r\n\r\n我觉得如果记下来要翻译的书的正文从哪一页开始，哪一页结束，然后在Ebook-Translator-Calibre-",
          "created_at": "2024-04-14T17:14:33Z"
        }
      ]
    },
    {
      "issue_number": 214,
      "title": "how can stop translated file view notification appear",
      "body": "Sometimes you need to translate dozens of files and a message appears after each file offering to open the translated file. How can I stop this message from appearing?\r\n![Screenshot 2024-02-28 at 11 44 34 PM](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/160505804/a2c75781-0564-4e15-9c59-20dc127e304b)\r\n",
      "state": "closed",
      "author": "eltabry",
      "author_type": "User",
      "created_at": "2024-02-28T22:01:18Z",
      "updated_at": "2024-04-13T02:43:08Z",
      "closed_at": "2024-04-13T02:43:08Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/214/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/214",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/214",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.487646",
      "comments": [
        {
          "author": "bookfere",
          "body": "No option for that yet, but it will be added soon.",
          "created_at": "2024-02-29T03:08:59Z"
        },
        {
          "author": "eltabry",
          "body": "Thank you very much for the most wonderful program. I have translated more than 2,000 with it\r\nA file into the Arabic language has saved me a lot of time\r\nI am facing a problem with the text direction in the translated files. It must change to right-left. Also, the conversion message stops appearing",
          "created_at": "2024-02-29T10:27:34Z"
        },
        {
          "author": "bookfere",
          "body": "We are aware of your concerns and will keep track of the two issues, #209 and #214, you posted here. Once these issues are resolved, they will be automatically closed, and you will be notified.",
          "created_at": "2024-02-29T13:07:35Z"
        }
      ]
    },
    {
      "issue_number": 257,
      "title": "[Bug report] 错误的分行",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **7.5.1**\r\n* Plugin Version: **v2.3.3**\r\n* Plugin Installation: **From Calibre**\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/88afbf05-3d79-4a28-9dfb-bbaa7c3d133d)\r\n[123.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14809092/123.zip)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-29T23:12:01Z",
      "updated_at": "2024-04-12T16:16:54Z",
      "closed_at": "2024-04-12T16:15:17Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/257/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/257",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/257",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.699986",
      "comments": [
        {
          "author": "bookfere",
          "body": "<img width=\"818\" alt=\"screenshot\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/9f541142-dd7b-41ae-a555-867129929092\">\r\n\r\n这个结构有些奇怪，估计得特殊处理才行。",
          "created_at": "2024-03-30T04:22:18Z"
        },
        {
          "author": "bookfere",
          "body": "通过新添加的“首选元素”设置通过 CSS 选择器把特定元素设为优先提取。",
          "created_at": "2024-04-12T16:16:53Z"
        }
      ]
    },
    {
      "issue_number": 279,
      "title": "[功能请求]建议“缓存管理器”显示条目总数和已经翻译条目数",
      "body": "有时候一本书，会使用不同翻译引擎、合并字数等进行翻译，会生成不同的缓存文件。\r\n\r\n但是时间久了，不记得最终使用的是哪个缓存文件。\r\n\r\n如果不会操作sqlite数据库，就需要在插件中，设置不同的翻译引擎、合并段落字数后，点击“翻译书籍”图标后，才能查看到对应的翻译缓存中的内容，十分不方便。\r\n\r\n所以建议在“缓存管理器”中显示缓存文件中，总的条目数、已经翻译的条目数，以便让用户一眼就知道不同缓存的翻译进度",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-04-12T08:42:33Z",
      "updated_at": "2024-04-12T08:56:32Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/279/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/279",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/279",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.865522",
      "comments": []
    },
    {
      "issue_number": 276,
      "title": "[功能请求] 对于合并翻译被标黄的项增加再次重试的按钮",
      "body": "对于合并翻译后译文段落数对不上的分段，现在已经被标黄来提醒用户，能否加一个再次重新翻译所有标黄分段的按钮，我发现再次翻译后有很大概率段落数就能对上了，现在我是手动这样做的，但数量一多手工选起来就比较麻烦，而且有时也需要重试好几次或换不同的模型重试。为了提升翻译质量合并翻译还是很有必要，否则对于一些很短的段落，比如只有一个人名这种段落模型会返回一堆莫名其妙的内容，合并翻译后有了一定的上下文就可以避免这种情况。",
      "state": "closed",
      "author": "Arthur-WWW",
      "author_type": "User",
      "created_at": "2024-04-12T00:34:27Z",
      "updated_at": "2024-04-12T04:39:30Z",
      "closed_at": "2024-04-12T04:16:49Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/276/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/276",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/276",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:18.865543",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "现在已经有筛选全部未对齐条目的功能，你可以升级到最新版本，就可以享受该功能。\r\n筛选之后Ctrl+A全选，然后点击翻译选中项目即可，不需要手动完成。\r\n最新版本还没有发布，你需要去找到Rolling版手动安装。",
          "created_at": "2024-04-12T02:13:59Z"
        },
        {
          "author": "bookfere",
          "body": "补充一下，筛选后手动全选不是必须的，点击【翻译全部】按钮只会翻译筛选后的结果。",
          "created_at": "2024-04-12T02:42:26Z"
        },
        {
          "author": "Arthur-WWW",
          "body": "试了最新版完美实现了想要的功能，这样处理没对齐的就方便多了，非常感谢感谢",
          "created_at": "2024-04-12T04:16:28Z"
        }
      ]
    },
    {
      "issue_number": 258,
      "title": "[功能请求] 在缓存管理器中显示缓存文件更新时间",
      "body": "建议缓存管理器中，增加一列显示缓存文件更新时间，这样查找最新翻译的书更方便",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-30T00:29:55Z",
      "updated_at": "2024-04-11T19:14:59Z",
      "closed_at": "2024-04-11T19:14:59Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/258/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/258",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/258",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.062316",
      "comments": []
    },
    {
      "issue_number": 249,
      "title": "[功能请求] 忽略超出尝试翻译次数的条目并继续翻译",
      "body": "建议针对条目增加一个“尝试翻译次数”，如果超过这个次数，则停止翻译这个条目，继续翻译后面的条目，而不是停止整本书的翻译\r\n\r\n超过“尝试翻译次数”仍未获取到翻译文本的条目，标记一下颜色，这样方便用户手动获取翻译后输入\r\n\r\n现在插件的设置好像是“超过连续错误次数中止翻译”，如果某个段落因为太长或者其他原因，总是获取不到翻译，那整本书的翻译就会在这里停止。\r\n\r\n",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-23T10:42:18Z",
      "updated_at": "2024-04-11T18:00:40Z",
      "closed_at": "2024-04-11T18:00:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/249/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/249",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/249",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.062340",
      "comments": [
        {
          "author": "bookfere",
          "body": "提交 f876702cd768f44f1362299d5307f48b39f05346 解决了此问题。可在设置中将停止翻译的尝试次数设为 0，表示不限制次数。",
          "created_at": "2024-04-11T18:00:40Z"
        }
      ]
    },
    {
      "issue_number": 274,
      "title": "[错误报告] deeplx HTTP Error 403",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows**\r\n* Calibre 版本: **7.5.1**\r\n* 插件版本：**v2.3.3**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n使用自定义功能请求 deeplx 远程服务器 HTTP Error 403\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/ff3945c4-609b-4596-9066-889875e38608)\r\n\r\n\r\n# 自定义json\r\n```JavaScript\r\n{\r\n\t\"name\": \"deeplx(online)\",\r\n\t\"languages\": {\r\n\t\t\"source\": {\r\n\t\t\t\"English\": \"EN\"\r\n\t\t},\r\n\t\t\"target\": {\r\n\t\t\t\"Chinese\": \"ZH\"\r\n\t\t}\r\n\t},\r\n\t\"request\": {\r\n\t\t\"url\": \"https://api.deeplx.org/translate\",\r\n\t\t\"method\": \"POST\",\r\n\t\t\"headers\": {\r\n\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t},\r\n\t\t\"data\": {\r\n\t\t\t\"text\": \"<text>\",\r\n\t\t\t\"source_lang\": \"<source>\",\r\n\t\t\t\"target_lang\": \"<target>\"\r\n\t\t}\r\n\t},\r\n\t\"response\": \"response['data']\"\r\n}\r\n```\r\n# 错误日志\r\n\r\n```log\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 67, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.custom\", line 120, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 209, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 196, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\nerror code: 1010\r\n```\r\n# 额外说明\r\n\r\n\r\n在python中请求成功，在其他软件中请求也成功，因此不是网络问题\r\n\r\n如\r\n```Python\r\nimport requests\r\nimport json\r\n\r\nurl = \"https://api.deeplx.org/translate\"\r\n\r\npayload = json.dumps({\r\n  \"text\": \"Hello, world!\",\r\n  \"source_lang\": \"auto\",\r\n  \"target_lang\": \"ZH\"\r\n})\r\nheaders = {\r\n  'Content-Type': 'application/json'\r\n}\r\n\r\nresponse = requests.request(\"POST\", url, headers=headers, data=payload)\r\n\r\nprint(response.text)\r\n\r\nprint(\"data:\")\r\nprint(response.json().get(\"data\"))\r\n\r\n\r\n```\r\n\r\n结果是\r\n\r\n```log\r\nD:\\text\\GitRepository\\callDeeplx>  d:; cd 'd:\\text\\GitRepository\\callDeeplx'; & 'd:\\text\\GitRepository\\callDeeplx\\Scripts\\python.exe' 'c:\\Users\\Andy\\.cursor\\extensions\\ms-python.python-2023.22.1\\pythonFiles\\lib\\python\\debugpy\\adapter/../..\\debugpy\\launcher' '52427' '--' 'd:\\text\\GitRepository\\callDeeplx\\oneline.py' \r\n{\"code\":200,\"id\":8712290002,\"data\":\"你好，世界\",\"alternatives\":[\"世界，你好\",\"你好，世界！\",\"大家好\"]}\r\ndata:\r\n你好，世界\r\n```\r\n\r\n如果使用本地的deeplx则请求成功\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/2daf9013-90f5-4bc1-be76-dcabe7770899)\r\n\r\n\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-04-10T23:56:59Z",
      "updated_at": "2024-04-11T06:52:03Z",
      "closed_at": "2024-04-11T06:48:22Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/274/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/274",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/274",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.293318",
      "comments": [
        {
          "author": "bookfere",
          "body": "参考内置的 [DeepL(Free)](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/blob/bcf812aac5f8d951bb24e80fc21f225140a790d7/engines/deepl.py#L81) 给请求标头添加一个 User-Agent。",
          "created_at": "2024-04-11T01:11:10Z"
        }
      ]
    },
    {
      "issue_number": 271,
      "title": "[功能请求] 可否选择性翻译？",
      "body": "最近遇到一些韩国作者写的学习英语的书，里面的主体都是韩文，示例为英文。\r\n目标：\r\n1. 韩文翻译为中文\r\n2. 英文保持不变\r\n\r\n尝试了翻译中设置韩文→中文，但依然把所有文字都翻译为了中文，不知道是不是我设置的不对还是默认英文必须翻译为中文等功能闲置\r\n\r\n希望有个识别文字并翻译的功能",
      "state": "closed",
      "author": "ddtoys",
      "author_type": "User",
      "created_at": "2024-04-07T02:56:36Z",
      "updated_at": "2024-04-09T22:52:49Z",
      "closed_at": "2024-04-08T15:12:58Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/271/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/271",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/271",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.485747",
      "comments": [
        {
          "author": "bookfere",
          "body": "可以尝试在高级模式中在英文条目上点击右键，看通过“选择相似条目”菜单是否能选中所有英文条目，如果能的话可以将其删除。\r\n\r\n如果不能，和 #262 一样，需要优化段落排除后才能解决。你也可以把样本发送到书伴邮箱（见 GitHub 资料页）以便测试。",
          "created_at": "2024-04-07T04:21:53Z"
        },
        {
          "author": "ddtoys",
          "body": "> 可以尝试在高级模式中在英文条目上点击右键，看通过“选择相似条目”菜单是否能选中所有英文条目，如果能的话可以将其删除。\r\n> \r\n> 如果不能，和 #262 一样，需要优化段落排除后才能解决。你也可以把样本发送到书伴邮箱（见 GitHub 资料页）以便测试。\r\n\r\n收到！我回来测试一下。刚刚准备尝试结果发现z-lib挂了，哎，之前没download就是因为解决不了选择性翻译，现在倒好，想干活了，找不到书了。等尝试的时候一定第一时间反馈一下，多谢大佬！",
          "created_at": "2024-04-08T00:57:28Z"
        },
        {
          "author": "ddtoys",
          "body": "> 可以尝试在高级模式中在英文条目上点击右键，看通过“选择相似条目”菜单是否能选中所有英文条目，如果能的话可以将其删除。\r\n> \r\n> 如果不能，和 #262 一样，需要优化段落排除后才能解决。你也可以把样本发送到书伴邮箱（见 GitHub 资料页）以便测试。\r\n\r\n哇！成功啦！感谢感谢！\r\n临时找了本别的韩语的英语学习书，按照你说的方法删除了类似，然后翻译剩下的，英语例句都保留了。\r\n![Snipaste_2024-04-08_09-32-16](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/101969",
          "created_at": "2024-04-08T01:42:03Z"
        },
        {
          "author": "bookfere",
          "body": "客气了，这不是“鸡蛋里挑骨头”，而确实是需要改进的地方。同 #238，插件将会添加一个手动指定保留某些元素的功能，以保留不需要翻译的元素，比如截图中的 code 和 target 这两个单词。",
          "created_at": "2024-04-08T01:53:45Z"
        },
        {
          "author": "ddtoys",
          "body": "真棒！",
          "created_at": "2024-04-09T22:52:48Z"
        }
      ]
    },
    {
      "issue_number": 238,
      "title": "原文中的引用符号会被直接翻译",
      "body": "**基础信息**\r\nepub电子书下，原文中的引用符号比如 “叶卡捷琳娜大帝曾经表态过如何处理俄罗斯农奴[3]的方案” 中翻译后本来是引用的符号 [3] 会丢失其HTML标签属性，变成纯字符串的 [3] \r\n\r\n* 操作系统: **Windows/macOS/Linux 发行版**\r\n* Calibre 版本: **7.6.0**\r\n* 插件来源: **安装自 Calibre 市场**\r\n\r\n**屏幕截图**\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/5072174/7a477abd-b1f1-49da-9f8e-a90b5b7ede7c)\r\n",
      "state": "closed",
      "author": "stormeyes",
      "author_type": "User",
      "created_at": "2024-03-17T02:37:05Z",
      "updated_at": "2024-04-08T15:12:57Z",
      "closed_at": "2024-04-08T15:12:57Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/238/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/238",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/238",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.661984",
      "comments": [
        {
          "author": "stormeyes",
          "body": "看了一下电子书的源码，本质上这些脚注其实是这样一段HTML代码\r\n```\r\n他們踏上了東方的土地，彷彿充滿了當年亞歷山大和圖拉真的感覺。他們踏在烏爾<a class=\"footnote\" href=\"#fnX-1\" id=\"fX-1\">[1]</a>（Ur）的土地上，深切地感到，他們做為基督徒，是「迦勒底的吾珥<a class=\"footnote\" href=\"#fnX-2\" id=\"fX-2\">[2]</a>」（Ur Kasdim）的公民亞伯拉罕在文明意義上的繼承人。\r\n```\r\n我在`设置`中的`忽略元素`添加了两条规则，删掉了缓存重新翻译，好像还是没变化\r\n![image](https:",
          "created_at": "2024-03-17T10:39:02Z"
        },
        {
          "author": "bookfere",
          "body": "这个“忽略元素”可能会让人误解。它其实是上面那个忽略段落功能的补充，只是可以通过 CSS 选择器匹配而非文本匹配。\r\n\r\n你想要的应该是“保留元素”，就像内置的保留 `<code>`、`<img>` 或 `<br>` 这样的元素一样。未来的版本会添加这个功能。",
          "created_at": "2024-03-17T11:44:32Z"
        }
      ]
    },
    {
      "issue_number": 114,
      "title": "[Feature Request] 支持排除匹配 CSS 选择器 的子元素 ",
      "body": "当前的元素过滤规则只要element.text不为空，就不再往下遍历子元素，希望提供从element中删除与配置css选择器相匹配的的子element。（https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/blob/master/lib/element.py#L179）\r\n\r\n我在翻译编程类书籍遇到以上问题，以下是示例：\r\n这是数据库cache表一条数据的截图，我希望设置了过滤css选择器 （.fixedline）后，可以将代码部分过滤；\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/20295414/63866f39-5370-4f2b-b700-c7444029e975)\r\n\r\n这是当前的翻译过后的截图：\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/20295414/81ce11d7-4d62-4763-ac57-aa1c91fd2322)\r\n\r\n期望配置过滤规则后的样子：\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/20295414/989ac228-8fa3-4328-bea3-fed3e56c5355)\r\n\r\n",
      "state": "closed",
      "author": "sunnyh1220",
      "author_type": "User",
      "created_at": "2023-08-29T03:47:40Z",
      "updated_at": "2024-04-08T15:12:57Z",
      "closed_at": "2024-04-08T15:12:57Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/114/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/114",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/114",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:19.825891",
      "comments": [
        {
          "author": "bookfere",
          "body": "目前针对某个段落，只保留了其中的 `<img>` 和 `<code>` 两种元素（即段落翻译完成后将其原样还原），后面的版本可以加个选项来支持通过 CSS 选择器自定义段落内要保留的元素。",
          "created_at": "2023-08-29T04:38:00Z"
        },
        {
          "author": "yyitsz",
          "body": "可以先支持`<pre>`元素吗？",
          "created_at": "2024-01-04T02:10:14Z"
        }
      ]
    },
    {
      "issue_number": 269,
      "title": "[Bug report] HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'",
      "body": "**Basic information**\r\n\r\n* Operating System: **Linux Fedora**\r\n* Calibre Version: **7.3**\r\n* Plugin Version: **2.3.3**\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nException on translation. It tested with google (free) and DeepL (with api key):\r\n```\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 196, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n```",
      "state": "closed",
      "author": "alphaville76",
      "author_type": "User",
      "created_at": "2024-04-05T11:33:22Z",
      "updated_at": "2024-04-07T16:32:29Z",
      "closed_at": "2024-04-05T11:42:56Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/269/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/269",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/269",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:20.040147",
      "comments": [
        {
          "author": "alphaville76",
          "body": "solved after updating to calibre 7.7",
          "created_at": "2024-04-05T11:42:56Z"
        }
      ]
    },
    {
      "issue_number": 254,
      "title": "[功能请求] 筛选合并出错的条目以提高效率",
      "body": "在合并翻译完成之后，会有很多行数不匹配的，出错的条目，虽然用黄色高亮了，可是想找到和选中还是很难。\r\n有的时候这些出错的地方分散在上千个条目中，查找需要耗费很多的精力。\r\n希望在UI上添加个筛选按钮，可以筛选出合并出错的项目，以便集中处理，比如手动修复或者更换引擎重新翻译，这样可以大幅提高效率。",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-27T12:04:04Z",
      "updated_at": "2024-04-07T16:31:21Z",
      "closed_at": "2024-04-07T16:31:21Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/254/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/254",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/254",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:20.211445",
      "comments": [
        {
          "author": "bookfere",
          "body": "列表今后会增加一个搜索/筛选功能，可以把这个需求合并进去。",
          "created_at": "2024-03-27T12:11:29Z"
        }
      ]
    },
    {
      "issue_number": 262,
      "title": "[功能请求] 对已合并翻译的内容进行过滤排除",
      "body": "能否以更灵活的方式来处理需要排除翻译的内容，比如翻译完整本书后，发现新的需要排除的内容时\r\n\r\n比如对于翻译完后的书籍，如果查看后发现新的需要排除的内容，插件可以在翻译的缓存中，将包含这些要排除内容的片段查找出来，将其设置为“未翻译”\r\n\r\n这样，只需要重新翻译这些包含了需要排除内容的片段就可以了，而不需要重新对整本书合并段落，然后再重新翻译。\r\n\r\n这样可以节省很多翻译的费用和时间",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-30T02:57:51Z",
      "updated_at": "2024-03-30T05:01:06Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/262/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/262",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/262",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:20.398096",
      "comments": [
        {
          "author": "bookfere",
          "body": "原文和译文是一一对应的，根据你的描述，开启对原文的编辑，同时删除原文和译文，应该就可以解决这个问题。\r\n\r\n---\r\n\r\n另，请在标题前添加 __[功能请求]__ 或 __[错误报告]__，并尽量填写简洁的标题，将描述性的内容填写在正文中。",
          "created_at": "2024-03-30T04:29:01Z"
        },
        {
          "author": "GoTop",
          "body": "> 原文和译文是一一对应的，根据你的描述，开启对原文的编辑，同时删除原文和译文，应该就可以解决这个问题。\r\n> \r\n> 另，请在标题前添加 **[功能请求]** 或 **[错误报告]**，并尽量填写简洁的标题，将描述性的内容填写在正文中。\r\n\r\n直接删除某个片段的原文和译文的话，如果这段原文中，只是有一部分文本需要排除不翻译，另外的部分仍是需要翻译，那这种情况怎么办？\r\n\r\n关于标题的描述，我今后会注意的",
          "created_at": "2024-03-30T04:43:58Z"
        },
        {
          "author": "bookfere",
          "body": "插件目前没有这样的精细控制，并且缓存仅起到记录作用，无法影响 Calibre 对电子书结构的处理。\r\n\r\n对于段落中不需要翻译的内容，只能通过保留元素功能，如 `<sup>[1]</sup>`，将其提取出来待翻译完成后再还原。不过目前只有内置的几种元素，今后会提供自定义功能，让用户通过 CSS 选择器等方式设置要保留的元素。\r\n\r\n如果想要精细控制内容，用 Calibre 编辑电子书，修改标签或 CSS 类并结合保留元素功能可能是更好的方式。\r\n\r\n",
          "created_at": "2024-03-30T05:01:06Z"
        }
      ]
    },
    {
      "issue_number": 251,
      "title": "Mac上的暗色模式下，插件的色彩问题",
      "body": "![WX20240323-233700@2x](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/73bfb463-092f-45ce-9993-6ae555220bb6)\r\n",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-23T15:38:23Z",
      "updated_at": "2024-03-30T00:28:14Z",
      "closed_at": "2024-03-26T10:50:58Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/251/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/251",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/251",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:20.574673",
      "comments": [
        {
          "author": "GoTop",
          "body": "感谢～～～",
          "created_at": "2024-03-30T00:28:14Z"
        }
      ]
    },
    {
      "issue_number": 232,
      "title": "[功能请求] 支持Claude3的API",
      "body": "最近Claude3的API出来了，价格比chatgpt便宜，速度也快，用来代替chatgpt3.5不错，能否支持一下，谢谢",
      "state": "closed",
      "author": "Arthur-WWW",
      "author_type": "User",
      "created_at": "2024-03-14T13:23:14Z",
      "updated_at": "2024-03-29T23:52:07Z",
      "closed_at": "2024-03-18T10:46:36Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 13,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/232/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/232",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/232",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:20.765184",
      "comments": [
        {
          "author": "alissonryan",
          "body": "I have been using Claude 3 a lot in my applications and I would be very happy to have it to translate my books. Would it be possible to insert it into the plugin?",
          "created_at": "2024-03-16T22:06:03Z"
        },
        {
          "author": "bookfere",
          "body": "@Arthur-WWW  谢谢建议。现已根据文档添加了 Claude 为翻译引擎，但是目前我没条件测试。请从插件主页 https://translator.bookfere.com 下载安装最新的 Rolling Release 版本测试并提供反馈。\r\n\r\n@alissonryan  Claude has been added as a translation engine; however, I am unable to test it currently. Please download and install the Rolling Release version from https:",
          "created_at": "2024-03-17T14:31:25Z"
        },
        {
          "author": "Arthur-WWW",
          "body": "I select model \"claude-3-haiku-20240307\" and test engine, got below log:\r\nTraceback (most recent call last):\r\n\r\nFile \"calibre_plugins.ebook_translator.components.engine\", line 70, in translate_text\r\n\r\nFile \"calibre_plugins.ebook_translator.engines.anthropic\", line 117, in _parse_stream\r\n\r\nAttributeE",
          "created_at": "2024-03-18T01:31:14Z"
        },
        {
          "author": "bookfere",
          "body": "@Arthur-WWW I have fixed the bug. Please try the latest version.",
          "created_at": "2024-03-18T08:01:53Z"
        },
        {
          "author": "Arthur-WWW",
          "body": "最新版可以翻译了，但速度却很慢，还经常断线，同样的环境用Gemini就没有这个问题，不确定是Claude服务器的问题，还是实现的问题。\r\nupdate：\r\n将线程数从10降到5后断线的情况没有了，速度也正常了。\r\n新版本合并翻译后生成的epub文件里有大段的英文，之前的2.2没有这个问题，我退回2.2用同一个epub再对比一下",
          "created_at": "2024-03-18T09:05:31Z"
        }
      ]
    },
    {
      "issue_number": 255,
      "title": "2.3.3版和2.3.2版的缓存文件无法通用，查看缓存文件里的分段数，新版的比旧版的多了2段，请问怎么新版在分段时做了什么改动？",
      "body": "还有缓存文件的名称也改变了，请问这个名称是使用什么函数算出来的？",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-27T15:23:41Z",
      "updated_at": "2024-03-28T00:35:50Z",
      "closed_at": "2024-03-28T00:35:23Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/255/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/255",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/255",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.003819",
      "comments": []
    },
    {
      "issue_number": 244,
      "title": "[Bug report] 上标以及前面的内容丢失",
      "body": "翻译一个epub文件的时候，发现$Na^+$中的$+$丢失\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/8514b4ae-b454-48f0-b3b0-0a6a11717b51)\r\n\r\n文件在这里下载：https://zh.z-library.se/book/25448823/ab4018/berne-levy-physiology-by-teamira.html",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-20T07:30:21Z",
      "updated_at": "2024-03-27T13:53:10Z",
      "closed_at": "2024-03-25T23:29:50Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/244/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/244",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/244",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.003847",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "Na+丢失，且之前的内容也丢失了，“FIG. 34.1”没有出现在译文中\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/00e59e90-ff37-49cd-8ffd-57967549e8e4)\r\n\r\n正常情况下应该有这个内容\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/21667006-3263-4a03-a24b-416835171e5",
          "created_at": "2024-03-23T00:42:33Z"
        },
        {
          "author": "bookfere",
          "body": "试试最新版本看是否解决了此问题。注意，新版本会导致之前的缓存失效。",
          "created_at": "2024-03-24T14:15:00Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 试试最新版本看是否解决了此问题。注意，新版本会导致之前的缓存失效。\r\n\r\n谢谢。\r\n测试后发现报错\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/f83ccc5a-0110-49f5-89e9-64aa61791087)\r\n",
          "created_at": "2024-03-25T00:01:01Z"
        },
        {
          "author": "Andy-AO",
          "body": "![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/c066133a-1c50-4a51-bd30-5542f86cb830)\r\n报错之后就在这个页面卡住了，一个小时之后发现进度条没有任何变化",
          "created_at": "2024-03-25T01:51:12Z"
        },
        {
          "author": "bookfere",
          "body": "新版本已修复了这个问题，再试试看。",
          "created_at": "2024-03-25T13:09:44Z"
        }
      ]
    },
    {
      "issue_number": 252,
      "title": "使用自定义的ChatGPT引擎时，是否可以设置文本流？",
      "body": "插件只有官方ChatGPT可以启用文本流",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-23T16:13:57Z",
      "updated_at": "2024-03-25T13:18:09Z",
      "closed_at": "2024-03-24T15:26:16Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/252/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/252",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/252",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.213201",
      "comments": [
        {
          "author": "bookfere",
          "body": "如果你用的是兼容 ChatGPT 的 API，可以选择 ChatGPT (OpenAI) 并自定义端点。",
          "created_at": "2024-03-24T14:22:31Z"
        },
        {
          "author": "GoTop",
          "body": "> 如果你用的是兼容 ChatGPT 的 API，可以选择 ChatGPT (OpenAI) 并自定义端点。\r\n\r\n哦，原来在ChatGPT (OpenAI) 可以自定义端点",
          "created_at": "2024-03-24T15:26:13Z"
        }
      ]
    },
    {
      "issue_number": 236,
      "title": "翻译docx文件是格式问题",
      "body": "**Basic information**\r\n\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **2.3.2**\r\n* Plugin Installation: **From Calibre/Rolling Release**\r\n\r\n**Describe the bug**\r\n中文翻译为英文\r\n1、一段文字会拆分为很多段，还会拆分为单个字\r\n2、有自动编号的段落会导出后会把该段落变为表格，原文和译文左右排列\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/88870346/2733cc3e-f2be-4f3f-b889-2d813264f5fe)\r\n",
      "state": "closed",
      "author": "yonmnm",
      "author_type": "User",
      "created_at": "2024-03-16T09:18:05Z",
      "updated_at": "2024-03-24T14:16:13Z",
      "closed_at": "2024-03-24T14:16:13Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/236/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/236",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/236",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.399114",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。这可能是 Calibre 的问题。由于插件依赖从 Calibre 的转换过程中提取内容，如果 Calibre 无法正确处理 Word 文档，插件也就无法正确处理。你可以尝试先用 Calibre 转换一遍格式，看结果是否正常。",
          "created_at": "2024-03-17T05:42:29Z"
        }
      ]
    },
    {
      "issue_number": 243,
      "title": "[功能请求] 单换行符的启发式处理",
      "body": "合并翻译的译文中不应该出现单个换行，但有的时候的确存在，那么将单换行符替换成双换行符，译文中的格式错误就可以解决。\r\n建议在设置中添加“启发式处理”，其中有个选项是“处理单换行符”，开启之后可以解决自动很多合并翻译的格式问题。\r\n\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-20T01:32:39Z",
      "updated_at": "2024-03-24T14:15:37Z",
      "closed_at": "2024-03-24T14:15:37Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/243/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/243",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/243",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.575274",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "可以使用正则表达式`(?<!\\n)\\n(?!\\n)`匹配单独出现的换行符",
          "created_at": "2024-03-20T02:23:21Z"
        },
        {
          "author": "bookfere",
          "body": "根据 #148 的请求，未来可能需要用单个换行符取代 `<br />` 元素，以实现换行间的原译文对照，因此不太合适用它区隔段落。",
          "created_at": "2024-03-20T03:38:42Z"
        }
      ]
    },
    {
      "issue_number": 250,
      "title": "[Feature request] Turkish translation",
      "body": "[tr.pot.txt](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14731913/tr.pot.txt)\r\n",
      "state": "closed",
      "author": "DogancanYr",
      "author_type": "User",
      "created_at": "2024-03-23T14:33:21Z",
      "updated_at": "2024-03-24T02:16:09Z",
      "closed_at": "2024-03-24T02:16:09Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/250/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/250",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/250",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.796082",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your effort. The UI language has been added: c744f9776bcffd1251f15dc4a8a9b8a57eca01e8.",
          "created_at": "2024-03-24T02:16:09Z"
        }
      ]
    },
    {
      "issue_number": 222,
      "title": "使用从其他AI服务转化openai接口的服务作为翻译引擎时，点击“停止翻译”后，会导致Calibre假死",
      "body": "MacOS Sonoma 14.1.2 (23B92)\r\nCalibre版本 7.6.0\r\nEbook-Translator-Calibre-Plugin版本：Rolling Releas：ebook-translator_20240304213912\r\n\r\n请问这可能是这个“从其他AI服务转化openai接口的服务”缺少什么返回什么信息导致的么？",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-08T05:37:47Z",
      "updated_at": "2024-03-23T15:51:03Z",
      "closed_at": "2024-03-10T08:05:28Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/222/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/222",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/222",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:21.993436",
      "comments": [
        {
          "author": "bookfere",
          "body": "“并发限制”和“超过错误次数停止翻译”的设置分别是多少？",
          "created_at": "2024-03-09T04:04:33Z"
        },
        {
          "author": "GoTop",
          "body": "> “并发限制”和“超过错误次数停止翻译”的设置分别是多少？\r\n\r\n![WX20240309-124813@2x](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/022a94b2-e3a0-4181-b749-deacd3757617)\r\n",
          "created_at": "2024-03-09T04:49:08Z"
        },
        {
          "author": "bookfere",
          "body": "你需要把“重试次数”设置成 1 再测试看看。因为以现在时间间隔递增方式（5、10、30、120、600、3600 ...），在 30 次重试期间，在你按下停止按钮时，可能已经有一个非常长的等待时间出现了，这就导致程序看起来无法停止。",
          "created_at": "2024-03-09T05:28:19Z"
        },
        {
          "author": "GoTop",
          "body": "请问你说的“时间间隔递增方式（5、10、30、120、600、3600 ...）”指的是什么时间呢？",
          "created_at": "2024-03-10T10:03:38Z"
        },
        {
          "author": "bookfere",
          "body": "失败后重试的时间间隔。",
          "created_at": "2024-03-10T10:25:58Z"
        }
      ]
    },
    {
      "issue_number": 220,
      "title": "翻译某些epub书籍时，设置合并翻译1000字，点击翻译时无法合并，会导致calibre假死",
      "body": "MacOS Sonoma 14.1.2 (23B92)\r\nCalibre版本 7.6.0\r\nEbook-Translator-Calibre-Plugin版本：Rolling Releas：ebook-translator_20240304213912\r\n\r\n开始我以为是epub文件太大的问题，但是我试了一下其他的30m的epub文件，是能够正常合并段落，进入翻译页面的\r\n\r\n但是这三个epub文件，每次点击翻译都会导致calibre假死\r\n\r\n每次都是卡在这个页面，然后Calibre重启：\r\n![WX20240308-131659@2x](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/ce520a4c-3fc7-4c7e-b027-fa6cbbb12aeb)\r\n\r\n文件我传到百度云了\r\n链接: https://pan.baidu.com/s/1JdAvaJbXUASpFjNwtTnQLQ?pwd=u7ge 提取码: u7ge ",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-08T05:05:38Z",
      "updated_at": "2024-03-23T10:43:45Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/220/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/220",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/220",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:22.268021",
      "comments": [
        {
          "author": "bookfere",
          "body": "测试了一下，发现是插件调用 Calibre 中的函数没办法正常工作，在插件还未收到数据前就崩溃了。在问题解决之前，你可以先用 Calibre 将其再转换一次 EPUB 格式，然后用插件翻译转换后的 EPUB，应该就没问题了。",
          "created_at": "2024-03-09T05:11:44Z"
        },
        {
          "author": "GoTop",
          "body": "> 测试了一下，发现是插件调用 Calibre 中的函数没办法正常工作，在插件还未收到数据前就崩溃了。在问题解决之前，你可以先用 Calibre 将其再转换一次 EPUB 格式，然后用插件翻译转换后的 EPUB，应该就没问题了。\r\n\r\n转化一次epub格式确实能够解决这个问题。感谢！\r\n\r\n这三个epub文件不符合calibre的规范导致的calibre无法处理？",
          "created_at": "2024-03-10T09:16:19Z"
        },
        {
          "author": "bookfere",
          "body": "我检查了截图中的那个电子书文件，发现里面很多冗余的内容，可能这些内容导致读取出错的。按理说 Calibre 能成功转换，插件就能正常读取，但事实却不是这样，需要研究下才知道问题出在哪儿。",
          "created_at": "2024-03-10T09:24:57Z"
        },
        {
          "author": "GoTop",
          "body": "> 我检查了截图中的那个电子书文档，发现里面很多冗余的内容，可能这些内容导致读取出错的。按理说 Calibre 能成功转换，插件就能正常读取，但事实却不是这样，需要研究下才知道问题出在哪儿。\r\n\r\n这几本epub确实很奇怪，用calibre将其从epub转成epub后，在calibe里打开epub阅读，缩放窗口时，书籍的文字不会重排，而是保持固定的位置\r\n\r\n把这个epub推送到kindle阅读，书籍里的文字只在屏幕中间，两边留出大量的空白",
          "created_at": "2024-03-14T17:39:24Z"
        },
        {
          "author": "bookfere",
          "body": "这是电子书自身的问题导致的。你需要在 Calibre 转换设置中移除 CSS 中的 padding、margin 和 width 属性。",
          "created_at": "2024-03-15T06:42:08Z"
        }
      ]
    },
    {
      "issue_number": 242,
      "title": "[错误报告] 设置输出路径后，文件输出失败",
      "body": "**基础信息**\r\n翻译正常，输出报错。我尝试了两台电脑和各种输出格式，包括epub、mobi、docx、txt，都报错。\r\n后来发现设置了输出路径就报错，设置为书库就没问题。\r\n\r\n* 操作系统: **Windows 11 x64**\r\n* Calibre 版本: **7.7.0**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n**描述错误**\r\n```\r\ncalibre, version 7.7.0\r\n错误： 未处理的异常: <b>OSError</b>:[WinError 87] 参数错误。: 'D:/Downloads\\\\A Novel [Chinese (Simplified)].epub' -&gt; 'D:/Downloads\\\\A Novel.epub'\r\n\r\ncalibre 7.7  embedded-python: True\r\nWindows-10-10.0.22635-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.22635')\r\nPython 3.11.5\r\nWindows: ('10', '10.0.22635', 'SP0', 'Multiprocessor Free')\r\nInterface language: zh_CN\r\nEXE path: C:\\Program Files\\Calibre2\\calibre.exe\r\nSuccessfully initialized third party plugins: Ebook Translator (2, 3, 2)\r\nTraceback (most recent call last):\r\n  File \"calibre\\gui2\\__init__.py\", line 756, in dispatch\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 283, in translate_done\r\nOSError: [WinError 87] 参数错误。: 'D:/Downloads\\\\A Novel [Chinese (Simplified)].epub' -> 'D:/Downloads\\\\A Novel.epub'\r\n```",
      "state": "closed",
      "author": "Baiyssy",
      "author_type": "User",
      "created_at": "2024-03-18T02:54:30Z",
      "updated_at": "2024-03-22T03:45:23Z",
      "closed_at": "2024-03-22T03:45:23Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/242/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/242",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/242",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:22.468332",
      "comments": [
        {
          "author": "bookfere",
          "body": "手头没有 Windows 11，用 Windows 7 测试没能重现错误。你设置的路径是通过按钮选择的还是手动输入的？因为从错误信息看到路径出现了分隔符不一致的情况。",
          "created_at": "2024-03-18T05:32:05Z"
        },
        {
          "author": "Baiyssy",
          "body": "按钮选择的。\r\n之前用2.2版本输出正常，2.3只输出了一个0字节的文件。\r\n刚试了一下，手动输入D:\\Downloads\\或者D:\\Downloads也是一样的错误。",
          "created_at": "2024-03-18T06:08:24Z"
        },
        {
          "author": "bookfere",
          "body": "仍没有重现问题，不过暂时换了一个方法，请下载最新 Rolling Release 版本试试，看问题是否还存在。",
          "created_at": "2024-03-18T11:16:35Z"
        },
        {
          "author": "Baiyssy",
          "body": "似乎还是不行，提示文件生成了，但只能看到一个0字节的文件。\r\n我还换了D:\\文件夹也是一样。",
          "created_at": "2024-03-18T11:31:59Z"
        },
        {
          "author": "bookfere",
          "body": "所有的书都无法正常输出吗？看起来得重现错误才能修复了。",
          "created_at": "2024-03-18T12:54:59Z"
        }
      ]
    },
    {
      "issue_number": 247,
      "title": "[错误报告] 无法加载缓存",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows**\r\n* Calibre 版本: **7.5.1.0**\r\n* 插件版本：**v2.3.2**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n\r\n有个文件刚翻译完，退出之后重新点开，发现已有的缓存没有被加载，而是创建一个新缓存\r\n\r\n# 缓存没有加载\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/303ffce8-ea8a-4188-a4e6-5e498f9f3cc8)\r\n# 缓存的确存在\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/69596a76-29ef-4c74-8e82-5ff476c68b15)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-21T00:21:16Z",
      "updated_at": "2024-03-22T01:08:32Z",
      "closed_at": "2024-03-21T22:00:49Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/247/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/247",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/247",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:22.676474",
      "comments": [
        {
          "author": "bookfere",
          "body": "能否把这两个缓存发上来看看？检查一下有什么不同。",
          "created_at": "2024-03-21T03:10:24Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 能否把这两个缓存发上来看看？检查一下有什么不同。\r\n\r\n缓存已发\r\n\r\n[cache.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14687159/cache.zip)\r\n\r\n",
          "created_at": "2024-03-21T06:54:20Z"
        },
        {
          "author": "bookfere",
          "body": "缓存没看出有什么问题。这个问题能重现吗？打开一次，翻译一条，关闭重新打开。",
          "created_at": "2024-03-21T11:51:46Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 缓存没看出有什么问题。这个问题能重现吗？打开一次，翻译一条，关闭重新打开。\r\n\r\n我这里现在已经不能重现，可能是我哪里搞错了，不好意思。",
          "created_at": "2024-03-21T22:00:49Z"
        }
      ]
    },
    {
      "issue_number": 245,
      "title": "[Bug report] Translate Pgn",
      "body": "**Basic information**\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **7.7**\r\n* Plugin Version: **2.3.2**\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nWhen you go to translate some files a message appears: \"There is no content that needs to be translated\"\r\n\r\n**Expected behavior**\r\nGo to translate.\r\n![Captura de pantalla 2024-03-20 120450](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/144797827/c9e96896-35fd-4f5e-a9ef-5c33763e5f7a)\r\n\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\nPlease, email me to send a file sample. \r\n",
      "state": "closed",
      "author": "berniegunther",
      "author_type": "User",
      "created_at": "2024-03-20T11:09:07Z",
      "updated_at": "2024-03-22T01:07:39Z",
      "closed_at": "2024-03-22T01:07:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/245/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/245",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/245",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:22.906907",
      "comments": [
        {
          "author": "bookfere",
          "body": "You can find the email address in my profile. Alternatively, you can also upload files directly using the [**Paste, drop, or click to add files**] button below the comment form.",
          "created_at": "2024-03-20T12:00:00Z"
        },
        {
          "author": "berniegunther",
          "body": "[sample.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14666515/sample.zip)\r\n",
          "created_at": "2024-03-20T12:35:55Z"
        },
        {
          "author": "bookfere",
          "body": "The reason is that the encoding of the file is not `UTF-8`. I added a feature that allows users to select the encoding for certain plain text files. For example, for the sample file, you can choose `ISO-8859-1`. Please try the latest Rolling Release version and see if the issue will be resolved.",
          "created_at": "2024-03-21T13:09:08Z"
        },
        {
          "author": "berniegunther",
          "body": "Hello, thanks for the speed.\r\n\r\nIn principle I have tried just as you mentioned and it works perfectly, I attached a screenshot.\r\n\r\nA cordial greeting.\r\n![Captura de pantalla 2024-03-21 181929](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/144797827/82804109-ba6c-49bc-b5a6-bc14a",
          "created_at": "2024-03-21T17:22:03Z"
        }
      ]
    },
    {
      "issue_number": 246,
      "title": "[错误报告] 无法删除缓存",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows**\r\n* Calibre 版本: **7.5.1.0**\r\n* 插件版本：**v2.3.2**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/5ab65283-6068-463b-b786-42c425d76f52)\r\n在没有运行任何任务的前提下，仍然无法删除缓存。\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-21T00:15:02Z",
      "updated_at": "2024-03-21T21:57:26Z",
      "closed_at": "2024-03-21T21:57:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/246/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/246",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/246",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:23.106452",
      "comments": [
        {
          "author": "bookfere",
          "body": "试试最新版本看看问题是否还存在。",
          "created_at": "2024-03-21T13:03:51Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 试试最新版本看看问题是否还存在。\r\n\r\n问题已经不存在",
          "created_at": "2024-03-21T21:57:26Z"
        }
      ]
    },
    {
      "issue_number": 248,
      "title": "[错误报告] 输出文件出现OSError",
      "body": "**基础信息**\r\n\r\n* 操作系统: **Windows**\r\n* Calibre 版本: **7.5.1.0**\r\n* 插件版本：**v2.3.2**\r\n* 插件来源: **安装自 Calibre**\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/3f10ea80-7abe-47da-b167-222a653df6ca)\r\n\r\n图书地址：https://zh.z-library.se/book/27662268/0336fb/female-arousal-and-orgasm-anatomy-physiology-behaviour-and-evolution.html\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-21T01:23:21Z",
      "updated_at": "2024-03-21T21:57:13Z",
      "closed_at": "2024-03-21T21:57:13Z",
      "labels": [
        "bug",
        "duplicate"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/248/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/248",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/248",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:23.297214",
      "comments": [
        {
          "author": "bookfere",
          "body": "只是这本书出现这个错，还是其他电子书也会出现？",
          "created_at": "2024-03-21T03:06:54Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 只是这本书出现这个错，还是其他电子书也会出现？\r\n\r\n目前只发现了这个电子书有问题",
          "created_at": "2024-03-21T06:55:44Z"
        },
        {
          "author": "bookfere",
          "body": "试试最新版本看看问题是否还存在。",
          "created_at": "2024-03-21T13:03:34Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 试试最新版本看看问题是否还存在。\r\n\r\n问题已经不存在",
          "created_at": "2024-03-21T21:57:13Z"
        }
      ]
    },
    {
      "issue_number": 241,
      "title": "[功能请求] 逐行翻译不一致块，完美解决合并翻译问题",
      "body": "合并翻译可以提高请求的速度，提高翻译质量。不过合并翻译时可能会丢失换行符，从而导致无法准确合并，手动校对花费时间精力非常多，一个文件的翻译在正常情况下能自动完成，如果出现了合并问题，即使错误比较少，只有几个甚至十几个，花费十几分钟都不一定能解决。\r\n\r\n在遇到行号不同的情况下，切换为逐行翻译，问题就可以**完美解决**，建议在UI上增加一个按钮「逐行翻译不一致块」，在选项中增加「自动逐行翻译不一致块」的选项。",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-17T22:48:39Z",
      "updated_at": "2024-03-20T07:45:25Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/241/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/241",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/241",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:23.470655",
      "comments": [
        {
          "author": "Arthur-WWW",
          "body": "对于不需要双语对照只想把译文生成新文档的用户，是否可以不用考虑对齐的问题，或者说不要插入原文来作为占位符，直接插个空字符串就够了，现在合并翻译后用译文生成文档里夹杂了大段原文，体验不如老版本",
          "created_at": "2024-03-20T07:45:24Z"
        }
      ]
    },
    {
      "issue_number": 231,
      "title": "Enhancement for extension to allow excluding specific HTML tags and CSS classes in .epub files",
      "body": "Currently, the extension does not offer the ability to exclude certain HTML tags or CSS classes during the translation process. I propose to improve the translation interface to allow users to specify which HTML tags or CSS classes should not be considered for text scanning and therefore should not be translated.\r\n\r\nThis functionality would be particularly useful for books that contain code examples in programming languages, since these examples are often encapsulated within tags such as `<pre>` or `<code>`, which must remain untranslated to preserve the integrity of the code.\r\n\r\nAdditionally, I suggest the option to exclude specific elements based on CSS classes or selectors, allowing users to further customize which parts of the content they want to exclude from translation.\r\n\r\nThis improvement would significantly expand the versatility of the extension and improve the user experience for those working with eBooks that contain source code or other technical content.\r\n\r\nI hope you will consider this proposal and integrate it into future versions of the extension. Thank you for your time!\r\n",
      "state": "closed",
      "author": "llkiriell",
      "author_type": "User",
      "created_at": "2024-03-14T06:44:44Z",
      "updated_at": "2024-03-18T10:47:12Z",
      "closed_at": "2024-03-18T10:47:12Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/231/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/231",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/231",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:23.641055",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback.\r\n\r\nHowever, it seems that these issues have been resolved for a while. If your installed plugin is from *Calibre* and its version is *2.2.0*, it may be outdated as this plugin has not been updated for a long time (a new version will be released soon). I recommend manuall",
          "created_at": "2024-03-14T10:54:48Z"
        }
      ]
    },
    {
      "issue_number": 240,
      "title": "Book translated but saved untranslated",
      "body": "**Basic information**\r\nWhen I translate book I can see (in advance mode) that book is translated to target language but when is saved it is saved in source language.\r\n\r\n* Operating System: **Windows*\r\n* Calibre Version: Calibre portable 7.7\r\n* Plugin Installation: **From Calibre**\r\n\r\n**Describe the bug**\r\nWhen I translate book I can see (in advance mode) that book is translated to target language but when is saved it is saved in source language.\r\n\r\n**Expected behavior**\r\nTranslated book saved in target language\r\n\r\n\r\n",
      "state": "closed",
      "author": "cudinan",
      "author_type": "User",
      "created_at": "2024-03-17T16:09:28Z",
      "updated_at": "2024-03-18T03:50:01Z",
      "closed_at": "2024-03-18T03:24:03Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/240/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/240",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/240",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:23.837784",
      "comments": [
        {
          "author": "cudinan",
          "body": "Ok, my mistake. it is working. I didn't saw that original text is included. You can close this ticket. Sorry.",
          "created_at": "2024-03-17T16:26:11Z"
        },
        {
          "author": "bookfere",
          "body": "Never mind. You can choose to exclude the original text in Setting -> Content -> Translation Position.",
          "created_at": "2024-03-18T03:24:03Z"
        }
      ]
    },
    {
      "issue_number": 207,
      "title": "Proposal for an interesting new functionality",
      "body": "Hello, good afternoon. I regularly use your plugin and the result is magnificent.\r\n\r\nHowever, I tell you that I give chess classes to young children in Spanish and most of the books are in other languages, the translation is satisfactory, if you want I could send you an example.\r\n\r\nI thought that a format very similar to the epub is the pgn (standardized exchange file for chess, editable with a txt) that has comments added and would make access much easier, especially for children who are not bilingual.\r\n\r\nI don't know where or how to send you an example and what I have been researching, since only this file has associated paragraphs that could simply be translated through your program, only with slight modifications.\r\n\r\nThanks for your job.\r\n\r\n",
      "state": "closed",
      "author": "berniegunther",
      "author_type": "User",
      "created_at": "2024-02-08T17:29:04Z",
      "updated_at": "2024-03-16T11:58:22Z",
      "closed_at": "2024-03-12T14:43:31Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/207/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/207",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/207",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.065660",
      "comments": [
        {
          "author": "bookfere",
          "body": "We have received the materials you delivered, and we will keep track of the issue.",
          "created_at": "2024-02-24T05:27:04Z"
        },
        {
          "author": "berniegunther",
          "body": "Hello, thank you very much for considering my suggestion, I have tried it right now, I have come back from a trip and it works VERY GOOD.\r\n\r\nIf I could report a small, unimportant bug in case you want to take it into account.\r\n\r\nI have uploaded a large, long file, with many random lines.\r\n\r\nI have t",
          "created_at": "2024-03-16T11:58:21Z"
        }
      ]
    },
    {
      "issue_number": 234,
      "title": "UnBoundLocalError",
      "body": "**Basic information**\r\nSome required information from your use case.\r\n\r\n* Operating System: **Windows**\r\n* Calibre Version: **latest**\r\n* Plugin Installation: **From Calibre Latest Stable**\r\n\r\n**Describe the bug**\r\ncalibre, version 7.7.0\r\nERROR: Unhandled exception: <b>UnboundLocalError</b>:cannot access local variable 'metadata' where it is not associated with a value\r\n\r\ncalibre 7.7  embedded-python: True\r\nWindows-10-10.0.22631-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.22631')\r\nPython 3.11.5\r\nWindows: ('10', '10.0.22631', 'SP0', 'Multiprocessor Free')\r\nInterface language: None\r\nEXE path: C:\\Program Files\\Calibre2\\calibre.exe\r\nSuccessfully initialized third party plugins: Gather KFX-ZIP (from KFX Input) (2, 9, 0) && DeDRM (7, 2, 1) && Package KFX (from KFX Input) (2, 9, 0) && Annotations (1, 17, 13) && Ebook Translator (2, 3, 1) && Find Duplicates (1, 10, 8) && KFX metadata reader (from KFX Input) (2, 9, 0) && From KFX (2, 9, 0) && KFX Input (2, 9, 0) && Set KFX metadata (from KFX Output) (2, 7, 0) && KFX Output (2, 7, 0) && Kindle Collections (1, 7, 29) && Kindle hi-res covers (0, 5, 1) && Obok DeDRM (7, 2, 1)\r\nTraceback (most recent call last):\r\n  File \"calibre\\gui2\\__init__.py\", line 756, in dispatch\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 269, in translate_done\r\nUnboundLocalError: cannot access local variable 'metadata' where it is not associated with a value\r\n\r\n\r\n**Expected behavior**\r\nTrying to save the translated doc and I get this error.\r\n\r\n**Screenshots**\r\nSee above\r\n",
      "state": "closed",
      "author": "thoughtfission",
      "author_type": "User",
      "created_at": "2024-03-15T09:10:52Z",
      "updated_at": "2024-03-16T06:25:40Z",
      "closed_at": "2024-03-15T14:28:37Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/234/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/234",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/234",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.258380",
      "comments": [
        {
          "author": "Givemeaccesss",
          "body": "calibre, version 7.7.0\r\nERRORE: Eccezione non gestita: <b>UnboundLocalError</b>:cannot access local variable 'metadata' where it is not associated with a value\r\n\r\ncalibre 7.7  embedded-python: True\r\nWindows-10-10.0.22635-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.22635')\r\nPython 3.1",
          "created_at": "2024-03-15T12:07:13Z"
        },
        {
          "author": "bookfere",
          "body": "Thank you for your feedback. We have fixed the issue in version 2.3.2. Please upgrade from Calibre and check if the issue has disappeared. If not, feel free to provide further feedback.",
          "created_at": "2024-03-16T06:15:27Z"
        },
        {
          "author": "Givemeaccesss",
          "body": "Now it's perfectly fixed , thank you\r\n\r\nCarmine Morcone\r\n\r\nIl sab 16 mar 2024, 07:15 书伴 ***@***.***> ha scritto:\r\n\r\n> Thank you for your feedback. We have fixed the issue in version 2.3.2.\r\n> Please upgrade from Calibre and check if the issue has disappeared. If not,\r\n> feel free to provide further ",
          "created_at": "2024-03-16T06:25:39Z"
        }
      ]
    },
    {
      "issue_number": 233,
      "title": "[Bug report] UnboundLocalError: cannot access local variable 'metadata' where it is not associated with a value",
      "body": "Can't save the output after successful translation:\r\n\r\n**Basic information**calibre, version 7.7.0\r\n\r\ncalibre 7.7  embedded-python: True\r\nWindows-10-10.0.19045-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.19045')\r\nPython 3.11.5\r\nWindows: ('10', '10.0.19045', 'SP0', 'Multiprocessor Free')\r\nInterface language: de\r\nEXE path: C:\\Program Files\\Calibre2\\calibre.exe\r\nSuccessfully initialized third party plugins: DeDRM (7, 2, 1) && Ebook Translator (2, 3, 1)\r\nTraceback (most recent call last):\r\n  File \"calibre\\gui2\\__init__.py\", line 756, in dispatch\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 269, in translate_done\r\nUnboundLocalError: cannot access local variable 'metadata' where it is not associated with a value\r\n",
      "state": "closed",
      "author": "thorsby-1",
      "author_type": "User",
      "created_at": "2024-03-15T07:35:08Z",
      "updated_at": "2024-03-15T09:19:00Z",
      "closed_at": "2024-03-15T07:40:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/233/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/233",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/233",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.441885",
      "comments": []
    },
    {
      "issue_number": 201,
      "title": "Language mark in calibre",
      "body": "If I translate and add a book to Calibre (from english to german translated)\r\nin the Calibre is language \"english\" :(\r\nOutput to file: new filename - old + [German], but after import to Calibre language mark \"english\"\r\n\r\nPS:\r\nwhy can the program not translate the Title?\r\n\r\nthnx, its a good idea - \r\nMy previous way of working was: Caliber export to docx, google translate (file), after this a VBA macro, which translated the series titles and the book title, and corrected a few kliinks in the formatting, and saved it under a new file name with appropriate tags, which I could then be read into the calibre",
      "state": "closed",
      "author": "HanG099",
      "author_type": "User",
      "created_at": "2024-01-09T18:36:58Z",
      "updated_at": "2024-03-14T00:53:18Z",
      "closed_at": "2024-03-12T14:51:34Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/201/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/201",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/201",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.441912",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your feedback. This issue has been resolved in commits c89e7352a1f3d15e2ea0d948ad98672352fed44d and 7cc819195a56c0d87620d57632ab944cbc25a183.\r\n\r\nFor changing the lang code in metadata, you need to set \"**Set 'Target Language' to Metadata**\" in the settings as checked.",
          "created_at": "2024-03-12T14:51:34Z"
        },
        {
          "author": "HanG099",
          "body": "Thanks for reply.\r\nToday I try to translate - Calibre 7.6, Translate Book v2.2.0\r\n1) english to german, epub to epub, file save to the same library - in\r\nCalibre to see  by the new file language english, title is the same\r\n(without [German]), the text is german\r\n2) english to german, epub to epub, f",
          "created_at": "2024-03-12T18:19:32Z"
        },
        {
          "author": "bookfere",
          "body": "So, you want to translate both the title of the metadata and the filename and append \"[German]\"?",
          "created_at": "2024-03-13T01:13:43Z"
        },
        {
          "author": "HanG099",
          "body": "hallo,\r\n\r\nfor the question: yes\r\nI usually don't delete the translated (English) book because later (in a\r\nyear or two) a better automatic translation with AI might be available.\r\nIf I don't translate the title, then problems arise with duplicate books\r\n(Calibre cannot distinguish the English from t",
          "created_at": "2024-03-13T06:02:09Z"
        },
        {
          "author": "bookfere",
          "body": "Please check out the commit cd10ef3 and test the latest version.",
          "created_at": "2024-03-13T15:57:24Z"
        }
      ]
    },
    {
      "issue_number": 229,
      "title": "翻译后输出的文件名不生效",
      "body": "翻译后，输入新的文件名，文件名结尾增加`-中英文版`，但保存后仍然是原来的名字。",
      "state": "closed",
      "author": "gnyuan",
      "author_type": "User",
      "created_at": "2024-03-11T09:21:48Z",
      "updated_at": "2024-03-13T10:57:20Z",
      "closed_at": "2024-03-12T05:30:41Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/229/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/229",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/229",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.651098",
      "comments": [
        {
          "author": "bookfere",
          "body": "插件是否安装的最新版本？如果插件是从 Calibre 的插件管理器下载的，请先前往 https://translator.bookfere.com 下载 Rolling Release 版本再试试看。",
          "created_at": "2024-03-11T09:29:14Z"
        },
        {
          "author": "gnyuan",
          "body": "> 插件是否安装的最新版本？如果插件是从 Calibre 的插件管理器下载的，请先前往 https://translator.bookfere.com 下载 Rolling Release 版本再试试看。\r\n\r\n是的，通过插件管理器下载，已下载` Rolling Release 版`仍然在最后修改文件名不生效。不知道我这哪个步骤操作有问题？\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/6140657/ab12cba7-f80f-4e9d-a6a3-165fd7c05db9)\r\n\r\n",
          "created_at": "2024-03-11T10:04:15Z"
        },
        {
          "author": "bookfere",
          "body": "在“高级模式”界面上修改的书名不会写到元数据中，只对在插件设置中指定输出路径后所存放的文件名有效。",
          "created_at": "2024-03-11T10:13:01Z"
        },
        {
          "author": "gnyuan",
          "body": "> 在“高级模式”界面上修改的书名不会写到元数据中，只对在插件设置中指定输出路径后所存放的文件名有效。\r\n\r\n明白了，个人感觉翻译后的书要么带个固定后缀，要么允许用户给新的名字，不然元数据一样在calibre里没法区分。谢谢啦！",
          "created_at": "2024-03-12T02:02:38Z"
        },
        {
          "author": "bookfere",
          "body": "在昨天的提交 c89e7352a1f3d15e2ea0d948ad98672352fed44d 中，新添加了翻译元数据的功能，元数据中的书名会根据你设置的译文位置变成双语形式。",
          "created_at": "2024-03-12T05:23:37Z"
        }
      ]
    },
    {
      "issue_number": 14,
      "title": "使用chatgpt翻译txt文档结果只翻译很少部分文字",
      "body": "下午测试了一个txt文本，大概5000字符，一整大段。\r\n可能是高峰时段缘故，进度一直很慢，可以从日志看出下面提示：\r\n无法从翻译引擎API获取数据。\r\n5 秒后重试。\r\n正在重试 ...（300秒后超时）\r\n无法从翻译引擎API获取数据。\r\n10 秒后重试。\r\n正在重试 ...（300秒后超时）\r\n无法从翻译引擎API获取数据。\r\n30 秒后重试。\r\n正在重试 ...（300秒后超时）\r\n\r\n最后终于输出，但是最后仅仅翻译了一小段，然后就提示翻译完成：译文：我不觉得我准备好去那里了，因为现在大型语言模型与物理世界没有联系。它们只是通过预测一个词将跟随另一个词的方式工作，但它们没有运动控制，它们不会行动在世界上，它们不会感知世界。也许一旦我们掌握了这个，人工智能研究就应该停止一段时间，这是一种谨慎的态度。在我看来，弗洛伊德是一位有历史地位的心理学家，也是心理学家的培训必备内容之一，因为他显然是对心理学产生了巨大影响的人之一。然而，他的某些具体观点，比如肛门阶段、口腔阶段、原始场景、阴茎妒忌情结等等，都无法经受住检验的考验。",
      "state": "closed",
      "author": "wuzimi",
      "author_type": "User",
      "created_at": "2023-04-13T12:18:45Z",
      "updated_at": "2024-03-12T05:26:17Z",
      "closed_at": "2024-03-12T05:26:17Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/14/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/14",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/14",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:24.849741",
      "comments": [
        {
          "author": "lion-no-back",
          "body": "调用ChatGPT服务来翻译PDF文档，速度慢的吓人，这个可以优化下嘛，就单个句子翻译速度可以向openai-translator发展嘛，不过该说不说，扩展很好用的，谢谢你的开发分享",
          "created_at": "2023-04-13T13:06:57Z"
        },
        {
          "author": "bookfere",
          "body": "@wuzimi 如果要翻译的内容过长，建议分段翻译。之后插件也会尝试将过长的段落拆分开再交给翻译引擎翻译。\r\n\r\n@lion-no-back 貌似最近 ChatGPT 限速了，之前没这么慢。除了购买他们的服务和提高自己的网速外，ChatGPT 的响应速度应该是没太大优化空间的。有的项目使用了 [SSE](https://en.wikipedia.org/wiki/Server-sent_events) 技术来实现响应文本的实时显示，可以从心理上缓解长时间等待的焦虑感，但是每次请求总耗时差别应该不会太大。",
          "created_at": "2023-04-13T17:00:43Z"
        },
        {
          "author": "LvShuaiChao",
          "body": "我也遇到了这个问题\r\n![Snipaste_2023-05-02_20-06-08](https://user-images.githubusercontent.com/35528109/235661503-aa8fdb12-4092-46aa-9b23-f9c86129f875.png)\r\n",
          "created_at": "2023-05-02T12:06:15Z"
        },
        {
          "author": "bookfere",
          "body": "@LvShuaiChao 从截图看不出无法获取数据的具体原因。你可以把尝试次数设为 0，看看它会出现什么错误提示。",
          "created_at": "2023-05-02T12:11:03Z"
        },
        {
          "author": "ConstasJ",
          "body": "ChatGPT API有3RPM和40000TPM的速率限制。（即每分钟3次请求，40000个token）\r\n希望作者能加入适应OpenAI速率限制的功能。",
          "created_at": "2023-06-17T06:43:12Z"
        }
      ]
    },
    {
      "issue_number": 157,
      "title": "[fueature request] new option, color change",
      "body": "I think adding an option to change the color of the orginal text in addition to changing the color of the translation would be a cool option. On a kindle reader that is black and white the only option to set off is a shade of gray. The natrual choice would be gray orginal text and black clear translation text.",
      "state": "closed",
      "author": "luto01",
      "author_type": "User",
      "created_at": "2023-10-17T16:33:15Z",
      "updated_at": "2024-03-11T14:20:11Z",
      "closed_at": "2024-03-11T14:20:11Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/157/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/157",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/157",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:26.984109",
      "comments": [
        {
          "author": "bookfere",
          "body": "Resolved in 6fe26fb024a42800c5a4383c6ef30fe6d1d3b3a4.",
          "created_at": "2024-03-11T14:20:11Z"
        }
      ]
    },
    {
      "issue_number": 203,
      "title": "[BUG] Only translated half of the pdf",
      "body": "Only half of the pdf is translated in a document when using any translator engine.  Translated and untranslated sentences are mixed together.  Is there any way to resolve this error?",
      "state": "closed",
      "author": "orcbolg3612",
      "author_type": "User",
      "created_at": "2024-01-15T02:30:17Z",
      "updated_at": "2024-03-11T14:17:09Z",
      "closed_at": "2024-03-11T14:17:09Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/203/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/203",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/203",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:27.183750",
      "comments": [
        {
          "author": "bookfere",
          "body": "We need to test the PDF to figure out the reason for \"Only half of the PDF is translated\". If you just want to retain the translation, you need to change the \"Translation position\" to \"Add without original\" in the setting of plugin.",
          "created_at": "2024-02-28T04:20:17Z"
        }
      ]
    },
    {
      "issue_number": 205,
      "title": "Portuguese Translation ",
      "body": "Hello. I would like to note here that the translation carried out by the plugin when the target language is Portuguese, ends up mixing Brazilian Portuguese with European Portuguese.\r\n\r\nI'm trying to translate some ebooks into Brazilian Portuguese, but when checking some excerpts, I realize that they contain words typically from European Portuguese. The words in Brazilian Portuguese \"moça/jovem/garota\" which in English would be \"young girl/girl\" are translated as \"rapariga\" , which is a European Portuguese word. However, this word has a very negative connotation in Brazilian Portuguese, which ends up making the translation very confusing.\r\n\r\nSome sentences end up having a typically European Portuguese construction, for example.\r\n\r\n\"The kid is playing\" in English ends up being translated as \"A criança está a brincar\", which is how it is said in good European Portuguese, while in Brazilian Portuguese we would say \"A criança está brincando\". The construction of the sentence ends up making the text strange, as it mixes the two.\r\n\r\nYou can't help but notice that when the file translation is finished, the file receives [Portuguese - Brazil-Portugal] at the end of its name. Which leaves me with more doubts as to whether the translation engine is independent for the two languages, as they are different, very different.\r\n\r\nI love your tool, and I don't want to seem ungrateful, but this type of situation makes it somewhat irritating to use when reading, as it mixes the two languages as if they were one.\r\n\r\nThe mechanism I used was Google Translator. However, when I access the translation engine website, it translates into Brazilian Portuguese correctly, without mixing the two languages.\r\n\r\nI await a return.",
      "state": "closed",
      "author": "MarceloDuaarte",
      "author_type": "User",
      "created_at": "2024-01-28T21:56:22Z",
      "updated_at": "2024-03-11T14:16:35Z",
      "closed_at": "2024-03-11T14:16:35Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/205/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/205",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/205",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:27.441707",
      "comments": [
        {
          "author": "bookfere",
          "body": "There is only a single language code for Portuguese in the Google Translate [language support list](https://cloud.google.com/translate/docs/languages):\r\n\r\n|Language |ISO-639 code|\r\n|---|---|\r\n|Portuguese (Portugal, Brazil) | pt|\r\n\r\nI used the simple phrase you provided, \"The kid is playing,\" for tes",
          "created_at": "2024-02-26T06:12:08Z"
        }
      ]
    },
    {
      "issue_number": 227,
      "title": "对缓存sqlite文件内的翻译文本进行修改后，导出时提示错误",
      "body": "为用的是rolling release版，但是翻译时使用的插件版本和现在的插件版本不同\r\n\r\n我读取缓存的sqlite数据库，对里面的翻译文本进行了修改（处理一些原文和翻译的分段数量不相同的问题等）。\r\n\r\n因为看到每个原文段落之间是两个换行符，而翻译的文本段落之间只有一个换行符，所以我就将翻译中的一个换行符替换成两个换行符。我还看到每段原文的最后都有两个\\n\\n，就在每段翻译文本的最后加入了两个换行符\\n\\n\r\n\r\n将sqlite文件复制到插件的缓存目录后，读取显示正常，没有黄色标识提示，但是点击“输出”后，提示下面的错误。\r\n\r\n缓存文件： https://transfer.pcloud.com/download.html?code=5Z8PbF0ZaOjuW6aEJvbZB9d3ZkwJDx464cHy8hLBKSVGrGuLK9ogV\r\n\r\n提示出错误log：https://transfer.pcloud.com/download.html?code=5ZvPbF0ZaOjuW6aEJvbZB9d3Zi33j7aa4EKzbG2xzXlkiYfVfdx1V\r\n\r\n这是错误log的大概内容：\r\n```\r\n[English > 中文] 翻译 \"Inside the Black Box_ A Simple Guide to Quantitative and High-Frequency Trading\"\r\nInputFormatPlugin: EPUB Input running\r\non /Users/mac/Calibre Lib/Rishi K. Narang/Inside the Black Box_ A Simple Guide to Quantitative and High-Frequency Trading (250)/Inside the Black Box_ A Simple Guide to Qu - Rishi K. Narang.epub\r\nFound HTML cover titlepage.xhtml\r\nParsing all content...\r\nReferenced file 'OEBPS/WileySD_templateV4.4.css' not found\r\nSpine-referenced file 'OEBPS/9781118416990_epub_cov.htm' not in spine\r\nMerging user specified metadata...\r\nDetecting structure...\r\nFlattening CSS and remapping font sizes...\r\nStylesheet 'OEBPS/WileySD_templateV4.4.css' referenced by file 'OEBPS/9781118416990_epub_cov.htm' not in manifest\r\nSource base font size is 12.00001pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n══════════════════════════════════════\r\n| Diagnosis Information\r\n══════════════════════════════════════\r\n| Calibre Version: 7.6.0\r\n| Plugin Version: v2.2.0\r\n| Translation Engine: coze-discord-proxy\r\n| Source Language: English\r\n| Target Language: 中文\r\n| Cache Enabled: True\r\n| Merging Length: 1000\r\n| Concurrent requests: 4\r\n| Request Interval: 5.0\r\n| Request Attempt: 1\r\n| Request Timeout: 600.0\r\n| Input Path: /Users/mac/Calibre Lib/Rishi K. Narang/Inside the Black Box_ A Simple Guide to Quantitative and High-Frequency Trading (250)/Inside the Black Box_ A Simple Guide to Qu - Rishi K. Narang.epub\r\n| Output Path: /var/folders/db/j3wrt9gd619c809zk5pj_2fc0000gn/C/calibre_7.6.0_tmp_xldahxe1/lour5_79.epub\r\n══════════════════════════════════════\r\n开始翻译电子书内容\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n全部条目：869\r\n字符总数：757590\r\n══════════════════════════════════════\r\n原文：Cover\r\n\r\nAdditional Praise for Inside the Black Box\r\n\r\nSeries\r\n\r\nTitle Page\r\n\r\nCopyright\r\n\r\nDedication\r\n\r\nPreface to the Second Edition\r\n\r\nAcknowledgments\r\n\r\nPart One: The Quant Universe\r\n\r\nChapter 1: Why Does Quant Trading Matter?\r\n\r\nTHE BENEFIT OF DEEP THOUGHT\r\n\r\nTHE MEASUREMENT AND MISMEASUREMENT OF RISK\r\n\r\nDISCIPLINED IMPLEMENTATION\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nChapter 2: An Introduction to Quantitative Trading\r\n\r\nWHAT IS A QUANT?\r\n\r\nWHAT IS THE TYPICAL STRUCTURE OF A QUANTITATIVE TRADING SYSTEM?\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nPart Two: Inside the Black Box\r\n\r\nChapter 3: Alpha Models: How Quants Make Money\r\n\r\nTYPES OF ALPHA MODELS: THEORY-DRIVEN AND DATA-DRIVEN\r\n\r\nTHEORY-DRIVEN ALPHA MODELS\r\n\r\nDATA-DRIVEN ALPHA MODELS\r\n\r\nIMPLEMENTING THE STRATEGIES\r\n\r\nBLENDING ALPHA MODELS\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nChapter 4: Risk Models\r\n\r\nLIMITING THE AMOUNT OF RISK\r\n\r\nLIMITING THE TYPES OF RISK\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nChapter 5: Transaction Cost Models\r\n\r\nDEFINING TRANSACTION COSTS\r\n\r\nTYPES OF TRANSACTION COST MODELS\r\n\r\nSUMMARY\r\n\r\nNOTE\r\n\r\nChapter 6: Portfolio Construction Models\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n译文（缓存）：封面\r\n\r\n《黑匣子内部》获得的额外好评\r\n\r\n系列丛书\r\n\r\n书名页\r\n\r\n版权信息\r\n\r\n致谢词\r\n\r\n为第二版所作的序\r\n\r\n感谢名单\r\n\r\n第一部分：量化交易的宇宙\r\n\r\n第1章：量化交易为何至关重要？\r\n\r\n深入思考的好处\r\n\r\n风险的准确衡量与误判\r\n\r\n严格执行\r\n\r\n小结\r\n\r\n脚注\r\n\r\n第2章：引领你进入量化交易\r\n\r\n量化分析师是什么？\r\n\r\n一个量化交易系统典型的结构又是怎样的？\r\n\r\n小结\r\n\r\n脚注\r\n\r\n第二部分：揭开黑匣子\r\n\r\n第3章：阿尔法模型：量化如何赚钱\r\n\r\n阿尔法模型的种类：基于理论与基于数据的模型\r\n\r\n基于理论的阿尔法模型\r\n\r\n基于数据的阿尔法模型\r\n\r\n策略实施\r\n\r\n混合不同的阿尔法模型\r\n\r\n小结\r\n\r\n脚注\r\n\r\n第4章：风险模型\r\n\r\n如何控制风险的总量\r\n\r\n如何控制风险的种类\r\n\r\n小结\r\n\r\n脚注\r\n\r\n第5章：交易成本模型\r\n\r\n交易成本的定义\r\n\r\n不同类型的交易成本模型\r\n\r\n小结\r\n\r\n脚注\r\n\r\n第6章：组合建模\r\n══════════════════════════════════════\r\n{{这些删减了很多内容}}\r\n══════════════════════════════════════\r\n原文：SUMMARY\r\n\r\nNOTES\r\n\r\nChapter 12: Evaluating Quants and Quant Strategies\r\n\r\nGATHERING INFORMATION\r\n\r\nEVALUATING A QUANTITATIVE TRADING STRATEGY\r\n\r\nEVALUATING THE ACUMEN OF QUANTITATIVE TRADERS\r\n\r\nTHE EDGE\r\n\r\nEVALUATING INTEGRITY\r\n\r\nHOW QUANTS FIT INTO A PORTFOLIO\r\n\r\nSUMMARY\r\n\r\nNOTE\r\n\r\nPart Four: High-Speed and High-Frequency Trading\r\n\r\nChapter 13: An Introduction to High-Speed and High-Frequency Trading*\r\n\r\nNOTES\r\n\r\nChapter 14: High-Speed Trading\r\n\r\nWHY SPEED MATTERS\r\n\r\nSOURCES OF LATENCY\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nChapter 15: High-Frequency Trading\r\n\r\nCONTRACTUAL MARKET MAKING\r\n\r\nNONCONTRACTUAL MARKET MAKING\r\n\r\nARBITRAGE\r\n\r\nFAST ALPHA\r\n\r\nHFT RISK MANAGEMENT AND PORTFOLIO CONSTRUCTION\r\n\r\nSUMMARY\r\n\r\nNOTE\r\n\r\nChapter 16: Controversy Regarding High-Frequency Trading\r\n\r\nDOES HFT CREATE UNFAIR COMPETITION?\r\n\r\nDOES HFT LEAD TO FRONT-RUNNING OR MARKET MANIPULATION?\r\n\r\nDOES HFT LEAD TO GREATER VOLATILITY OR STRUCTURAL INSTABILITY?\r\n\r\nDOES HFT LACK SOCIAL VALUE?\r\n\r\nREGULATORY CONSIDERATIONS\r\n\r\nSUMMARY\r\n\r\nNOTES\r\n\r\nChapter 17: Looking to the Future of Quant Trading\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n译文（缓存）：摘要\r\n\r\n附注\r\n\r\n第 12 章：对量化投资者和策略的评估\r\n\r\n收集信息\r\n\r\n对量化交易策略的评估\r\n\r\n评价量化交易者的洞察力\r\n\r\n优势\r\n\r\n诚信度的评估\r\n\r\n量化投资者在投资组合中的角色\r\n\r\n摘要\r\n\r\n附注\r\n\r\n第四部分：高速和高频交易\r\n\r\n第 13 章：高速和高频交易简介 *\r\n\r\n附注\r\n\r\n第 14 章：高速交易\r\n\r\n速度的重要性\r\n\r\n延迟的来源\r\n\r\n摘要\r\n\r\n附注\r\n\r\n第 15 章：高频交易\r\n\r\n合约市场制造\r\n\r\n非合约市场制造\r\n\r\n套利\r\n\r\n迅速的 Alpha（Alpha）\r\n\r\nHFT 风险管理和投资组合构建\r\n\r\n摘要\r\n\r\n附注\r\n\r\n第 16 章：高频交易的争论\r\n\r\n高频交易是否产生了不公平的竞争？\r\n\r\n高频交易会导致提前交易或市场操控吗？\r\n\r\n高频交易会增加更大的波动性或结构不稳定性吗？\r\n\r\n高频交易缺乏社会价值吗？\r\n\r\n监管的考虑因素\r\n\r\n摘要\r\n\r\n附注\r\n\r\n第 17 章：展望量化交易的未来\r\n══════════════════════════════════════\r\n原文：About the Author\r\n\r\nIndex\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n译文（缓存）：关于本书作者\r\n\r\n目录\r\n══════════════════════════════════════\r\nTime consuming: 0.0 minutes\r\n翻译已完成。\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 198, in _run_module_as_main\r\n  File \"runpy.py\", line 88, in _run_code\r\n  File \"site.py\", line 41, in <module>\r\n  File \"site.py\", line 37, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 215, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 101, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 135, in convert_book\r\n  File \"calibre/ebooks/conversion/plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 127, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 422, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 416, in align_paragraph\r\nIndexError: pop index out of range\r\n```",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-10T07:54:12Z",
      "updated_at": "2024-03-10T14:15:32Z",
      "closed_at": "2024-03-10T08:04:30Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/227/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/227",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/227",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:27.661961",
      "comments": [
        {
          "author": "bookfere",
          "body": "这是你在译文后添加换行符导致的。缓存是由程序管理的，不建议手动修改。如果想要修改软件行为，建议修改程序而不是缓存。",
          "created_at": "2024-03-10T08:04:30Z"
        },
        {
          "author": "GoTop",
          "body": "> 这是你在译文后添加换行符导致的。缓存是由程序管理的，不建议手动修改。如果想要修改软件行为，建议修改程序而不是缓存。\r\n\r\n因为我想通过python处理返回的翻译文本，所以需要读取缓存的sqlite文件，对翻译文本进行一些处理。\r\n\r\n我没学过Calibre的插件运行机制，不太懂怎么修改程序呢，感觉学习曲线应该挺高。但是从sqlite中读取文本来修改倒是挺容易的，但是最近的版本里有分段匹配检测，我不太了解这个匹配的原则。\r\n\r\n我在sqlite里看到每个原文的段落之间是两个换行符，而我通过openai获取的翻译的文本的段落之间只有一个换行符，是否插件就是这么设计的？我需要将翻译中的一个换行符",
          "created_at": "2024-03-10T09:11:33Z"
        },
        {
          "author": "bookfere",
          "body": "原文添加的两个换行符是用来识别新分隔方式的（为了区别之前用 ID 分割内容的方式），译文不需要有换行符。\r\n\r\n如果你想要修改有关合并段落的逻辑，可以查看 `lib/element.py` 这个模块中的 `ElementHandlerMerge` 这个类，里面的 `align_paragraph` 方法包含了对齐行的逻辑。",
          "created_at": "2024-03-10T09:37:21Z"
        },
        {
          "author": "GoTop",
          "body": "我刚才将插件ebook-translator_20240304213912版删除，重新安装ebook-translator_20231218135354版，就可以成功导出翻译的书籍了\r\n\r\n这本书我之前是使用ebook-translator_20231218135354版进行翻译的，然后最近我才安装了ebook-translator_20240304213912版，可能是这两个版本导出时对合并段落进行的不同处理导致的\r\n\r\n有一个奇怪的问题，我使用ebook-translator_20240304213912版对这本书进行合并翻译，翻译页面也只显示全书只有前面三段，和我使用这个版本导出双语版时",
          "created_at": "2024-03-10T09:46:38Z"
        },
        {
          "author": "bookfere",
          "body": "新版本没有办法完全兼容老版本，因为新版对原文的处理也有改变，这可能会导致新版本无法识别老版本缓存中的原文。\r\n\r\nP.S. GitHub 可以直接上传文件，并且更方便下载，不需要外链。",
          "created_at": "2024-03-10T10:34:23Z"
        }
      ]
    },
    {
      "issue_number": 228,
      "title": "ebook-translator_20240304213912版无法正确合并这个epub文件的段落",
      "body": "这本书在新版本里无法正确合并段落，只合并了前面目录的章节，后面正文全都没有。\r\n\r\n能否帮查看一下是否是epub文件的问题？\r\n\r\n[Inside the Black Box_ A Simple Guide to Quantitative and High-Frequency Trading- Rishi K. Narang.epub.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14549837/Inside.the.Black.Box_.A.Simple.Guide.to.Quantitative.and.High-Frequency.Trading-.Rishi.K.Narang.epub.zip)",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-10T10:48:10Z",
      "updated_at": "2024-03-10T14:12:02Z",
      "closed_at": "2024-03-10T11:50:07Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/228/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/228",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/228",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:27.883158",
      "comments": [
        {
          "author": "bookfere",
          "body": "是插件的问题，错误地忽略了带 .htm 扩展名的文件。",
          "created_at": "2024-03-10T11:51:13Z"
        },
        {
          "author": "GoTop",
          "body": "> 是插件的问题，错误地忽略了带 .htm 扩展名的文档。\r\n\r\n感谢大佬，修复得好快～～～",
          "created_at": "2024-03-10T14:12:01Z"
        }
      ]
    },
    {
      "issue_number": 208,
      "title": "与原文行数不一致的译文位置应与译文位置设置一致",
      "body": "原来`{{id_n}}`如果合并失败，那么文本还是可以显示出来的，只不过是好几个原文，后面跟着一大段翻译，这样其实还能看。\r\n现在的换行版本如果翻译失败，是直接丢失原文，导致不可用。\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/3f6c9eeb-be78-4f7f-bb9f-68680cdccfc1)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-02-12T02:23:43Z",
      "updated_at": "2024-03-09T13:25:47Z",
      "closed_at": "2024-03-09T13:25:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/208/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/208",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/208",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.103946",
      "comments": [
        {
          "author": "GoTop",
          "body": "Rolling Release版本里有些短的段落，gpt会合并起来翻译，然后后面的原文和译文就会错乱了\r\n\r\n目前的正式版，使用<id-数字>来标记段落，就算有几段错乱了，后面的段落还是能对应回来\r\n\r\n",
          "created_at": "2024-02-18T12:08:28Z"
        },
        {
          "author": "bookfere",
          "body": "是原文丢失吗？按照目前的处理方式，原文和译文都不应该丢失的，否则就是需要修复的错误。如果是感觉译文丢失，建议检查一下译文是否合并到了前面的段落中。下面是目前的处理方式：\r\n\r\n假设待翻译段落的合并单元如下：\r\n\r\n```\r\ntest paragraph 1\r\n\r\ntest paragraph 2\r\n\r\ntest paragraph 3\r\n\r\ntest paragraph 4\r\n\r\ntest paragraph 5\r\n```\r\n\r\n翻译后的段落丢失了一些换行符：\r\n\r\n```\r\n测试段落 1\r\n测试段落 2\r\n\r\n测试段落 3\r\n测试段落 4\r\n\r\n测试段落 5\r\n```\r\n\r\n最后得到的结果会",
          "created_at": "2024-02-28T03:50:21Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 是原文丢失吗？按照目前的处理方式，原文和译文都不应该丢失的，否则就是需要修复的错误。如果是感觉译文丢失，建议检查一下译文是否合并到了前面的段落中。下面是目前的处理方式：\r\n> \r\n> 假设待翻译段落的合并单元如下：\r\n> \r\n> ```\r\n> test paragraph 1\r\n> \r\n> test paragraph 2\r\n> \r\n> test paragraph 3\r\n> \r\n> test paragraph 4\r\n> \r\n> test paragraph 5\r\n> ```\r\n> \r\n> 翻译后的段落丢失了一些换行符：\r\n> \r\n> ```\r\n> 测试段落 1\r\n> 测试段落 2\r\n>",
          "created_at": "2024-03-02T01:47:24Z"
        },
        {
          "author": "bookfere",
          "body": "是的，行数不一致的译文也应该跟随设置放置。标记一下，后面改进。",
          "created_at": "2024-03-02T02:47:59Z"
        },
        {
          "author": "bookfere",
          "body": "在解决这个问题时候又发现一个问题，对于行数无法对齐的合并单元，如果按照错乱的顺序插入（如下方案一所示），还是会失去参照意义。如果一旦行数不一致，把整个合并单元的译文全都放到原文前或后（如下方案二所示），是否更些好一些？\r\n\r\n---\r\n\r\n译文添加到原文后（方案一）：\r\n\r\n```\r\ntest paragraph 1\r\n\r\n测试段落 1\r\n测试段落 2\r\n\r\ntest paragraph 2\r\n\r\n测试段落 3\r\n\r\ntest paragraph 3\r\n```\r\n\r\n译文添加到原文后（方案二）：\r\n\r\n```\r\ntest paragraph 1\r\n\r\ntest paragraph 2\r\n\r\nt",
          "created_at": "2024-03-04T13:07:30Z"
        }
      ]
    },
    {
      "issue_number": 226,
      "title": "请求加入deepLX",
      "body": "真的很实用",
      "state": "closed",
      "author": "chakerfur",
      "author_type": "User",
      "created_at": "2024-03-09T12:46:07Z",
      "updated_at": "2024-03-09T12:50:37Z",
      "closed_at": "2024-03-09T12:50:37Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/226/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/226",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/226",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.329466",
      "comments": [
        {
          "author": "bookfere",
          "body": "需求同 #6，请使用自定义翻译引擎功能。功能同内置的 DeepL (Free)。",
          "created_at": "2024-03-09T12:50:37Z"
        }
      ]
    },
    {
      "issue_number": 224,
      "title": "使rolling release 20231218135354版翻译的缓存文件，可以在20240304213912版中使用吗？",
      "body": "20231218135354版的没有检测原文和译文段落数的功能\r\n\r\n20240304213912版有的段落会被标记为黄色",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-09T04:53:41Z",
      "updated_at": "2024-03-09T05:04:57Z",
      "closed_at": "2024-03-09T05:04:29Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/224/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/224",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/224",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.523581",
      "comments": [
        {
          "author": "bookfere",
          "body": "插件对旧版本的数据做了兼容，应该是可以使用的，但是有可能存在问题。\r\n\r\n另，非功能请求和插件错误的内容，请以用合适分类发布到 [Discussions](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions) 上。",
          "created_at": "2024-03-09T05:04:11Z"
        }
      ]
    },
    {
      "issue_number": 223,
      "title": "[建议]在合并翻译行数不一致时提供行号",
      "body": "如果合并翻译出现了行数不一致，那么通常可以手工修复。\r\n\r\n有的时候段落非常长，比如说有12,000字，那么检查哪里出了问题是很困难的。\r\n\r\n但是如果有行号的话就简单多了，可以采用二分查找的方式，快速排除错误。\r\n\r\n先定位到中间行，然后检查行号相同的段落是否一致，不断缩小范围，问题很快就能排除。\r\n\r\n由于现在的UI没有行号，所以需要复制粘贴到其他文本编辑器中，完成之后再粘贴回来，这样会造成不必要的浪费。\r\n\r\n因此建议在UI中添加行号，尤其是翻译行数不一致的时候，以供快速排错。",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-08T08:18:43Z",
      "updated_at": "2024-03-09T03:55:33Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/223/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/223",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/223",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.676596",
      "comments": [
        {
          "author": "Andy-AO",
          "body": "我们可以做一个假设，通常来说译文和原文的字数不会相差太大，如果原文是100字符，译文大概率不是10个字符。\r\n那么还建议检查行是否一致，没有办法准确检查，但可以提示**疑似高度不一致**的结果，然后进行标注，这样发现和纠正问题将更快。",
          "created_at": "2024-03-08T10:06:11Z"
        },
        {
          "author": "bookfere",
          "body": "行号是可行的。\r\n\r\n> 我们可以做一个假设，通常来说译文和原文的字数不会相差太大，如果原文是100字符，译文大概率不是10个字符。 那么还建议检查行是否一致，没有办法准确检查，但可以提示**疑似高度不一致**的结果，然后进行标注，这样发现和纠正问题将更快。\r\n\r\n但是，没太理解这个描述。目前只要行数不一致就会标记成黄色，还需要**疑似高度不一致**这个条件吗？。\r\n\r\n另外，除了 ChatGPT 这种可能丢失行，Google 翻译之类的有时也会出现错误，比如翻译多行时只返回一行。",
          "created_at": "2024-03-08T12:13:27Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 行号是可行的。\r\n> \r\n> > 我们可以做一个假设，通常来说译文和原文的字数不会相差太大，如果原文是100字符，译文大概率不是10个字符。 那么还建议检查行是否一致，没有办法准确检查，但可以提示**疑似高度不一致**的结果，然后进行标注，这样发现和纠正问题将更快。\r\n> \r\n> 但是，没太理解这个描述。目前只要行数不一致就会标记成黄色，还需要**疑似高度不一致**这个条件吗？。\r\n> \r\n> 另外，除了 ChatGPT 这种可能丢失行，Google 翻译之类的有时也会出现错误，比如翻译多行时只返回一行。\r\n\r\n行数不一致的话，我们只知道整体有问题，因此在条目列表的UI上标注为黄色，这个是",
          "created_at": "2024-03-08T23:12:49Z"
        },
        {
          "author": "bookfere",
          "body": "了解了。不过根据字符数标记问题位置感觉不太可靠，因为没有判断不同语言之间原文的译文长度比例的依据。另外，这种标记要在识别十分精准的情况下才可行，否则可能会让人疑惑。",
          "created_at": "2024-03-09T01:16:21Z"
        },
        {
          "author": "Andy-AO",
          "body": "> 了解了。不过根据字符数标记问题位置感觉不太可靠，因为没有判断不同语言之间原文的译文长度比例的依据。另外，这种标记要在识别十分精准的情况下才可行，否则可能会让人疑惑。\r\n\r\n这是一个能够极大方便排错的功能，根据我的经验，出现这种情况意味着在该位置的前方不远处，问题已经出现。\r\n\r\n我理解你的担心，正如你所说，它会带来一些问题，不过我认为这些问题可以有解决方案，这里分享一下我的思考。\r\n\r\n1. 有的人可能无法理解，这只是个高度疑似的提醒，我认为这可以通过不默认开启该功能来解决，这样如果有人需要的话，那么他会手动开启该功能，开启的时候就会看到该功能的名称，从而理解是什么意思\r\n2. 译文和原文",
          "created_at": "2024-03-09T03:01:51Z"
        }
      ]
    },
    {
      "issue_number": 221,
      "title": "Rolling Release版中，对翻译文本和原文行数不一致的段落显示为黄色，但是在Mac的夜晚模式下观感很差",
      "body": "MacOS Sonoma 14.1.2 (23B92)\r\nCalibre版本 7.6.0\r\nEbook-Translator-Calibre-Plugin版本：Rolling Release：ebook-translator_20240304213912\r\n\r\n能否考虑提供修改标记翻译内容段落异常的段落的方块颜色和文字颜色的选项？\r\n\r\n这样就可以根据系统的主题，自己进行选择颜色了，不然在Mac上使用，几乎看不清文字\r\n\r\n![WX20240308-131506@2x](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/5859e0d0-8d14-40f8-8299-de05bac8b985)\r\n\r\n\r\n",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-08T05:12:30Z",
      "updated_at": "2024-03-08T13:55:32Z",
      "closed_at": "2024-03-08T13:55:32Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/221/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/221",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/221",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.878101",
      "comments": []
    },
    {
      "issue_number": 197,
      "title": "[Feature Request] 支持原文译文左右对照",
      "body": "您好！感谢您开发好用的插件。\r\n是否可以使原文译文左右对照，我看有些翻译软件都是这样的，这样可以较好的保存排版。",
      "state": "closed",
      "author": "QingWoBen",
      "author_type": "User",
      "created_at": "2023-12-28T08:55:13Z",
      "updated_at": "2024-03-08T13:20:41Z",
      "closed_at": "2024-03-08T13:20:41Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/197/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/197",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/197",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.878120",
      "comments": []
    },
    {
      "issue_number": 217,
      "title": "请问对于某段的翻译结果不满意，如何删除翻译结果，然后重新对该段进行翻译呢？",
      "body": "现在在某段上右键-删除，会将这段完全删除，无法实现我想重新翻译这段的效果",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2024-03-06T16:54:09Z",
      "updated_at": "2024-03-07T03:41:23Z",
      "closed_at": "2024-03-07T03:40:51Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/217/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/217",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/217",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.878127",
      "comments": []
    },
    {
      "issue_number": 215,
      "title": "[bug]在没有错误信息的情况下自动停止翻译",
      "body": "发现了一个可能的bug，这个工具可能会在没有错误信息的情况下**自动停止翻译**。\r\n1. 我已经将引擎的停止翻译数设置为100，留下了很大的冗余\r\n2. 点击全部翻译之后，翻译了一些内容，但还没翻译完，然后就自动停止了\r\n3. 没有看到错误日志，不知道出现了什么问题\r\n\r\n使用的是自定义引擎，调用通义千问，版本是最新的`ebook-translator_20240228224327`。\r\n\r\n**提供录屏**\r\n\r\n\r\nhttps://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/2499131b-8ebc-4a40-b159-a7f741fd83b8\r\n\r\n\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/13480cd0-4555-4214-8e5b-caf970075787)\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/28604156-a8c4-41b5-9419-a2b9de203ce8)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-03-03T05:47:13Z",
      "updated_at": "2024-03-04T04:05:47Z",
      "closed_at": "2024-03-04T04:05:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/215/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/215",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/215",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:28.878133",
      "comments": [
        {
          "author": "bookfere",
          "body": "应该是之前错误的把重试次数当成取消翻译的条件了。安装最新版再试试看。",
          "created_at": "2024-03-04T03:10:08Z"
        }
      ]
    },
    {
      "issue_number": 211,
      "title": "ISSUE : Gemini Pro ",
      "body": "hello am trying to translate a book with gemini pro but I have few error : \r\n```\r\nStatus: Failed 1 times / Sleeping for 5 seconds\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\nErreur: Ne peux analyser la réponse retournée. Data non-traité: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 204, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n```\r\n\r\n\r\nbe free to ask me more details if you need them ",
      "state": "closed",
      "author": "delta-whiplash",
      "author_type": "User",
      "created_at": "2024-02-22T12:55:51Z",
      "updated_at": "2024-03-01T07:37:17Z",
      "closed_at": "2024-02-26T07:00:30Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/211/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/211",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/211",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.067174",
      "comments": [
        {
          "author": "bookfere",
          "body": "According to the error, the engine cannot even provide a response. It's related to a network issue. I suggest you check if your network is available for the [Gemini API](https://ai.google.dev/tutorials/rest_quickstart).",
          "created_at": "2024-02-24T05:19:58Z"
        },
        {
          "author": "delta-whiplash",
          "body": "Can I use Gemini pro from vertex ai ?",
          "created_at": "2024-03-01T07:37:16Z"
        }
      ]
    },
    {
      "issue_number": 163,
      "title": "Output error caused by a PermissionError with the cache file",
      "body": "whenever i want to output an epub file it gives me an error. but i can access the translated epub file from the temp folder.\r\n\r\nLOG:\r\n```\r\ncalibre, version 6.28.1 (win32, embedded-python: True)\r\n\r\nTranslation job failed: Başarısız Oldu: [English > Turkish] Translating \"Mushoku Tensei_ Jobless Reincarnation Vol. 10\"\r\n\r\n[English > Turkish] Translating \"Mushoku Tensei_ Jobless Reincarnation Vol. 10\"\r\nInputFormatPlugin: EPUB Input running\r\non C:\\Users\\mamio\\Calibre Kitaplığı\\Rifujin na Magonote\\Mushoku Tensei_ Jobless Reincarnati (101)\\Mushoku Tensei_ Jobless Reincar - Rifujin na Magonote.epub\r\nFound HTML cover OEBPS/Text/CoverPage.html\r\nParsing all content...\r\nMerging user specified metadata...\r\nDetecting structure...\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 6.28.1\r\n| Plugin Version: v2.2.0\r\n| Translation Engine: DeepL\r\n| Source Language: English\r\n| Target Language: Turkish\r\n| Cache Enabled: False\r\n| Merging Length: 90000\r\n| Concurrent requests: 1\r\n| Request Interval: 0.0\r\n| Request Attempt: 3\r\n| Request Timeout: 10.0\r\n| Input Path: C:\\Users\\mamio\\Calibre Kitaplığı\\Rifujin na Magonote\\Mushoku Tensei_ Jobless Reincarnati (101)\\Mushoku Tensei_ Jobless Reincar - Rifujin na Magonote.epub\r\n| Output Path: C:\\Users\\mamio\\AppData\\Local\\Temp\\calibre_iqhkx4nt\\6wekdam_.epub\r\n==============================\r\nStart to translate ebook content\r\n==============================\r\nTotal items: 5\r\nCharacter count: 365923\r\n==============================\r\n\r\nTHE TRANSLATION WAS HERE BUT I DELETED IT BECAUSE IT WAS TOO LONG.\r\n\r\n\r\n==============================\r\nTime consuming: 0.0 minutes\r\nTranslation completed.\r\n==============================\r\nStart to convert ebook format:\r\n==============================\r\nSplitting markup on page breaks and flow limits, if any...\r\n\tLooking for large trees in OEBPS/Text/section-0016.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0010.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0002.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0006.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0020.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0015.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0009.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0001.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0005.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0019.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/TableOfContents.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0004.html...\r\n\tNo large trees found\r\n\tSplit into 2 parts\r\n\tLooking for large trees in OEBPS/Text/section-0008.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0012.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0014.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0018.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0017.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0003.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0007.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\n\tLooking for large trees in OEBPS/Text/section-0013.html...\r\n\tNo large trees found\r\n\tLooking for large trees in OEBPS/Text/section-0011.html...\r\n\tNo large trees found\r\n\tSplit into 3 parts\r\nEPUB output written to C:\\Users\\mamio\\AppData\\Local\\Temp\\calibre_iqhkx4nt\\6wekdam_.epub\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 113, in convert_book\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 222, in done\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 219, in destroy\r\nPermissionError: [WinError 32] Dosya başka bir işlem tarafından kullanıldığından bu işlem dosyaya erişemiyor: 'C:\\\\Users\\\\mamio\\\\AppData\\\\Local\\\\Temp\\\\com.bookfere.Calibre.EbookTranslator\\\\temp\\\\2be5fda8d54ae9b91458d747a29d1256.db'\r\n```",
      "state": "open",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2023-10-22T20:43:30Z",
      "updated_at": "2024-02-29T13:17:30Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/163/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/163",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/163",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.269719",
      "comments": []
    },
    {
      "issue_number": 82,
      "title": "[Feature Request] 增加选项，高级模式并开启合并翻译的情况下，添加标记校验功能",
      "body": "最近又遇到了标记混入译文的问题，手动排查起来太难了，加个校验吧，校验完高亮显示校验未通过的部分",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-07-02T16:44:49Z",
      "updated_at": "2024-02-26T15:06:38Z",
      "closed_at": "2024-02-26T15:06:38Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/82/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/82",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/82",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.269740",
      "comments": [
        {
          "author": "bookfere",
          "body": "后期可以为合并翻译添加这个功能。",
          "created_at": "2023-07-03T00:53:56Z"
        },
        {
          "author": "riverai",
          "body": "你们说的是译文和原文的 拆分符号 对不上的情况吗？这个功能太有必要了，目前连哪里出错了都不知道。",
          "created_at": "2023-07-18T06:56:48Z"
        }
      ]
    },
    {
      "issue_number": 185,
      "title": "syntax error",
      "body": "Hi, I have not been able to get this plugin to work, and it keeps giving me this output:\r\n\r\n```calibre, version 2.64.0 (win32, embedded-python: True)\r\nTranslation job failed: Failed: [Chinese > English] Translating \"The villains in the whole family are crazy about criticism, but only the junior sister is funny\"\r\n\r\n[Chinese > English] Translating \"The villains in the whole family are crazy about criticism, but only the junior sister is funny\"\r\nPython function terminated unexpectedly\r\n  near \"ON\": syntax error (Error Code: 1)\r\nTraceback (most recent call last):\r\n  File \"site.py\", line 132, in main\r\n  File \"site.py\", line 109, in run_entry_point\r\n  File \"site-packages\\calibre\\utils\\ipc\\worker.py\", line 190, in main\r\n  File \"site-packages\\calibre\\utils\\ipc\\worker.py\", line 130, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 72, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 151, in set_info\r\nsqlite3.OperationalError: near \"ON\": syntax error\r\n```\r\nI got this by using the Batch Mode. When using the Advanced Mode, it just crashes calibre entirely and does not give me the option to copy the error message at all.\r\n\r\nI have tried other novels, other languages (both to and from) and also testing the translation engine in the settings will also crash calibre.\r\n\r\nI do have a few other plugins installed on calibre, mainly for converting books and for integrating with my Kobo ereader. Is it possible they could be conflicting?",
      "state": "closed",
      "author": "modkhi",
      "author_type": "User",
      "created_at": "2023-12-04T04:52:24Z",
      "updated_at": "2024-02-26T07:04:03Z",
      "closed_at": "2024-02-26T07:04:03Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/185/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/185",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/185",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.492645",
      "comments": [
        {
          "author": "bookfere",
          "body": "Before anything else, I'd recommend installing the latest version from https://translator.bookfere.com by grabbing the \"Rolling Version\" to see if the issue still lingers. Additionally, could you let me know the Calibre version you're using?",
          "created_at": "2023-12-04T14:26:01Z"
        }
      ]
    },
    {
      "issue_number": 200,
      "title": "ChatGPT 报错 Error: expected string or bytes-like object, got 'generator'",
      "body": "之前都能正常使用，突然报错，显示\r\n\r\nError: expected string or bytes-like object, got 'generator'\r\n\r\n求解答！谢谢",
      "state": "closed",
      "author": "Alyssalalala",
      "author_type": "User",
      "created_at": "2024-01-08T17:11:39Z",
      "updated_at": "2024-02-26T07:03:06Z",
      "closed_at": "2024-02-26T07:03:06Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/200/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/200",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/200",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.743769",
      "comments": [
        {
          "author": "sagehere",
          "body": "> 之前都能正常使用，突然报错，显示\r\n> \r\n> Error: expected string or bytes-like object, got 'generator'\r\n> \r\n> 求解答！谢谢\r\n\r\n你应该是使用的稳定版，然后使用了术语表。\r\n稳定版2.2.0使用CHATGPT同时开启术语表时就会遇到这样的情况，你关掉术语表就好用了。同时自定义引擎貌似没有这样的问题。",
          "created_at": "2024-01-09T00:31:00Z"
        }
      ]
    },
    {
      "issue_number": 187,
      "title": "[bug]合并翻译情况下混入少量{{id_xxxxx}}分割标记",
      "body": "原始XHTML：\r\n```\r\n<?xml version='1.0' encoding='utf-8'?>\r\n<!DOCTYPE html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:epub=\"http://www.idpf.org/2007/ops\" epub:prefix=\"z3998: http://www.daisy.org/z3998/2012/vocab/structure/#\" lang=\"en\" xml:lang=\"en\">\r\n  <head/>\r\n  <body><p style=\"font-size:0.7em;\">지은이 윤은아</p>&#13;\r\n<p style=\"font-size:0.7em;\">펴낸곳 판다플립&#13;\r\n<br/>출판등록 2017년 8월 17일 제2017-000250호&#13;\r\n<br/>주소 서울특별시 성수동1가 72-87, 304호&#13;\r\n<br/>전자우편 agent@pandaflip.com &#13;\r\n<br/>*이 책의 모든 권리는 작가와 출판사에 있습니다. &#13;\r\n<br/>*판다플립은 ㈜스튜디오봄봄의 출판 브랜드입니다.&#13;\r\n<br/>*저작권법에 따라 보호를 받는 저작물이므로 일체의 무단 복제와 전재를 금합니다. </p>&#13;\r\n</body>\r\n</html>\r\n```\r\n\r\n原文在Koodo Reader看起来是这样：\r\n\r\n```\r\n지은이 윤은아\r\n\r\n펴낸곳 판다플립\r\n출판등록 2017년 8월 17일 제2017-000250호\r\n주소 서울특별시 성수동1가 72-87, 304호\r\n전자우편 agent@pandaflip.com \r\n*이 책의 모든 권리는 작가와 출판사에 있습니다. \r\n*판다플립은 ㈜스튜디오봄봄의 출판 브랜드입니다.\r\n*저작권법에 따라 보호를 받는 저작물이므로 일체의 무단 복제와 전재를 금합니다.\r\n```\r\n\r\n高级翻译界面中是这样（包含部分前文）：\r\n```\r\n...\r\n“우리 은하도 친구랑은 잘 어울리지 못하는 성격이라…….”\r\n\r\n대화를 나누던 두 사람은 이내 서로를 마주 보며 씩 웃었다. 귀여운 아이들, 기댈 수 있는 친구가 서로의 아이가 되기를 바랐다. 자신들이 오래전부터 그랬던 것처럼. 그 바람이 이루어져서 너무나도 기뻤다.\r\n\r\n지은이 윤은아\r\n\r\n펴낸곳 판다플립 {{id_00000}}출판등록 2017년 8월 17일 제2017-000250호 {{id_00001}}주소 서울특별시 성수동1가 72-87, 304호 {{id_00002}}전자우편 agent@pandaflip.com {{id_00003}}*이 책의 모든 권리는 작가와 출판사에 있습니다. {{id_00004}}*판다플립은 ㈜스튜디오봄봄의 출판 브랜드입니다. {{id_00005}}*저작권법에 따라 보호를 받는 저작물이므로 일체의 무단 복제와 전재를 금합니다.\r\n```\r\n\r\n[插件版本快照](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/tree/8e3ee349d02fb6bb5ca76b47b24ea24bcf37ecda)",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-12-04T15:04:32Z",
      "updated_at": "2024-02-25T05:33:16Z",
      "closed_at": "2024-02-25T05:33:16Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/187/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/187",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/187",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:29.963534",
      "comments": [
        {
          "author": "bookfere",
          "body": "在没有更改分割段落方式之前，存在两种标记，一种是用来分割段落的类似 `{{id_0}}`（现已改成换行符），另一种是用来保留图片等元素的类似 `{{id_00000}}`（目前要保留的元素是 `img`、`code`、`br`、`hr`、`sub`、`sup` 和 `kbd` ）。\r\n\r\n你可以检查一下那个段落的源代码，看是否存在这几个元素。",
          "created_at": "2023-12-08T11:14:36Z"
        },
        {
          "author": "WeeAris",
          "body": "> 在没有更改分割段落方式之前，存在两种标记，一种是用来分割段落的类似 `{{id_0}}`（现已改成换行符），另一种是用来保留图片等元素的类似 `{{id_00000}}`（目前要保留的元素是 `img`、`code`、`br`、`hr`、`sub`、`sup` 和 `kbd` ）。\n> \n> 你可以检查一下那个段落的源代码，看是否存在这几个元素。\n\n确实标记出现的位置都存在`br`",
          "created_at": "2023-12-08T12:21:37Z"
        },
        {
          "author": "WeeAris",
          "body": "> 在没有更改分割段落方式之前，存在两种标记，一种是用来分割段落的类似 `{{id_0}}`（现已改成换行符），另一种是用来保留图片等元素的类似 `{{id_00000}}`（目前要保留的元素是 `img`、`code`、`br`、`hr`、`sub`、`sup` 和 `kbd` ）。\r\n> \r\n> 你可以检查一下那个段落的源代码，看是否存在这几个元素。\r\n\r\n可以添加选项，用户确信不会造成负面影响的情况下，在设置里选择性关闭吗？",
          "created_at": "2023-12-09T10:16:10Z"
        },
        {
          "author": "bookfere",
          "body": "目前的做法是仅提取整个段落中的文本，如果不预先保留这些元素，它们都会丢失。你的意思是这些元素丢失也是可以接受的吗？",
          "created_at": "2023-12-10T08:50:19Z"
        },
        {
          "author": "WeeAris",
          "body": "> 目前的做法是仅提取整个段落中的文本，如果不预先保留这些元素，它们都会丢失。你的意思是这些元素丢失也是可以接受的吗？\r\n\r\n我前面的说法不对，我想表达的不是这个意思。我是想`br`标签能不能换个方法处理，毕竟它的作用就只是换行，比如，处理的时候直接用换行符替换它。",
          "created_at": "2023-12-10T09:08:02Z"
        }
      ]
    },
    {
      "issue_number": 202,
      "title": "gpt3.5 报错。以前能用，最近一直抽风",
      "body": "错误信息：无法解析返回的响应。原始数据：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 204, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\n{\r\n    \"error\": {\r\n        \"message\": \"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.\",\r\n        \"type\": \"insufficient_quota\",\r\n        \"param\": null,\r\n        \"code\": \"insufficient_quota\"\r\n    }\r\n}",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2024-01-13T19:53:43Z",
      "updated_at": "2024-02-25T05:29:08Z",
      "closed_at": "2024-02-25T05:29:07Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/202/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/202",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/202",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:30.154467",
      "comments": [
        {
          "author": "tongcuyu",
          "body": "Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 94, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 217, in get_result\r\nException: 无",
          "created_at": "2024-01-16T06:58:13Z"
        },
        {
          "author": "bookfere",
          "body": "从错误信息看，这两个错误都和插件没有关联。第一个错误显示额度不足，建议检查账户是否还有充足额度。第二个错误是网络问题，建议尝试更换网络或代理。",
          "created_at": "2024-02-25T05:29:07Z"
        }
      ]
    },
    {
      "issue_number": 198,
      "title": "[BUG] Can't translate any epub, pdf. ",
      "body": "```\r\ncalibre, version 6.28.1 (linux, embedded-python: False)\r\nTranslation job failed: Failed: [English > Vietnamese] Translating \"The Alter Ego Effect\"\r\n\r\n[English > Vietnamese] Translating \"The Alter Ego Effect\"\r\nInputFormatPlugin: EPUB Input running\r\non /home/orcbolg/Calibre Library/Todd Herman/The Alter Ego Effect (5)/The Alter Ego Effect - Todd Herman.epub\r\nFound HTML cover OEBPS/text/9780062838674_Cover.xhtml\r\nParsing all content...\r\nMerging user specified metadata...\r\nDetecting structure...\r\n\tDetected chapter: Chapter 1\r\n\tDetected chapter: Chapter 2\r\n\tDetected chapter: Chapter 3\r\n\tDetected chapter: Chapter 4\r\n\tDetected chapter: Chapter 5\r\n\tDetected chapter: Chapter 6\r\n\tDetected chapter: Chapter 7\r\n\tDetected chapter: Chapter 8\r\n\tDetected chapter: Chapter 9\r\n\tDetected chapter: Chapter 10\r\n\tDetected chapter: Chapter 11\r\n\tDetected chapter: Chapter 12\r\n\tDetected chapter: Chapter 13\r\n\tDetected chapter: Chapter 14\r\n\tDetected chapter: Chapter 15\r\n\tDetected chapter: Chapter 16\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nTrimming 'OEBPS/9780062838674_toc.ncx' from manifest\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 6.28.1\r\n| Plugin Version: v2.2.0\r\n| Translation Engine: Google(Free)\r\n| Source Language: English\r\n| Target Language: Vietnamese\r\n| Cache Enabled: True\r\n| Merging Length: 0\r\n| Concurrent requests: 0\r\n| Request Interval: 0.0\r\n| Request Attempt: 3\r\n| Request Timeout: 10.0\r\n| Input Path: /home/orcbolg/Calibre Library/Todd Herman/The Alter Ego Effect (5)/The Alter Ego Effect - Todd Herman.epub\r\n| Output Path: /tmp/calibre_6.28.1_tmp_vmnnz8_u/f3c4t155.epub\r\n==============================\r\nStart to translate ebook content\r\n==============================\r\nTotal items: 2856\r\nCharacter count: 423824\r\n==============================\r\nOriginal: Chapter 1: What’s Your Phone Booth Moment?\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 9: Choosing Your Extraordinary World\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 11: Defining Your Superpowers and Crafting the Name\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 6: The Hidden Forces of the Enemy\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 5: Finding Your Moments of Impact\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Title Page\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Dedication\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 8: The Power of Your Story\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Contents\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nOriginal: Chapter 2: The Origin of Alter Egos\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n    br.open(request)\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 257, in open\r\n    return self._mech_open(url_or_request, data, timeout=timeout)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_mechanize.py\", line 287, in _mech_open\r\n    response = UserAgentBase.open(self, request, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_opener.py\", line 193, in open\r\n    response = urlopen(self, req, data)\r\n               ^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 425, in _open\r\n    result = self._call_chain(self.handle_open, protocol, protocol +\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n    result = func(*args)\r\n             ^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n    return self.do_open(conn_factory, req)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib/python3.12/site-packages/mechanize/_urllib2_fork.py\", line 1196, in do_open\r\n    h = http_class(host_port, timeout=req.timeout)\r\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nTypeError: HTTPSConnection.__init__() got an unexpected keyword argument 'key_file'\r\n==============================\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/calibre-parallel\", line 21, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/usr/lib64/calibre/calibre/utils/ipc/worker.py\", line 214, in main\r\n    result = func(*args, **kwargs)\r\n             ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/usr/lib64/calibre/calibre/utils/ipc/worker.py\", line 149, in arbitrary_n\r\n    return func(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 112, in convert_book\r\n  File \"/usr/lib64/calibre/calibre/ebooks/conversion/plumber.py\", line 1281, in run\r\n    self.output_plugin.convert(self.oeb, self.output, self.input_plugin,\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 103, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.translation\", line 247, in handle\r\nException: Translation failed.\r\n```",
      "state": "closed",
      "author": "orcbolg3612",
      "author_type": "User",
      "created_at": "2024-01-01T07:07:26Z",
      "updated_at": "2024-02-25T05:25:07Z",
      "closed_at": "2024-02-25T05:25:07Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/198/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/198",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/198",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:30.362950",
      "comments": [
        {
          "author": "orcbolg3612",
          "body": "This error appear on all translator engine. ",
          "created_at": "2024-01-01T07:07:56Z"
        },
        {
          "author": "bookfere",
          "body": "The problem is related to an incorrect Calibre environment. It's likely that you installed a Calibre version without embedded Python, which can cause many problems. I suggest referring to [Calibre's instruction](https://calibre-ebook.com/download_linux) for installation to ensure that it includes em",
          "created_at": "2024-01-02T09:31:38Z"
        }
      ]
    },
    {
      "issue_number": 206,
      "title": "可以支持命令行操作吗",
      "body": "类似于这种：calibre-debug --run-plugin ",
      "state": "closed",
      "author": "AezwxLOkCzw",
      "author_type": "User",
      "created_at": "2024-02-07T04:49:15Z",
      "updated_at": "2024-02-24T05:30:29Z",
      "closed_at": "2024-02-24T05:30:29Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/206/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/206",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/206",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:30.598040",
      "comments": [
        {
          "author": "bookfere",
          "body": "需求同 #108。抱歉，这是一款 GUI 插件，除非有人贡献代码，目前没有计划实现非 GUI 功能。",
          "created_at": "2024-02-24T05:30:29Z"
        }
      ]
    },
    {
      "issue_number": 213,
      "title": "建议实现自定义OpenAI模型名",
      "body": "现在OpenAI模型的名称是不能自定义的，这就导致新出了一个模型之后没有办法立即使用。\r\n当然可以使用自定义引擎的方法解决这个问题，但直接提供名称自定义方便很多。\r\nImmersive Translate 就有类似的功能。\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38101170/fb5fd8c8-cb6d-4227-b6c9-dfb61a8c13da)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-02-23T22:46:19Z",
      "updated_at": "2024-02-24T05:10:57Z",
      "closed_at": "2024-02-24T05:10:56Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/213/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/213",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/213",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:30.802701",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。此需求同 #167。功能已在提交 e1bd8fb8cb5d8c265ca6f4fa0eacb8a10fd92308 中实现。如果你是从 Calibre 插件管理器中安装的插件，在新版本发布前，可前往  https://translator.bookfere.com  下载安装最新的 Rolling release 版本使用此功能。",
          "created_at": "2024-02-24T05:10:56Z"
        }
      ]
    },
    {
      "issue_number": 212,
      "title": "Error：部分epub文件提示Failed to initialize plugin:错误，完全没有开始翻译。",
      "body": "老大您好，请问：批量翻译多个epub时，有些epub文件会提示初始化插件错误，完全没有开始翻译。\r\n\r\n错误：Failed to initialize plugin: 'D:\\\\Programs\\\\Calibre_Portable\\\\Calibre Settings\\\\plugins\\\\DeDRM.zip'\r\n\r\n![00000](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/2131ebbc-87bd-4a5e-8e7a-221644fb44bf)\r\n\r\n报错文件和缓存文件附上：\r\n[bug-初始化错误（epub+缓存）.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/14381308/bug-.epub%2B.zip)\r\n\r\n\r\n`[English > 中文] 翻译 \"Getting (More Of) What You Want _ How the Secrets of Economics and Psychology Can Help You Negotiate Anything, in Business and in Life (9780465040636)\"\r\nFailed to initialize plugin: 'D:\\\\Programs\\\\Calibre_Portable\\\\Calibre Settings\\\\plugins\\\\DeDRM.zip'\r\nInputFormatPlugin: EPUB Input running\r\non D:\\Programs\\Calibre_Portable\\Calibre Library\\Neale, Margaret A.; Lys, Thomas Z_\\Getting (More Of) What You Want _ H (605)\\Getting (More Of) What You Want - Neale, Margaret A.; Lys, Thomas.epub\r\nFound HTML cover titlepage.xhtml\r\nParsing all content...\r\nMerging user specified metadata...\r\nDetecting structure...\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 11.99998pt\r\nRemoving fake margins...\r\nRemoving page margins specified in the Adobe page template\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n══════════════════════════════════════\r\n| Diagnosis Information\r\n══════════════════════════════════════\r\n| Calibre Version: 6.27.0\r\n| Plugin Version: v2.2.0\r\n| Translation Engine: AI GUO GUO\r\n| Source Language: English\r\n| Target Language: 中文\r\n| Cache Enabled: True\r\n| Merging Length: 0\r\n| Concurrent requests: 300\r\n| Request Interval: 0.0\r\n| Request Attempt: 5\r\n| Request Timeout: 600.0\r\n| Input Path: D:\\Programs\\Calibre_Portable\\Calibre Library\\Neale, Margaret A.; Lys, Thomas Z_\\Getting (More Of) What You Want _ H (605)\\Getting (More Of) What You Want - Neale, Margaret A.; Lys, Thomas.epub\r\n| Output Path: H:/Getting (More Of) What You Want _ How the Secrets of Economics and Psychology Can Help You Negotiate Anything, in Business and in Life (9780465040636) [中文].epub\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 101, in convert_item\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 135, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 121, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 462, in get_page_elements\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 232, in get_elements\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 243, in extract_elements\r\nAttributeError: 'NoneType' object has no attribute 'findall'\r\n`",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2024-02-23T03:28:42Z",
      "updated_at": "2024-02-24T05:05:47Z",
      "closed_at": "2024-02-24T05:05:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/212/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/212",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/212",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:30.999403",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。错误已在提交 dbf8cf194c5a1a37067605aa4c2e1843428b500b 中修复。",
          "created_at": "2024-02-24T05:05:47Z"
        }
      ]
    },
    {
      "issue_number": 186,
      "title": "[bug]原因不明的翻译任务冻结问题",
      "body": "截至目前在[该快照版本](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/9d45c3d7d8eb689e84fa8b4d7591c15eb59c5da7)和前1提交版本下多次遇到批量任务时个别任务冻结问题，具体表现为任务进度长时间无更新且任务不会超时退出直到手动终止，翻译日志界面也无任何错误和警告信息，最长一次冻结了一个半小时也没停止（超时设置5s左右，重试次数2，最大错误总数5，并发设置2，开启了合并翻译及手动设置代理），另外高级翻译界面偶尔也会出现冻结现象，且手动停止一直显示停止中。\r\n\r\n注：由于长时间未使用该插件，故之前版本情况不明，calibre版本7.0~7.1，系统Windows 10 LTSC2021",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-12-04T14:49:10Z",
      "updated_at": "2024-02-24T05:03:53Z",
      "closed_at": "2024-02-24T05:03:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/186/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/186",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/186",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:31.175504",
      "comments": [
        {
          "author": "bookfere",
          "body": "貌似是和 #182 一样的问题。是个别电子书有这个问题吗？如果是的话可以把样本发到邮箱以便测试。",
          "created_at": "2023-12-08T11:09:58Z"
        },
        {
          "author": "WeeAris",
          "body": "> 貌似是和 #182 一样的问题。是个别电子书有这个问题吗？如果是的话可以把样本发到邮箱以便测试。\n\n没有发现和文件的关联，但意外发现代理不稳定的时候有可能会导致这个问题，不过还不确定。",
          "created_at": "2023-12-08T12:20:14Z"
        },
        {
          "author": "bookfere",
          "body": "这个问题的原因应该是插件不断重试出错的请求导致的。由于之前插件没有记录重试期间的错误信息，所以就像卡住一样。提交 b1869db311a6a9c997f2a5a2a10820a7f01b75e7 修复了这个问题，应该就可以根据日志排查问题了。",
          "created_at": "2023-12-15T17:11:42Z"
        },
        {
          "author": "WeeAris",
          "body": "> 这个问题的原因应该是插件不断重试出错的请求导致的。由于之前插件没有记录重试期间的错误信息，所以就像卡住一样。提交 [b1869db](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/b1869db311a6a9c997f2a5a2a10820a7f01b75e7) 修复了这个问题，应该就可以根据日志排查问题了。\r\n\r\n\r\n感谢，现在可以看到错误日志了。任务冻结前的日志如下：\r\n```\r\n┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈\r\n状态：失败 1 次 / 等待 5 秒\r\n",
          "created_at": "2023-12-17T14:12:49Z"
        }
      ]
    },
    {
      "issue_number": 182,
      "title": "Progress Bar Freezes and Deadlock Occurs When Using Advanced GPT Engine for Full Paragraph Translation",
      "body": "Hello,\r\n\r\nI've encountered a recurring issue while using the advanced GPT engine for translating entire paragraphs. The problem manifests as a persistent freezing of the progress bar during translation tasks. When I attempt to cancel the operation, it leads to a deadlock situation, making it impossible to continue using the application without forcibly terminating the process.\r\n\r\nSteps to Reproduce:\r\n\r\nSelect the advanced GPT engine for translation.\r\nInput a paragraph for translation.\r\nObserve that the progress bar freezes and does not complete the translation.\r\nAttempt to cancel the translation.\r\nNotice that the application enters a deadlock state.\r\nExpected Behavior:\r\nThe translation should complete smoothly, and the progress bar should reflect the ongoing process. Cancelling the operation should be responsive and not lead to a deadlock.\r\n\r\nActual Behavior:\r\nThe progress bar freezes during translation, and attempting to cancel the operation results in a deadlock, necessitating a force quit of the process.\r\n\r\nEnvironment:\r\n\r\nGPT Engine version: [3.5]\r\nOperating System: [MAC OS 14.1.1 (23B81)]\r\nI hope this issue can be addressed promptly as it significantly hampers the usability of the translation feature.\r\n\r\nThank you for your attention to this matter.",
      "state": "closed",
      "author": "volcanomao",
      "author_type": "User",
      "created_at": "2023-11-29T11:06:01Z",
      "updated_at": "2024-02-24T05:02:11Z",
      "closed_at": "2024-02-24T05:02:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/182/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/182",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/182",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:31.438670",
      "comments": [
        {
          "author": "bookfere",
          "body": "Based on what you've mentioned, if you cannot translate a single paragraph, the plugin might freeze for 30 seconds (the default timeout) after you click the cancel button. I recommend using the test functionality in the settings to check if ChatGPT is working properly.",
          "created_at": "2023-12-04T14:17:39Z"
        }
      ]
    },
    {
      "issue_number": 170,
      "title": "Stopping during Chatgpt translation doesn't work",
      "body": "During chatgpt translation, the stop button doesn't appear to transition out of the \"Stopping...\" state even after 10 minutes or more (the timeout).  The only option is to terminate the process.  ",
      "state": "closed",
      "author": "eamonho",
      "author_type": "User",
      "created_at": "2023-11-13T14:59:18Z",
      "updated_at": "2024-02-24T05:01:55Z",
      "closed_at": "2024-02-24T05:01:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/170/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/170",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/170",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:31.664446",
      "comments": [
        {
          "author": "bookfere",
          "body": "How many concurrent requests have you set in the engine setting?",
          "created_at": "2023-11-14T17:16:52Z"
        }
      ]
    },
    {
      "issue_number": 189,
      "title": "部分文件：输出文件/翻译到最后一个段落时，卡着不动，或者是报错",
      "body": "输出文件/翻译到最后一个段落时，报错\r\n\r\n[error.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/13626841/error.zip)\r\n\r\n\r\n![Snipaste_2023-12-10_14-53-24](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/e589e4f3-532d-4042-abec-e91c9d748335)\r\n\r\n![Snipaste_2023-12-10_14-55-15](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/d098ed69-e7a2-4398-8021-f0b75649b1ce)\r\n\r\n```\r\n[English > 中文] 翻译 \"Fooling Some of the People All of the Time, a Long Short (And Now Complete) Story, Updated With New Epilogue\"\r\nFailed to initialize plugin: 'D:\\\\Programs\\\\Calibre_Portable\\\\Calibre Settings\\\\plugins\\\\DeDRM.zip'\r\nInputFormatPlugin: EPUB Input running\r\non D:\\Programs\\Calibre_Portable\\Calibre Library\\David Einhorn\\Fooling Some of the People All of th (47)\\Fooling Some of the People All - David Einhorn.epub\r\nFound HTML cover titlepage.xhtml\r\nParsing all content...\r\nMerging user specified metadata...\r\nDetecting structure...\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 6.27.0\r\n| Plugin Version: v2.2.0\r\n| Translation Engine: AI GUO GUO\r\n| Source Language: English\r\n| Target Language: 中文\r\n| Cache Enabled: True\r\n| Merging Length: 0\r\n| Concurrent requests: 300\r\n| Request Interval: 0.0\r\n| Request Attempt: 5\r\n| Request Timeout: 600.0\r\n| Input Path: D:\\Programs\\Calibre_Portable\\Calibre Library\\David Einhorn\\Fooling Some of the People All of th (47)\\Fooling Some of the People All - David Einhorn.epub\r\n| Output Path: H:/Fooling Some of the People All of the Time, a Long Short (And Now Complete) Story, Updated With New Epilogue [中文].epub\r\n```\r\n\r\n\r\n\r\n```\r\n译文（缓存）：锡安银行\r\n==============================\r\nTime consuming: 0.05 minutes\r\n翻译已完成。\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 112, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 104, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 309, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 134, in add_translation\r\n  File \"src/lxml/etree.pyx\", line 3233, in lxml.etree.XML\r\n  File \"src/lxml/parser.pxi\", line 1913, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1793, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1082, in lxml.etree._BaseParser._parseUnicodeDoc\r\n  File \"src/lxml/parser.pxi\", line 615, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 725, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 654, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 1\r\nlxml.etree.XMLSyntaxError: PCDATA invalid Char value 26, line 1, column 47\r\n```",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-12-10T06:58:00Z",
      "updated_at": "2024-02-24T04:44:33Z",
      "closed_at": "2024-02-24T04:44:32Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 25,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/189/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/189",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/189",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:31.848575",
      "comments": []
    },
    {
      "issue_number": 193,
      "title": "希望能够支持gemini-pro！",
      "body": "感谢作者开发了如此有用的插件！让我们读者能够跨越语言的鸿沟！\r\n最近谷歌推出了gemini-pro，据说效果堪比GPT-4。由于gemini-pro的API调用需要依赖专门的库，因此自定义引擎时难以设置。\r\n希望作者能够跟进gemini-pro，万分感谢！",
      "state": "closed",
      "author": "sagehere",
      "author_type": "User",
      "created_at": "2023-12-18T03:59:49Z",
      "updated_at": "2024-02-17T09:17:41Z",
      "closed_at": "2024-02-17T09:17:41Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/193/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/193",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/193",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:31.848595",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢建议。遗憾的是由于 Gemini 的地区限制，我这里没法测试。\r\n\r\n不过它提供了 [**REST API**](https://ai.google.dev/tutorials/rest_quickstart)，也就是说你应该是可以通过自定义引擎使用它的。你可以尝试先在[**这里**](https://makersuite.google.com/app/apikey)获取 API 密钥，然后使用下面的示例，将里面的 **YOURKEYHERE** 换成你的密钥。\r\n\r\n如果你测试没问题，我就可以根据这个示例将其添加到内置翻译引擎中。\r\n\r\n```\r\n{\r\n    \"name\": \"Gemi",
          "created_at": "2023-12-18T06:12:27Z"
        },
        {
          "author": "sagehere",
          "body": "测试了一下，没有很大的问题。但有以下注意点：\r\n\r\n1、由于目前是免费使用的，所以要注意注意调用频率，目前免费的版本好像是每分钟60次；\r\n2、由于gemini-pro存在safety_settings这个参数，如果翻译文本的内容存在敏感词汇（此处不得不吐槽目前太严格了！！），建议加上参数：\r\n\r\n```\r\n{\r\n    \"name\": \"Gemini\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"English\"\r\n        },\r\n        \"target\": {\r\n           ",
          "created_at": "2023-12-18T07:09:12Z"
        },
        {
          "author": "Arthur-WWW",
          "body": "太恶心了吧，这也要敏感词😱",
          "created_at": "2023-12-19T05:02:11Z"
        },
        {
          "author": "tongcuyu",
          "body": " 是的 google这玩意可变态的。\r\n我最早用Claude 一句一句翻译时候，\r\n开始还没问题，后来全不行。\r\n怎么“催眠”都不行",
          "created_at": "2023-12-19T17:39:08Z"
        },
        {
          "author": "tongcuyu",
          "body": "  快点添加吧，Google的东西就是争分夺秒，\r\n趁现在赶紧白嫖",
          "created_at": "2023-12-19T17:46:49Z"
        }
      ]
    },
    {
      "issue_number": 87,
      "title": "Save of Setting not works",
      "body": "Your Calibre plugin is absolutely brilliant and thank you so much for it!\r\n\r\nSome of the translations are so good that I don't need to have both versions of the language in the book, the translated one is enough. I see that in the settings there is this option, but unfortunately even if the settings are saved, the program does not accept the settings, it seems that after saving and closing the settings window, the \"settings\" returns to the default state (reset), when the settings are reopened, it is again in the default state. Is this error just me, or should I wait for an update?\r\n\r\nThere is also a problem with storage. The file with the translated book is opened correctly, but later in the place of saving there is only a file with the title of the book (text) without a suffix (extension/format) and size 0kB\r\n\r\nThe original translated file cannot be found at all, although it can be opened after translation, it is not placed in the right place and I could not find where the plugin saves this file by default, it is probably somewhere only in cash.\r\n\r\nThank you very much and have a nice day\r\nMartin",
      "state": "closed",
      "author": "remark3d",
      "author_type": "User",
      "created_at": "2023-07-15T14:42:35Z",
      "updated_at": "2024-02-12T13:14:24Z",
      "closed_at": "2023-07-17T14:25:22Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/87/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/87",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/87",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.135600",
      "comments": [
        {
          "author": "wangshuihua",
          "body": "I am glad you like the plugin. The bug of setting saving was solved in latest version (v2.1.1).\r\n\r\nAs for the second issue, unfortunately I can not duplicate the storage problem you reported. We suspect it is related to some temporary file removing schedule of **Windows** system. Since this only hap",
          "created_at": "2023-07-16T03:58:40Z"
        },
        {
          "author": "remark3d",
          "body": "Hi,\r\n\r\nThank you very much for the really quick response and update. I tried it\r\ntoday and the \"setting\" is saved and is functional.\r\n\r\nThanks for the information about saving, it looks like the problem is on my\r\nPC, I will try to solve it myself.\r\n\r\nThank you again very much and I wish you a lot of",
          "created_at": "2023-07-16T16:02:16Z"
        },
        {
          "author": "Lasse73",
          "body": "Thank you very much for this addon. This is just brilliant. Nice work",
          "created_at": "2024-02-12T13:14:23Z"
        }
      ]
    },
    {
      "issue_number": 70,
      "title": "DeepL, DeepL free and DeepL pro not working ",
      "body": "Hey,\r\nI wanted to use DeepL as translator to translate books I have stored in Calibre, but each one of DeepL´s choices does not work. I already added the API Key that is needed for the DeepL and DeepL pro action but it's still not working. I always get this message after a few seconds of trying to translate: \r\ncalibre, version 6.20.0 (darwin, embedded-python: True)\r\nTranslation Failed: Failed: Failed to retreive data from translate engine API. Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 144, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 68, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 48, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 156, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 144, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 68, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 48, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 156, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 144, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 68, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 48, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 156, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 144, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 68, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 48, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 156, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.advanced\", line 159, in translate_paragraphs\r\n    translation.handle(paragraphs)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 162, in handle\r\n    async_request.run()\r\n  File \"calibre_plugins.ebook_translator.request\", line 37, in run\r\n    asyncio.run(self.create_tasks())\r\n  File \"asyncio/runners.py\", line 44, in run\r\n  File \"asyncio/base_events.py\", line 641, in run_until_complete\r\n  File \"calibre_plugins.ebook_translator.request\", line 34, in create_tasks\r\n    await asyncio.gather(*self.tasks)\r\n  File \"calibre_plugins.ebook_translator.request\", line 23, in create_worker\r\n    self.process_translation(paragraph)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 157, in process_translation\r\n    self._prepare_translation(paragraph)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 115, in _prepare_translation\r\n    translation = self._translate_text(original)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 101, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 101, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 101, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 91, in _translate_text\r\n    raise Exception('{} {}'.format(message, str(e)))\r\nException: Failed to retreive data from translate engine API. Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nDo I have the wrong version of Calibre? Do I need the newest calibre or an older version to make it work? Would highly need a response, since this tool is great and I really need it :)\r\n",
      "state": "closed",
      "author": "lelediaz",
      "author_type": "User",
      "created_at": "2023-06-18T10:17:45Z",
      "updated_at": "2024-02-01T17:32:29Z",
      "closed_at": "2023-06-21T16:11:46Z",
      "labels": [
        "documentation",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/70/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/70",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/70",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.358023",
      "comments": [
        {
          "author": "bookfere",
          "body": "The error information indicates that you have no permission to access the DeepL API. Perhaps you used an invalid API Key? I suggest you check if the API key is in the correct format: \r\n\r\n```\r\nxxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx:fx\r\n```",
          "created_at": "2023-06-18T11:36:10Z"
        },
        {
          "author": "lelediaz",
          "body": "thanks for the response, I checked the API key but it's in the format you have written before, so I don't know what the problem is here, but now DeepL free is working fine only DeepL and the pro aren't working, anyway, thanks again",
          "created_at": "2023-06-18T11:55:15Z"
        },
        {
          "author": "bookfere",
          "body": "<img width=\"592\" alt=\"deepl\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/79498cd2-2eb5-430f-baea-34583e6311a8\">\r\n\r\nI tested it again, and there doesn't seem to be any problem.",
          "created_at": "2023-06-18T12:11:58Z"
        },
        {
          "author": "lelediaz",
          "body": "Hey,\r\nAlright good to know, so I have the DeepL pro plan (advanced) it may be this why it doesn't work, since it's not DeepL API, although I have a key that can be used for any Cat Tools and stuff like that. \r\nBut I found a way to use DeepL free without any breaks although it's stated to be unstable",
          "created_at": "2023-06-19T08:00:12Z"
        },
        {
          "author": "bookfere",
          "body": "Thanks for providing us with additional information to distinguish between DeepL API Pro and DeepL Pro. We will include these differences in the project's Wiki.\r\n\r\nWe noticed that only an API documentation is available on DeepL's website. We have not yet found a way to integrate DeepL Pro like [thei",
          "created_at": "2023-06-19T09:57:52Z"
        }
      ]
    },
    {
      "issue_number": 166,
      "title": "Error translate with DeepL (free)",
      "body": "Hello guys,\r\nFirst thing I want to say is thank you very much for creating this plugin!\r\n\r\nThe error I am expieriencig is this one bellow.\r\n\r\nI am trying to translate a book (Harry Potter and the chamber of secrets) and I get this error.\r\n\r\nThe translate engine I selected is DeepL (Free) and the engine API error kinda confuses me\r\n\r\n\r\n\r\n```\r\nOriginal: Pottermore.com\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data:\r\nTraceback (most recent call last):\r\nFile \"calibre_plugins.ebook_translator.engines.base \", line 185, in get_result\r\nFile \"mechanize\\_mechanize.py\", line 257, in open\r\nFile \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals >.httperror_seek_wrapper: HTTP Error 429:\r\n==============================\r\nOriginal: Contents\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data:\r\nTraceback (most recent call last):\r\nFile \"calibre_plugins.ebook_translator.engines.base \", line 185, in get_result\r\nFile \"mechanize\\_mechanize.py\", line 257, in open\r\nFile \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals >.httperror_seek_wrapper: HTTP Error 429:\r\n```\r\n\r\nWith the Google translate, everything works fine but I trust more DeepL translation, I think it's much more better than google.",
      "state": "closed",
      "author": "pyromaker",
      "author_type": "User",
      "created_at": "2023-11-02T10:45:05Z",
      "updated_at": "2024-02-01T17:28:16Z",
      "closed_at": "2023-11-19T15:40:36Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/166/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/166",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/166",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.569248",
      "comments": [
        {
          "author": "kamaqnkatyqn",
          "body": "This is just an idea:\r\n\r\nI suggest implementing the glossary function for the DeepL translation provider (using the Free API).\r\n\r\nThe other glossary function, which is already implemented in the plugin, is not bad, but I realized that grammar errors are introduced when I use it. With DeepL's native ",
          "created_at": "2023-11-06T14:08:20Z"
        },
        {
          "author": "pyromaker",
          "body": "I tried with DeepL free with API.\r\nThe translation completed untill 99%.\r\n\r\nIn the end I got this error.\r\n\r\n```\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engine",
          "created_at": "2023-11-07T16:46:01Z"
        },
        {
          "author": "bookfere",
          "body": "I can identify two issues from the information you provided:\r\n\r\n* __HTTP Error 429__: Your request frequency exceeds the limits of DeepL. [via](https://support.deepl.com/hc/en-us/articles/360020710619-Error-code-429)\r\n* __HTTP Error 456__: The character count of a paragraph exceeds the limits of Dee",
          "created_at": "2023-11-08T04:04:00Z"
        },
        {
          "author": "pyromaker",
          "body": "> I can identify two issues from the information you provided:\r\n> \r\n> * **HTTP Error 429**: Your request frequency exceeds the limits of DeepL. [via](https://support.deepl.com/hc/en-us/articles/360020710619-Error-code-429)\r\n> * **HTTP Error 456**: The character count of a paragraph exceeds the limit",
          "created_at": "2023-11-13T11:16:03Z"
        },
        {
          "author": "bookfere",
          "body": "The performance of DeepL (Free) isn't as consistent as expected, so you might need to tweak the request settings to make it function smoothly. We suggest adjusting the default \"Interval\" setting of 1 second to an appropriate value that ensures continuous operation.",
          "created_at": "2023-11-16T06:57:04Z"
        }
      ]
    },
    {
      "issue_number": 174,
      "title": "[功能建议] 实验性地仅采用换行符作为非gpt类翻译引擎合并翻译请求时的段落标记",
      "body": "**可以是一个可选项**，经验上，我认为相较于使用特殊标记，这会对大多数传统机器翻译引擎要友好，也能节省一些字符数。具体到实现细节上，可以请求翻译前移除开头的空格、tab以及一些无意义的Unicode字符（日语小说经常有），返回翻译后再根据原文还原。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-11-18T06:54:52Z",
      "updated_at": "2023-12-23T14:16:01Z",
      "closed_at": "2023-12-23T14:16:01Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/174/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/174",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/174",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.792175",
      "comments": [
        {
          "author": "WeeAris",
          "body": "关于之前讨论中提到的[使用```\\n\\n```作标记万一其中有换行符被忽略或在编辑时被删掉，后面的译文就都错位了](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions/69#discussioncomment-7149973)的问题，可以```spiltlines()```，对比原文和译文的非空行数。",
          "created_at": "2023-11-18T07:14:18Z"
        },
        {
          "author": "bookfere",
          "body": "当前最新的代码分割段落默认使用了 `\\n\\n`，但是不太确定之前插入标记的方式是否有必要加一个选项让其成为可选。",
          "created_at": "2023-11-18T08:30:16Z"
        },
        {
          "author": "GoTop",
          "body": "> 当前最新的代码分割段落默认使用了 `\\n\\n`，但是不太确定之前插入标记的方式是否有必要加一个选项让其成为可选。\r\n\r\n请问最新版是指2.2.0版吗？\r\n\r\n我在这个版本里看到的还是用{{id_数字}}来分隔呢",
          "created_at": "2023-11-20T13:38:33Z"
        },
        {
          "author": "WeeAris",
          "body": "> > 当前最新的代码分割段落默认使用了 `\\n\\n`，但是不太确定之前插入标记的方式是否有必要加一个选项让其成为可选。\r\n> \r\n> 请问最新版是指2.2.0版吗？\r\n> \r\n> 我在这个版本里看到的还是用{{id_数字}}来分隔呢\r\n\r\n不是2.2.0，是指最新源码",
          "created_at": "2023-11-20T14:15:29Z"
        },
        {
          "author": "WeeAris",
          "body": "> 当前最新的代码分割段落默认使用了 `\\n\\n`，但是不太确定之前插入标记的方式是否有必要加一个选项让其成为可选。\r\n\r\n我测试了一下，好像确实没有必要",
          "created_at": "2023-11-20T14:16:06Z"
        }
      ]
    },
    {
      "issue_number": 194,
      "title": "gtp因为敏感词和句子一半不动了，怎么办",
      "body": "The translation is a direct translation of the given content and contains explicit and adult content. Please let me know if you would like to proceed with the translation.\r\n\r\n·······················\r\n只返回了一句这个，怎么办啊",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-12-20T12:27:16Z",
      "updated_at": "2023-12-20T18:18:37Z",
      "closed_at": "2023-12-20T18:18:37Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/194/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/194",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/194",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.973143",
      "comments": []
    },
    {
      "issue_number": 191,
      "title": "翻译过滤可否添加一个，反向功能。",
      "body": " 就是正则表达式中的内容，除此以外都翻译，和现在功能正好反过来。\r\n现在是过滤",
      "state": "open",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-12-11T17:04:34Z",
      "updated_at": "2023-12-19T17:50:20Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/191/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/191",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/191",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:32.973164",
      "comments": [
        {
          "author": "bookfere",
          "body": "可以更具体地描述一下需求，或许有更好的处理方法。",
          "created_at": "2023-12-11T19:47:11Z"
        },
        {
          "author": "tongcuyu",
          "body": "就是字面的意思，有些脚本，代码行不想动，只翻译某些特意标注出来的行，\r\n比如 \r\nXXXXXXX\r\nec “这是语段”\r\nxxxxxxxxx\r\n只翻译第二行，现在的功能是需要把所有需要过滤的行都要用正则表达式列出，才能过滤，\r\n我想反过来用\r\n",
          "created_at": "2023-12-15T17:52:24Z"
        },
        {
          "author": "tongcuyu",
          "body": "  就是有些是脚本代码和也行外语混合的。\r\n 我只想翻译这些外语，其他的完全保留原来的。\r\n  就怕漏翻译，导致整个脚本奔溃。\r\n 这玩意差一点都有可能出问题，所以我想个歪点子，把表达式反正用，不知道行不行，\r\n\r\n 哪怕漏翻译了，起码原来的代码不会错。",
          "created_at": "2023-12-19T17:50:19Z"
        }
      ]
    },
    {
      "issue_number": 154,
      "title": "翻译完成后，导出epub错误",
      "body": "如题：\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/30276eb5-8524-40ad-ba44-d50ed12d4243)\r\n\r\n\r\n翻译已完成。\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 112, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 104, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 309, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 134, in add_translation\r\n  File \"src/lxml/etree.pyx\", line 3233, in lxml.etree.XML\r\n  File \"src/lxml/parser.pxi\", line 1913, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1793, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1082, in lxml.etree._BaseParser._parseUnicodeDoc\r\n  File \"src/lxml/parser.pxi\", line 615, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 725, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 654, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 1\r\nlxml.etree.XMLSyntaxError: PCDATA invalid Char value 8, line 1, column 54",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-10-14T07:54:49Z",
      "updated_at": "2023-12-19T06:07:52Z",
      "closed_at": "2023-12-19T06:07:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/154/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/154",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/154",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:33.177588",
      "comments": [
        {
          "author": "bookfere",
          "body": "看起来是特定内容的问题，可以把发一份电子书样本到 bookfere@gmail.com，以便测试。",
          "created_at": "2023-10-14T18:20:13Z"
        },
        {
          "author": "Benson1997",
          "body": "电子书样本已发送至  [bookfere@gmail.com] ，辛苦啦~",
          "created_at": "2023-10-15T16:04:23Z"
        },
        {
          "author": "bookfere",
          "body": "#189",
          "created_at": "2023-12-19T06:07:51Z"
        }
      ]
    },
    {
      "issue_number": 190,
      "title": "Trim lengthy letters in translations generated by Google (free)",
      "body": "I'm wondering if there's a way to delete excessive letter or limit them to like 4 letters max after translating using google translate (free) because when translating from some languages (like japanese or korean) to english sometimes the letter will be translated into long one like aaaaaaaa, eeeeee and so on",
      "state": "closed",
      "author": "YukinoshitaYukino123",
      "author_type": "User",
      "created_at": "2023-12-10T19:10:21Z",
      "updated_at": "2023-12-14T07:02:40Z",
      "closed_at": "2023-12-14T07:02:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/190/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/190",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/190",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:33.416630",
      "comments": [
        {
          "author": "bookfere",
          "body": "Could you share some examples for testing? I'm not familiar with these two languages.",
          "created_at": "2023-12-11T02:31:28Z"
        },
        {
          "author": "YukinoshitaYukino123",
          "body": "here some examples:\r\nKorean\r\n![excessive1](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/128869659/1a83e7ac-91d3-4578-972a-19082dd5084f)\r\n![excessive2](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/128869659/b9073ff4-c90d-4b32-9549-b2ebcf96fdac)\r\nJapanese\r\n!",
          "created_at": "2023-12-11T13:04:13Z"
        },
        {
          "author": "bookfere",
          "body": "Based on your original post, is it okay to cut off long letters when they repeat more than four times?",
          "created_at": "2023-12-11T19:43:42Z"
        },
        {
          "author": "YukinoshitaYukino123",
          "body": "Yes, because it's usually just sound of expression like aaahh, ooooh and etc.",
          "created_at": "2023-12-11T20:37:48Z"
        }
      ]
    },
    {
      "issue_number": 181,
      "title": "the plugin crashes my internet and I need to reboot my router.",
      "body": "When I use the ebook translator plugin, with the free Google engine, it translates one book but if I want to translate another one or if I want to do it simultaneously, I lose the internet connection and it forces me to restart the router to be able to do another translation.\r\nOn other occasions, I have to restart the router a couple of times to be able to translate a single book, I don't know if the programme makes too many connections and collapses the internet or what the problem is... With the free DeepL, the same thing happens to me, it gets up to 80% of translation and then it crashes.",
      "state": "closed",
      "author": "Raygoga",
      "author_type": "User",
      "created_at": "2023-11-27T21:41:06Z",
      "updated_at": "2023-12-11T02:34:12Z",
      "closed_at": "2023-12-11T02:34:12Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/181/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/181",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/181",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:33.619766",
      "comments": [
        {
          "author": "bookfere",
          "body": "I don't think the internet issue is connected to the plugin. If you're considering whether the problem might be due to the frequency of requests, I'd recommend testing it out by adjusting the request concurrency and interval settings.",
          "created_at": "2023-11-28T13:02:05Z"
        },
        {
          "author": "Raygoga",
          "body": "Thank you very much for the answer, what parameters do you suggest I apply? How do I modify them? ",
          "created_at": "2023-11-28T23:00:32Z"
        },
        {
          "author": "bookfere",
          "body": "First, ensure that the \"**Concurrency limit**\" is set to **1**, then adjust the \"**Interval**\" to a **larger number**. All these options can be found in the plugin's general settings.",
          "created_at": "2023-12-04T14:02:02Z"
        }
      ]
    },
    {
      "issue_number": 183,
      "title": "建议一个混合翻译加自动校队的功能",
      "body": "chatgpt 翻译出现缺行缺段的情况\r\n之前就发生的类似的情况，特别是使用合并翻译的功能\r\nchatpgt 有时候会缺行\r\n\r\n比如 \r\nXXXXX\r\nXXXXXXX\r\nXXXXXXXXX\r\n\r\nchatgpt 只能返回两行第三行没了....\r\n但其他的翻译引擎不会。\r\n\r\n用通过原文和译文的行数进行一下校对，或者其他引擎对其进行校对。\r\n特别是有些大文本缺行缺段了，不知道，会出问题。\r\n",
      "state": "open",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-11-30T12:21:38Z",
      "updated_at": "2023-12-04T14:20:16Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/183/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/183",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/183",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:33.866113",
      "comments": [
        {
          "author": "bookfere",
          "body": "检查缺行的问题会随着 Issue #82 解决。用其他翻译校对也挺有意思，可以试试看。",
          "created_at": "2023-12-04T14:20:07Z"
        }
      ]
    },
    {
      "issue_number": 178,
      "title": "翻译引擎无法连接到网络，urllib.error.URLError: <urlopen error [WinError 10054] 远程主机强迫关闭了一个现有的连接。>",
      "body": "目前Google fan翻译引擎及ChatGPT均出现此问题\r\n![capture_20231126200028475](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/152068898/79fc7b80-d585-49a6-820c-292430869d3b)\r\n\r\n代理已连接成功\r\n![capture_20231126195530279](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/152068898/f30f3f02-6844-476b-a309-c02aac2df96a)\r\n\r\n",
      "state": "closed",
      "author": "FlameU4801",
      "author_type": "User",
      "created_at": "2023-11-26T12:02:46Z",
      "updated_at": "2023-11-26T21:05:56Z",
      "closed_at": "2023-11-26T21:05:30Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/178/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/178",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/178",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.101875",
      "comments": []
    },
    {
      "issue_number": 177,
      "title": "CHATGPT Issues",
      "body": "I'm using ChatGPT to translate an e-book, but after about 150 paragraphs it starts giving me problems, throwing up various errors and forcing me to translate line by line. Eventually, I had the same problem with Google Translate, which started working again after a few hours. GPT continues to have the same difficulty. The attempt I made with DeepL didn't even do any kind of translation. Before, I was able to translate normally.\r\n\r\nIt starts skipping steps and then gives an error: \r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n==============================\r\nOriginal: ‘Then why would one need to push a mortar up a mountain to be meaningful when you don't bring the pestle along?’\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests",
      "state": "closed",
      "author": "bclx1",
      "author_type": "User",
      "created_at": "2023-11-22T21:19:43Z",
      "updated_at": "2023-11-23T04:55:26Z",
      "closed_at": "2023-11-23T04:55:26Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/177/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/177",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/177",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.101896",
      "comments": [
        {
          "author": "bookfere",
          "body": "This is a duplicate issue similar to #156. Please adjust the \"**Concurrency limit**\" and \"**Interval**\" in settings to avoid this error.",
          "created_at": "2023-11-23T04:55:26Z"
        }
      ]
    },
    {
      "issue_number": 162,
      "title": "可否加入srt字幕文件的翻译功能",
      "body": "srt文件只是一个按照特定格式编写的txt文本，只需要跳过时间轴等等，就可以生成双语字幕。\r\n实用度极高",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-10-22T17:49:31Z",
      "updated_at": "2023-11-22T20:15:40Z",
      "closed_at": "2023-11-19T15:40:08Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/162/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/162",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/162",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.303664",
      "comments": [
        {
          "author": "anartigone",
          "body": "我尝试过用这个做srt字幕，效果很满意，但只是[一个临时解决方案](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions/107)。如果将来能有内置功能用就会方便很多了，因为不同的翻译引擎所输出的结果需要用不同的Regex技巧去替换。",
          "created_at": "2023-10-25T23:34:50Z"
        },
        {
          "author": "personalsrc-git",
          "body": "可以借用Anthemion Jutoh 这个epub编辑器作为中介，将srt文本导入Anthemion Jutoh ，生成epub文件，再用Ebook-Translator-Calibre-Plugin翻译，翻译后导出txt，再复制到srt里就行。",
          "created_at": "2023-11-02T05:42:04Z"
        },
        {
          "author": "bookfere",
          "body": "现在已为插件添加了翻译 SRT 字幕的功能，欢迎试用反馈。",
          "created_at": "2023-11-16T19:15:20Z"
        },
        {
          "author": "anartigone",
          "body": "> 现在已为插件添加了翻译 SRT 字幕的功能，欢迎试用反馈。\r\n\r\n非常好用，太棒了",
          "created_at": "2023-11-22T20:15:39Z"
        }
      ]
    },
    {
      "issue_number": 175,
      "title": "缓存目录里的sqlite文件会自动消失，请问是什么问题？",
      "body": "之前翻译了几本书，缓存目录里有几个缓存的sqlite数据库文件\r\n\r\n一个月后再去查看缓存目录，里面什么都没有了",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-11-20T13:25:16Z",
      "updated_at": "2023-11-20T16:10:57Z",
      "closed_at": "2023-11-20T16:08:58Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/175/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/175",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/175",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.551387",
      "comments": []
    },
    {
      "issue_number": 130,
      "title": "[Feature Request] Show up the character count before translating",
      "body": "can you add a warning window that tells how many characters/credits a translation will cost?",
      "state": "closed",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2023-09-19T14:04:57Z",
      "updated_at": "2023-11-19T18:59:14Z",
      "closed_at": "2023-11-19T18:59:14Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/130/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/130",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/130",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.551405",
      "comments": []
    },
    {
      "issue_number": 158,
      "title": "Google翻译引擎设置问题",
      "body": "Google (Advanced)翻译引擎设置中的“PROJECT_NUMBER_OR_ID|KEY PATH”中的“key_path”要怎么写才正确呢，JSON密钥文件都下载到电脑本地了，但是路径咋填都不行，测试显示如下：\r\n“Traceback (most recent call last):\r\nFile “calibre_plugins.ebook_translator.components.engine”, line 66, in translate_text\r\nFile “calibre_plugins.ebook_translator.engines.google”, line 129, in translate\r\nFile “calibre_plugins.ebook_translator.engines.google”, line 59, in _get_credential\r\nFile “subprocess.py”, line 966, in __init__\r\nFile “subprocess.py”, line 1435, in _execute_child\r\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。”\r\n麻烦指导一下。",
      "state": "closed",
      "author": "EdisonWendy",
      "author_type": "User",
      "created_at": "2023-10-19T09:23:04Z",
      "updated_at": "2023-11-19T15:39:52Z",
      "closed_at": "2023-11-19T15:39:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/158/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/158",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/158",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.551411",
      "comments": [
        {
          "author": "bookfere",
          "body": "应该是用 | 分隔的项目 ID 和密钥文件的绝对路径。\r\n\r\n假设你的项目 ID 是 `my-project`，密钥文件名是 `my-key.json`，是存放桌面上的（以 Windows 为例）。那么应该这样写：\r\n\r\n```\r\nmy-project|C:\\Users\\YOURNAME\\Desktop\\my-key.json\r\n```\r\n\r\n目前这个功能比较简单，未来应该会改得更易用些。",
          "created_at": "2023-11-08T03:39:25Z"
        },
        {
          "author": "EdisonWendy",
          "body": "> 应该是用 | 分隔的项目 ID 和密钥文件的绝对路径。\r\n> \r\n> 假设你的项目 ID 是 `my-project`，密钥文件名是 `my-key.json`，是存放桌面上的（以 Windows 为例）。那么应该这样写：\r\n> \r\n> ```\r\n> my-project|C:\\Users\\YOURNAME\\Desktop\\my-key.json\r\n> ```\r\n> \r\n> 目前这个功能比较简单，未来应该会改得更易用些。\r\n\r\n我是按照“my-project|C:\\Users\\YOURNAME\\Desktop\\my-key.json”这个格式填写的，难道是我的json文件不正确吗？测试仍然",
          "created_at": "2023-11-08T16:09:13Z"
        },
        {
          "author": "bookfere",
          "body": "原来的可用性有问题，现在改了一下，你可以再试试看。\r\n\r\n注意，插件将身份验证方式改成了 [Application Default Credentials（ADC）](https://cloud.google.com/docs/authentication/provide-credentials-adc)，不再需要项目 ID 和 JSON 文件，只需要在你的本机环境中运行以下命令，然后登录 Google 账户准许必要的权限即可。插件会读取当前活跃配置的项目 ID。\r\n\r\n```\r\ngcloud auth application-default login\r\n```\r\n\r\n插件会尝试从系统环境变",
          "created_at": "2023-11-13T19:24:15Z"
        }
      ]
    },
    {
      "issue_number": 161,
      "title": "最近使用gpt翻译内容，会莫名其妙把把内容变成英文。",
      "body": "我使用了合并翻译，把英语或者日文翻译成中文，都会出现，返回内容变成英语的情况。\r\n应该是bug，求修复",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-10-22T17:44:07Z",
      "updated_at": "2023-11-17T12:21:04Z",
      "closed_at": "2023-11-17T12:21:04Z",
      "labels": [
        "question"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/161/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/161",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/161",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.753607",
      "comments": [
        {
          "author": "tongcuyu",
          "body": "以前没有这个bug，现在越来越严重，有点GPT没法用了.",
          "created_at": "2023-10-23T02:26:12Z"
        },
        {
          "author": "bookfere",
          "body": "修改过提示词吗？默认提示词 `Translate the given content from <slang> to <tlang> only` 不应该出现这个问题。",
          "created_at": "2023-11-08T04:21:05Z"
        }
      ]
    },
    {
      "issue_number": 172,
      "title": "如何添加新的翻译引擎?",
      "body": "非常喜欢这个插件,感谢作者的无私贡献!\r\n我之前在使用google的免费翻译,能正常使用,但我想尝试更高的翻译质量.\r\n现在想使用chatGPT的免费API版本,但不知道如何添加翻译引擎,按照说明文档也不知道代码如何修改.\r\n希望得到帮助,谢谢.\r\n是chatchatanywhere的API和key\r\nhttps://api.chatanywhere.com.cn\r\n",
      "state": "closed",
      "author": "9zang",
      "author_type": "User",
      "created_at": "2023-11-17T12:08:49Z",
      "updated_at": "2023-11-17T12:19:39Z",
      "closed_at": "2023-11-17T12:16:48Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/172/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/172",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/172",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.939558",
      "comments": []
    },
    {
      "issue_number": 167,
      "title": "ChatGPT（OpenAI）能加入自定义模型的功能吗？",
      "body": "请问，ChatGPT（OpenAI）能加入自定义模型的功能吗？\r\n我试过[自定义翻译引擎配方](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/Custom-Translation-Engine-Recipes)里的ChatGPT，但是合并翻译功能完全失效，占位符一个都没保存下来。",
      "state": "closed",
      "author": "Koto0701",
      "author_type": "User",
      "created_at": "2023-11-05T10:55:46Z",
      "updated_at": "2023-11-15T14:29:19Z",
      "closed_at": "2023-11-15T14:29:18Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/167/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/167",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/167",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:34.939578",
      "comments": [
        {
          "author": "bookfere",
          "body": "你所说的“自定义模型”是指 ChatGPT 新增加但是插件还未包含的模型吗？\r\n\r\n自定义翻译引擎和内置翻译引擎用的是同一个合并翻译功能，如果表现不一致就是需要修复的错误。",
          "created_at": "2023-11-08T04:27:33Z"
        }
      ]
    },
    {
      "issue_number": 169,
      "title": "翻译-提电子书内容异常-有的epub不支持翻译吗 ?",
      "body": "calibre, version 6.29.0\r\n错误： 未处理的异常: <b>TypeError</b>:find() takes no keyword arguments\r\n\r\ncalibre 6.29 Portable embedded-python: True\r\nWindows-10-10.0.19041-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.19041')\r\nPython 3.10.1\r\nWindows: ('10', '10.0.19041', 'SP0', 'Multiprocessor Free')\r\nInterface language: zh_CN\r\nSuccessfully initialized third party plugins: Ebook Translator (2, 2, 0)\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.advanced\", line 90, in prepare_ebook_data\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 35, in extract_ebook_elements\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 33, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 383, in get_page_elements\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 204, in get_elements\r\nTypeError: find() takes no keyword arguments\r\n",
      "state": "closed",
      "author": "gaocrownclown",
      "author_type": "User",
      "created_at": "2023-11-10T07:44:28Z",
      "updated_at": "2023-11-14T10:07:15Z",
      "closed_at": "2023-11-14T10:06:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/169/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/169",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/169",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.155240",
      "comments": [
        {
          "author": "gaocrownclown",
          "body": "电子书是: https://zh.z-library.se/book/5294714/20a4b2",
          "created_at": "2023-11-10T11:05:48Z"
        },
        {
          "author": "bookfere",
          "body": "错误已修复，下载安装 [Rolling Release](https://translator.bookfere.com) 再试试看。",
          "created_at": "2023-11-11T07:50:36Z"
        },
        {
          "author": "gaocrownclown",
          "body": "thx~ 已经能成功解析",
          "created_at": "2023-11-14T10:07:14Z"
        }
      ]
    },
    {
      "issue_number": 168,
      "title": "ChatGPT HTTP Error 429: Too Many Requests",
      "body": "I've been using this plugin for a while now and I really love it! \r\n\r\nI was only able to use DeepL (Free) and Google for Translation cause ChatGPT doesn't work for me. I followed through the instructions carefully, like getting my own API and etc. however it always result to HTTP Error 429: Too Many Requests. \r\n\r\nI also tried clearing my cache and browser cache and use VPN but it is still the same.\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/131165429/708cab63-34ef-4626-a043-837029d78a80)\r\n\r\noh nevermind. I just saw that this couldn't be fix.\r\n",
      "state": "closed",
      "author": "euryyydice",
      "author_type": "User",
      "created_at": "2023-11-10T05:25:41Z",
      "updated_at": "2023-11-13T19:36:41Z",
      "closed_at": "2023-11-10T05:28:07Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/168/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/168",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/168",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.334126",
      "comments": []
    },
    {
      "issue_number": 165,
      "title": "cover image has an id !=cover renaming to work around bug (stucked it on it like 2.5 hour)",
      "body": "ebook translator v2.2.0 , calibre 6.28, windows 10\r\n\t\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/43301560/a8d9c291-a656-42ef-82c8-6306f34ba521)\r\nthis running time is using cached translation so the time is only for bug it was already translated.\r\n[this is the paste of job log](https://katb.in/gicuyuvicax)",
      "state": "closed",
      "author": "ghost",
      "author_type": "User",
      "created_at": "2023-10-26T09:55:03Z",
      "updated_at": "2023-11-13T19:36:08Z",
      "closed_at": "2023-10-28T08:14:36Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/165/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/165",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/165",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.334145",
      "comments": []
    },
    {
      "issue_number": 160,
      "title": "deepl free api custom url",
      "body": "i have a server deployed deeplx i want to use it instead of calibre deploy itself, thanks.",
      "state": "closed",
      "author": "ghost",
      "author_type": "User",
      "created_at": "2023-10-20T19:17:51Z",
      "updated_at": "2023-11-13T19:34:21Z",
      "closed_at": "2023-10-25T22:45:12Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/160/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/160",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/160",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.334151",
      "comments": [
        {
          "author": "anartigone",
          "body": "You can refer to the deeplx part of [this guide](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions/83#Linux).\r\n\r\n```\r\n{\r\n    \"name\": \"DeepL X\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"EN\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"ZH\"\r\n      ",
          "created_at": "2023-10-22T03:20:50Z"
        },
        {
          "author": "ghost",
          "body": "@anartigone this is really good written text, since its in chinese i tried to translate it into turkish but it was not that clear however, i will try to find a way to use your guide to run it on windows, i guess you already gave a tool that works on all platform but i still dunno how to use tor as p",
          "created_at": "2023-10-22T04:49:12Z"
        },
        {
          "author": "ghost",
          "body": "@anartigone by the way i really liked your blog's css, can you post it?",
          "created_at": "2023-10-22T15:31:23Z"
        },
        {
          "author": "anartigone",
          "body": "> @anartigone this is really good written text, since its in chinese i tried to translate it into turkish but it was not that clear however, i will try to find a way to use your guide to run it on windows, i guess you already gave a tool that works on all platform but i still dunno how to use tor as",
          "created_at": "2023-10-25T21:57:44Z"
        },
        {
          "author": "ghost",
          "body": "@anartigone ah, i figured it out thanks",
          "created_at": "2023-10-25T22:45:12Z"
        }
      ]
    },
    {
      "issue_number": 159,
      "title": "使用自己的ChatGPT api，SSL证书验证失败",
      "body": "这个api在别处都可以正常工作，但是在插件里面无法解析返回值，显示证书验证失败了，希望能协助解决，感谢🙏\r\n\r\n报错如下：\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 92, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 195, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate has expired (_ssl.c:997)>\r\n\r\n![Uploading image.png…]()\r\n",
      "state": "closed",
      "author": "Heithon",
      "author_type": "User",
      "created_at": "2023-10-19T09:37:05Z",
      "updated_at": "2023-11-11T07:51:38Z",
      "closed_at": "2023-11-11T07:51:38Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/159/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/159",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/159",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.565851",
      "comments": [
        {
          "author": "bookfere",
          "body": "图片未上传成功。你所说的“自己的ChatGPT api”具体指的是什么，是 OpenAI 官方提供的 API 吗？",
          "created_at": "2023-11-08T03:42:16Z"
        },
        {
          "author": "Heithon",
          "body": "![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/85172139/0e316c16-ae5e-41a3-a19f-8211d809313e)\r\n\r\n我使用的是转发接口，用的自己的端口地址，在其他应用上工作正常，比如chatbox还有一些浏览器插件都是正常的。Calibre中测试翻译显示如上，证书已过期。\r\n",
          "created_at": "2023-11-08T07:07:43Z"
        },
        {
          "author": "bookfere",
          "body": "现在不再检查证书了，可以访问 https://translator.bookfere.com 点击【Rolling Release】下载刚刚更新的版本再试试看。",
          "created_at": "2023-11-08T10:17:36Z"
        }
      ]
    },
    {
      "issue_number": 98,
      "title": "字体样式设置",
      "body": "未来是否可以考虑字体样式的设置，比如字号，粗体斜体等等。现在只有颜色。如果能支持，在实际阅读中可以带来不少便利~~",
      "state": "open",
      "author": "pretenderlu",
      "author_type": "User",
      "created_at": "2023-07-24T11:09:35Z",
      "updated_at": "2023-11-08T10:24:57Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/98/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/98",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/98",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.750427",
      "comments": [
        {
          "author": "bookfere",
          "body": "如果需要较多有关字体的样式，提供直接编写 CSS 样式的功能是不是更好一些？",
          "created_at": "2023-07-24T16:27:23Z"
        },
        {
          "author": "pretenderlu",
          "body": "> \r\n\r\n当然可以，但是我觉得常见的字体样式选项可以提前给出，还是要考虑到很多用户自己不一定会写~~。如果是编写CSS的话，其实calibre里也可以直接改了，没必要插件里再来一遍。",
          "created_at": "2023-07-25T02:22:32Z"
        },
        {
          "author": "yangping4271",
          "body": "之前版本，译文是有单独样式和原文区别的，现在没有了，没法单独给译文设置样式了，求恢复译文样式",
          "created_at": "2023-11-08T02:28:49Z"
        },
        {
          "author": "bookfere",
          "body": "@yangping4271 你指的是更改译文颜色吗？这个功能没有改动过，你可以在设置中设置译文颜色。",
          "created_at": "2023-11-08T04:10:33Z"
        },
        {
          "author": "yangping4271",
          "body": "> @yangping4271 你指的是更改译文颜色吗？这个功能没有改动过，你可以在设置中设置译文颜色。\r\n\r\n翻译的译文之前如果是翻译成中文的话，是有lang=\"zh\"这个标签吧，现在好像没有了。不过能设置译文颜色，也算是和原文样式有个区别，可以再单独设置css来更改显示样式",
          "created_at": "2023-11-08T08:06:33Z"
        }
      ]
    },
    {
      "issue_number": 156,
      "title": "ChatGPT translator engine error",
      "body": "i tried latest rolling release for ebook translator, but when i try to translate a book using chatgpt engine it show error:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 91, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 196, in get_result\r\nException: Can not parse returned response. Raw data: \r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 186, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\ndo i need chatgpt premium account? thanks",
      "state": "closed",
      "author": "huronhorn",
      "author_type": "User",
      "created_at": "2023-10-16T16:05:22Z",
      "updated_at": "2023-11-08T03:29:43Z",
      "closed_at": "2023-11-08T03:29:43Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/156/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/156",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/156",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:35.985270",
      "comments": [
        {
          "author": "jcmefra",
          "body": "Same issue.",
          "created_at": "2023-10-19T04:13:24Z"
        },
        {
          "author": "bookfere",
          "body": "Your OpenAI account has free tier rate limits of 3 requests per minute. To ensure you stay within these limits, please be mindful of your request frequency. If you need more requests, consider upgrading to a premium plan.",
          "created_at": "2023-11-08T03:29:12Z"
        }
      ]
    },
    {
      "issue_number": 152,
      "title": "ChatGPT issues",
      "body": "Decided to leave feedback after attempting a translation from a japanese book into english. So far, I found these issues while using the translation app:\r\n\r\n1. I was unable to change ChatGPTs (OpenAI) prompt a few times (I had already changed it before). I tried to just delete to go back to the original, and then I made some more changes to the prompt, but it took a while to change the prompt.",
      "state": "closed",
      "author": "jessykalycia",
      "author_type": "User",
      "created_at": "2023-10-12T00:37:41Z",
      "updated_at": "2023-10-12T05:17:26Z",
      "closed_at": "2023-10-12T05:17:26Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/152/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/152",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/152",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:36.152012",
      "comments": [
        {
          "author": "bookfere",
          "body": "Duplicate to #153.",
          "created_at": "2023-10-12T05:17:26Z"
        }
      ]
    },
    {
      "issue_number": 151,
      "title": "自定义引擎，翻译速度特别慢。",
      "body": "同epub文件，同样自定义的第三方引擎，在沉**翻译插件中，速度几乎快了8-10倍。（控制了各变量，同样的设备和网络环境中）\r\n9\r\n\r\nCalibre版本号：v6.27\r\n插件版本号：v2.2.0\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/ba9fe97e-0961-42c4-b5d3-bc1176173062)\r\n\r\n\r\n请大佬帮忙看下是哪里的设置问题（是代理设置User-Agent吗？还是考虑到批量翻译，所以限了速度以保持稳定性呢？）。\r\n\r\n（很长的提示词也删掉了，换成了最基本的  \"role\": \"user\",\r\n                \"content\": \"<text>\"）\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/42253d3c-a0bf-4ae7-9c2b-0e329f8b7a66)\r\n\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/7a3ba9bd-1346-4f54-b0e6-f7ad1aa62a89)\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/0e148cfd-7b2e-4554-b698-94e537f4a8bb)\r\n\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/bc2032c0-f124-4024-99fa-c16afce38e42)\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/f950ef86-d4fa-4517-be91-1399756b953d)\r\n\r\n\r\n`\r\n{\r\n    \"name\": \"AI GUO GUO\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"English\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"Chinese\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://api.aiguoguo199.com/v1/chat/completions\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"User-Agent\": \"one-api\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer sk-*******************************************************Fa\"\r\n        },\r\n        \"data\": {\r\n            \"model\": \"gpt-3.5-turbo\",\r\n            \"messages\": [\r\n  {\r\n        \"role\": \"system\",\r\n                \"content\": \"You're a professional translator.Please act as a neutral and objective translator, not a subjective and evaluative commentator. Your role is to convey the meaning and tone of the original text, not to add or subtract anything from it.\\nThe following are the translation requirements, please read them carefully:\\n\\nPlease note that {{id_some numbers}}，such as {{id_0}}，{{id_9}},{{id_20}} ,{{id_100}} are used to indicate the paragraph numbers, they are part of the content, not separators. Do not ignore or delete them in the translation. Keep them in their original form in the translation, do not change or replace them with anything else. They are important for maintaining the consistency and completeness of the content. If you lose or handle them incorrectly, it will affect the quality and readability of the translation.\\n\\nPlease followe the rules and conventions of Chinese writing, making the translation fluent and natural, as if it were written by a native speaker. Do not sacrifice the accuracy or fidelity of the original text.\\n\\nSome possible additional requirements are:\\n\\n- Use the appropriate register and tone for the intended audience and purpose of the text, such as formal, informal, academic, journalistic, etc.\\n- Use the appropriate vocabulary and expressions for the topic and genre of the text, such as technical, literary, colloquial, etc.\\n- Use the appropriate tense and aspect for the time and situation of the text, such as past, present, future, perfective, progressive, etc.\\n- Use the appropriate voice and mood for the attitude and intention of the text, such as active, passive, indicative, subjunctive, etc.\\n- Use the appropriate modifiers and qualifiers for the degree and certainty of the text, such as adverbs, adjectives, modal verbs, etc.\\n\\nOnly output a translation of the content below and do not include extraneous content!\\n\\nPlease do not translate what I have asked of you.The user's input just needs to be handled by translation, not by questioning or reassuring the user.Please don't make any comments.\\n\\n***\\n\\nThe following after the colon is the content inputted by the user which needs to be translated, please read it carefully:\"\r\n                },\r\n                 {\r\n                 \"role\": \"user\",\r\n                \"content\": \"<text>\"\r\n        }\r\n                              ]\r\n        }\r\n    },\r\n    \"response\": \"response['choices'][0]['message']['content']\"\r\n}\r\n`",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-10-08T03:29:54Z",
      "updated_at": "2023-10-10T14:55:01Z",
      "closed_at": "2023-10-10T10:43:14Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/151/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/151",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/151",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:36.342341",
      "comments": [
        {
          "author": "bookfere",
          "body": "你把并发同样设置成 10 再试试看。",
          "created_at": "2023-10-08T06:07:25Z"
        },
        {
          "author": "Benson1997",
          "body": "改成10了，还是有点慢呢\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/82199280-5ce2-4ae2-9c64-d32e44c4a5c5)\r\n",
          "created_at": "2023-10-08T11:21:20Z"
        },
        {
          "author": "bookfere",
          "body": "这是我所能想的两种排查问题的方法：一是确认没有在设置中启用代理，确保你的请求不受代理影响；二是把请求重试次数设为 `0`，超时也设为一个较低的值，如 `10`，以确保对方服务器没有频繁出现错误。如果这些都没问题，可能就需要你自己查看代码排查问题了。",
          "created_at": "2023-10-08T13:03:08Z"
        },
        {
          "author": "Benson1997",
          "body": "由于api中转站需要代理，所以是设置了代理。超时设置了10，速度也没有明显变化。国庆前还挺快的，也不知道啥问题了，只能先回退到 v2.1.4了。🤣\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/d302df60-2c33-4217-bb04-f826e8d17c0c)\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/115df216-1",
          "created_at": "2023-10-08T15:57:11Z"
        },
        {
          "author": "Benson1997",
          "body": "今天翻译速度恢复了，估计是openai 前几天的事，这几天调整导致的问题。",
          "created_at": "2023-10-10T14:55:00Z"
        }
      ]
    },
    {
      "issue_number": 150,
      "title": "GPT合并翻译时候出现“错误信息：无法解析返回的响应。原始数据：The read operation timed out”",
      "body": "怎么办，什么bug吗？\r\n而且这句话在原文中就不出现了，现在还要手动一句一句的查看一遍，否则漏一句都不知道。\r\n希望下个版本修复这个bug",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-10-08T00:50:59Z",
      "updated_at": "2023-10-10T10:42:49Z",
      "closed_at": "2023-10-10T10:42:48Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/150/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/150",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/150",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:36.524309",
      "comments": [
        {
          "author": "bookfere",
          "body": "对于需要较长时间运算的输入 ChatGPT 的响应有时会很慢，你可以在设置中把请求超时时间设置长一些再试试看。\r\n\r\n另外，错误中的“原始数据”指的不是“原文数据”而是响应的原始数据，想要查看哪句没翻译，可以使用高级模式，里面可以看到每个段落的翻译状态。",
          "created_at": "2023-10-08T06:13:35Z"
        }
      ]
    },
    {
      "issue_number": 138,
      "title": "ChatGPT engine error information",
      "body": "Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 89, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 181, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 400: Bad Request",
      "state": "closed",
      "author": "TYLERCHEN999",
      "author_type": "User",
      "created_at": "2023-09-28T08:18:35Z",
      "updated_at": "2023-10-10T01:33:10Z",
      "closed_at": "2023-10-03T14:59:30Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/138/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/138",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/138",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:36.693547",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your feedback. Does this issue occur when translating every paragraph or only with a specific one? Have you made any modification to the ChatGPT API endpoint in the settings?\r\n\r\n谢谢反馈。翻译所有段落都出现这个问题，还是翻译某个段落时出现这个问题？是否在设置中改动了 ChatGPT 的 API 端点？",
          "created_at": "2023-09-28T17:39:33Z"
        },
        {
          "author": "TYLERCHEN999",
          "body": "我现在完全无法正常使用这个插件，API端点没有改动过，也卸载重装这个插件好几次，之前用chatgpt（azure）和openai都正常，测试翻译时就显示上面的信息，现在连DeepL和其它引擎似乎也都不行，不知道啥原因，对梯子设置有啥要求吗？",
          "created_at": "2023-10-10T01:33:10Z"
        }
      ]
    },
    {
      "issue_number": 149,
      "title": "Br标签和p标签",
      "body": "br标签的不识别为一行，全部并起来当成一段翻译了，p标签的段落正常视为一行，要怎么解决？",
      "state": "closed",
      "author": "weloe",
      "author_type": "User",
      "created_at": "2023-10-05T14:17:12Z",
      "updated_at": "2023-10-06T09:08:06Z",
      "closed_at": "2023-10-06T09:08:06Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/149/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/149",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/149",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:36.938658",
      "comments": [
        {
          "author": "bookfere",
          "body": "此问题同 #148，目前解决了翻译后换行被删除的问题，你可以通过插件主页 http://translator.bookfere.com 通过”Rolling Version”按钮下载安装修复后的版本。",
          "created_at": "2023-10-05T14:52:18Z"
        }
      ]
    },
    {
      "issue_number": 136,
      "title": "在 自定义翻译引擎 中，如何使用提示词，屏蔽ChatGPT把包含疑问词的标题当成问句",
      "body": "老大，请问怎么在 自定义翻译引擎中，如何屏蔽ChatGPT把包含疑问词的标题当做问句给回答了（只要翻译，译文换行即可。）\r\n\r\n没有自带的GPT翻译引擎的设置区域。\r\n\r\n是应该在代码里面怎么添加上吗？😃\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/698ff497-e45a-465a-9101-939c5eb69158)\r\n\r\n严格的说，还不是疑问句，只是包含疑问句🤣\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/6d1c6b73-679e-46f9-a793-ed281558b503)\r\n",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-09-27T12:41:46Z",
      "updated_at": "2023-10-05T11:03:03Z",
      "closed_at": "2023-09-27T15:56:25Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/136/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/136",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/136",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:37.201290",
      "comments": []
    },
    {
      "issue_number": 146,
      "title": "设置”合并翻译“为15000字符，使用自定义gpt-3.5-turbo-16k-0613来翻译，会提示HTTP Error 504: Gateway Time-out。请问如何设置超时时间？",
      "body": "我使用python中，使用相同的第三方chatgpt api、prompt、需要翻译的段落，进行翻译，估计3-4分钟就可以正常返回翻译内容了。\r\n\r\n第三方的chatgpt后台显示使用的token和费用如下：\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/3f1b33d9-53dc-4b3a-99b3-fb24309bd605)\r\n\r\n在Calibre中中，如果设置插件”合并翻译“为10000字符，也可以正常获取到翻译结果。\r\n\r\n但是当设置”合并翻译“提高到15000字符时，大概3-5分钟，会出现HTTP Error 504: Gateway Time-out：\r\n```\r\n错误信息：无法从翻译引擎API获取数据。\r\n无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 185, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 504: Gateway Time-out\r\n```\r\n\r\n就算将插件的\"HTTP请求\"-”超时（秒）“设置为6000s，也就是100分钟，还是会出现相同的错误\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/67770078-919b-4f9e-82d7-9f936f63dc7e)\r\n\r\n第三方的chatgpt后台未显示此次请求产生的账单，说明翻译请求未发送到服务器。\r\n\r\n不知道插件使用request()时，是否有字符限制？\r\n\r\n不知道插件除了\"HTTP请求\"-”超时（秒）“，是不是还有默认的超时时间设置？\r\n或者是Calbre里已经设置了请求网络连接的时间？",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-10-03T11:39:44Z",
      "updated_at": "2023-10-05T11:00:49Z",
      "closed_at": "2023-10-05T11:00:31Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/146/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/146",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/146",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:37.201314",
      "comments": [
        {
          "author": "bookfere",
          "body": "[504 Gateway Timeout](https://www.rfc-editor.org/rfc/rfc9110#name-504-gateway-timeout) 指的是第三方服务器无法及时从上游服务器获取到响应，和客户端的超时设置没关系。",
          "created_at": "2023-10-03T11:54:16Z"
        },
        {
          "author": "GoTop",
          "body": "> [504 Gateway Timeout](https://www.rfc-editor.org/rfc/rfc9110#name-504-gateway-timeout) 指的是第三方服务器无法及时从上游服务器获取到响应，和客户端的超时设置没关系。\r\n\r\n但是我使用python代码通过chatgpt api来获取插件组合出来的15000字符的段落的翻译，是正常的\r\n使用插件获取10000字符组合的段落的翻译，插件也能正常获取到chatgpt的翻译结果",
          "created_at": "2023-10-03T12:21:19Z"
        },
        {
          "author": "bookfere",
          "body": "根据你提供的信息，我没能想到问题会出在什么地方。你可以将你使用的代码和插件的代码对比一下，看能否找到问题所在。这个问题和你之前在 Issue #137 中描述问题相似，缩短字符数可能是个更好的选择。",
          "created_at": "2023-10-03T15:15:43Z"
        }
      ]
    },
    {
      "issue_number": 144,
      "title": "[Feature request] Utilizing local LLM model such as LLaMA.cpp or Baichuan ",
      "body": "Hi! Thanks for the great work, this is super helpful. \r\n\r\nConsidering the availability of LLMs on local machines, especially with the ability to quantify LLMs (such as LLaMA.cpp https://github.com/ggerganov/llama.cpp), LLMs can be relatively small and work on local computers and it would be good if this plugin can also support that, so we can run the translation on local machine without using these online translation services. Thanks for your work again! ",
      "state": "closed",
      "author": "maltoseslope",
      "author_type": "User",
      "created_at": "2023-10-01T22:50:58Z",
      "updated_at": "2023-10-05T11:00:00Z",
      "closed_at": "2023-10-05T11:00:00Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/144/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/144",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/144",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:37.449962",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your suggestion. I apologize for my lack of experience in the area of large language models. Could you please clarify if it's possible to utilize a web API from the project you mentioned?",
          "created_at": "2023-10-02T11:54:52Z"
        },
        {
          "author": "anartigone",
          "body": "There are many of LLMs having the potential of integrating with ETCP to do EN-CHN translation, such as ChatGLM, Baichuan, InternLM, XVERSE and Bloom.\r\nI have been attempting to experiment on this for a long time but currently too busy to start one more side project.\r\nMy theory is, ChatGLM may be the",
          "created_at": "2023-10-02T19:40:46Z"
        },
        {
          "author": "bookfere",
          "body": "LLaMA.cpp provides an HTTP API server that gives users the ability to interact with it. You can use the custom engine feature to invoke its endpoints. Here is a recipe you can refer to:\r\n\r\n```json\r\n{\r\n    \"name\": \"LLaMA.cpp\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"German\": \"de\"\r\n    ",
          "created_at": "2023-10-03T14:58:16Z"
        }
      ]
    },
    {
      "issue_number": 147,
      "title": "是否能在选择翻译段落的页面，提供导出、导入原文和译文的选项（cvs文件）？这样就能方便修改译文了",
      "body": "支持导入、导出原文和译文之后，会编程的话就可以实现很多小修改了",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-10-03T11:55:02Z",
      "updated_at": "2023-10-03T16:35:00Z",
      "closed_at": "2023-10-03T15:16:27Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/147/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/147",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/147",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:37.706837",
      "comments": [
        {
          "author": "bookfere",
          "body": "你可以通过插件菜单中的缓存管理器打开缓存所在位置，所有数据都存在 SQLite 文件中。",
          "created_at": "2023-10-03T11:58:35Z"
        },
        {
          "author": "GoTop",
          "body": "> 你可以通过插件菜单中的缓存管理器打开缓存所在位置，所有数据都存在 SQLite 文档中。\r\n\r\n感谢，有SQLite数据就好操作了。\r\n\r\n比如我这里提到的问题：https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/146#issue-1923938065\r\n我可以使用python代码直接获取每段原文的译文，然后写入SQLite文件中",
          "created_at": "2023-10-03T16:34:59Z"
        }
      ]
    },
    {
      "issue_number": 145,
      "title": "建议支持文心一言翻译API",
      "body": "我发现对于有些内容，文心一言翻译的质量要比GPT好，比如\r\n\r\n> The vast majority of axonal proteins are synthesized in the neuronal cell body and transported along axons. Some mRNA translation has been demonstrated within axons.[5][6] Axonal transport occurs throughout the life of a neuron and is essential to its growth and survival. Microtubules (made of tubulin) run along the length of the axon and provide the main cytoskeletal \"tracks\" for transportation. Kinesin and dynein are motor proteins that move cargoes in the anterograde (forwards from the soma to the axon tip) and retrograde (backwards to the soma (cell body)) directions, respectively. Motor proteins bind and transport several different cargoes including mitochondria, cytoskeletal polymers, autophagosomes, and synaptic vesicles containing neurotransmitters.\r\n\r\n文心一言翻译为\r\n\r\n> 绝大多数轴突蛋白在神经元细胞体内合成并沿着轴突运输。已在轴突内证实了一些mRNA的翻译。[5][6]轴突运输在神经元的整个生命过程中都会发生，对其生长和存活至关重要。微管（由微管蛋白构成）沿着轴突的长度延伸，为运输提供了主要的细胞骨架“轨道”。驱动蛋白和动力蛋白是马达蛋白，分别负责在顺行（从胞体到轴突尖端的正向）和逆行（反向到胞体）方向上移动货物。马达蛋白结合并运输几种不同的货物，包括线粒体、细胞骨架聚合物、自噬体和含有神经递质的突触囊泡。\r\n\r\nChatGPT翻译为\r\n\r\n> 绝大多数轴突蛋白质是在神经元细胞体内合成，然后沿着轴突进行运输。一些mRNA的翻译已经在轴突内部得到证实。轴突运输在神经元的整个生命周期中都会发生，对于其生长和存活至关重要。微管（由微管蛋白组成）沿着轴突的长度延伸，提供了主要的细胞骨架“轨道”来进行运输。动力蛋白基辅和动力蛋白粘附在不同方向上分别进行着前行运输（从细胞体到轴突末端）和后行运输（从轴突返回细胞体）的工作。动力蛋白能够结合并运输多种不同的载体，包括线粒体、细胞骨架聚合物、自噬体和含有神经递质的突触小泡。\r\n\r\n文心一言的专业名词都翻译对了，GPT翻译错了，文心一言的中文明显更流利，况且文心一言在国内的速度要更快，因此建议支持文心一言作为翻译API。\r\n\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2023-10-03T01:55:01Z",
      "updated_at": "2023-10-03T15:00:45Z",
      "closed_at": "2023-10-03T15:00:45Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/145/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/145",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/145",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:37.923529",
      "comments": [
        {
          "author": "bookfere",
          "body": "插件的自定义翻译引擎功能应该可以满足这个需求。",
          "created_at": "2023-10-03T06:38:59Z"
        }
      ]
    },
    {
      "issue_number": 141,
      "title": "希望在选择翻译指定段落后，还可以继续查看其他段落，然后指定翻译其他段落",
      "body": "在翻译的页面，点击\"翻译全部\"后，需要逐个段落参看是否有漏掉{{id_数字}}等情况，如果问题，需要重新翻译这个段落。\r\n\r\n但是2.1.4版插件在翻译的页面上，如果选择了某个段落，并点击“翻译所选”按钮之后，右边的信息框就只会显示该段落的信息\r\n\r\n这时候如果在左边点击其他段落，并不会显示该段落的信息，也无法选择翻译这个段落。\r\n\r\n只能等之前的段落翻译完成后，再手动选择需要翻译的其他段落，这样导致效率有不太高。\r\n\r\n希望下个版本能改善以下，万分感谢",
      "state": "open",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-09-30T02:02:02Z",
      "updated_at": "2023-10-01T03:10:13Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/141/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/141",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/141",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:38.113632",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。这个想法很好，让翻译过程不影响其他操作。不过目前程序的结构还无法适应这个需求，虽然我们不能保证下个版本可用，但是会尽量在今后的更新中实现。",
          "created_at": "2023-09-30T06:16:06Z"
        },
        {
          "author": "GoTop",
          "body": "> 谢谢反馈。这个想法很好，让翻译过程不影响其他操作。不过目前程序的结构还无法适应这个需求，虽然我们不能保证下个版本可用，但是会尽量在今后的更新中实现。\r\n\r\n感谢你们提供那么好的免费翻译工具，而且还在不断更新完善",
          "created_at": "2023-10-01T03:10:12Z"
        }
      ]
    },
    {
      "issue_number": 137,
      "title": "自定义引擎里设置gpt-3.5-turbo-0613-16k，合并翻译字符数设为15000、HTTP请求里的并发限制1、时间间隔5s、超时360s，但每次只翻译一小部分英文",
      "body": "使用自定义使用gpt-3.5-turbo-0613-16k，合并翻译字符数15000\r\n\r\nHTTP请求里的并发限制1、时间间隔5s、超时360s\r\n\r\n返回的翻译结果只有一小部分：\r\n![屏幕截图 2023-09-27 230952](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/d6255ddc-38b6-4bfa-9d12-9dae403c211b)\r\n\r\n使用自定义引擎，这里的system设置使用这位兄弟的：\r\nhttps://github.com/bookfere/Ebook-Translator-Calibre-Plugin/discussions/95#discussion-5421013\r\n```\r\n{\r\n  \"name\": \"Custom ChatGPT\",\r\n  \"languages\": {\r\n    \"source\": {\r\n      \"English\": \"English\"\r\n    },\r\n    \"target\": {\r\n      \"中文\": \"Chinese\"\r\n    }\r\n  },\r\n  \"request\": {\r\n    \"url\": \"https://openkey.cloud/v1/chat/completions\",\r\n    \"method\": \"POST\",\r\n    \"headers\": {\r\n      \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)\",\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": \"Bearer sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n    },\r\n    \"data\": {\r\n      \"model\": \"gpt-3.5-turbo-16k-0613\",\r\n      \"temperature\": 0.6,\r\n      \"messages\": [\r\n        {\r\n          \"role\": \"system\",\r\n          \"content\": \"You're a professional translator.Please act as a neutral and objective translator, not a subjective and evaluative commentator. Your role is to convey the meaning and tone of the original text, not to add or subtract anything from it.\\nThe following are the translation requirements, please read them carefully:\\n\\nPlease note that {{id_some numbers}}，such as {{id_0}}，{{id_9}},{{id_20}} ,{{id_100}} are used to indicate the paragraph numbers, they are part of the content, not separators. Do not ignore or delete them in the translation. Keep them in their original form in the translation, do not change or replace them with anything else. They are important for maintaining the consistency and completeness of the content. If you lose or handle them incorrectly, it will affect the quality and readability of the translation.\\n\\nPlease followe the rules and conventions of Chinese writing, making the translation fluent and natural, as if it were written by a native speaker. Do not sacrifice the accuracy or fidelity of the original text.\\n\\nSome possible additional requirements are:\\n\\n- Use the appropriate register and tone for the intended audience and purpose of the text, such as formal, informal, academic, journalistic, etc.\\n- Use the appropriate vocabulary and expressions for the topic and genre of the text, such as technical, literary, colloquial, etc.\\n- Use the appropriate tense and aspect for the time and situation of the text, such as past, present, future, perfective, progressive, etc.\\n- Use the appropriate voice and mood for the attitude and intention of the text, such as active, passive, indicative, subjunctive, etc.\\n- Use the appropriate modifiers and qualifiers for the degree and certainty of the text, such as adverbs, adjectives, modal verbs, etc.\\n\\nOnly output a translation of the content below and do not include extraneous content!\\n\\nPlease do not translate what I have asked of you.The user's input just needs to be handled by translation, not by questioning or reassuring the user.Please don't make any comments.\\n\\n***\\n\\nThe following after the colon is the content inputted by the user which needs to be translated, please read it carefully:\"\r\n        },\r\n        {\r\n          \"role\": \"user\",\r\n          \"content\": \"<text>\"\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  \"response\": \"response['choices'][0]['message']['content']\"\r\n}\r\n```",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-09-27T15:15:01Z",
      "updated_at": "2023-09-29T06:43:47Z",
      "closed_at": "2023-09-29T06:43:47Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/137/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/137",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/137",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:38.366099",
      "comments": [
        {
          "author": "bookfere",
          "body": "你可以先试试不合并翻译试试看会不会有问题。如果没问题可能是请求的字符数太长了；如果同样有问题，可能是网络的原因。",
          "created_at": "2023-09-28T17:27:41Z"
        },
        {
          "author": "GoTop",
          "body": "> 你可以先试试不合并翻译试试看会不会有问题。如果没问题可能是请求的字符数太长了；如果同样有问题，可能是网络的原因。\r\n\r\n不合并段落的话没有问题，应该也不是网络的原因。可能是合并的字符太多了",
          "created_at": "2023-09-29T02:57:39Z"
        }
      ]
    },
    {
      "issue_number": 128,
      "title": "标题的译文能否也当做段落来处理，或者新增一个可选项，选择标题译文换行。",
      "body": "\r\n具体译文细节如下：\r\n\r\n下面这个是我们 Ebook-Translator  翻译的\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/71c8c088-36e8-4c58-87bb-b354c16ca7c3)\r\n\r\n\r\n隔壁沉**插件的译文，如下\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/1b5d1de3-21be-4b00-a625-efe82e8201f5)\r\n\r\n根据段落（标题）换行，章节目录更直观。因为经常会遇到一些小标题文字比较多，译文合并在一起，就会出现一大片的加粗内容。\r\n\r\n比如下面这段文字：\r\n\r\n（原文）\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/716167ac-390e-4729-a73b-c49af2578472)\r\n\r\n（ Ebook-Translator  译文）\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/85747838-5e4a-4316-a8f9-9dcf5b79e2cd)\r\n\r\n（ 沉***  译文）\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/b0dd7911-ec20-4e7c-af90-59b4e30f51ef)\r\n\r\n\r\n补充细节：他们把目录也翻译了，不知道我们的开发计划中有没有呢，批量功能很强大，期待 Ebook-Translator 越来越强大 👍👍\r\n",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-09-17T11:03:18Z",
      "updated_at": "2023-09-29T02:19:24Z",
      "closed_at": "2023-09-18T04:33:40Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/128/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/128",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/128",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:38.593287",
      "comments": [
        {
          "author": "Benson1997",
          "body": "[标题译文分段_demo.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12642658/_demo.zip)\r\n",
          "created_at": "2023-09-17T11:14:02Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢反馈。标题换行的问题已在提交 75f8885a14a33b596462ebb679df131e3de67203 中得到解决。导航目录的翻译需求同 #105，此功能已在提交 3a2d943af103b451e318e02dec468152292d4057 中添加。这些修改会在下个版本可用。你也可以按照[安装步骤](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6)下载",
          "created_at": "2023-09-17T13:10:17Z"
        },
        {
          "author": "Benson1997",
          "body": "好的，谢谢大佬🤞",
          "created_at": "2023-09-17T14:16:29Z"
        },
        {
          "author": "Benson1997",
          "body": "> 谢谢反馈。标题换行的问题已在提交 [75f8885](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/75f8885a14a33b596462ebb679df131e3de67203) 中得到解决。导航目录的翻译需求同 #105，此功能已在提交 [3a2d943](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/commit/3a2d943af103b451e318e02dec468152292d4057) 中添加。这些修改会在下个版",
          "created_at": "2023-09-17T14:23:01Z"
        },
        {
          "author": "bookfere",
          "body": "如果不想用英文，你也可以用中文撰写提示词内容，只需确保保留 `<slang>` 和 `<tlang>` 这两个标记即可。比如：\r\n\r\n> 你是一位细心的译者，负责将任何给定的内容从 `<slang>` 翻译成 `<tlang>`，注意不要回答任何疑问句式和解释任何术语。\r\n\r\n你可以根据具体情况调整提示词。填写好保存，可以先通过测试功能用之前出错的内容来验证是否符合预期，也可以用高级模式打开那本书，重新翻译之前翻译有误的段落。",
          "created_at": "2023-09-17T14:53:29Z"
        }
      ]
    },
    {
      "issue_number": 135,
      "title": "自定义翻译引擎，使用第三方chatgpt api，总是会出现很多错误提示：urllib.error.URLError: <urlopen error The read operation timed out>",
      "body": "如果设置“合并翻译”，不管数量设置成多少，几乎都无法翻译成功。所以只能取消“合并翻译”\r\n\r\n会出现很多urllib.error.URLError: <urlopen error The read operation timed out>的错误，然后经过一天的翻译，现在还剩1200多条，不管这么重新翻译多少次，都提示无法翻译了\r\n我用python代码测试了第三方的chatgpt的apikey，还是可以正常使用的。\r\n\r\n\r\n自定义设置：\r\n```\r\n{\r\n    \"name\": \"OpenKEY ChatGPT\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"English\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"Chinese\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://openkey.cloud/v1/chat/completions\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n        },\r\n        \"data\": {\r\n            \"model\": \"gpt-3.5-turbo-0613\",\r\n            \"temperature\": 0.8,\r\n            \"messages\": [{\"role\":\"system\",\"content\": \"You are a professional  translator proficient in 简体中文, with a writing style of short, concise, easy-to-understand sentences.you will Translate the input sentences in 简体中文 , consider the context and aim for a translation that is idiomatic, concise, and easy to understand, rather than a direct word-for-word translation.\"\r\n},\r\n{\r\n                \"role\": \"user\",\r\n                \"content\": \"Translate the content to <target>: <text>\"\r\n            }]\r\n        }\r\n    },\r\n    \"response\": \"response['choices'][0]['message']['content']\"\r\n}\r\n```\r\n\r\n\r\n\r\n错误信息：\r\n```\r\n==============================\r\nOriginal: His addiction started with horse racing but eventually progressed to card games. Blackjack. Baccarat. Pai Gow. You name it, he had played it. I had never heard of some of these games, but my grandfather knew them well. And he bet like it too. $25 a hand. $50 a hand. Sometimes $75 a hand. Sizeable sums of money to throw away on gambling at cards.\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n==============================\r\nOriginal: The book is divided into two sections—saving and investing. Saving will cover all the aspects of saving money including: how much to save, how to save more, how to spend money guilt-free, and so forth. Investing will cover the many facets of putting your money to work including: why you should invest, what you should invest in, how often you should invest, and much more.\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n==============================\r\nOriginal: “Nick Maggiulli clearly delights in flouting the received wisdom about how people should manage their money. The end result is a book that’s full of both aha moments and practical takeaways. As a fellow writer about personal finance, I felt a creeping sense of jealousy in what I was reading. Nick takes the tired topics of how to save and invest well and managed to make them utterly fresh and even quite a bit of fun.”\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n==============================\r\nOriginal: “Nick has a genuine gift—while he uses rigorous empirical evidence to make his case, he manages to tell the story in such a way to keep the reader’s attention and give them practical, actionable advice. He also has just enough of a mischievous streak to challenge some long-held assumptions about investing, but in a manner that makes the empirical data a fresh, interesting story. Investors, new and old, will benefit from Nick’s practical approach to investing.”\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n==============================\r\nOriginal: My late grandfather was addicted to gambling on horse races. When I was a kid we used to go to the Los Angeles County Fair and watch thoroughbreds with names like Magnificent Marks and Jail Break gallop around the track. What I saw then as a form of mild entertainment I later learned was a lifelong struggle for my grandfather.\r\n-----------------------------------\r\nError: Failed to retrieve data from translate engine API.\r\nCan not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error The read operation timed out>\r\n```",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-09-24T12:49:28Z",
      "updated_at": "2023-09-25T04:56:07Z",
      "closed_at": "2023-09-25T04:55:47Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/135/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/135",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/135",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:38.793410",
      "comments": [
        {
          "author": "bookfere",
          "body": "从你提供的错误信息看只是单纯的网络连接问题。你之前在 Issue #133 曾提到过设置了 HTTP 代理，你用 Python 脚本测试的时候也用代理了吗？如果你用的第三方服务不需要代理的话，可以关掉代理再试试看。",
          "created_at": "2023-09-24T13:02:42Z"
        },
        {
          "author": "GoTop",
          "body": "> 从你提供的错误信息看只是单纯的网络连接问题。你之前在 Issue #133 曾提到过设置了 HTTP 代理，你用 Python 脚本测试的时候也用代理了吗？如果你用的第三方服务不需要代理的话，可以关掉代理再试试看。\r\n\r\n感谢您的分析，我似乎找到点原因了\r\n\r\n我在Ebook-Translator-Calibre插件中没有启用代理\r\n![屏幕截图 2023-09-24 222326](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/cbf8edd9-6217-4e2b-b654-d367f",
          "created_at": "2023-09-24T14:35:14Z"
        },
        {
          "author": "GoTop",
          "body": "我测试出问题在哪了。\r\n\r\n我将超时时间设置得太短了，只有5s，所以在翻译较长文本时，会提示timed out\r\n\r\n而且设置“合并段落“之后，发送的文本量变大，需要调整超时时间为10s设置更久\r\n\r\n同时可以将线程设置为0，这样速度会快很多",
          "created_at": "2023-09-24T15:27:08Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢分享经验。如果所用服务的可用性没大问题，超时时间可以设置长一些。",
          "created_at": "2023-09-25T04:55:47Z"
        }
      ]
    },
    {
      "issue_number": 134,
      "title": "设置自定义的chatgpt翻译引擎时，可以加入system的设置吗？",
      "body": "现在我使用以下的自定义设置，可以正常翻译。\r\n\r\n但是我想加入system的设定，请问能实现吗？该如何修改代码？\r\n\r\n```\r\n{\r\n    \"name\": \"OpenKEY ChatGPT\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"English\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"Chinese\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://openkey.cloud/v1/chat/completions\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"User-Agent\": \"Mozilla/4.0 (compatible; MSIE 5.5; Windows NT)\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": \"Bearer sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\"\r\n        },\r\n        \"data\": {\r\n            \"model\": \"gpt-3.5-turbo\",\r\n            \"temperature\": 0.8,\r\n            \"messages\": [{\r\n                \"role\": \"user\",\r\n                \"content\": \"Translate the content to <target>: <text>\"\r\n            }]\r\n        }\r\n    },\r\n    \"response\": \"response['choices'][0]['message']['content']\"\r\n}\r\n```",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-09-24T02:54:33Z",
      "updated_at": "2023-09-24T03:03:28Z",
      "closed_at": "2023-09-24T03:03:28Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/134/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/134",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/134",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:38.999949",
      "comments": [
        {
          "author": "bookfere",
          "body": "可参考[项目 Wiki 中的示例](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/wiki/Custom-Translation-Engine-Recipes)。修改 `message` 部分如下：\r\n\r\n```\r\n\"messages\": [\r\n    {\"role\": \"system\", \"content\": \"Translate the content from <slang> to <tlang>.\"},\r\n    {\"role\": \"user\", \"content\": \"<text>\"}\r\n]\r\n```\r\n\r\n另",
          "created_at": "2023-09-24T02:57:54Z"
        }
      ]
    },
    {
      "issue_number": 133,
      "title": "使用第三方ChatGPT时，提示403错误",
      "body": "我把endpoint 设置成 https://openkey.cloud/v1/chat/completions\r\n\r\n还是出现403错误\r\n\r\n我设置了http代理，使用google（free）是正常的\r\n\r\n![屏幕截图 2023-09-24 094512](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/f114e783-c9bc-41ae-bab7-a21924b20d61)\r\n![屏幕截图 2023-09-24 094620](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/1784319/e9042493-506b-4da6-ae09-6da3c32ea64a)\r\n",
      "state": "closed",
      "author": "GoTop",
      "author_type": "User",
      "created_at": "2023-09-24T01:48:13Z",
      "updated_at": "2023-09-24T02:49:24Z",
      "closed_at": "2023-09-24T02:49:24Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/133/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/133",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/133",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:39.220471",
      "comments": [
        {
          "author": "GoTop",
          "body": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/127#issuecomment-1720778363\r\n\r\n用这个方法解决了\r\n\r\n修改的配置如下：\r\n```\r\n{\r\n    \"name\": \"Custom ChatGPT\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"English\": \"English\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"Chinese\"\r\n    ",
          "created_at": "2023-09-24T02:05:49Z"
        },
        {
          "author": "bookfere",
          "body": "问题及原因同 #127。现在给 ChatGPT 的请求标头添加了一个用户代理来避免这个问题。",
          "created_at": "2023-09-24T02:49:24Z"
        }
      ]
    },
    {
      "issue_number": 131,
      "title": "Error by testing GPT 3.5 engine",
      "body": "Traceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 89, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 181, in get_result\r\nException: Can not parse returned response. Raw data: \r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests",
      "state": "closed",
      "author": "LukasCY",
      "author_type": "User",
      "created_at": "2023-09-19T21:54:21Z",
      "updated_at": "2023-09-20T13:43:35Z",
      "closed_at": "2023-09-20T13:43:35Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/131/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/131",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/131",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:39.445975",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback. However, the issue is indeed related to the rate limits of ChatGPT. If you are using the free version of ChatGPT, it's essential to ensure that the request frequency remains within the approved range, which is limited to 3 requests per minute. You can adjust the settings",
          "created_at": "2023-09-20T04:21:46Z"
        },
        {
          "author": "LukasCY",
          "body": "I did not change the default setting... by the way, I am using gpt 4\r\n[image: image.png]\r\n\r\n书伴 ***@***.***> 於 2023年9月20日週三 上午6:21寫道：\r\n\r\n> Thank you for your feedback. However, the issue is indeed related to the\r\n> rate limits of ChatGPT. If you are using the free version of ChatGPT, it's\r\n> essentia",
          "created_at": "2023-09-20T08:30:37Z"
        },
        {
          "author": "LukasCY",
          "body": "And it seems that the error message has changed:\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 89, in translate\r\n  File \"calibre_plugins.ebook_translator.en",
          "created_at": "2023-09-20T09:29:10Z"
        },
        {
          "author": "bookfere",
          "body": "Sorry, but we won't be able to assist you unless you provide enough information for us to analyze the issue you're facing. Please provide as much information as possible, such as the settings you've changed and whether you're using a network proxy. The more details you can provide, the better chance",
          "created_at": "2023-09-20T09:43:43Z"
        },
        {
          "author": "LukasCY",
          "body": "All the settings remain the same and I did not use any proxy.\r\n\r\n书伴 ***@***.***> 於 2023年9月20日週三 上午11:43寫道：\r\n>\r\n> Sorry, but we won't be able to assist you unless you provide enough information for us to analyze the issue you're facing. Please provide as much information as possible, such as the sett",
          "created_at": "2023-09-20T10:35:09Z"
        }
      ]
    },
    {
      "issue_number": 129,
      "title": "测试翻译引擎出错， [WinError 10061] 由于目标计算机积极拒绝，无法连接。",
      "body": "calibre 版本号：6.26\r\nebook translator版本号：v2.1.4\r\n\r\n点击\"引擎\"tab页后，使用google free或者chatgpt方式后，网络有开启全局代理（也有尝试设置\"通用\"tab页中的开启http代理），但点击测试后，会出现如下错误堆栈：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 89, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 181, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opener.py\", line 193, in open\r\n  File \"mechanize\\_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize\\_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize\\_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize\\_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error [WinError 10061] 由于目标计算机积极拒绝，无法连接。>",
      "state": "closed",
      "author": "acid122",
      "author_type": "User",
      "created_at": "2023-09-19T02:10:18Z",
      "updated_at": "2023-09-20T09:31:48Z",
      "closed_at": "2023-09-20T09:31:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 16,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/129/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/129",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/129",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:39.684325",
      "comments": [
        {
          "author": "EdisonWendy",
          "body": "> calibre 版本号：6.26 ebook translator版本号：v2.1.4\r\n> \r\n> 点击\"引擎\"tab页后，使用google free或者chatgpt方式后，网络有开启全局代理（也有尝试设置\"通用\"tab页中的开启http代理），但点击测试后，会出现如下错误堆栈： Traceback (most recent call last): File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text File \"calibre_plugins.ebook_transl",
          "created_at": "2023-09-19T05:12:03Z"
        },
        {
          "author": "bookfere",
          "body": "@acid122\r\n\r\n从错误信息看是网络代理有问题，建议检查你填写的代理 IP 和端口是否正确，如果配置无误可以尝试更换代理试试看。如果代理开启了全局模式，你可以在 Calibre 的设置中点击“杂项”看看是否有如下所示信息：\r\n\r\n<img width=\"527\" alt=\"calibre-proxy\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/d38c9704-f8c7-4559-b310-5b31d44fc8da\">\r\n\r\n@EdisonWendy \r\n\r\n从你给出的",
          "created_at": "2023-09-19T05:30:20Z"
        },
        {
          "author": "EdisonWendy",
          "body": "> @acid122\r\n> \r\n> 从错误信息看是网络代理有问题，建议检查你填写的代理 IP 和端口是否正确，如果配置无误可以尝试更换代理试试看。如果代理开启了全局模式，你可以在 Calibre 的设置中点击“杂项”看看是否有如下所示信息：\r\n> \r\n> <img alt=\"calibre-proxy\" width=\"527\" src=\"https://user-images.githubusercontent.com/29969316/268849420-d38c9704-f8c7-4559-b310-5b31d44fc8da.png\">\r\n> @EdisonWendy\r\n> \r\n> 从你给",
          "created_at": "2023-09-19T05:39:15Z"
        },
        {
          "author": "bookfere",
          "body": "@EdisonWendy \r\n\r\nCalibre 没有设置代理的地方，它只会读取系统环境变量中的代理配置（比如你设置的全局代理）。插件提供了代理设置功能，开启后插件会优先使用这个代理。\r\n\r\n从截图上看，你设置的全局代理是 `http://127.0.0.1:21882`，Calibre 和插件（未在插件中开启代理的情况下）都会使用这个代理。你需要确保它与代理软件上提供的 HTTP 代理的 IP 和端口是一致的，并且代理本身是可用的。\r\n\r\n另外，如果你使用的代理是通过规则路由的，还需要确保翻译引擎的 API 在代理范围内。",
          "created_at": "2023-09-19T06:02:15Z"
        },
        {
          "author": "EdisonWendy",
          "body": "> 确保翻译引擎的 API 在代理范围内\r\n\r\n已经确保全局代理地址和端口是与代理软件上提供的 HTTP 代理的 IP 和端口是一致的，并且代理本身是可用的。但是测试翻译（Google free和basic都不行）还是和刚刚一样超时。另外，怎样确保翻译引擎的 API 在代理范围内呢？\r\n![屏幕截图(112)](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/120798970/f8fce67a-6bde-4d55-b32f-d095bace0748)\r\n![Quicker_20230919_141522](",
          "created_at": "2023-09-19T06:16:16Z"
        }
      ]
    },
    {
      "issue_number": 105,
      "title": "建议支持EPUB电子书目录书签的翻译",
      "body": "这个插件真的非常好比之前用过的一些别的方案快很多，而且非常流畅，谢谢作者！\r\n可是该插件也有个问题，就是翻译输出的EPUB，它的目录书签还是原文，这样查看起来不太方便。\r\n建议可以实现这个功能。",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2023-08-13T02:37:01Z",
      "updated_at": "2023-09-17T11:28:25Z",
      "closed_at": "2023-09-17T11:28:25Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/105/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/105",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/105",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:39.931024",
      "comments": []
    },
    {
      "issue_number": 127,
      "title": "GPT中转的问题",
      "body": "你好, 我需要配置GPT中转的地址，经过看了这个issue #34 明确配置和评论区的一致，仍然测试不通过：\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/bd9e4637-d2d9-4763-906e-a5c75594b0e8)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/81cbb5b7-1301-47c0-801b-bfb145586076)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/f54c8c22-38e7-4c75-b204-f958c3769712)\r\n\r\nAPI地址： https://api.aiguoguo199.com/v1/chat/completions\r\n这个中转的作者关闭了国内IP请求，国内必须魔法才能使用，但是我在其他软件和页面均可以使用：\r\nnext-web：\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/ddac1834-6c40-42cc-8847-f182783f9013)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/b41a3d71-fc5e-433c-b9e4-f0a2d031df4a)\r\n\r\napifox: \r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/34082198/757c991b-e65e-4593-a406-5958f437d6a7)\r\n\r\n请问还有什么遗漏的配置吗 ?",
      "state": "closed",
      "author": "kingfer30",
      "author_type": "User",
      "created_at": "2023-09-15T02:43:39Z",
      "updated_at": "2023-09-15T11:04:58Z",
      "closed_at": "2023-09-15T11:04:58Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/127/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/127",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/127",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:39.931045",
      "comments": [
        {
          "author": "bookfere",
          "body": "你使用的服务会禁止某些用户代理请求，如插件使用的 Python-urllib。你可以在 `Headers` 中随便添加一个 `User-Agent` 来解决这个问题，如：`\"User-Agent\": \"Any-Agent-You-Want\"`。",
          "created_at": "2023-09-15T07:02:21Z"
        },
        {
          "author": "kingfer30",
          "body": "感谢! 有效, 可以标记一下, 方便其他人使用",
          "created_at": "2023-09-15T08:19:27Z"
        }
      ]
    },
    {
      "issue_number": 125,
      "title": "[Feature Request] Translate chess books.",
      "body": "First of all, thank you for your work, I think it is great and it is of great help to people who work in the educational community.\r\n\r\nOn the other hand, in my free time I give free chess classes to a group of young children who do not speak English, they mainly speak Spanish and it would be great if they could translate. I have tested some and it does quite well, although it gives errors. If you think it is interesting, please send me an email and I will send you an example file.\r\n\r\nThank you.",
      "state": "closed",
      "author": "berniegunther",
      "author_type": "User",
      "created_at": "2023-09-12T11:20:19Z",
      "updated_at": "2023-09-13T12:02:34Z",
      "closed_at": "2023-09-13T12:02:34Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/125/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/125",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/125",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:40.120835",
      "comments": [
        {
          "author": "wangshuihua",
          "body": "What error message you got? Please provide the error message first so we can look into the problem. If need further help, we will ask for the example file from you. Thank you.",
          "created_at": "2023-09-12T12:32:26Z"
        },
        {
          "author": "berniegunther",
          "body": "Hi, thanks for write.\r\n\r\nI think the easiest thing is for me to send you some example files:\r\n\r\n1  As you can see, the results are quite good and are perfect for use by children. In this case I have used the standard plugin.\r\n\r\n2 super nezh. I have selected a chapter from a book so you can see what ",
          "created_at": "2023-09-12T15:35:57Z"
        },
        {
          "author": "bookfere",
          "body": "I think I've identified the problem you're facing based on the details you provided.\r\n\r\nThe book \"Super Nezh\" is in PDF format with intricate typesetting (two columns with many diagrams). Unfortunately, Calibre cannot preserve this formatting during conversion. Consequently, I'm afraid that the plug",
          "created_at": "2023-09-13T05:22:00Z"
        },
        {
          "author": "berniegunther",
          "body": "Thanks a lot. It's a pity it's not possible. The traditional format is that, two columns and diagrams. I thought there would be a solution. Thank you. \r\n\r\nEn 13 sept 2023 7:22, en 7:22, \"书伴\" ***@***.***> escribió:\r\n>I think I've identified the problem you're facing based on the details\r\n>you provide",
          "created_at": "2023-09-13T08:46:17Z"
        }
      ]
    },
    {
      "issue_number": 126,
      "title": "Feature Request about merge to translate",
      "body": "can you also add a feature that will allow us to translate each chapter in the book in one go, for example, each html file will be sent in one request.\r\n\r\nIt should not be forgotten that deepl allows 100000 characters for each request, if exceeded, error 413 occurs.\r\n\r\nI use the Deepl translation engine. \r\n\r\nThank you for your efforts.",
      "state": "open",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2023-09-12T19:33:50Z",
      "updated_at": "2023-09-13T06:21:13Z",
      "closed_at": null,
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/126/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/126",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/126",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:40.303132",
      "comments": [
        {
          "author": "Dwtexe",
          "body": "For files over 100000 characters, splitting the file evenly will improve translation quality.\r\n\r\nFor example:\r\nIt would be healthier to divide a 130000 character file into 2 parts as 65000 65000 rather than 100000 and 30000.",
          "created_at": "2023-09-12T19:37:43Z"
        },
        {
          "author": "bookfere",
          "body": "This requirement is similar to #85. \r\n\r\nAre you suggesting that the characters in chapter should be evenly split? For instance, you set a character count of 5000 in \"Merge to Translate\". If a chapter contains 10,000 characters, the plugin would split it into two 5000 characters; If a chapter contain",
          "created_at": "2023-09-13T05:59:16Z"
        }
      ]
    },
    {
      "issue_number": 104,
      "title": "Ids get removed of elements(mobi format)",
      "body": "This seems to specifically happen with the mobi format.\r\nMy contents hyperlinks don't work anymore after translating the file. \r\nChecking in calibre editor I can see that the p element of the header doesn't have a id anymore. \r\n\r\nChecking the contents the `<a href=\"infex_split_000.html#filepos100\">chapter 1</a>` is still there.\r\nBut checking chapter 1 it went from `<p id=\"filepos100\" class=\"calibre\"><a href=\"infex_split_000.html#filepos100\">chapter 1</a></p>`\r\nTo\r\n`<p class=\"calibre\">chapter 1</p>`\r\n\r\nI first thought I could circumvent the problem by converting it to a epub in calibre and then clicking on \"translate book\" but then it will open a new clean list with sentences without all the sentence's I had translated/manual changed. ",
      "state": "closed",
      "author": "gammesB",
      "author_type": "User",
      "created_at": "2023-08-09T23:13:28Z",
      "updated_at": "2023-09-12T08:41:07Z",
      "closed_at": "2023-09-12T08:41:07Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/104/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/104",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/104",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:40.495408",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your feedback. The issue was resolved and will be applied in the next version.",
          "created_at": "2023-09-12T08:41:07Z"
        }
      ]
    },
    {
      "issue_number": 124,
      "title": "[ERROR] I cannot translate books!",
      "body": "Procedures:\r\n\r\n1. Open Calibre (last version 6.20) < select book\r\n2. Click translate book (v.2.1.4) icon in main toolbar\r\n3. After succesfully translated all without errors (both AZW3 and PDF, I tested)\r\n4. final step would be clicking \"OUTPUT\" and an error is throw everytime\r\n\r\nERROR:\r\n\r\n```\r\ncalibre, version 6.26.0\r\nERROR: Unhandled exception: <b>TypeError</b>:expected str, bytes or os.PathLike object, not NoneType\r\n\r\ncalibre 6.26  embedded-python: True\r\nWindows-10-10.0.22621-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.22621')\r\nPython 3.10.1\r\nWindows: ('10', '10.0.22621', 'SP0', 'Multiprocessor Free')\r\nInterface language: None\r\nSuccessfully initialized third party plugins: DeDRM (10, 0, 3) && Count Pages (1, 13, 1) && Ebook Translator (2, 1, 4)\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.advanced\", line 591, in output_ebook\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 124, in translate_ebook\r\n  File \"ntpath.py\", line 78, in join\r\nTypeError: expected str, bytes or os.PathLike object, not NoneType\r\n```",
      "state": "closed",
      "author": "gbr000",
      "author_type": "User",
      "created_at": "2023-09-11T13:43:17Z",
      "updated_at": "2023-09-12T06:39:19Z",
      "closed_at": "2023-09-12T06:39:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/124/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/124",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/124",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:40.691370",
      "comments": [
        {
          "author": "bookfere",
          "body": "It's likely the plugin could not obtain the output path properly. What is the path that you set for output?",
          "created_at": "2023-09-11T14:43:57Z"
        },
        {
          "author": "gbr000",
          "body": "OK! Now I have figured out! I choose the path but when I changed to the next tab, path configuration is not saved!! \r\n\r\nSo it may need a fix for that! Thanks in advance,",
          "created_at": "2023-09-11T18:19:58Z"
        },
        {
          "author": "bookfere",
          "body": "Yes, it was a bug. I just fixed it. Thank you for mentioning it.",
          "created_at": "2023-09-12T06:39:19Z"
        }
      ]
    },
    {
      "issue_number": 123,
      "title": "[请求支持] 请求添加对GPT-API中转站的支持",
      "body": "请求添加对GPT-API中转站的支持，能否再GPT的接口上，添加一个自定义的请求网址(默认使用https://api.openai.com)，这样如果自己有需要，可以改成其他请求的地址（同样都是GPT模型）。\r\n\r\n比如：可以将请求的openai地址`https://api.openai.com`改为地址`https://api.xxxxx.com\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/a9d7fca9-9643-4d45-b48f-cbcd1a5e5be8)\r\n\r\n  \"engine_preferences\": {\r\n    \"ChatGPT\": {\r\n      \"url\": \"https://api.openai.com\",\r\n      \"api_keys\": [\r\n        \"sk-***********************************************\"\r\n      ],\r\n      \"model\": \"gpt-3.5-turbo\",\r\n      \"target_lang\": \"Chinese (Simplified)\"\r\n    },\r\n\r\n\r\n另外，代理也已开启了 。\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/e6b3e14f-b42e-423b-a280-06eb7f6ffda7)\r\n",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-09-10T07:17:50Z",
      "updated_at": "2023-09-10T10:42:42Z",
      "closed_at": "2023-09-10T10:42:42Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/123/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/123",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/123",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:40.866762",
      "comments": [
        {
          "author": "Benson1997",
          "body": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/34\r\n\r\n按这个issue中的代码，设置后，提示的是  403错误。\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/bba01e6e-5f47-4e59-bef7-ae7308b38c77)\r\n\r\n",
          "created_at": "2023-09-10T07:37:06Z"
        },
        {
          "author": "bookfere",
          "body": "选择 ChatGPT (OpenAI) 后，是可以设置自定义端点的：\r\n\r\n<img width=\"549\" alt=\"chatgpt-screenshot\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/d52931ec-712d-4239-888c-cbe8e68d5f66\">\r\n",
          "created_at": "2023-09-10T10:20:42Z"
        },
        {
          "author": "Benson1997",
          "body": "端点这里设置了，还是不行呢，提示403错误\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/78ea8810-dcfb-4be8-a614-4a609cf5b885)\r\n\r\n同样的环境下，google free是可以的。\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/111626633/322280be-9466-4d21-8e32-87bcfe8451bd)",
          "created_at": "2023-09-10T10:27:54Z"
        },
        {
          "author": "bookfere",
          "body": "一般情况下第三方服务提供的 API 请求端点应该是和 OpenAI 一致的，类似 `https://api.xxxxxx.com/v1/chat/completions` 而不只是一个域名。建议查阅你所用服务商的文档，确认一下具体的请求端点。",
          "created_at": "2023-09-10T10:37:54Z"
        },
        {
          "author": "Benson1997",
          "body": "好的，谢谢老大！非常感谢",
          "created_at": "2023-09-10T10:39:24Z"
        }
      ]
    },
    {
      "issue_number": 121,
      "title": "使用自定义词汇表的时候出现bug.",
      "body": "比如我定义cult这个单词不翻译,但是实际上翻译的时候,会把包含cult的单词culture翻译为cult,或者 \"cult加乱码符号ure\".\r\n这个设定很奇怪,能否设置为必须完全匹配才按照我们预设的词汇表翻译?\r\n希望作者修复这个bug.",
      "state": "closed",
      "author": "9zang",
      "author_type": "User",
      "created_at": "2023-09-06T15:55:19Z",
      "updated_at": "2023-09-09T15:17:28Z",
      "closed_at": "2023-09-09T15:17:28Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/121/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/121",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/121",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:41.067524",
      "comments": [
        {
          "author": "9zang",
          "body": "我本意是想通过词汇表纠正一些不常用的词汇的翻译结果,但是这样的bug会导致一些常用词汇出现问题",
          "created_at": "2023-09-06T16:01:15Z"
        },
        {
          "author": "9zang",
          "body": "还比如km这个缩写,机翻会翻译为千米,但实际上情况是一些其他编码的缩写,我希望他干脆不翻译.我把这个词写入词汇表,但是workmanship这种包含km这两个字母的词会被强行翻译为km",
          "created_at": "2023-09-07T04:17:45Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢反馈。这个问题在 https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/91#issuecomment-1641307607 提到过。目前词汇表只是简单替换词汇表中的单词，没有精确的分词功能。\r\n\r\n对于用空格分隔单词的语言，如英语，可以通过为词汇表中的词汇添加空格来控制替换。比如，要保持 km 不翻译，可以在 `km` 之后加一个空格，因为通常 `km` 前面紧接着数字，如 `32km`，这样就可以防止 `workmanship` 中的 `km` 不被替换。\r\n\r\n再比如，要想`wing`总是翻译成`翼`，可",
          "created_at": "2023-09-07T05:50:45Z"
        },
        {
          "author": "9zang",
          "body": "> 谢谢反馈。这个问题在 [#91 (comment)](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/91#issuecomment-1641307607) 提到过。目前词汇表只是简单替换词汇表中的单词，没有精确的分词功能。\r\n> \r\n> 对于用空格分隔单词的语言，如英语，可以通过为词汇表中的词汇添加空格来控制替换。比如，要保持 km 不翻译，可以在 `km` 之后加一个空格，因为通常 `km` 前面紧接着数字，如 `32km`，这样就可以防止 `workmanship` 中的 `km` 不被替换。\r\n>",
          "created_at": "2023-09-07T06:00:14Z"
        },
        {
          "author": "9zang",
          "body": "> 谢谢反馈。这个问题在 [#91 (comment)](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/91#issuecomment-1641307607) 提到过。目前词汇表只是简单替换词汇表中的单词，没有精确的分词功能。\r\n> \r\n> 对于用空格分隔单词的语言，如英语，可以通过为词汇表中的词汇添加空格来控制替换。比如，要保持 km 不翻译，可以在 `km` 之后加一个空格，因为通常 `km` 前面紧接着数字，如 `32km`，这样就可以防止 `workmanship` 中的 `km` 不被替换。\r\n>",
          "created_at": "2023-09-07T06:34:53Z"
        }
      ]
    },
    {
      "issue_number": 119,
      "title": "[Feature request] Allow to save paritally translated book",
      "body": "It would be a great feature if it was possible to save progress when translating a book and you reach quota of the translation engine.\r\nNow you have to keep the plugin open until you can continue.",
      "state": "closed",
      "author": "econo202",
      "author_type": "User",
      "created_at": "2023-09-05T15:37:02Z",
      "updated_at": "2023-09-07T16:10:57Z",
      "closed_at": "2023-09-07T13:58:33Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/119/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/119",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/119",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:41.286806",
      "comments": [
        {
          "author": "wangshuihua",
          "body": "Actually, the plugin does support caching the translated content if the Cache Setting remains enabled as the default option. \r\n\r\nAfter reopening, it will NOT start all over again to re-translate the previously translated content, but will skip and proceed to translate the remaining content. \r\n\r\nYou ",
          "created_at": "2023-09-06T01:24:20Z"
        },
        {
          "author": "econo202",
          "body": "Great! I didn't notice cache option that was turned off. Now works as I expected.",
          "created_at": "2023-09-07T13:58:33Z"
        }
      ]
    },
    {
      "issue_number": 117,
      "title": "能否设置多个gpt的key。",
      "body": "gpt每个账号，大概短时间能用几次是可以的，用多了就不行了，需要等一两天才能继续使用。\r\n 我像能不能多申请几个账号，然后再key里，进行设置，每个账号轮换使用。\r\n刚一个账号一段时间没有响应就换另一个账号的key。\r\n\r\n或者以两到三账号为一个组，每个账号分别轮换翻译，\r\n当第一组没反应了，再换下一组。\r\n这样就账号就不会因为短时间内大量翻译二出现这种问题。\r\n\r\n\\~~~~~~~~~~~~~~~~~~~~\r\n\r\nIt's ok for gpt to use each account, probably a few times for a short period of time, but not if you use it more than that, and you need to wait a day or two before you can continue to use it.\r\nI'm wondering if it's possible to apply for a few more accounts, and then in the key, set it up so that each account is rotated.\r\nIf one account doesn't respond for a while, change the key to another account.\r\n\r\nOr maybe a group of two or three accounts, each rotating through the translations.\r\nWhen the first group does not respond, then change the next group.\r\nThis way, the accounts will not have this problem because of a large number of translations in a short period of time.\r\n",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-09-02T10:30:27Z",
      "updated_at": "2023-09-04T16:36:44Z",
      "closed_at": "2023-09-04T16:36:37Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/117/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/117",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/117",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:41.517179",
      "comments": [
        {
          "author": "bookfere",
          "body": "当前引擎是支持多密钥的。你可以在引擎设置中填写，一行一个。目前的策略是，当遇到响应中含有字符  `401`、`unauthorized` 和 `quota` 是，插件就会换用下一个密钥。\r\n\r\nMultiple keys for engines have already been supported. You can add one key per line in the engine settings. The current strategy is that the plugin will automatically switch to the next key if it receive",
          "created_at": "2023-09-02T12:07:34Z"
        },
        {
          "author": "tongcuyu",
          "body": "然而并不行，我已经试过了，这个问题一直存在着，\r\ngtp存在问题，会很长长时间都不动，但是并没有提示失败或者其他的，其他的账号也没有用，\r\n我现在每次都手动换其他key，停止..开始..换key，如此循环着。非常苦闷。\r\n起码有个时间上的时间也好",
          "created_at": "2023-09-02T12:26:27Z"
        },
        {
          "author": "bookfere",
          "body": "你设置的重试次数是多少？由于每次重试等待时间都会增加，这可能是很长时间没反应的原因。",
          "created_at": "2023-09-02T12:33:16Z"
        },
        {
          "author": "tongcuyu",
          "body": "一段时间他就不怎么动了，有时他会提示错误（而彻底停止），有时不是，就是不动，\r\n有时遇到这种情况，切换代理服务器会解决。\r\n\r\n进度里面的提示是：\r\n\r\n错误信息：无法从翻译引擎API获取数据。\r\n无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechan",
          "created_at": "2023-09-03T10:13:13Z"
        },
        {
          "author": "bookfere",
          "body": "长时间不动和你设置的重试次数有关，5 次重试大概会花费 10 分钟的时间。出现 Too Many Requests 错误就是因为请求太频繁了，由于免费版 ChatGPT 一分钟只允许 3 次请求，建议将并发设为 1 间隔设为 20 秒，以避免此错误。",
          "created_at": "2023-09-03T10:30:28Z"
        }
      ]
    },
    {
      "issue_number": 118,
      "title": "减少翻译次数的建议。",
      "body": "目前，gpt好像短时间内对于访问的次数进行了限制，除了用不同的key轮流进行以外，\r\n我突发奇想一个点子，能不能让插件，自动检索上下文的文字量，这样让一些上下文都比较断的内容合并到一起，\r\n等返回后再用原来的排版自动编辑回来。\r\n\r\n我并不知道gpt的最大单条字数限制。\r\n\r\n比如\r\n“你好！”\r\n“在，请问有什么事情”\r\n“谢谢您开发这款优秀的插件”\r\n\r\n把这三行变成一行就会减少，发送的数量。加快翻译速度。",
      "state": "closed",
      "author": "tongcuyu",
      "author_type": "User",
      "created_at": "2023-09-03T10:09:16Z",
      "updated_at": "2023-09-04T16:10:51Z",
      "closed_at": "2023-09-04T16:10:51Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/118/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/118",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/118",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:41.747435",
      "comments": [
        {
          "author": "bookfere",
          "body": "你指的是合并翻译吗？设置中可以开启合并翻译，让插件根据你设定的字符数进行翻译。",
          "created_at": "2023-09-03T10:23:01Z"
        },
        {
          "author": "tongcuyu",
          "body": "谢谢，目前测试中，很重要的功能",
          "created_at": "2023-09-04T13:46:30Z"
        }
      ]
    },
    {
      "issue_number": 116,
      "title": "Can't choose gpt 4",
      "body": "When i try to choose gpt 4 as a model, it automatically switches back to gpt 3.5 turbo, what can i do?",
      "state": "closed",
      "author": "nvmAlex",
      "author_type": "User",
      "created_at": "2023-08-31T07:51:38Z",
      "updated_at": "2023-08-31T12:58:41Z",
      "closed_at": "2023-08-31T12:58:41Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/116/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/116",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/116",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:41.964238",
      "comments": [
        {
          "author": "bookfere",
          "body": "Please try to update this fixed version and check if it resolves the issue.\r\n\r\n[ebook-translator-202308311852.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12485349/ebook-translator-202308311852.zip)",
          "created_at": "2023-08-31T10:58:59Z"
        },
        {
          "author": "nvmAlex",
          "body": "It still switches back to gpt 3.5 turbo once i save",
          "created_at": "2023-08-31T11:10:31Z"
        },
        {
          "author": "bookfere",
          "body": "I suggest that you uninstall the current version first and then restart Calibre. After that, you can install the fixed version above using the \"load plugin from file\" button in Calibre preferences.",
          "created_at": "2023-08-31T11:40:08Z"
        },
        {
          "author": "nvmAlex",
          "body": "Now it works, thank you",
          "created_at": "2023-08-31T12:58:41Z"
        }
      ]
    },
    {
      "issue_number": 115,
      "title": "RuntineError:There is no current event loop in thread 'Dummy-8'.",
      "body": "使用高级模式，点击翻译全部/翻译指定后，会显示：\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/73103395/47022888-53ac-4eda-ac5a-744ad57327e6)\r\n\r\n如果点击显示详细信息，Calibre则会直接闪退。\r\n\r\n使用批量模式，会显示：\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/73103395/43d7830c-6ecd-4f79-ad9a-d8445913cb61)\r\n\r\n详细信息如下：\r\n\r\n```\r\ncalibre, version 5.37.0 (win32, embedded-python: True)\r\n翻译失败: 失败: [自动探测 > Chinese (simplified)] 翻译 \"So wirst du finanziell frei: 13 clevere Geldstrategien erfolgreicher Frauen\"\r\n\r\n[自动探测 > Chinese (simplified)] 翻译 \"So wirst du finanziell frei: 13 clevere Geldstrategien erfolgreicher Frauen\"\r\nInputFormatPlugin: EPUB Input running\r\non D:\\休闲\\阅读\\书库\\Margarethe Honisch\\So wirst du finanziell frei_ 13 cle (340)\\So wirst du finanziell frei_ 13 - Margarethe Honisch.epub\r\nFound HTML cover titlepage.xhtml\r\nParsing all content...\r\nMerging user specified metadata...\r\nDetecting structure...\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\nTranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 5.37.0\r\n| Plugin Version: v2.1.2\r\n| Translate Engine: DeepL(Free)\r\n| Source Language: 自动探测\r\n| Target Language: Chinese (simplified)\r\n| Cache Enabled: True\r\n| Merging Length: 0\r\n| Concurrent requests: 1\r\n| Request Interval: 1.0\r\n| Request Attempt: 3\r\n| Request Timeout: 10.0\r\n| Input Path: D:\\休闲\\阅读\\书库\\Margarethe Honisch\\So wirst du finanziell frei_ 13 cle (340)\\So wirst du finanziell frei_ 13 - Margarethe Honisch.epub\r\n| Output Path: C:\\Users\\lenovo\\AppData\\Local\\Temp\\calibre_9_m25kak\\8sq_14qe.epub\r\n==============================\r\n开始翻译电子书内容\r\n==============================\r\n全部条目：1172\r\nCharacter count: 420828\r\nTraceback (most recent call last):\r\nFile \"runpy.py\", line 194, in _run_module_as_main\r\nFile \"runpy.py\", line 87, in _run_code\r\nFile \"site.py\", line 82, in <module>\r\nFile \"site.py\", line 77, in main\r\nFile \"site.py\", line 49, in run_entry_point\r\nFile \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\nFile \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\nFile \"calibre_plugins.ebook_translator.lib.conversion\", line 108, in convert_book\r\nFile \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\nFile \"calibre_plugins.ebook_translator.lib.conversion\", line 99, in convert\r\nFile \"calibre_plugins.ebook_translator.lib.translation\", line 235, in handle\r\nFile \"calibre_plugins.ebook_translator.lib.async_handler\", line 69, in handle\r\nFile \"asyncio\\runners.py\", line 43, in run\r\nFile \"asyncio\\base_events.py\", line 616, in run_until_complete\r\nFile \"calibre_plugins.ebook_translator.lib.async_handler\", line 58, in process_tasks\r\nFile \"asyncio\\queues.py\", line 220, in join\r\nFile \"asyncio\\locks.py\", line 309, in wait\r\nRuntimeError: Task <Task pending name='Task-1' coro=<AsyncHandler.process_tasks() running at calibre_plugins.ebook_translator.lib.async_handler:58> cb=[_run_until_complete_cb() at asyncio\\base_events.py:184]> got Future <Future pending> attached to a different loop\r\nTask exception was never retrieved\r\nfuture: <Task finished name='Task-3' coro=<AsyncHandler.processing_worker() done, defined at calibre_plugins.ebook_translator.lib.async_handler:41> exception=RuntimeError(\"Task <Task pending name='Task-3' coro=<AsyncHandler.processing_worker() running at calibre_plugins.ebook_translator.lib.async_handler:43>> got Future <Future pending> attached to a different loop\")>\r\nTraceback (most recent call last):\r\nFile \"calibre_plugins.ebook_translator.lib.async_handler\", line 43, in processing_worker\r\nFile \"asyncio\\queues.py\", line 163, in get\r\nRuntimeError: Task <Task pending name='Task-3' coro=<AsyncHandler.processing_worker() running at calibre_plugins.ebook_translator.lib.async_handler:43>> got Future <Future pending> attached to a different loop\r\n```\r\n\r\n此时我的并发限制是1，将它改为100后情况不变。经过多次测试后，会显示不同的线程名错误，如Dummy-8/9/11/14等等。错误日志内容为空，不知道是python的asyncio错误还是我calibre的版本问题？",
      "state": "closed",
      "author": "AnmoWu",
      "author_type": "User",
      "created_at": "2023-08-30T01:11:29Z",
      "updated_at": "2023-08-30T23:47:35Z",
      "closed_at": "2023-08-30T14:40:03Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/115/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/115",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/115",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:42.398970",
      "comments": [
        {
          "author": "bookfere",
          "body": "之前修复过一个和 asyncio 相关的错误 #110，不知是否和这个错误相关。你可以先试一下这个版本，看错误会不会重现：\r\n\r\n[ebook-translator-202308232234.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12420383/ebook-translator-202308232234.zip)",
          "created_at": "2023-08-30T02:05:14Z"
        },
        {
          "author": "AnmoWu",
          "body": "错误重现了。所以我尝试了另一个可能性，把版本升级到最新，成功进行下一步了。应该是calibre老版本和插件不兼容的问题。非常谢谢你的插件和回复！",
          "created_at": "2023-08-30T12:20:02Z"
        },
        {
          "author": "bookfere",
          "body": "确实是版本的问题。截图中所示版本的 Calbire 所用 Python 版本对 asyncio 的某些 API 的支持与新版本有差异，现在错误已修复，旧版本应该也没问题了。",
          "created_at": "2023-08-30T14:40:03Z"
        }
      ]
    },
    {
      "issue_number": 112,
      "title": "翻译完成的书输出电子书失败",
      "body": "如题，日志最后报错如下\r\n\r\n插件2.1.2 calibre 6.25\r\n\r\nTime consuming: 0.15 minutes\r\n翻译已完成。\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 108, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 100, in convert\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 298, in add_translations\r\n  File \"calibre_plugins.ebook_translator.lib.element\", line 93, in add_translation\r\n  File \"src/lxml/etree.pyx\", line 3233, in lxml.etree.XML\r\n  File \"src/lxml/parser.pxi\", line 1913, in lxml.etree._parseMemoryDocument\r\n  File \"src/lxml/parser.pxi\", line 1793, in lxml.etree._parseDoc\r\n  File \"src/lxml/parser.pxi\", line 1082, in lxml.etree._BaseParser._parseUnicodeDoc\r\n  File \"src/lxml/parser.pxi\", line 615, in lxml.etree._ParserContext._handleParseResultDoc\r\n  File \"src/lxml/parser.pxi\", line 725, in lxml.etree._handleParseResult\r\n  File \"src/lxml/parser.pxi\", line 654, in lxml.etree._raiseParseError\r\n  File \"<string>\", line 1\r\nlxml.etree.XMLSyntaxError: PCDATA invalid Char value 7, line 1, column 81\r\n\r\n![微信截图_20230828173325](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38520345/2af27072-01b2-4dcc-b5bc-90019c4c82d6)\r\n\r\n![微信截图_20230828173344](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/38520345/ae091e0d-d693-461c-8fac-835932970f88)\r\n\r\n\r\n",
      "state": "closed",
      "author": "mxh173",
      "author_type": "User",
      "created_at": "2023-08-28T09:38:46Z",
      "updated_at": "2023-08-29T11:08:13Z",
      "closed_at": "2023-08-29T11:08:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/112/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/112",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/112",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:42.608643",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。请将电子书样本发送到邮箱 bookfere@gmail.com 以便测试。",
          "created_at": "2023-08-28T13:09:49Z"
        },
        {
          "author": "mxh173",
          "body": "> 谢谢反馈。请将电子书样本发送到邮箱 [bookfere@gmail.com](mailto:bookfere@gmail.com) 以便测试。\r\n\r\n已发送，辛苦了",
          "created_at": "2023-08-28T14:54:37Z"
        },
        {
          "author": "bookfere",
          "body": "错误是百度翻译返回的译文含有特殊字符导致的。请尝试一下这个版本：\r\n\r\n[ebook-translator-202308291214.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12460196/ebook-translator-202308291214.zip)\r\n",
          "created_at": "2023-08-29T04:18:01Z"
        },
        {
          "author": "mxh173",
          "body": "> 错误是百度翻译返回的译文含有特殊字符导致的。请尝试一下这个版本：\r\n> \r\n> [ebook-translator-202308291214.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12460196/ebook-translator-202308291214.zip)\r\n\r\n这个版本没问题了，感谢大佬",
          "created_at": "2023-08-29T11:08:03Z"
        }
      ]
    },
    {
      "issue_number": 113,
      "title": "[Feature Request] Italic format feature",
      "body": "It would be great for outputs to have _italic_ format. More clearly to determine the translated paragraph.",
      "state": "open",
      "author": "khoilr",
      "author_type": "User",
      "created_at": "2023-08-29T00:42:19Z",
      "updated_at": "2023-08-29T04:49:38Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/113/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/113",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/113",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:42.781719",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your suggestion. This requirement is the same as #98. The feature will be added in a future version.",
          "created_at": "2023-08-29T04:49:37Z"
        }
      ]
    },
    {
      "issue_number": 110,
      "title": "process stops at 99% always， and there is a message。进度停在99%，程序崩溃",
      "body": "我在旧电脑 Win10使用Calibre 6.13，Translator版本 2.11版本，用来翻译epub书籍，一直没有太多问题。 但是最近买了一个新的电脑，把整个Calibre 库复制到新的电脑中，之后 就一直翻译出错。始终进度，停留在 99%。 而且窗口无法关闭，强制点击后 会崩溃Crash。重新启动后，点击输出，依然job停留在 99%的进度，然后查看log，有如下的报错。请帮忙解决下。（已经尝试过 软件和插件统一退回到旧的版本，依然报错。  新的6.25+2.12也一样的）\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/136595048/ad486580-6858-45a8-b0f9-2603c230d597)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/136595048/479c0e1f-1c9b-4dfa-ae6c-0cf5b1f29c1e)\r\n",
      "state": "closed",
      "author": "WalleZJ",
      "author_type": "User",
      "created_at": "2023-08-23T12:09:56Z",
      "updated_at": "2023-08-25T14:20:04Z",
      "closed_at": "2023-08-25T14:20:04Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/110/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/110",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/110",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:43.006803",
      "comments": [
        {
          "author": "WalleZJ",
          "body": "下面这张图 是点击关闭窗口按钮，崩溃前的截图。可以，看到 其实 所有段落，都已经翻译完了，但进度一直停留在 99%。\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/136595048/cccd87de-ad1e-4a42-abc5-ff89d637d4ca)\r\n",
          "created_at": "2023-08-23T12:54:28Z"
        },
        {
          "author": "bookfere",
          "body": "你使用的网络是 IPv6 吗？我这里无法复现此错误，通过你提供的错误信息尝试修复了一下，试试看这个版本:\r\n\r\n[ebook-translator-202308232234.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12420383/ebook-translator-202308232234.zip)\r\n",
          "created_at": "2023-08-23T14:37:55Z"
        },
        {
          "author": "WalleZJ",
          "body": "重新导入你发的这个插件文件后，修复了， 非常感谢你的及时回复。一直很欣赏你们的付出，我的代码知识范畴主要在quant方面，希望有一天也能够加入你们，一起做贡献。     另外，大概知道是什么样的原因吗？ 是不是以后我就要保留使用这个版本了？ ",
          "created_at": "2023-08-23T16:23:25Z"
        },
        {
          "author": "WalleZJ",
          "body": "另外 关于ipv6 ， 我用cmd ipconfig/all 能看到有ipv6 也有 ipv4的地址，所以不清楚到底是不是ipv6.    这个笔记本是 surface pro9，别的一般，wifi好像是比较新的那种，大概是ipv6。如果需要什么信息，可以帮助到你们收集错误原因，可以说的具体一点，我尽量配合。  再次，感谢你们的付出。",
          "created_at": "2023-08-23T16:25:54Z"
        },
        {
          "author": "bookfere",
          "body": "这个问题与 asyncio 的事件循环（event loops）实现有关。Windows 自 Python 3.8 之后（新版 Calibre 用的是 3.10）默认使用的实现是 [ProactorEventLoop](https://docs.python.org/3.8/library/asyncio-eventloop.html#asyncio.ProactorEventLoop)（使用 Windows 的 [I/O Completion Ports](https://learn.microsoft.com/en-us/windows/win32/fileio/i-o-completio",
          "created_at": "2023-08-24T06:23:23Z"
        }
      ]
    },
    {
      "issue_number": 103,
      "title": "OpenAI翻译时，有时会把好几段翻译结果合成一段表示",
      "body": "使用OpenAI 翻译 epub的时候，会随机出现多个段落英文翻译以后，不分段放在一个段落中。 而Google, Azure翻译同样的epub就没有这样的问题。\r\n\r\n其他用户有类似现象吗？",
      "state": "closed",
      "author": "tuyoshi54",
      "author_type": "User",
      "created_at": "2023-08-07T11:21:58Z",
      "updated_at": "2023-08-22T06:39:41Z",
      "closed_at": "2023-08-22T06:39:31Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/103/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/103",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/103",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:43.197800",
      "comments": [
        {
          "author": "bookfere",
          "body": "开启合并翻译功能了吗？如果开启了就是正常的，因为目前还没有太好的方法让 ChatGPT 始终保持合并段落后插入的标记。你可以尝试参考网友分享的经验 #95 调整提示词改善这种情况。",
          "created_at": "2023-08-14T01:12:49Z"
        }
      ]
    },
    {
      "issue_number": 67,
      "title": "词汇表的系统+编码兼容性测试",
      "body": "由于Windows系统下无法正常使用词汇表，在阅读过[另一篇issue](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/55)后，我进行了更详尽的测试，希望我的测试结果对以后的更新有所帮助。\r\n\r\n操作系统：`en-us_windows_10_enterprise_ltsc_2021_x64_dvd_d289cf96.iso`\r\n程序安装包：`calibre-64bit-6.21.0.exe`\r\n插件安装包：`Ebook-Translator-Calibre-Plugin_v2.0.2.zip`\r\n\r\n翻译文本：\r\n`Washington, D.C. (District of Columbia), the capital city and federal district of the United States of America.`\r\n\r\n保存格式：\r\nwashington.txt \r\n编码：\r\nUTF-8\r\n\r\n词汇表文本：\r\n```\r\nWashington\r\n\r\nD.C.\r\n\r\nUnited States of America\r\n美国\r\n\r\n```\r\n\r\n保存格式：\r\nglossary.txt \r\n编码：\r\nUTF-8\r\n\r\n插件设置 (默认以外的改动) ：\r\n偏好模式-高级模式\r\n缓存-取消勾选 (否则会干扰测试结果) \r\n输出格式-TXT\r\n翻译词汇表-开启-glossary.txt\r\n\r\n预期翻译结果：\r\n`Washington，D.C.(哥伦比亚特区) ，美国的首都和联邦特区。`\r\n\r\n实际翻译结果 (高级/批量模式相同) ：\r\n`华盛顿特区(哥伦比亚特区) ，美利坚合众国的首都和联邦区。`\r\n\r\n对操作系统的深入测试：\r\n系统和软件都是新装的，软件和插件配置都尽量保持了默认，以确保环境干净。\r\n已排除文件权限问题，主程序是以管理员权限启动的，文本文件都是放在系统默认的文档目录里的。\r\n在Linux和Mac OS系统下运行正常，同样的操作可以得到预期翻译结果，但测试了各种Windows (11pro, 10pro1809, ltsc2021, ltsb2016, win7sp1) 和各种calibre (6.21.0, 5.44, 3.48) 都不行。非windows系统则任何版本的calibre都能正常使用。\r\n\r\n对文本编码的深入测试：\r\n 注：windows/linux代表生成txt所用的系统，linux下生成的没有使用windows line ending的txt文件在windows下打开会显示成下面这样\r\n```\r\nWashingtonD.C.United States of America美国 \r\n\r\n```\r\n\r\n- `windows-utf8`：windows下失败，linux下出错。\r\n\t-linux下输出txt的内容直接为 `华盛顿，{{id_00001}}（哥伦比亚特区），{{id_00002}}的首都和联邦区。`\r\n- `windows-ANSI`：windows下失败，linux下失败。\r\n- `windows-GBK`：windows下失败，linux下出错。\r\n\t-linux下输出txt的内容直接为 `华盛顿，{{id_00001}}（哥伦比亚特区），{{id_00002}}的首都和联邦区。`\r\n- `windows-GB2312`：windows下失败，linux下失败。\r\n- `windows-ISO2022`：windows下失败，linux下正常。\r\n\t- 高级模式的校对上栏显示为`{{id_00000}}, {{id_00001}} (District of Columbia), the capital city and federal district of the {{id_00002}}.`，但输出正常。\r\n- `windows-GB18030`：windows下失败，linux下失败。\r\n- `windows-utf16le`：windows下失败，linux下失败。\r\n- `windows-utf16be`：windows下失败，linux下失败。\r\n- `linux-utf8`：windows下失败，linux下正常。\r\n- `linux-utf8-win_line_ending`：windows下失败，linux下正常。\r\n\t- 高级模式的校对上栏显示为`{{id_00000}}, {{id_00001}} (District of Columbia), the capital city and federal district of the {{id_00002}}.`，但输出正常。\r\n- `linux-GBK`：windows下失败，linux下失败。\r\n- `linux-GBK-win_line_ending`：windows下失败，linux下失败。\r\n- `linux-GB18030`：windows下失败，linux下失败。\r\n- `linux-GB18030-win_line_ending`：windows下失败，linux下失败。\r\n- `linux-utf32`：windows下失败，linux下失败。\r\n- `linux-utf32-win_line_ending`：windows下失败，linux下失败。\r\n",
      "state": "closed",
      "author": "anartigone",
      "author_type": "User",
      "created_at": "2023-06-14T21:15:06Z",
      "updated_at": "2023-08-21T01:48:51Z",
      "closed_at": "2023-08-21T01:48:51Z",
      "labels": [
        "bug",
        "good first issue"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/67/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/67",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/67",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:43.351434",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢提供详尽的测试数据，我们会利用此数据提升词汇表的可用性。",
          "created_at": "2023-06-15T10:03:37Z"
        },
        {
          "author": "bookfere",
          "body": "词汇表在 Windows 下不可用的问题是之前的版本错误处理换行导致的。请试用下面这个版本，看该功能是否可用：\r\n\r\n[ebook-translator-202306212355.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11819944/ebook-translator-202306212355.zip)",
          "created_at": "2023-06-21T15:56:05Z"
        },
        {
          "author": "anartigone",
          "body": "> ebook-translator-202306212355.zip\r\n\r\n对`ebook-translator-202306212355.zip`的windows测试：\r\n\r\n预期翻译结果：\r\n`Washington，D.C.(哥伦比亚特区) ，美国的首都和联邦特区。`\r\n\r\n实际翻译结果：\r\n- windows-utf8：\r\n\t`华盛顿，D.C.（哥伦比亚特区），美利坚合众国的首都和联邦区。`\r\n\r\n- windows-ISO2022：\r\n\t`Washington，D.C.（哥伦比亚特区），美利坚合众国的首都和联邦区。`\r\n\r\n- linux-utf8：\r\n\t`Washington，D.",
          "created_at": "2023-06-22T03:42:11Z"
        },
        {
          "author": "bookfere",
          "body": "版本 v2.1.0 对词汇表功能做了一些修改，可以测试看看是否还存在此问题。",
          "created_at": "2023-07-15T12:20:46Z"
        },
        {
          "author": "anartigone",
          "body": "> 版本 v2.1.0 对词汇表功能做了一些修改，可以测试看看是否还存在此问题。\r\n\r\n# 2.1.1 更新测试\r\n\r\n预期翻译结果：\r\n`Washington，D.C.(哥伦比亚特区) ，美国的首都和联邦特区。`\r\n\r\n实际翻译结果：\r\n- windows-utf8：\r\n\t`华盛顿州，D.C.（哥伦比亚特区），美国 的首府和联邦区。`\r\n\r\n- linux-utf8：\r\n\t`Washington，D.C.（哥伦比亚特区），美国 的首府和联邦区。`\r\n\r\n- linux-utf8-win_line_ending：\r\n\t`Washington，D.C.（哥伦比亚特区），美国 的首府和联邦区。`\r",
          "created_at": "2023-07-16T21:17:03Z"
        }
      ]
    },
    {
      "issue_number": 92,
      "title": "一本书的翻译任务会自动停止",
      "body": "一本书拆分2200字母到了490份。\r\n我走之前是设置了除开前面3个不要翻译其他全部翻译的。\r\n回来的时候，发现电脑上停止在了第220个任务附近，日志显示翻译完成，用时400分钟。\r\n\r\n莫名其妙就自动停止了。\r\n\r\n然后我继续选择220-490，选择翻译所选任务。\r\n刚才发现，又自动停止在了360附近，还是显示翻译完成，用时...分钟。\r\n\r\n然后我继续上面的操作，又停止在了390附近。\r\n\r\n我看日志，翻译的译文都是确实停止在了这个编号，并不是已经完整跑了490个任务。\r\n不过，每次停止的时候都是发生在报错的时候，似乎是报错或者其他什么操作，会让翻译任务提前终止，而不是先跳过报错的。查看报错的id编号，可以发现id编号和停止位置很接近，也就否定了是后面的所有内容都报错的可能性。\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/3251548/d0df1eba-6170-4a14-9125-1fe8843efa43)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/3251548/34b1c2b2-93b9-4ed4-838d-a645fd0c17d2)\r\n\r\n",
      "state": "closed",
      "author": "riverai",
      "author_type": "User",
      "created_at": "2023-07-18T18:04:22Z",
      "updated_at": "2023-08-18T05:44:46Z",
      "closed_at": "2023-08-18T05:44:46Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/92/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/92",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/92",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:43.558426",
      "comments": [
        {
          "author": "anartigone",
          "body": "502比较少见，用的是什么翻译引擎？如果是自定义引擎请贴出参数。网络环境复杂吗？有用代理服务器或隧道工具吗？",
          "created_at": "2023-07-18T20:31:10Z"
        },
        {
          "author": "riverai",
          "body": "> 502比较少见，用的是什么翻译引擎？如果是自定义引擎请贴出参数。网络环境复杂吗？有用代理服务器或隧道工具吗？\r\n\r\nGPT40613，温度0.5.\r\n然后用了代理。\r\n我估计主要是因为网络不可能那么稳定，但是不稳定可以先跳过，结果报错了就容易所有任务都停下来了。\r\n\r\n我想这个事情，是否和引擎设置旁边的错误次数有关。\r\n难道这里是说，所有翻译任务（即便是500子任务以上）出现了这里设置的翻译错误次数（默认10，我之前改成了2），就会自动停止？",
          "created_at": "2023-07-19T00:28:21Z"
        },
        {
          "author": "bookfere",
          "body": "为满足 #76、#77 这两个需求，自 v2.1.0 开始在设置中添加了一个“**最大错误次数**”的选项，作用是当某个请求错误连续出现指定次数就停止翻译，预设是 **10** 次，如果不想自动停止则需要将其设为 **0**。",
          "created_at": "2023-07-19T04:52:58Z"
        },
        {
          "author": "riverai",
          "body": "既然这个选项的作用和我之前猜测的一样，那么能否改变下这个选项的名字，比如改成”最大错误次数以终止翻译“，这样会直接表明功能，不要再有任何猜测。\r\n\r\n书伴 ***@***.***> 于2023年7月19日周三 12:53写道：\r\n\r\n> 为满足 #76\r\n> <https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/76>、\r\n> #77\r\n> <https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/77>\r\n> 这两个需求，自 v2.1",
          "created_at": "2023-07-19T05:22:46Z"
        },
        {
          "author": "bookfere",
          "body": "最初考虑过类似的描述（如“超过错误次数后停止翻译”、”取消翻译的错误次数阈值“），但是感觉在界面上显示太长就没采用，这就导致了语意模糊。还有就是这个选项是否适合放在“HTTP 请求”这一组设置中也有待商榷，因为它产生的后果是取消整个翻译任务，好像和请求本身没太大关联。",
          "created_at": "2023-07-19T07:35:53Z"
        }
      ]
    },
    {
      "issue_number": 90,
      "title": "Windows环境下的缓存锁死问题",
      "body": "不勾选开启缓存会在输出时报错：\r\n```\r\n==============================\r\nTime consuming: 0.0 minutes\r\n翻译已完成。\r\n==============================\r\n开始转换电子书格式：\r\n==============================\r\nConverting XHTML to TXT...\r\nTXT output written to C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\calibre__twf0xtj\\po8vqv84.txt\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.lib.conversion\", line 108, in convert_book\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 220, in done\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 217, in destroy\r\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\com.bookfere.Calibre.EbookTranslator\\\\temp\\\\0fd4e12aab5b93df53e937b476577b99.db'\r\n```\r\n\r\n勾选开启缓存后输出正常，但随后用缓存管理器删除/清除时会报错 (重启主程序后可以删除) ：\r\n```\r\ncalibre, version 6.23.0\r\n错误： Cannot open file or folder as it is in use: <p>Could not open the file: \"C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\com.bookfere.Calibre.EbookTranslator\\cache\\0fd4e12aab5b93df53e937b476577b99.db\". It is already opened in the following programs:<div>The main calibre program: C:\\Program Files\\Calibre2\\calibre.exe\r\n\r\ncalibre 6.23  embedded-python: True\r\nWindows-10-10.0.17763-SP0 Windows ('64bit', 'WindowsPE')\r\n('Windows', '10', '10.0.17763')\r\nPython 3.10.1\r\nWindows: ('10', '10.0.17763', 'SP0', 'Multiprocessor Free')\r\nInterface language: zh_CN\r\nSuccessfully initialized third party plugins: Ebook Translator (2, 1, 1)\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.cache\", line 146, in clear\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 109, in clean\r\n  File \"calibre_plugins.ebook_translator.lib.cache\", line 104, in remove\r\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\com.bookfere.Calibre.EbookTranslator\\\\cache\\\\0fd4e12aab5b93df53e937b476577b99.db'\r\n```\r\n\r\n这个问题是在我进行[词汇表测试](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/67#issuecomment-1637192122)时遇到的，已经尝试过更改默认缓存路径到自定义路径，情况没有变化、使用主程序最新版6.23也没有变化、使用管理员权限运行主程序也没有变化。\r\n删除、清除、更改路径、重置路径都需要在新开主程序时，也就是没有使用过翻译功能的状态下才能成功操作。如果翻译过再进行操作就会触发上面的报错 (缓存锁死) 。",
      "state": "closed",
      "author": "anartigone",
      "author_type": "User",
      "created_at": "2023-07-17T23:27:33Z",
      "updated_at": "2023-08-17T19:20:24Z",
      "closed_at": "2023-08-17T19:20:24Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/90/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/90",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/90",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:45.695705",
      "comments": [
        {
          "author": "bookfere",
          "body": "刚在 Windows 系统下测试了一下，这个问题貌似修复了。你可以下载这个版本试试看：\r\n\r\n[ebook-translator-202308142121.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12334987/ebook-translator-202308142121.zip)\r\n",
          "created_at": "2023-08-14T13:29:52Z"
        },
        {
          "author": "anartigone",
          "body": "> 刚在 Windows 系统下测试了一下，这个问题貌似修复了。你可以下载这个版本试试看：\r\n> \r\n> [ebook-translator-202308142121.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12334987/ebook-translator-202308142121.zip)\r\n\r\n测试了缓存管理，确认上次的问题已经修复。\r\n同时发现了新的问题，就是在设置里勾选开启缓存一切正常，但是取消勾选后就会出现插件的高级模式界面锁死问题。无法进一步判断问题原因，主程序版本6.24，管理",
          "created_at": "2023-08-15T19:43:33Z"
        },
        {
          "author": "bookfere",
          "body": "试试这个版本：\r\n\r\n[ebook-translator-202308172008.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12369151/ebook-translator-202308172008.zip)\r\n",
          "created_at": "2023-08-17T12:09:34Z"
        },
        {
          "author": "anartigone",
          "body": "> 试试这个版本：\r\n> \r\n> [ebook-translator-202308172008.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/12369151/ebook-translator-202308172008.zip)\r\n\r\n完美解决，太棒了。",
          "created_at": "2023-08-17T19:20:24Z"
        }
      ]
    },
    {
      "issue_number": 106,
      "title": "翻译后的电子书文件不能正常打开，但是可以calibre上阅读。",
      "body": "**能在calibre上正常阅读**\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/69511529/09512870-d848-4238-9277-caec655b6436)\r\n**但是翻译后的电子书文件是这样的，不能正常打开。我需要获得翻译后的电子书文件。**\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/69511529/c9992484-2d44-4ed7-bd10-7e7260694fe2)\r\n\r\n",
      "state": "closed",
      "author": "just-createone",
      "author_type": "User",
      "created_at": "2023-08-15T04:14:13Z",
      "updated_at": "2023-08-17T15:55:14Z",
      "closed_at": "2023-08-17T15:55:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 13,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/106/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/106",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/106",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:45.881277",
      "comments": [
        {
          "author": "anartigone",
          "body": "需要更多信息，请尝试不同翻译引擎、不同电子书、不同保存路径，并提供日志。",
          "created_at": "2023-08-15T19:46:22Z"
        },
        {
          "author": "just-createone",
          "body": "发现有的电子书经过翻译后会有一个翻译后的可阅读的epub文件，但是有的电子书经过翻译后会出现上述问题，文件无法打开。以下是其中一本无法打开的电子书的翻译日志。（但可以在calibre上正常阅读）\r\n\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/69511529/596638d8-44b3-45f4-9e03-23f2756125c9)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/asse",
          "created_at": "2023-08-16T03:44:20Z"
        },
        {
          "author": "bookfere",
          "body": "出现这个问题的电子书翻译用时大概有多长？和没有出现此问题的电子书相比，会更长一些吗？",
          "created_at": "2023-08-17T09:22:16Z"
        },
        {
          "author": "just-createone",
          "body": "翻译时长取决于书本的内容长短，有的电子书比这本书长的多，但是最终导出的文件是正常的，这本书大概用了三到五分钟左右吧。\r\n如果你的意思是在翻译过程中是不是耗时特别久，那答案是不是的，翻译速度还是比较快的，也能在calibre上正常阅读，就是我需要的导出的翻译后的epub文件异常（如上图）。\r\n",
          "created_at": "2023-08-17T09:29:20Z"
        },
        {
          "author": "bookfere",
          "body": "重新翻译那本书，问题还会重现吗？如果能的话，请提供一下电子书文件，我这里测试一下。",
          "created_at": "2023-08-17T09:37:40Z"
        }
      ]
    },
    {
      "issue_number": 101,
      "title": "The engine ignore untagged paragraphs",
      "body": "I have a problem with some EPUB. There are paragraphs that are translated, others not. So I was wondering why. I think I actually found the problem.\r\n\r\nParagraphs that are not inside an HTML tag are ignored., so that cause that some parts aren't translated.\r\n\r\nThe following is an example of the translation from english to spanish.\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/84999493/f52160ea-3f02-4834-ba1e-5bdf24788702)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/84999493/46925a39-0440-4285-8929-b71f0aba4a66)\r\n\r\n\r\nThis is an example of what it does to those paragraphs that aren't tagged\r\n\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/84999493/79fe1a16-dc54-4c0d-86fc-947ac41b2591)\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/84999493/79ad874d-13c9-4db3-adc6-5c6b09c12c0f)",
      "state": "open",
      "author": "cnmorocho",
      "author_type": "User",
      "created_at": "2023-08-02T17:59:28Z",
      "updated_at": "2023-08-04T18:27:41Z",
      "closed_at": null,
      "labels": [
        "help wanted"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/101/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/101",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/101",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.121473",
      "comments": [
        {
          "author": "wangshuihua",
          "body": "For ebooks of standard format, their text is wrapped by tags, and that's how we extract content to translate. Regarding the problem you encountered, we have not yet found a good way to extract untagged paragraphs.",
          "created_at": "2023-08-04T05:57:18Z"
        },
        {
          "author": "anartigone",
          "body": "I had encountered similar problems with some EPUBs as well. In deed, there is no good solution for such arbitrary html problems. \r\n\r\nMy workaround is to first convert the EPUB to TXT, then translate. This is not recommend because you will lose all formatting, structures and images. But, speaking of ",
          "created_at": "2023-08-04T18:27:41Z"
        }
      ]
    },
    {
      "issue_number": 99,
      "title": "2.1.1版本太容易报错了",
      "body": "用2.1.1版本的DeepL Free 翻译经常这样报错:\r\n`错误信息：无法从翻译引擎API获取数据。\r\n无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429:`\r\n\r\n但是同样的设置,我把插件里的DeepL.py复制到2.0.3里面,然后安装,结果很难出现报错,而且速度比2.1.1更快",
      "state": "closed",
      "author": "zoushenhh",
      "author_type": "User",
      "created_at": "2023-07-25T19:03:01Z",
      "updated_at": "2023-08-02T07:06:51Z",
      "closed_at": "2023-08-02T07:06:51Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/99/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/99",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/99",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.338530",
      "comments": [
        {
          "author": "zoushenhh",
          "body": "还有这个:\r\n`错误信息：无法从翻译引擎API获取数据。\r\n无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize\\_opene",
          "created_at": "2023-07-25T19:25:58Z"
        },
        {
          "author": "bookfere",
          "body": "设置并发了吗，间隔时间是多少？",
          "created_at": "2023-07-26T12:41:02Z"
        },
        {
          "author": "zoushenhh",
          "body": "> 设置并发了吗，间隔时间是多少？\r\n\r\n并发2,间隔2s,就算是并发1也是",
          "created_at": "2023-07-26T13:37:12Z"
        },
        {
          "author": "bookfere",
          "body": "DeepL (Free) 的并发请求必须设为 1，否则肯定会出现 429 错误（版本 2.0.3 之所以没有这个问题，是因为这个版本的并发请求功能的实现有问题，导致并发设置的数值没有效用）。然后就是调节请求间隔，找一个合适的不会触发它拒绝服务的数值。\r\n\r\n如果想更进一步解决 429 错误的问题，可以参考网友 [anartigone](https://github.com/anartigone) 的经验分享 #83。",
          "created_at": "2023-07-27T07:00:19Z"
        }
      ]
    },
    {
      "issue_number": 97,
      "title": "生成翻译文件时，把markdown原文件的符号给带上吧？要不格式都变了",
      "body": null,
      "state": "closed",
      "author": "byq1",
      "author_type": "User",
      "created_at": "2023-07-22T11:23:15Z",
      "updated_at": "2023-07-23T06:08:56Z",
      "closed_at": "2023-07-23T06:08:41Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/97/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/97",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/97",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.569732",
      "comments": [
        {
          "author": "bookfere",
          "body": "同 [#37 (comment)](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/37#issuecomment-1542666918)。由于 Calibre 在处理 MarkDown 时无法保持原有的格式，因此插件也受此限制。",
          "created_at": "2023-07-23T06:08:41Z"
        }
      ]
    },
    {
      "issue_number": 91,
      "title": "2.1.1版本Windows版本开启词汇表后输出译文出现代码存在的问题",
      "body": "约翰-多克尼亚斯<m id=000169 /> <m id=000072 />是2021年不列颠哥伦比亚省冠军。他曾在大太平洋公开赛、兰利公开赛和2017年加拿大U18锦标赛等多项强手如林的比赛中夺冠。约翰是一名国际象棋教师，拥有超过9年的教学经验，并为著名的国家国际象棋出版物<m id=000198 />做注释。维多利亚-多克尼亚斯（Victoria Doknjas），工商管理硕士，是北美青年国际象棋锦标赛（2014年和2017年）和2015年世界青年和少年国际象棋锦标赛（希腊）的加拿大代表团团长。她赢得了2016年加拿大高级女子冠军头衔，并共同创办了青少年国际象棋学院。作者：John Doknjas <m id=000035 /> 现代贝诺尼<m id=000035 /> 西西里纳伊多夫<m id=000035 /> 重演<m id=000035 /> (与Joshua Doknjas合著)",
      "state": "closed",
      "author": "zoushenhh",
      "author_type": "User",
      "created_at": "2023-07-18T03:00:24Z",
      "updated_at": "2023-07-19T21:24:41Z",
      "closed_at": "2023-07-19T09:06:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/91/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/91",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/91",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.746655",
      "comments": [
        {
          "author": "bookfere",
          "body": "请更详细地描述一下你遇到的问题。",
          "created_at": "2023-07-18T04:32:41Z"
        },
        {
          "author": "zoushenhh",
          "body": "词汇表：\r\nFIDE\r\n\r\nMaster\r\n大师\r\n\r\n原文：John Doknjas is a FIDE Master and was the 2021 British Columbia Champion.\r\n译文：约翰-多克尼亚斯` `<m `id=000169` /> <m `id=000072` />`是2021年不列颠哥伦比亚省冠军。\r\n",
          "created_at": "2023-07-18T05:39:38Z"
        },
        {
          "author": "bookfere",
          "body": "新版本应该不会看到插入的占位符了。这个问题是出现在最新版本插件上的吗？",
          "created_at": "2023-07-18T10:40:41Z"
        },
        {
          "author": "zoushenhh",
          "body": "> 新版本应该不会看到插入的占位符了。这个问题是出现在最新版本插件上的吗？\r\n\r\n是的2.1.1版本，我是windows10.",
          "created_at": "2023-07-18T14:49:49Z"
        },
        {
          "author": "anartigone",
          "body": "> > 新版本应该不会看到插入的占位符了。这个问题是出现在最新版本插件上的吗？\r\n> \r\n> 是的2.1.1版本，我是windows10.\r\n\r\n用的什么引擎？我有印象在测试时用google没有占位符而用deepl时会有",
          "created_at": "2023-07-18T16:05:46Z"
        }
      ]
    },
    {
      "issue_number": 34,
      "title": "可以自定义Chatgpt API域名么",
      "body": "可否加一个自定义API域名得功能不🤣",
      "state": "closed",
      "author": "whlnolan",
      "author_type": "User",
      "created_at": "2023-05-07T01:48:22Z",
      "updated_at": "2023-07-18T04:58:44Z",
      "closed_at": "2023-06-06T13:40:28Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 33,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/34/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/34",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/34",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.938356",
      "comments": []
    },
    {
      "issue_number": 89,
      "title": "第三方的GPT api报307错误",
      "body": "\r\n我用的是这里的模型：\r\nhttps://[chimeragpt.adventblocks.cc/v1/models](https://chimeragpt.adventblocks.cc/v1/models)\r\n\r\n后端地址是：https://chimeragpt.adventblocks.cc/v1/chat/completions/\r\n选的是gpt4或者3.5 turbo模型。\r\n填写了discord获得的密钥。\r\n在翻译之前，我用其他客户端测试过，密钥，网址（https://chimeragpt.adventblocks.cc/v1）都是通的，能聊天。但是填写到这里尝试翻译，就每次都报错，完全无法翻译。\r\n不知道原因是什么？\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 307: Temporary Redirect\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.components.engine\", line 66, in translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 89, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 181, in get_result\r\nException: 无法解析返回的响应。原始数据：\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 171, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 307: Temporary Redirect",
      "state": "closed",
      "author": "riverai",
      "author_type": "User",
      "created_at": "2023-07-17T18:24:40Z",
      "updated_at": "2023-07-18T04:33:09Z",
      "closed_at": "2023-07-18T01:38:11Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/89/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/89",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/89",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:46.938375",
      "comments": [
        {
          "author": "anartigone",
          "body": "参考[这里](https://github.com/nomic-ai/gpt4all/issues/1202#issue-1804862178)，可能是单次token量超载或者触发限制了吧，你可以在能聊天的客户端手动测试一下相同文本。第三方api可以做很多限制和调整，我觉得这个问题是服务端造成的，应该找上游。",
          "created_at": "2023-07-17T23:22:11Z"
        },
        {
          "author": "riverai",
          "body": "> 参考[这里](https://github.com/nomic-ai/gpt4all/issues/1202#issue-1804862178)，可能是单次token量超载或者触发限制了吧，你可以在能聊天的客户端手动测试一下相同文本。第三方api可以做很多限制和调整，我觉得这个问题是服务端造成的，应该找上游。\r\n\r\n不是，和你说的这个没什么关系，因为我这个也是在线模型，完全兼容GPT API，并不是本地模型啊。\r\n而且我在插件的GPT配置里面点了“测试”，就一句话“hello world\"也不行，也不是token超过限制。\r\n同期用相同的密钥和API已经测试过可以使用GPT4 对话聊天。",
          "created_at": "2023-07-17T23:29:10Z"
        },
        {
          "author": "anartigone",
          "body": "> > 参考[这里](https://github.com/nomic-ai/gpt4all/issues/1202#issue-1804862178)，可能是单次token量超载或者触发限制了吧，你可以在能聊天的客户端手动测试一下相同文本。第三方api可以做很多限制和调整，我觉得这个问题是服务端造成的，应该找上游。\r\n> \r\n> 不是，和你说的这个没什么关系，因为我这个也是在线模型，完全兼容GPT API，并不是本地模型啊。 而且我在插件的GPT配置里面点了“测试”，就一句话“hello world\"也不行，也不是token超过限制。 同期用相同的密钥和API已经测试过可以使用GPT4 对话",
          "created_at": "2023-07-18T00:41:08Z"
        },
        {
          "author": "riverai",
          "body": "> > > 参考[这里](https://github.com/nomic-ai/gpt4all/issues/1202#issue-1804862178)，可能是单次token量超载或者触发限制了吧，你可以在能聊天的客户端手动测试一下相同文本。第三方api可以做很多限制和调整，我觉得这个问题是服务端造成的，应该找上游。\r\n> > \r\n> > \r\n> > 不是，和你说的这个没什么关系，因为我这个也是在线模型，完全兼容GPT API，并不是本地模型啊。 而且我在插件的GPT配置里面点了“测试”，就一句话“hello world\"也不行，也不是token超过限制。 同期用相同的密钥和API已经测试",
          "created_at": "2023-07-18T01:05:25Z"
        },
        {
          "author": "anartigone",
          "body": "> > > > 参考[这里](https://github.com/nomic-ai/gpt4all/issues/1202#issue-1804862178)，可能是单次token量超载或者触发限制了吧，你可以在能聊天的客户端手动测试一下相同文本。第三方api可以做很多限制和调整，我觉得这个问题是服务端造成的，应该找上游。\r\n> > > \r\n> > > \r\n> > > 不是，和你说的这个没什么关系，因为我这个也是在线模型，完全兼容GPT API，并不是本地模型啊。 而且我在插件的GPT配置里面点了“测试”，就一句话“hello world\"也不行，也不是token超过限制。 同期用相同的密钥",
          "created_at": "2023-07-18T01:17:30Z"
        }
      ]
    },
    {
      "issue_number": 74,
      "title": "Gnome桌面环境下，高级模式翻译正在进行时无法切换到桌面的其他工作区",
      "body": "大多数Linux桌面环境都有工作区这个功能，这有助于同时让多个程序窗口在前台运行但又不至于全部挤在一块，我的gnome桌面环境当然也有。\r\n我发现插件在高级模式下，正在进行翻译时我无法切换到其他工作区。\r\n我的操作系统时Nobara 37 Gnome version，Gnome版本是43.2，wayland环境",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-24T12:43:29Z",
      "updated_at": "2023-07-18T01:45:08Z",
      "closed_at": "2023-07-18T01:45:08Z",
      "labels": [
        "help wanted"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/74/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/74",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/74",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:47.141095",
      "comments": [
        {
          "author": "bookfere",
          "body": "手头没有这个系统环境，不好测试这个问题。",
          "created_at": "2023-06-26T04:14:30Z"
        },
        {
          "author": "anartigone",
          "body": "操作系统：kali-linux-2023.2\r\n内核版本：Linux 6.1.0-kali9-amd64\r\nGnome版本：44.1\r\n桌面环境：x11+gdm3\r\n主程序版本：Calibre 6.23\r\n插件版本：v2.1.1\r\n\r\n测试方法：在高级模式下运行翻译时，使用Spuer+Page Up/Down切换工作区，使用Shift+Super+Page Up/Down在工作区之间移动窗口。\r\n测试结果：一切正常，无法复现问题。\r\n\r\n由于是在虚拟机环境所以无法启用wayland，建议你自己切换到x11环境测试。",
          "created_at": "2023-07-18T01:32:40Z"
        },
        {
          "author": "WeeAris",
          "body": "> 操作系统：kali-linux-2023.2 内核版本：Linux 6.1.0-kali9-amd64 Gnome版本：44.1 桌面环境：x11+gdm3 主程序版本：Calibre 6.23 插件版本：v2.1.1\r\n> \r\n> 测试方法：在高级模式下运行翻译时，使用Spuer+Page Up/Down切换工作区，使用Shift+Super+Page Up/Down在工作区之间移动窗口。 测试结果：一切正常，无法复现问题。\r\n> \r\n> 由于是在虚拟机环境所以无法启用wayland，建议你自己切换到x11环境测试。\r\n\r\n在openSUSE Tumbleweed Gnome 44.3上",
          "created_at": "2023-07-18T01:45:06Z"
        }
      ]
    },
    {
      "issue_number": 88,
      "title": "Failed to retreive data from translate engine API. 是什么问题？",
      "body": "```\r\n==============================\r\nStart to translate ebook content\r\n==============================\r\nTotal items: 11749\r\n------------------------------\r\nOriginal: Stock\r\nFailed to retreive data from translate engine API.\r\nWill retry in 5 seconds.\r\n[2023-07-16 13:01:46] Retrying 1 ... (timeout is 10 seconds).\r\nFailed to retreive data from translate engine API.\r\nWill retry in 10 seconds.\r\n[2023-07-16 13:01:56] Retrying 2 ... (timeout is 10 seconds).\r\nFailed to retreive data from translate engine API.\r\nWill retry in 30 seconds.\r\n[2023-07-16 13:01:26] Retrying 3 ... (timeout is 10 seconds).\r\nFailed to retreive data from translate engine API.\r\nTraceback (most recent call last):\r\n  File \"mechanize/_urllib2_fork.py\", line 1236, in do_open\r\n  File \"http/client.py\", line 1282, in request\r\n  File \"http/client.py\", line 1328, in _send_request\r\n  File \"http/client.py\", line 1277, in endheaders\r\n  File \"http/client.py\", line 1037, in _send_output\r\n  File \"http/client.py\", line 975, in send\r\n  File \"http/client.py\", line 1454, in connect\r\n  File \"ssl.py\", line 512, in wrap_socket\r\n  File \"ssl.py\", line 1070, in _create\r\n  File \"ssl.py\", line 1341, in do_handshake\r\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:997)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize/_opener.py\", line 193, in open\r\n  File \"mechanize/_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize/_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 88, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"mechanize/_urllib2_fork.py\", line 1236, in do_open\r\n  File \"http/client.py\", line 1282, in request\r\n  File \"http/client.py\", line 1328, in _send_request\r\n  File \"http/client.py\", line 1277, in endheaders\r\n  File \"http/client.py\", line 1037, in _send_output\r\n  File \"http/client.py\", line 975, in send\r\n  File \"http/client.py\", line 1454, in connect\r\n  File \"ssl.py\", line 512, in wrap_socket\r\n  File \"ssl.py\", line 1070, in _create\r\n  File \"ssl.py\", line 1341, in do_handshake\r\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:997)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize/_opener.py\", line 193, in open\r\n  File \"mechanize/_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize/_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 88, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"mechanize/_urllib2_fork.py\", line 1236, in do_open\r\n  File \"http/client.py\", line 1282, in request\r\n  File \"http/client.py\", line 1328, in _send_request\r\n  File \"http/client.py\", line 1277, in endheaders\r\n  File \"http/client.py\", line 1037, in _send_output\r\n  File \"http/client.py\", line 975, in send\r\n  File \"http/client.py\", line 1454, in connect\r\n  File \"ssl.py\", line 512, in wrap_socket\r\n  File \"ssl.py\", line 1070, in _create\r\n  File \"ssl.py\", line 1341, in do_handshake\r\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:997)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize/_opener.py\", line 193, in open\r\n  File \"mechanize/_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize/_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 88, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"mechanize/_urllib2_fork.py\", line 1236, in do_open\r\n  File \"http/client.py\", line 1282, in request\r\n  File \"http/client.py\", line 1328, in _send_request\r\n  File \"http/client.py\", line 1277, in endheaders\r\n  File \"http/client.py\", line 1037, in _send_output\r\n  File \"http/client.py\", line 975, in send\r\n  File \"http/client.py\", line 1454, in connect\r\n  File \"ssl.py\", line 512, in wrap_socket\r\n  File \"ssl.py\", line 1070, in _create\r\n  File \"ssl.py\", line 1341, in do_handshake\r\nssl.SSLEOFError: EOF occurred in violation of protocol (_ssl.c:997)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n    self.br.open(request)\r\n  File \"mechanize/_mechanize.py\", line 257, in open\r\n  File \"mechanize/_mechanize.py\", line 287, in _mech_open\r\n  File \"mechanize/_opener.py\", line 193, in open\r\n  File \"mechanize/_urllib2_fork.py\", line 425, in _open\r\n  File \"mechanize/_urllib2_fork.py\", line 414, in _call_chain\r\n  File \"mechanize/_urllib2_fork.py\", line 1283, in https_open\r\n  File \"mechanize/_urllib2_fork.py\", line 1240, in do_open\r\nurllib.error.URLError: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n    return self.translator.translate(text)\r\n  File \"calibre_plugins.ebook_translator.engines.chatgpt\", line 88, in translate\r\n    return self.get_result(\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\n    raise Exception(\r\nException: Can not parse returned response. Raw data: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.advanced\", line 159, in translate_paragraphs\r\n    translation.handle(paragraphs)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 149, in handle\r\n    async_request.run()\r\n  File \"calibre_plugins.ebook_translator.request\", line 37, in run\r\n    asyncio.run(self.create_tasks())\r\n  File \"asyncio/runners.py\", line 44, in run\r\n  File \"asyncio/base_events.py\", line 641, in run_until_complete\r\n  File \"calibre_plugins.ebook_translator.request\", line 34, in create_tasks\r\n    await asyncio.gather(*self.tasks)\r\n  File \"calibre_plugins.ebook_translator.request\", line 22, in create_worker\r\n    self.process_translation(paragraph)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 144, in process_translation\r\n    self._prepare_translation(paragraph)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 102, in _prepare_translation\r\n    translation = self._translate_text(original)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n    return self._translate_text(text, count, interval)\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\n    raise Exception('{} {}'.format(message, str(e)))\r\nException: Failed to retreive data from translate engine API. Can not parse returned response. Raw data: <urlopen error EOF occurred in violation of protocol (_ssl.c:997)>\r\n```",
      "state": "closed",
      "author": "hrdg",
      "author_type": "User",
      "created_at": "2023-07-16T05:19:58Z",
      "updated_at": "2023-07-16T14:22:31Z",
      "closed_at": "2023-07-16T14:22:31Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/88/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/88",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/88",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:47.303270",
      "comments": [
        {
          "author": "bookfere",
          "body": "看起来这是个网络问题。你使用网络代理了吗？如果有的话更换 IP 或代理试试。",
          "created_at": "2023-07-16T06:16:47Z"
        }
      ]
    },
    {
      "issue_number": 76,
      "title": "[Feature Request] 增加选项，请求失败超过最大次数时，不停止翻译",
      "body": "自己写API把Poe bot封装成了翻译引擎，尽管通过调教prompt实现99%以上的稳定性，但仍有不到1%的请求会出问题，而且出问题的请求大概率能成功复现，我推测是这部分请求触及到模型本身的一些缺陷，需要人工介入处理。\r\n但是这处理起来比较麻烦，所以我希望增加一个选项：当请求超过最大次数时，跳到下一段继续翻译，直到所有翻译完成后再弹出一个窗口告诉我哪些地方翻译失败了，或者在“状态”这一栏红字标注。这样我就不用盯着它干活了（毕竟poe有速率限制，不能翻太快）。\r\n\r\n",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-25T03:43:33Z",
      "updated_at": "2023-07-15T12:19:25Z",
      "closed_at": "2023-07-15T12:19:25Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/76/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/76",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/76",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:47.520873",
      "comments": [
        {
          "author": "bookfere",
          "body": "目前正在改进的版本正好实现了这个特性，翻译过程中会忽略失败的条目，完成后提供失败条目的提示。",
          "created_at": "2023-06-26T04:11:59Z"
        },
        {
          "author": "bookfere",
          "body": "版本 v2.1.0 已实现此功能，需要在设置中将“**最大错误次数**”设置为 **0**。",
          "created_at": "2023-07-15T12:19:25Z"
        }
      ]
    },
    {
      "issue_number": 79,
      "title": "原始数据：'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte",
      "body": "目前又出现了如下错误，请看一下，谢谢！\r\n\r\n\r\n原文：Everything about tulip sex seems orderly and intelligible; there is none of the occult mystery that attends the sexuality of, say, a Bourbon rose or a doubled peony. Those two are flowers in which one imagines a bumblebee being forced to feel his way around in the dark, stumbling blindly, drunkenly, getting himself all tangled in their innumerable petals. Which is precisely the idea, of course. But it is not the tulip’s idea.\r\n无法从翻译引擎API获取数据。\r\n5 秒后重试。\r\n[2023-06-28 19:07:08] 正在重试 1 ...（60秒后超时）\r\n无法从翻译引擎API获取数据。\r\n10 秒后重试。\r\n\r\n[2023-06-28 19:07:18] 正在重试 2 ...（60秒后超时）\r\n无法从翻译引擎API获取数据。\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 170, in get_result\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 170, in get_result\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 170, in get_result\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 93, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 86, in convert\r\n  File \"calibre_plugins.ebook_translator.translation\", line 149, in handle\r\n  File \"calibre_plugins.ebook_translator.request\", line 37, in run\r\n  File \"asyncio\\runners.py\", line 44, in run\r\n  File \"asyncio\\base_events.py\", line 641, in run_until_complete\r\n  File \"calibre_plugins.ebook_translator.request\", line 34, in create_tasks\r\n  File \"calibre_plugins.ebook_translator.request\", line 22, in create_worker\r\n  File \"calibre_plugins.ebook_translator.translation\", line 144, in process_translation\r\n  File \"calibre_plugins.ebook_translator.translation\", line 102, in _prepare_translation\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\nException: 无法从翻译引擎API获取数据。 无法解析返回的响应。原始数据：'utf-8' codec can't decode byte 0x85 in position 0: invalid start byte\r\n",
      "state": "closed",
      "author": "michaelpopes",
      "author_type": "User",
      "created_at": "2023-06-28T23:36:54Z",
      "updated_at": "2023-07-12T04:32:24Z",
      "closed_at": "2023-07-12T04:32:24Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/79/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/79",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/79",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:47.742964",
      "comments": [
        {
          "author": "anartigone",
          "body": "我也遇到了相同问题，引擎选择DeepL的时候就会报错，Google正常。目测应该是DeepL引擎接口那边有改动。",
          "created_at": "2023-06-29T01:42:55Z"
        },
        {
          "author": "parataxia",
          "body": "I have same errors, it worked a week ago but now improper encoding from server/plugin persists.. perhaps DeepL blocked the client side protocol.. I hope it gets resolved soon enough.",
          "created_at": "2023-07-04T14:09:49Z"
        }
      ]
    },
    {
      "issue_number": 86,
      "title": "翻译段落标题时，翻译任务偶尔会变为解释",
      "body": "翻译书籍：Learning to See Creatively - Bryan Peterson\r\n\r\n例如：在翻译“THE RULE OF THIRDS”时，会对三分法规则进行解释。\r\n\r\n“THE RULE OF THIRDS 三分法规则  三分法规则是把一个完整的事物或问题分为三个部分，并对其进行分析和处理的方法。该规则认为，任何事物都可以被分为三个部分，这三个部分都是彼此联系的，而且都发挥着重要的作用。\r\n\r\n三分法规则常用于解决问题、分析情况和制定决策。它可以帮助人们全面理解一个事物或问题，并从不同的角度考虑和解决。通过将事物分为三个部分，人们可以更好地理解它们之间的关系和作用，以及它们在整体中的重要性。\r\n\r\n三分法规则可以应用于各个领域，例如管理学、心理学、分析学等。它可以帮助人们更全面地认识一个问题，找到解决问题的方法，并制定相应的策略和计划。通过运用三分法规则，人们可以更系统地思考和行动，并获取更好的结果。”\r\n\r\n建议：在 prompt 中强调翻译工作。",
      "state": "closed",
      "author": "Huarch",
      "author_type": "User",
      "created_at": "2023-07-12T03:03:56Z",
      "updated_at": "2023-07-12T04:30:28Z",
      "closed_at": "2023-07-12T04:30:28Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/86/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/86",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/86",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:47.962510",
      "comments": [
        {
          "author": "bookfere",
          "body": "此问题同 #20、#29。你可以在设置中修改  ChatGPT 的提示词调节其内容输出。比如：\r\n\r\n> You are a meticulous translator who translates any given content. Translate the given content from &lt;slang&gt; to &lt;tlang&gt; only. Do not explain any term or answer any question-like content.",
          "created_at": "2023-07-12T04:01:23Z"
        }
      ]
    },
    {
      "issue_number": 81,
      "title": "[Feature Request] 增加选项，高级模式下允许从已导出的epub中加载翻译结果",
      "body": "作为一种缓存已经丢失的情况下的补救措施吧，也可以结合重新设定合并翻译字数，用来修复个别段落GPT老翻不对的问题。为了避免遇到太多意料外的情况，可以进行进行较严格的格式检查，并利用该检查反过来评估译文中标记是否正确保留/处理。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-07-02T10:51:11Z",
      "updated_at": "2023-07-12T04:30:27Z",
      "closed_at": "2023-07-12T04:30:27Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/81/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/81",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/81",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.152643",
      "comments": [
        {
          "author": "bookfere",
          "body": "从已导出的电子书中还原译文不太可行，感觉还是确保缓存不丢失是更好的办法。",
          "created_at": "2023-07-02T11:19:41Z"
        },
        {
          "author": "WeeAris",
          "body": "> 从已导出的电子书中还原译文不太可行，感觉还是确保缓存不丢失是更好的办法。\r\n\r\n双语的话应该可以吧，可以比对原文部分",
          "created_at": "2023-07-02T15:38:01Z"
        },
        {
          "author": "bookfere",
          "body": "这个需求和 #64 类似。我还是感觉这样操作不太合理。假设有 A、B、C、D 四个用户，A 开启了合并段落，B 删除了某些段落，C 忽略了某些段落，D 选择不保留译文，这几种情况下，想要从输出的电子书中还原译文，还让他们和原来的段落相对应，即便实现也比较复杂。关键是，这个问题的症结是缓存的意外丢失，如果能够指定缓存位置确保它不被意外删除，问题就不存在了。",
          "created_at": "2023-07-03T00:52:27Z"
        }
      ]
    },
    {
      "issue_number": 75,
      "title": "[Bug] 正在翻译时电脑突然断电关机，重启后翻译进度全部丢失",
      "body": "高级模式下进行翻译，正在翻译时电脑突然断电关机，重启后当前书籍翻译进度全部丢失，希望对缓存和翻译进度定时备份，另外希望加入自定义缓存路径的设置，因为flatpak版的Calibre，点打开缓存目录是没有反应的，估计是因为在沙箱里，没有权限",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-25T03:17:44Z",
      "updated_at": "2023-07-12T04:30:27Z",
      "closed_at": "2023-07-12T04:30:26Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/75/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/75",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/75",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.374965",
      "comments": [
        {
          "author": "bookfere",
          "body": "缓存的丢失可能是和操作系统对临时文件的处理有关，自定义缓存路径应该能避免这个问题。",
          "created_at": "2023-06-26T04:09:41Z"
        },
        {
          "author": "WeeAris",
          "body": "> 缓存的丢失可能是和操作系统对临时文件的处理有关，自定义缓存路径应该能避免这个问题。\r\n\r\n刚发现不需要突然断电，只要重启就会丢失（哭晕）",
          "created_at": "2023-06-27T11:21:01Z"
        },
        {
          "author": "bookfere",
          "body": "有的操作系统会在重启时清空临时文件，有的会定期清理。你可以确认一下你所用操作系统是如何处理临时文件的。对插件来说，缓存算是一个比较重要的功能，毕竟很多用户是通过付费翻译引擎得到的翻译数据，不应该使用临时文件，后面的版本会用更可靠的方式来存放缓存，比如自定义路径、云端同步等。",
          "created_at": "2023-06-27T14:18:28Z"
        }
      ]
    },
    {
      "issue_number": 77,
      "title": "增加选项，请求失败超过最大次数时，停止翻译（对，请停止翻译，而不是继续翻译剩余段落）",
      "body": "再次感谢开发了这么好用的插件！\r\n\r\n最近升级之后，发现使用DeepL Free的时候，一旦失败，则后续所有的翻译请求都一定会失败，因此没有必要再继续翻译剩余的部分，反而“停止翻译”是最优的选择。之后，只需要人工重新启动这个翻译任务，则剩下的翻译请求又会成功。\r\n\r\n当然，如果可以实现“DeepL Free 尽管前面段落的失败，后续段落仍然可以继续翻译成功”，则“不停止翻译”才是最优选择。\r\n\r\n非常感谢！",
      "state": "closed",
      "author": "michaelpopes",
      "author_type": "User",
      "created_at": "2023-06-27T06:48:55Z",
      "updated_at": "2023-07-12T04:30:26Z",
      "closed_at": "2023-07-12T04:30:26Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/77/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/77",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/77",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.594834",
      "comments": [
        {
          "author": "bookfere",
          "body": "失败后出现的提示是“Too Many Requests”吗？有没有尝试加大请求间隔或重试次数？",
          "created_at": "2023-06-27T14:05:27Z"
        },
        {
          "author": "WeeAris",
          "body": "> 再次感谢开发了这么好用的插件！\r\n> \r\n> 最近升级之后，发现使用DeepL Free的时候，一旦失败，则后续所有的翻译请求都一定会失败，因此没有必要再继续翻译剩余的部分，反而“停止翻译”是最优的选择。之后，只需要人工重新启动这个翻译任务，则剩下的翻译请求又会成功。\r\n> \r\n> 当然，如果可以实现“DeepL Free 尽管前面段落的失败，后续段落仍然可以继续翻译成功”，则“不停止翻译”才是最优选择。\r\n> \r\n> 非常感谢！\r\n我怀疑你那不是请求失败了，所以才没停\r\n",
          "created_at": "2023-06-27T14:38:51Z"
        },
        {
          "author": "michaelpopes",
          "body": "没有提示“Too Many Requests”。提示如下（注：除了第一条，后续大概有几百条全部是同样的错误）：\r\n------------------------------\r\n原文：Patches notwithstanding, a lot of the passengers get seasick anyway, these first two howling days. It turns out that a seasick person really does look green, though it’s an odd, ghostly green, pasty and toadi",
          "created_at": "2023-06-28T02:05:22Z"
        },
        {
          "author": "michaelpopes",
          "body": "有没有尝试加大请求间隔或重试次数？\r\n\r\n目前的参数设置如下：\r\n并发限制：1\r\n时间间隔：15\r\n重试次数：2\r\n超时：60\r\n\r\n此前跑的都还挺好，一本书也就一到两次报错。重启后就好了。",
          "created_at": "2023-06-28T02:07:29Z"
        },
        {
          "author": "michaelpopes",
          "body": "原因好像找到了，之前的参数是：\r\n并发限制：0  <-\r\n时间间隔：15\r\n重试次数：2\r\n超时：60\r\n\r\n这种情况不会停止翻译，但后续所有的翻译都是“无法从翻译引擎API获取数据。”\r\n\r\n修改并发限制为1，只会尝试一次失败，然后就停止翻译了。\r\n并发限制：1  <-",
          "created_at": "2023-06-28T18:36:43Z"
        }
      ]
    },
    {
      "issue_number": 84,
      "title": "[Bug]部分字符加入排除列表后会导致初始化高级模式时报错",
      "body": "报错信息如下:\r\n```\r\ncalibre, version 6.22.0\r\n错误： 未处理的异常: <b>error</b>:unbalanced parenthesis at position 6\r\n\r\ncalibre 6.22  embedded-python: True\r\nLinux-6.3.11-200.fc38.x86_64-x86_64-with-glibc2.35 Linux ('64bit', 'ELF')\r\n('Linux', '6.3.11-200.fc38.x86_64', '#1 SMP PREEMPT_DYNAMIC Sun Jul  2 13:17:31 UTC 2023')\r\nPython 3.10.1\r\nInterface language: zh_CN\r\nSuccessfully initialized third party plugins: Chinese Text Conversion (3, 0, 1) && Ebook Translator (2, 0, 3) && EpubSplit (3, 6, 0)\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.advanced\", line 79, in prepare_ebook_data\r\n    elements = get_ebook_elements(\r\n  File \"calibre_plugins.ebook_translator.element\", line 360, in get_ebook_elements\r\n    extraction = Extraction(pages, placeholder, glossary, rule_mode,\r\n  File \"calibre_plugins.ebook_translator.element\", line 161, in __init__\r\n    self.load_filter_patterns()\r\n  File \"calibre_plugins.ebook_translator.element\", line 170, in load_filter_patterns\r\n    rule = re.compile(rule, re.I)\r\n  File \"re.py\", line 251, in compile\r\n  File \"re.py\", line 303, in _compile\r\n  File \"sre_compile.py\", line 764, in compile\r\n  File \"sre_parse.py\", line 962, in parse\r\nre.error: unbalanced parenthesis at position 6\r\n```\r\n经排查出错的原因是在排除列表里加入了```\\(≧∇≦*)/```这个颜文字，进一步排查发现触发相同的错误至少需要```\\()```这几个符号同时出现，另外，还发现将```()```加入排除列表会导致提示没有需要翻译的内容",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-07-08T04:56:24Z",
      "updated_at": "2023-07-12T04:30:25Z",
      "closed_at": "2023-07-12T04:30:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/84/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/84",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/84",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.779914",
      "comments": []
    },
    {
      "issue_number": 85,
      "title": "[Feature Request]合并翻译选项添加按章节或正则表达式分割文本选项",
      "body": "我其实是想实现基于语义进行文本分割，减少chatgpt的幻觉。对于小说这类翻译情景，通常原文结构比较规整，一般可以将一章视为内容完整的一部分，或是通过匹配某些分隔符，也能达到类似的语义分割的效果。",
      "state": "open",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-07-11T13:24:54Z",
      "updated_at": "2023-07-12T03:52:33Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/85/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/85",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/85",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.779935",
      "comments": []
    },
    {
      "issue_number": 73,
      "title": "长时间翻译完成后,会立马报错http429",
      "body": "在我长达7小时不间断翻译后,看着进度立马走完的那一刻,任务立马报错,代码如下:\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 167, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 55, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.deepl\", line 122, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 179, in get_result\r\nException: 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 83, in <module>\r\n  File \"site.py\", line 78, in main\r\n  File \"site.py\", line 50, in run_entry_point\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 215, in main\r\n  File \"calibre\\utils\\ipc\\worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 93, in convert_book\r\n  File \"calibre\\ebooks\\conversion\\plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 86, in convert\r\n  File \"calibre_plugins.ebook_translator.translation\", line 149, in handle\r\n  File \"calibre_plugins.ebook_translator.request\", line 37, in run\r\n  File \"asyncio\\runners.py\", line 44, in run\r\n  File \"asyncio\\base_events.py\", line 641, in run_until_complete\r\n  File \"calibre_plugins.ebook_translator.request\", line 34, in create_tasks\r\n  File \"calibre_plugins.ebook_translator.request\", line 22, in create_worker\r\n  File \"calibre_plugins.ebook_translator.translation\", line 144, in process_translation\r\n  File \"calibre_plugins.ebook_translator.translation\", line 102, in _prepare_translation\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 88, in _translate_text\r\n  [Previous line repeated 1 more time]\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\nException: 无法从翻译引擎API获取数据。 无法解析返回的响应。原始数据：HTTP Error 429: \r\n\r\n------------------------------------\r\n时间越长,报错几率越高.",
      "state": "closed",
      "author": "zoushenhh",
      "author_type": "User",
      "created_at": "2023-06-23T19:09:46Z",
      "updated_at": "2023-06-26T04:13:37Z",
      "closed_at": "2023-06-26T04:13:02Z",
      "labels": [
        "question"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/73/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/73",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/73",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.779941",
      "comments": [
        {
          "author": "bookfere",
          "body": "使用的哪个翻译引擎？如果是免费的，可以试试加大请求间隔或重试次数。",
          "created_at": "2023-06-24T04:33:18Z"
        }
      ]
    },
    {
      "issue_number": 71,
      "title": "Footnote 問題",
      "body": "有時遇上footnote時，翻譯會中斷，要再按翻譯才能繼續，而且翻譯的文字每與原文次序不同。\n\n例如：\n\n原文：\n\nAaaaaaaa Bbbbbbbb[1] Ccccccc\n\n翻譯：\nBbbbbbb Ccccccc Aaaaaaaa",
      "state": "closed",
      "author": "Jackie00765",
      "author_type": "User",
      "created_at": "2023-06-19T08:57:19Z",
      "updated_at": "2023-06-26T04:12:48Z",
      "closed_at": "2023-06-26T04:12:48Z",
      "labels": [
        "question"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/71/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/71",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/71",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:48.972656",
      "comments": [
        {
          "author": "bookfere",
          "body": "能否提供一下原文的 HTML 代码。在高级模式下，双击某个段落会在右侧区域显示 HTML 代码。",
          "created_at": "2023-06-19T10:30:03Z"
        }
      ]
    },
    {
      "issue_number": 60,
      "title": "Prompt chatGpt",
      "body": "Hi, have some trouble with the prompt. what's the model ? \r\nSee at https://platform.openai.com/docs/api-reference/completions/create\r\n\r\n```\r\n{\r\n  \"id\": \"cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7\",\r\n  \"object\": \"text_completion\",\r\n  \"created\": 1589478378,\r\n  \"model\": \"text-davinci-003\",\r\n  \"choices\": [\r\n    {\r\n      \"text\": \"\\n\\nThis is indeed a test\",\r\n      \"index\": 0,\r\n      \"logprobs\": null,\r\n      \"finish_reason\": \"length\"\r\n    }\r\n  ],\r\n  \"usage\": {\r\n    \"prompt_tokens\": 5,\r\n    \"completion_tokens\": 7,\r\n    \"total_tokens\": 12\r\n  }\r\n}\r\n```\r\n\r\nthat ?\r\n\r\nthx",
      "state": "closed",
      "author": "Synn-sino",
      "author_type": "User",
      "created_at": "2023-06-11T20:49:38Z",
      "updated_at": "2023-06-26T04:12:35Z",
      "closed_at": "2023-06-26T04:12:34Z",
      "labels": [
        "question"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/60/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/60",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/60",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:49.175679",
      "comments": [
        {
          "author": "bookfere",
          "body": "Did you intend to use the `Completions` endpoint instead of the `Chat` endpoint?",
          "created_at": "2023-06-12T04:55:18Z"
        }
      ]
    },
    {
      "issue_number": 51,
      "title": "Deepl feature request",
      "body": "There is a parameter called html_handling in Deepl that allows translation without disturbing the book's markup structure. It would be great if you could add it.\r\n\r\n\r\nThanks. ",
      "state": "closed",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2023-06-07T21:38:04Z",
      "updated_at": "2023-06-26T04:12:22Z",
      "closed_at": "2023-06-26T04:12:22Z",
      "labels": [
        "question"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/51/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/51",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/51",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:49.372107",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your suggestion. However, there is no markup that interferes with the translation process as each paragraph will be converted to plain text. So, please let me know what the purpose of adding this parameter is?",
          "created_at": "2023-06-08T05:38:18Z"
        }
      ]
    },
    {
      "issue_number": 72,
      "title": "字符数统计的疑问",
      "body": "![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/112467275/e7da1b68-25bf-4ec0-a758-f535bf17919e)\r\n这是count page统计的结果，显示189391个字符\r\n这本书使用百度翻译显示消耗量10080086个字符，还没成功，因为我余额没了😭（每月最多100万，百度翻译忘记充值了）\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/112467275/2c8de505-6d24-4b96-96ea-b1ddef5128a3)\r\n这是咋花的啊。\r\n\r\n当时看了错误报告，显示就是\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/112467275/e6be254d-37df-473f-8c74-fb51ff93af30)\r\n\r\n",
      "state": "closed",
      "author": "ghost",
      "author_type": "User",
      "created_at": "2023-06-21T10:46:12Z",
      "updated_at": "2023-06-21T15:07:01Z",
      "closed_at": "2023-06-21T14:44:35Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/72/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/72",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/72",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:49.546070",
      "comments": [
        {
          "author": "ghost",
          "body": "有道云那表也是整到百分之60多没整完，就把赠送的10元体验金消耗完了，有道云是60块/百万，我估计也进去10万字了，我之后就停了",
          "created_at": "2023-06-21T10:51:51Z"
        },
        {
          "author": "bookfere",
          "body": "你可以把电子书发送到书伴邮箱，我们可以帮你统计一下发送给翻译引擎的总字符数供你对比。另外，我们还需要知道你是否开启了合并翻译，如果开启了合并的字符数是多少。\r\n\r\n你还需要注意，Count Pages 统计的是**字数**而不是**字符数**，比如 `Hello there.` 是 2 个字，但是有 12 个字符（含空格和标点符号）。[百度翻译文档](https://api.fanyi.baidu.com/product/112)上对字符量统计规则的描述如下：\r\n\r\n> 字符数以翻译的源语言字符长度为标准计算。空格、html标签等均计入字符。一个汉字，英文字母，标点符号等，均按照一个字符计费。",
          "created_at": "2023-06-21T11:22:10Z"
        },
        {
          "author": "ghost",
          "body": "> 另外，我们还需要知道你是否开启了合并翻译，如果开启了合并的字符数是多少。\r\n\r\n没开启\r\n\r\n> 你还需要注意，Count Pages 统计的是字数而不是字符数，比如 Hello there. 是 2 个字，但是有 12 个字符（含空格和标点符号）。[百度翻译文档](https://api.fanyi.baidu.com/product/112)上对字符量统计规则的描述如下：\r\n\r\n> 字符数以翻译的源语言字符长度为标准计算。空格、html标签等均计入字符。一个汉字，英文字母，标点符号等，均按照一个字符计费。\r\n\r\n长知识，是我粗心了。那有统计字符数的好方法吗，谢谢啦。\r\n\r\n>你可以把电",
          "created_at": "2023-06-21T11:36:24Z"
        },
        {
          "author": "bookfere",
          "body": "对于这本书，插件向翻译引擎发送的的总字符数为：**1017426**。\r\n\r\n后面的版本会为插件添加字符统计功能，到时你可以查看此数据。",
          "created_at": "2023-06-21T11:43:25Z"
        },
        {
          "author": "ghost",
          "body": "好的，十分感谢。🌝\r\n\r\n获取Outlook for Android<https://aka.ms/AAb9ysg>\r\n________________________________\r\nFrom: 书伴 ***@***.***>\r\nSent: Wednesday, June 21, 2023 7:43:36 PM\r\nTo: bookfere/Ebook-Translator-Calibre-Plugin ***@***.***>\r\nCc: Benjamin Watson ***@***.***>; Author ***@***.***>\r\nSubject: Re: [bookfere/Ebo",
          "created_at": "2023-06-21T12:24:49Z"
        }
      ]
    },
    {
      "issue_number": 66,
      "title": "能否提供重新修改已导出epub文件译文的功能",
      "body": "在导出翻译的epub文件之前，都可以修改译文；在导出epub书籍后，现在只能通过sigil这样的软件修改；能否提供再次修改已导出epub书籍的功能，阅读过程中发现翻译不满意的地方，通过插件回到可以修改各个翻译的部分，重新修改部分译文",
      "state": "closed",
      "author": "egaojing",
      "author_type": "User",
      "created_at": "2023-06-14T02:56:58Z",
      "updated_at": "2023-06-18T12:14:11Z",
      "closed_at": "2023-06-18T12:14:11Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/66/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/66",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/66",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:49.746761",
      "comments": [
        {
          "author": "bookfere",
          "body": "关于此问题的讨论见 #64",
          "created_at": "2023-06-14T04:28:09Z"
        }
      ]
    },
    {
      "issue_number": 65,
      "title": "Line break issue",
      "body": "There is text file I want to translate, but after it the content got extracted suddenly a some {{id_number}} appear after punctuation\r\neg:\r\noriginal\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/128869659/ef07134d-3956-49dc-afc2-3dfeb83eb8bc)\r\nextracted\r\n![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/128869659/46139f28-d73b-4ae3-a5c8-f9f88e0a847e)\r\n\r\n\r\nAnd also is there's a way to fix error 400:bad request, thanks ",
      "state": "closed",
      "author": "YukinoshitaYukino123",
      "author_type": "User",
      "created_at": "2023-06-13T18:11:59Z",
      "updated_at": "2023-06-18T11:56:56Z",
      "closed_at": "2023-06-18T11:56:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/65/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/65",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/65",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:49.929145",
      "comments": [
        {
          "author": "bookfere",
          "body": "Did you enable the \"Merge to Translate\" feature in the plugin settings? If so, this is the expected behavior, as we need placeholders to identify the paragraphs you merged before and after translation.\r\n\r\nWhat translation engine do you use when the \"400:bad request\" message occurs?",
          "created_at": "2023-06-14T04:10:13Z"
        },
        {
          "author": "YukinoshitaYukino123",
          "body": "Yes, I enable merge to translate since if I don't it will break break down my file into each sentence which make it slow. Then how do I remove the placeholder once the translation is finished?\r\n\r\nI use google translate free",
          "created_at": "2023-06-14T09:38:38Z"
        },
        {
          "author": "bookfere",
          "body": "Once you enable the \"**Merge to Translate**\" feature, there's no need to worry about these placeholders as the plugin will handle them automatically. It's important not to remove these placeholders to ensure that the conversion works properly.\r\n\r\nBy the way, if you're using the \"**Google (Free)**\" t",
          "created_at": "2023-06-14T12:02:43Z"
        },
        {
          "author": "YukinoshitaYukino123",
          "body": "I got this error when using google translate free\r\n\r\nFailed to retreive data from translate engine API.\r\nWill retry in 5 seconds.\r\n[2023-06-15 02:02:27] Retrying 1 ... (timeout is 10 seconds).\r\nFailed to retreive data from translate engine API.\r\nWill retry in 10 seconds.\r\n[2023-06-15 02:02:38] Retry",
          "created_at": "2023-06-14T19:56:35Z"
        },
        {
          "author": "bookfere",
          "body": "It appears that the paragraph you wish to translate may have exceeded the limit for Google (Free). For this particular engine, it is recommended to keep the paragraph within 1800 CJK characters. Please confirm the character count of the paragraph that is encountering this error.",
          "created_at": "2023-06-15T10:01:34Z"
        }
      ]
    },
    {
      "issue_number": 68,
      "title": "输出路径问题：如果书籍名称包含特殊字符，如英文冒号“：”，则会保存失败",
      "body": "首先，非常感谢这个插件！非常非常有用，打开了一个新的世界！谢谢！\r\n\r\n有个小问题，报错信息如下：\r\nEPUB output written to C:\\Users\\...\\Documents\\Docs\\Calibre...\\The ... of Money: ... (Chinese (simplified)).epub\r\n\r\n可能保存时将特殊字符替换成空格即可。\r\n\r\n再次感谢！",
      "state": "closed",
      "author": "michaelpopes",
      "author_type": "User",
      "created_at": "2023-06-15T17:47:20Z",
      "updated_at": "2023-06-17T05:31:48Z",
      "closed_at": "2023-06-17T05:31:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/68/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/68",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/68",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:50.128150",
      "comments": [
        {
          "author": "michaelpopes",
          "body": "另外，请问一个问题哈：如果同时启动多个任务，是否因为并发的增多，导致DeepL Free更容易返回429？",
          "created_at": "2023-06-15T17:51:48Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢反馈。关于文件名的问题会在下个版本修复。在此之前，你可以在输出时手动编辑书名，移除导致保存出错的符号。\r\n\r\n关于 429 错误，我们的建议是，对于免费的翻译引擎，除了 Google（Free）外不要用并发请求，并且，一旦出现请求错误，要适当加大请求间隔。",
          "created_at": "2023-06-16T07:35:43Z"
        }
      ]
    },
    {
      "issue_number": 62,
      "title": "azure api无法使用",
      "body": "我在azure api后，始终无法正常翻译，测试报错，提示：Can not parse returned response. Raw data: HTTP Error 400: model_error。\r\n而如果我选择open ai，并填入转换azure api为openai api格式的endpoint后，仍然报错，提示：Can not parse returned response. Raw data: HTTP Error 403: Forbidden。\r\n我确认我本身的azure api和api转换服务都是没问题的，在别的客户端均可使用。",
      "state": "closed",
      "author": "snipersteve",
      "author_type": "User",
      "created_at": "2023-06-13T00:26:06Z",
      "updated_at": "2023-06-15T09:33:52Z",
      "closed_at": "2023-06-15T09:33:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/62/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/62",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/62",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:50.312939",
      "comments": [
        {
          "author": "bookfere",
          "body": "这是由于 Azure ChatGPT 的 Model 参数值与 ChatGPT 的不兼容导致的，后面的版本会修正这个问题。",
          "created_at": "2023-06-14T04:01:27Z"
        }
      ]
    },
    {
      "issue_number": 63,
      "title": "翻译引擎的端点设置成其它后再无法改回原来默认的设置",
      "body": "端点设置成其它后再无法改回原来默认的设置：https://api.openai.com/v1/chat/completions\r\n",
      "state": "closed",
      "author": "TYLERCHEN999",
      "author_type": "User",
      "created_at": "2023-06-13T09:05:10Z",
      "updated_at": "2023-06-15T09:33:51Z",
      "closed_at": "2023-06-15T09:33:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/63/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/63",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/63",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:50.504652",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。之后的版本会修复此问题。修复此问题的代码提交后此 Issue 会自动关闭。",
          "created_at": "2023-06-14T04:29:27Z"
        }
      ]
    },
    {
      "issue_number": 61,
      "title": "有部分书翻译到一半会抛出异常",
      "body": "日志是这样的，看起来是一行空的字符串导致的\r\n\r\nOriginal: \r\nFailed to retreive data from translate engine API.\r\nWill retry in 5 seconds.\r\n\r\n[2023-06-12 09:09:11] Retrying 1 ... (timeout is 300 seconds).\r\n\r\nFailed to retreive data from translate engine API.\r\nWill retry in 10 seconds.\r\n\r\n[2023-06-12 09:09:22] Retrying 2 ... (timeout is 300 seconds).\r\nFailed to retreive data from translate engine API.\r\nWill retry in 30 seconds.\r\n\r\n[2023-06-12 09:09:53] Retrying 3 ... (timeout is 300 seconds).\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 107, in get_result\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 44, in parse\r\nTypeError: 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 41, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 114, in get_result\r\nException: Can not parse returned response. Raw data: [null,null,\"en\",null,null,null,0,[],[[\"en\"],null,[0],[\"en\"]]] 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 107, in get_result\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 44, in parse\r\nTypeError: 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 41, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 114, in get_result\r\nException: Can not parse returned response. Raw data: [null,null,\"en\",null,null,null,0,[],[[\"en\"],null,[0],[\"en\"]]] 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 107, in get_result\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 44, in parse\r\nTypeError: 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 41, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 114, in get_result\r\nException: Can not parse returned response. Raw data: [null,null,\"en\",null,null,null,0,[],[[\"en\"],null,[0],[\"en\"]]] 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 107, in get_result\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 44, in parse\r\nTypeError: 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 41, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 114, in get_result\r\nException: Can not parse returned response. Raw data: [null,null,\"en\",null,null,null,0,[],[[\"en\"],null,[0],[\"en\"]]] 'NoneType' object is not iterable\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 41, in <module>\r\n  File \"site.py\", line 37, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 215, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 123, in convert_book\r\n  File \"calibre/ebooks/conversion/plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 119, in convert\r\n  File \"calibre_plugins.ebook_translator.translation\", line 136, in handle\r\n  File \"calibre_plugins.ebook_translator.concurrency\", line 23, in async_\r\n  File \"asyncio/runners.py\", line 44, in run\r\n  File \"asyncio/base_events.py\", line 641, in run_until_complete\r\n  File \"calibre_plugins.ebook_translator.concurrency\", line 20, in main\r\n  File \"calibre_plugins.ebook_translator.concurrency\", line 11, in worker\r\n  File \"calibre_plugins.ebook_translator.translation\", line 92, in _get_translation\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 78, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.translation\", line 69, in _translate_text\r\nException: Failed to retreive data from translate engine API. Can not parse returned response. Raw data: [null,null,\"en\",null,null,null,0,[],[[\"en\"],null,[0],[\"en\"]]] 'NoneType' object is not iterable\r\n",
      "state": "closed",
      "author": "fakechris",
      "author_type": "User",
      "created_at": "2023-06-12T01:21:13Z",
      "updated_at": "2023-06-12T09:37:31Z",
      "closed_at": "2023-06-12T09:30:07Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/61/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/61",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/61",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:50.677220",
      "comments": [
        {
          "author": "bookfere",
          "body": "使用的是最新版本插件吗？",
          "created_at": "2023-06-12T04:25:16Z"
        },
        {
          "author": "fakechris",
          "body": "的确不是最新版本的，抱歉，我升级之后再确认一下",
          "created_at": "2023-06-12T09:30:07Z"
        }
      ]
    },
    {
      "issue_number": 56,
      "title": "[bug]2.0.0及以后的版本中，在插件设置页面点击保存会导致刚新建的自定义翻译引擎从配置文件中消失",
      "body": "问题描述：\r\n新建一个自定义翻译引擎，保存，设置中选择好刚才新建的翻译引擎，并设置好偏好语言，保存，关闭插件设置页面，再打开插件设置，发现翻译引擎列表中没有刚才新建的翻译引擎，但偏好语言设置却保留了下来。关闭插件和calibre，重新打开calibre，点击插件的设置后弹出如下错误\r\n```\r\ncalibre, version 6.19.1\r\n错误： 未处理的异常: <b>TypeError</b>:SourceLang.refresh[dict, str, bool].emit(): argument 1 has unexpected type 'NoneType'\r\n\r\ncalibre 6.19.1  embedded-python: True\r\nLinux-6.3.5-201.fsync.fc37.x86_64-x86_64-with-glibc2.35 Linux ('64bit', 'ELF')\r\n('Linux', '6.3.5-201.fsync.fc37.x86_64', '#1 SMP PREEMPT_DYNAMIC Thu Jun  1 09:31:01 UTC 2023')\r\nPython 3.10.1\r\nInterface language: zh_CN\r\nSuccessfully initialized third party plugins: Chinese Text Conversion (3, 0, 1) && Ebook Translator (2, 0, 0) && EpubSplit (3, 6, 0)\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.ui\", line 115, in show_setting\r\n    window = TranslationSetting(self, self.gui, self.icon)\r\n  File \"calibre_plugins.ebook_translator.setting\", line 51, in __init__\r\n    self.main_layout()\r\n  File \"calibre_plugins.ebook_translator.setting\", line 58, in main_layout\r\n    tab_2 = self.tabs.addTab(self.layout_engine(), _('Engine'))\r\n  File \"calibre_plugins.ebook_translator.setting\", line 89, in scroll_widget\r\n    scroll_area.setWidget(func(self))\r\n  File \"calibre_plugins.ebook_translator.setting\", line 527, in layout_engine\r\n    choose_default_engine(default_index)\r\n  File \"calibre_plugins.ebook_translator.setting\", line 515, in choose_default_engine\r\n    self.source_lang.refresh.emit(\r\nTypeError: SourceLang.refresh[dict, str, bool].emit(): argument 1 has unexpected type 'NoneType'\r\n\r\n```\r\n通过跟踪查看插件的配置文件发现，在刚添加完翻译引擎时，引擎设置确实正常保存了，但如果在关闭设置页面前点击设置页面的保存按钮，刚添加完的翻译引擎就从配置文件中消失了，此时如果查看自定义页面也会发现自定义引擎列表中没有刚添加的引擎选项。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-09T16:38:50Z",
      "updated_at": "2023-06-10T16:37:27Z",
      "closed_at": "2023-06-10T15:27:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/56/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/56",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/56",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:50.889636",
      "comments": [
        {
          "author": "WeeAris",
          "body": "[v2.0.1](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/releases/tag/v2.0.1)复现成功",
          "created_at": "2023-06-09T16:42:51Z"
        },
        {
          "author": "bookfere",
          "body": "试试这个版本，看是否还有问题：\r\n\r\n[ebook-translator-202306102326.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11712737/ebook-translator-202306102326.zip)\r\n",
          "created_at": "2023-06-10T15:27:28Z"
        },
        {
          "author": "WeeAris",
          "body": "> 试试这个版本，看是否还有问题：\r\n> \r\n> [ebook-translator-202306102326.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11712737/ebook-translator-202306102326.zip)\r\n\r\n测试没问题了",
          "created_at": "2023-06-10T16:37:27Z"
        }
      ]
    },
    {
      "issue_number": 58,
      "title": "通过指定关键词忽略的行从译文中消失了，这是设计如此还是Bug？",
      "body": "发现一个问题，通过指定关键词忽略的行从译文中消失了，和是否设置成仅保留译文无关，这是设计如此还是Bug？",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-10T08:30:28Z",
      "updated_at": "2023-06-10T16:14:04Z",
      "closed_at": "2023-06-10T16:13:12Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/58/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/58",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/58",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:51.087616",
      "comments": [
        {
          "author": "bookfere",
          "body": "修改后版本，原文将不再包含已忽略的内容，忽略的内容会原样输出。这是一个测试版本：\r\n\r\n\r\n[ebook-translator-202306110012.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11712811/ebook-translator-202306110012.zip)",
          "created_at": "2023-06-10T09:10:05Z"
        }
      ]
    },
    {
      "issue_number": 57,
      "title": "[功能请求]高级模式页面添加一键选择未翻译段落选项",
      "body": "翻译到一半停止翻译调整了一下设置，再翻译时不想再翻一遍已经翻译了部分，而未翻译部分散成了并发数块，如果并发数设置的比较高，手动选择就很不方便。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-10T07:04:50Z",
      "updated_at": "2023-06-10T14:16:24Z",
      "closed_at": "2023-06-10T09:27:15Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/57/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/57",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/57",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:51.299589",
      "comments": [
        {
          "author": "bookfere",
          "body": "这个功能是已存在的，点击【翻译全部】按钮后，会忽略已翻译过的内容。",
          "created_at": "2023-06-10T09:08:56Z"
        },
        {
          "author": "WeeAris",
          "body": "> 这个功能是已存在的，点击【翻译全部】按钮后，会忽略已翻译过的内容。\r\n\r\nThanks",
          "created_at": "2023-06-10T09:27:12Z"
        }
      ]
    },
    {
      "issue_number": 47,
      "title": "在设置仅保留译文后，输出文件中混有部分原文和{{id_xx}}的问题",
      "body": "问题详情：如题，从下面的问题详情来看原文和译文并没有混杂的情况，但部分输出文件中同时出现了原文和对应的译文，另外观察到部分{{id_xx}}不连续，猜测可能是在拆分{{id_xx}}时出了问题。\r\n输出文件：\r\n[文件1](https://github.com/WeeAris/issues_files_archive/blob/main/0014-%E7%AC%AC14%E8%A9%B1%20%E5%86%92%E9%99%BA%E8%80%85%E7%99%BB%E9%8C%B2%20(Chinese%20(Simplified)).epub)\r\n[文件2](https://github.com/WeeAris/issues_files_archive/blob/main/0016-%E7%AC%AC16%E8%A9%B1%20%E5%A4%A7%E9%AD%94%E6%B3%95%E4%BD%BF%E3%81%84%E7%88%86%E8%AA%95%20(Chinese%20(Simplified)).epub)\r\n问题截图：\r\n![issues截图](https://raw.githubusercontent.com/WeeAris/issues_files_archive/main/Snipaste_2023-05-26_11-31-05.jpg)\r\n![issues截图2](https://raw.githubusercontent.com/WeeAris/issues_files_archive/main/Snipaste_2023-05-26_11-53-15.jpg)\r\n任务详情：\r\n```[自动探测 > Chinese (Simplified)] 翻译 \"0016-第16話 大魔法使い爆誕\"\r\nInputFormatPlugin: TXT Input running\r\non E:\\WEB小说\\Ke Yi\\0016-Di 16Hua  Da Mo Fa Shi iBao Da (266)\\0016-Di 16Hua  Da Mo Fa Shi iBa - Ke Yi.txt\r\nLanguage not specified\r\nCreator not specified\r\nBuilding file list...\r\nNormalizing filename cases\r\nRewriting HTML links\r\nForcing index.html into XHTML namespace\r\nMerging user specified metadata...\r\nDetecting structure...\r\nAuto generated TOC with 0 entries.\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\ntranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 6.18.0\r\n| Plugin Version: v1.3.8\r\n| Translate Engine: ChatGPT\r\n| Source Language: 自动探测\r\n| Target Language: Chinese (Simplified)\r\n| Input Path: E:\\WEB小说\\Ke Yi\\0016-Di 16Hua  Da Mo Fa Shi iBao Da (266)\\0016-Di 16Hua  Da Mo Fa Shi iBa - Ke Yi.txt\r\n| Output Path: E:/工作/翻译/非特化牧师\\0016-第16話 大魔法使い爆誕 (Chinese (Simplified)).epub\r\n==============================\r\n开始翻译电子书内容：\r\n==============================\r\n全部条目：3\r\n------------------------------\r\n原文：第16話 大魔法使い爆誕 {{id_0}} 第16話 大魔法使い爆誕 {{id_1}} 朝、目が覚めてベッドから起き上がる。 {{id_2}} 昨日は酷い目に遭った。 {{id_3}} あのあとすぐ、夕飯を食べに一階へと降りると、酒場には沢山の人がいて、皆口々に僕の顔を見ると『よっ！ 大魔法使い！』と言うのだ。 {{id_4}} どうも二階の突き当りの部屋というのは、この酒場の真上にあるらしく、何人かの冒険者が“例のアレ”を聞いていて、それを早速、帰ってきた冒険者に端から喧伝したわけだ。酒の肴にしながら。 {{id_5}} こんな娯楽のない世界だ。酒と噂話は一番の娯楽なんだろう。 {{id_6}} 僕が気がついた時には既に遅く、酒場の皆が僕の話をしていたわけで……。 {{id_7}} そして大魔法使いルークが爆誕した。 {{id_8}} まぁ冷やかされはしたが、悪い事ばかりではなかった。と、思う。 {{id_9}} 冒険者達からはダンジョンの事やら、色々な話を聞くことが出来た。こんな出来事でもなけりゃ中々話しかけられなかったと思うし、これは良かった。 {{id_10}} 冒険者も基本は気のいい人達だと分かったし。 {{id_11}} 一階に降りて宿の裏手の井戸で顔を洗い、外に出る。 {{id_12}} 今日はダンジョンに向かう事にする。場所に関してはしっかり仕入れてある。南門から出て、道沿いに少し歩けば見えるらしい。 {{id_13}} 途中、商店で果物らしきモノを数個買い、一つ残して背負袋に入れる。今から食べる朝飯用と、昼に食べる昼飯用だ。 {{id_14}} 果物をローブで軽くこすってから、かじってみる。 {{id_15}} さて、歩きながらダンジョンについておさらいしよう。 {{id_16}} ……いや、その前にこの果物は何なんだろうか。見た目は洋ナシっぽいのに味がバナナだ。甘味は薄いがマズくはない。しかし、もう少し甘味が控えめだったらバナナ風味のイモになってたかもな……。 {{id_17}} まぁいいか。ダンジョンについて考えよう。 {{id_18}} \r\n译文：第16集 大魔法师爆诞 {{id_0}} 第16集 大魔法师爆诞 {{id_1}} 早晨，醒来从床上起身。 {{id_2}} 昨天经历了烦人的事情。 {{id_3}} 之后，下楼去吃晚餐时，酒馆里挤满了人，每个人看到我都说“嘿！大魔法师！” {{id_4}} 看起来二楼尽头的那个房间正好在酒馆上面，一些冒险家们在听着“那个人的故事”，然后在回来时传播出去了。就在吃着饭的时候。 {{id_5}} 在这个没有娱乐的世界里，喝酒和聊八卦应该是最好的娱乐。 {{id_6}} 当我意识到的时候，酒馆里的人都在谈论我…… {{id_7}} 然后大魔法师卢克爆诞了。 {{id_8}} 虽然被嘲笑了，但也不全是坏事。我认为。 {{id_9}} 我能从冒险家们那里听到关于地牢的事情和各种各样的故事。如果没有这样的事情，我想他们是不太可能同我说话的，这是好事。 {{id_10}} 我也知道了冒险家们基本上都是好人。 {{id_11}} 下楼，在旅店后面的井边洗脸，走出去。 {{id_12}} 今天决定前往地牢。关于地点已经详细了解了。从南门出去，沿着路走一点距离就可以看到。 {{id_13}} 在途中，我在商店买了几个水果，留下一个放进背包里，早餐和午餐用。 {{id_14}} 我用长袍轻轻擦了擦水果，咬了一口。 {{id_15}} 好吧，在步行到地牢之前，我来回顾一下地牢吧。 {{id_16}} ……哎呀，在那之前，这个水果到底是什么？看起来像洋梨，但味道像香蕉。甜味不强，但也不难吃。不过，如果甜味再少点，或许会变成香蕉味的地瓜了吧……。 {{id_17}} 哎呀，算了吧。让我们考虑一下地牢吧。 {{id_18}}\r\n------------------------------\r\n原文：ダンジョンとは何か？ という事については、実は誰もよくわかっていないらしい。昔からあるダンジョンもあれば、最近出来たダンジョンもある。何故かダンジョンが生まれて、そこでモンスターが湧く。ダンジョンのモンスターは倒されると消滅し、お金やアイテムや魔石を残す。最下層をクリアすれば何かしら得られる物がある。 {{id_19}} とまぁそんな感じだろうか。 {{id_20}} この南の村にある初心者ダンジョンと呼ばれるダンジョンは、そういうダンジョンの中でも最低難易度のダンジョンの一つ。ドロップは良くないが初心者の練習には丁度良いため、初心者には人気らしい。 {{id_21}} 門を抜け、林の中に作られた道を歩いていく。 {{id_22}} この辺りの林はしっかりと整備されていて、木が密集しないように適度に間引かれ、木の下部の枝葉は打ち払われ、下草も短く刈り取られ、遠くまで見渡せるようになっている。 {{id_23}} ここでならモンスターなどにいきなり襲われる心配も少なそうだ。 {{id_24}} 色々考えながら歩いている内にダンジョンの入り口が見えてきた。 {{id_25}} どんなものかと思ってたけど、地面からいきなりデデーンと岩の塊が突き出して、そこにぽっかり穴が空いて地下への階段が出来た……みたいな。そんな感じに見える。 {{id_26}} 要するに違和感があるのだ。 {{id_27}} 林の中の、広場のような木のない場所に、いきなり数メートルの岩があって、そこに穴が空いている。２Ｄ時代のＲＰＧのワールドマップにある洞窟を示すマークのように、これみよがしに“ここはダンジョンですよ！”と主張している。 {{id_28}} ように見えて、違和感があるのは僕だけなのだろうか。この世界の人達は、これはこういうもの、という感じに受け入れているように見える。 {{id_29}} ダンジョンの入り口前まで来て、前を歩いていた冒険者を見送り、しばらくしてから中に入る。 {{id_30}} 中は岩肌むき出しの洞窟、という感じで、人工的な感じはない。いや、階段とかは人工的と言えるのか。とにかく、それ以外は普通の洞窟、という感じに見える。 {{id_31}} まぁ普通でも変でも、洞窟なんて入った事はないから知らないんだけど。 {{id_32}} \r\n译文：关于迷宫是什么，似乎没有人真正明白。一些迷宫存在已久，而有些则是近期才出现的。不知何故，迷宫出现后就会涌现出怪物。打败迷宫里的怪物后，它们就会消失，留下金钱、物品和魔石。如果能通关最深处，就可以得到一些奖励。{{id_19}}总之，大概就是这样。{{id_20}}位于这座南村的初学者迷宫，是难度最低的迷宫之一。虽然宝物不多，但对于初学者来说，是一种非常好的练习。所以深受初学者喜爱。{{id_21}}走出门，沿着在林中开辟的道路走去。{{id_22}}这片林区被做得非常整洁，适度间隔开了树木，杂草也被切短，下部枝叶也修剪得很整齐，可以远眺。所以在这里，也不用担心会被怪物偷袭。{{id_23}}随着不断思考，终于看到了迷宫的入口。{{id_24}}虽然不知道会是什么样子，但就像地面突然出现了岩石，洞穴就出现在那个洞口的地下...就像那样子。{{id_26}}总之，有种不自然的感觉。{{id_27}}在林中，有一个像广场一样没有树木的地方，突然出现了几米高的岩石，洞穴在那里。像二维时代的RPG世界地图上的洞穴标志一样，自命不凡地主张“这里是迷宫！”看起来，只有我才有这种感觉。这个世界的人们，似乎都接受了这种情况。 {{id_29}}到达迷宫入口，看着前面的冒险家走了，过了一会儿才走进去。{{id_30}}里面有暴露的岩石，感觉不人造。嗯，楼梯之类的是人造的吗？总之，看起来像个普通的洞穴。{{id_31}}好吧，因为还没进过洞穴，所以不知道什么样才算普通。{{id_32}}\r\n------------------------------\r\n原文：階段を一歩一歩、ゆっくりと降りる。 {{id_33}} 洞窟の中は薄暗く、道幅は四メートルぐらいで、高さは三メートルぐらいだろうか。ジメジメしたような感じもなく、空気も淀んでいるようには感じない。 {{id_34}} そのまま数メートル歩くと十字路があった。 {{id_35}} 「うーん……これは、どうしようか」 {{id_36}} ここに来て僕は、ダンジョンを舐めていたんじゃないか、という考えに至る。 {{id_37}} こういう地下迷宮なんだし、当然ながら分かれ道ぐらいあるだろう。某ゲームみたいに一本道で迷わないなんて都合の良い話はない。道が分からなくなれば無駄にさまよう事になるし、下手をすれば出られなくなる。そんな事すら思いつかなかった。 {{id_38}} もしかすると、この初心者ダンジョンならば迷っても大した事にはならないかもしれない。しかしそれに賭けてみる気にはならなかった。 {{id_39}} 今回は無理をせず、大人しくダンジョンを出て村に帰る事にした。 {{id_40}} \r\n译文：沿着阶梯一步步缓慢地往下走。 {{id_33}} 洞穴内光线昏暗，通道大约四米左右，高度大约三米左右。没有潮湿的感觉，空气也不感觉淀腐。 {{id_34}} 走几米后便有了十字路口。 {{id_35}} “嗯……这该怎么办呢？” {{id_36}} 到了这里我才突然想起，自己是不是太过小看迷宫了呢？这种地下迷宫自然会有分歧口。不可能像某个游戏那样走着一条路走到黑。如果迷路了，那就会在里面徒劳地徘徊，最终可能甚至进退两难。我想都没想过这些事情。 {{id_38}} 也许，在这个初学者的迷宫内迷路也没什么大不了的。但我并不想去赌那个可能性。 {{id_39}} 这次不勉强，决定听从自己的内心返回村庄。 {{id_40}}\r\n==============================\r\n开始转换电子书格式：\r\n==============================\r\nSplitting markup on page breaks and flow limits, if any...\r\n\tLooking for large trees in index.html...\r\n\tNo large trees found\r\nGenerating default cover\r\nThis EPUB file has no Table of Contents. Creating a default TOC\r\nEPUB output written to E:\\工作\\翻译\\非特化牧师\\0016-第16話 大魔法使い爆誕 (Chinese (Simplified)).epub\r\n```\r\n```\r\n[自动探测 > Chinese (Simplified)] 翻译 \"0014-第14話 冒険者登録\"\r\nInputFormatPlugin: TXT Input running\r\non E:\\WEB小说\\Ke Yi\\0014-Di 14Hua  Mao Xian Zhe Deng Lu (268)\\0014-Di 14Hua  Mao Xian Zhe Den - Ke Yi.txt\r\nLanguage not specified\r\nCreator not specified\r\nBuilding file list...\r\nNormalizing filename cases\r\nRewriting HTML links\r\nForcing index.html into XHTML namespace\r\nMerging user specified metadata...\r\nDetecting structure...\r\nAuto generated TOC with 0 entries.\r\nFlattening CSS and remapping font sizes...\r\nSource base font size is 12.00000pt\r\nRemoving fake margins...\r\nCleaning up manifest...\r\nTrimming unused files from manifest...\r\nCreating EPUB Output...\r\ntranslating ebook content ... (this will take a while)\r\n==============================\r\n| Diagnosis Information\r\n==============================\r\n| Calibre Version: 6.18.0\r\n| Plugin Version: v1.3.8\r\n| Translate Engine: ChatGPT\r\n| Source Language: 自动探测\r\n| Target Language: Chinese (Simplified)\r\n| Input Path: E:\\WEB小说\\Ke Yi\\0014-Di 14Hua  Mao Xian Zhe Deng Lu (268)\\0014-Di 14Hua  Mao Xian Zhe Den - Ke Yi.txt\r\n| Output Path: E:/工作/翻译/非特化牧师\\0014-第14話 冒険者登録 (Chinese (Simplified)).epub\r\n==============================\r\n开始翻译电子书内容：\r\n==============================\r\n全部条目：3\r\n------------------------------\r\n原文：第14話 冒険者登録 {{id_0}} 第14話 冒険者登録 {{id_1}} 冒険者ギルドは剣と盾のマークが入った看板が目印で、村の中心付近にあった。広さはさっきの雑貨屋とは比較にならないほど大きく、三階建になっているようだ。 {{id_2}} そもそもの話をすると、冒険者については“例のあの白い場所”にいた頃から存在は確信していた。なんたって〈ウィンドウ〉の〈アイテム〉に〈冒険者セット〉なんて言う名前のアイテムがあったんだから。だから職を探すのなら、とりあえずは冒険者になるかな、とは思っていたんだ。 {{id_3}} 冒険者ギルドの扉を開けて中に入る。 {{id_4}} 中は銀行みたいな形になっていて、長いカウンターテーブルが正面にあり、窓口が三つ並んでいる。右手側の奥にはテーブルとイスが置いてあり、レストランのようになっていた。 {{id_5}} ギルドの中を見回してみても、窓口に座っている職員が一人と、その後ろで雑務をしている何人かだけで、ほぼ人がいない。あとは冒険者風の格好をした人が何人か食事をしているだけだ。 {{id_6}} 太陽の位置を見る限り、今は昼過ぎぐらいだと思う。冒険者は仕事に出ているのだろう。 {{id_7}} 左側の受付の若い女性に声をかける。 {{id_8}} 「すみません。登録したいのですが」 {{id_9}} 「はい。新規登録の方ですね？ それではこちらの記入をお願いします。文字が書けないのであれば代筆も可能ですよ」 {{id_10}} そう言って手渡されたのは色白な木片だった。 {{id_11}} この世界ではまだ紙が貴重なのかもしれない。 {{id_12}} 少し頭の中で考えてみてから「書けるので大丈夫です」と代筆を断り、テーブルに用意された羽ペンをインク壺に浸して書こうとするも、ペンが止まる。 {{id_13}} 書く項目は、名前、年齢、適性属性、特技の四つ。 {{id_14}} 年齢、適性属性、特技の三つは特に問題ないけど……名前をどうしようか。本名を書くのは転生者とバラしたくない今はちょっと考えられない。転生したのだから生まれ変わったという事なんだろうし、新しい名前がいいかな。 {{id_15}} \r\n译文：第14话 冒险者注册 {{id_0}} 第14话 冒险者注册 {{id_1}} 冒险者公会是以剑和盾为标志的招牌，位于村中心附近。与刚才的杂货店相比，空间要大得多，似乎有三层楼高。 {{id_2}} 实际上，从“那个白色的地方”开始，我就确认了冒险者的存在。因为在〈窗口〉的〈道具〉里有一个名为“冒险者套装”的物品。所以，如果想找工作，暂时可以考虑成为冒险者。 {{id_3}} 打开冒险者公会的门并进入。 {{id_4}} 里面形状像银行一样，正面有一个长柜台，窗口排成三排。在右手边的角落里，有一张桌子和几把椅子，像是一家餐厅。 {{id_5}} 即使在冒险者公会里看看，只有坐在窗口旁的一名员工以及在她后面做杂务的数人，几乎没有人。其他的只有几个穿着冒险者衣服的人在吃饭。 {{id_6}} 从太阳的位置来看，现在应该是中午过后的时间。冒险者们可能正在外面工作吧。 {{id_7}} 告诉左边接待的年轻女性。 {{id_8}} “对不起，我想注册。” {{id_9}} “好的。你是新注册的人吗？那么请填写这个表格。如果你不会写，我们也可以替你填写。” {{id_10}} 她递给我的是一块浅色的木板。 {{id_11}} 或许在这个世界上，纸张还很珍贵呢。 {{id_12}} 我稍微想了一下，然后拒绝了代笔，准备用桌上准备的羽毛笔沾墨水来写，但是笔却停了下来。 {{id_13}} 写的项目有姓名、年龄、合适的属性和特技四项。 {{id_14}} 年龄、合适的属性和特技三项没有特别的问题……但是，写什么名字呢？我不想泄露本名，因为我不想暴露自己是转生者这一事实。既然我重生了，我想用一个新的名字。 {{id_15}}\r\n------------------------------\r\n原文：んー……リスタージュと同じビショップでいいか？ ……いやダメだな。暁の九人のメンバーから僕の名前が出るかもしれないし。うーん……じゃあルークにしようか、チェス繋がりで。うん、そうしよう。 {{id_16}} 名前はルーク、年齢は一五、属性は光、特技は槍。そう書いて提出する。 {{id_17}} 「えーっと、名前はルークさんですね。属性は光ですか、珍しいですねぇ。……はい、出来ました。それではギルドの事と、ギルド規約を説明しますね」 {{id_18}} と、受付の女性が説明してくれたギルド規約は単純明快だった。 {{id_19}} まずギルドランクはＦから始まりＳＳＳまであり、Ｆは登録した場所でしかギルドカードの効力がなく、Ｅになり銅製のギルドカードを得てやっと他の町でも使える正式なカードとなる。らしい。 {{id_20}} これで何か問題が起こらない限り、当面この村にいる事が確定してしまった。まぁそれは何とかなるだろう。 {{id_21}} ギルド規約は、その地域のルールを守る事。ギルドメンバー同士での争いは極力控える事。民間人に危害を加えない事。依頼は出来る限りちゃんと遂行する事、など。要するに、煩くは言わないけど常識的な事ぐらいは守っとけよ、という感じかな。 {{id_22}} まぁ細かく決めても守らせるのが大変だし、こんな身一つで稼ぐ危険な業界に入る人に煩く言っても仕方がない。妥当なところか。 {{id_23}} 「はい、それではこれがギルドカードになります。なくさないようにして下さいね」 {{id_24}} 受付嬢から渡されたのは、この村の名と僕の名前とＦの文字が書かれた茶色い木片だった。それをちらっと確認してから聞きたい事を聞いておく。 {{id_25}} 「えぇっと、ここで受けられる依頼で初心者向けのものはありますか？」 {{id_26}} そう僕が聞くと、受付嬢は少し思案してから答える。 {{id_27}} 「そうですね。モンスター討伐もありますが、この村なら初心者ダンジョンですね」 {{id_28}} 「初心者ダンジョン、ですか？」 {{id_29}} \r\n译文：是的。那是一個簡單的迷宮，裡面有一些弱小的怪物和寶藏，非常適合初學者。如果你需要更多的信息，可以問一下我們的導遊。{{id_30}} 他們可以向你展示該地區的地圖，並告訴你需要注意的事項。{{id_31}} 好的，謝謝。那我會詢問一下導遊。\r\n------------------------------\r\n原文：「ええそうです。総階層数五という浅い構造で、モンスターも弱いですし、罠もありません。クリアすれば一度だけ良いアイテムも貰えますしね。ここら辺の冒険者なら一度はここのダンジョンに潜りに行きますよ」 {{id_30}} なるほど、ダンジョンか。いきなりファンタジーらしいモノが出てきた。 {{id_31}} ちょっとワクワクする。これは行ってみるべきかな。 {{id_32}} 受付嬢からダンジョンについて情報を集め、宿屋の場所もついでに聞いてからギルドを出る。 {{id_33}} ダンジョンに行ってみようか、とも思ったけど、太陽の傾きからして日没まで数時間だろうから微妙な時間だ。 {{id_34}} 明日から頑張ろう。と、ニートの働かない言い訳みたいな理屈で宿屋へと向かう事にする。 {{id_35}} と言ってもギルドの隣なんだけど。 {{id_36}} ギルドの受付嬢から紹介された宿は“森の安らぎ亭”という宿で、低ランカーに人気らしい。 {{id_37}} \r\n译文：「好的，听起来不错。这个迷宫只有五层，而且怪物也比较弱，也没有陷阱。通过后还可以得到一次不错的物品呢。这一带的冒险者们都会去这个迷宫潜行一次的哦。」{{id_30}} 原来是迷宫啊，突然出现了奇幻的元素呢。{{id_31}} 有点兴奋啊，难道要去探险吗？{{id_32}} 在接待员那里打听了一下迷宫的信息，顺便问了一下旅馆的位置，然后离开了公会。{{id_33}} 虽然也想去迷宫看看，但日落前还有几个小时，时间有点尴尬。{{id_34}} 那就明天再努力吧。于是就像躲避工作的宅男一样，去了旅馆。{{id_35}} 话说旅馆就在公会旁边啊。{{id_36}} 接待员介绍的旅馆叫“森林安宁旅”，很受低级别冒险者的欢迎。{{id_37}}\r\n==============================\r\n开始转换电子书格式：\r\n==============================\r\nSplitting markup on page breaks and flow limits, if any...\r\n\tLooking for large trees in index.html...\r\n\tNo large trees found\r\nGenerating default cover\r\nThis EPUB file has no Table of Contents. Creating a default TOC\r\nEPUB output written to E:\\工作\\翻译\\非特化牧师\\0014-第14話 冒険者登録 (Chinese (Simplified)).epub\r\n\r\n```",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-05-26T04:01:38Z",
      "updated_at": "2023-06-10T09:10:55Z",
      "closed_at": "2023-06-10T09:10:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/47/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/47",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/47",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:51.519264",
      "comments": [
        {
          "author": "bookfere",
          "body": "请试用最新版 v2.0.0 看是否还有这个问题。",
          "created_at": "2023-06-06T13:46:39Z"
        },
        {
          "author": "WeeAris",
          "body": "> 请试用最新版 v2.0.0 看是否还有这个问题。\r\n\r\n我使用了和提交issue时相同的原文进行测试，发现这个问题在使用chatgpt时依然存在。在高级模式中检查译文时发现译文中{{id_xx}}标签部分缺失，有时是整个响应中标签全部缺失，有时是只缺失一两个。我逐个确认后发现混入译文中的原文正好对应缺失的标签，译文部分只是段落被合并了，内容本身没有缺失。\r\n我的建议是在输出前先对译文中的{{id_xx}}标签进行检查，如果译文中有标签缺失，就把原文中对应的标签删掉，确保两边的标签一一对应之后，再尝试恢复译文的格式。",
          "created_at": "2023-06-06T14:44:02Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢反馈。下个版本修复这个问题。另外，针对丢失 ID 的问题，可以尝试调节 ChatGPT 的 temperature 设置降低其随机性，OpenAI 默认是 1，我测试的时候发现 0.5 效果不错。",
          "created_at": "2023-06-07T04:29:55Z"
        },
        {
          "author": "WeeAris",
          "body": "> 谢谢反馈。下个版本修复这个问题。另外，针对丢失 ID 的问题，可以尝试调节 ChatGPT 的 temperature 设置降低其随机性，OpenAI 默认是 1，我测试的时候发现 0.5 效果不错。\r\n\r\n我测试的时候用的0.4，结果还是有一整个响应的ID都没了，调到0好了一点，但还是会丢，只能等chatGPT慢慢进步了，现阶段还是假设一定会有一部分ID丢失吧",
          "created_at": "2023-06-07T04:59:39Z"
        },
        {
          "author": "WeeAris",
          "body": "补充一种新发现的情况，在使用彩云翻译API时，译文也出现了标记缺失的情况，极个别标记变成了两个一样的。\r\n比如```{{id_1}}{{id_1}}```这种情况。",
          "created_at": "2023-06-08T10:08:02Z"
        }
      ]
    },
    {
      "issue_number": 55,
      "title": "[bug]词汇表功能几乎无法工作",
      "body": "我在高级模式中测试了词汇表功能，我发现仅在只设置了1个词汇不翻译，且使用内置的翻译引擎的情况下该功能才会正常工作。如果指定1个词汇的翻译或是设置多个词汇，该功能都不工作。如果是只设置了1个词汇不翻译，然后使用我自定义的彩云翻译API翻译，那么译文中该词汇会被替换成```id_xxxxxxxxx```。\r\n\r\n彩云翻译试用API的自定义如下：\r\n```\r\n{\r\n    \"name\": \"彩云翻译API-试用\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"Japanese\": \"ja\",\r\n            \"English\": \"en\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"zh\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://api.interpreter.caiyunai.com/v1/translator\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"Content-Type\": \"application/json\",\r\n            \"x-authorization\": \"token 3975l6lr5pcbvidl6jl2\"\r\n        },\r\n        \"data\": {\r\n            \"source\": \"<text>\",\r\n            \"trans_type\": \"<source>2<target>\",\r\n            \"replaced\": true,\r\n            \"media\": \"text\",\r\n            \"request_id\": \"demo\"\r\n        }\r\n    },\r\n    \"response\": \"response['target']\"\r\n}\r\n```\r\n",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-08T12:34:17Z",
      "updated_at": "2023-06-08T18:30:21Z",
      "closed_at": "2023-06-08T17:17:12Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/55/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/55",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/55",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:51.705470",
      "comments": [
        {
          "author": "bookfere",
          "body": "这个和合并翻译一样，是翻译引擎更改了插入的标记导致的。后面的版本会尝试解决这个问题。\r\n\r\n另外，不太明白你的这段描述是什么意思：\r\n\r\n> 如果指定1个词汇的翻译或是设置多个词汇，该功能都不工作。\r\n\r\n如果你指的是设置了多个词汇就不工作了，需要检查一下你的词汇表格式是否正确。比如有下面这段文字\r\n\r\n> Washington, D.C. (District of Columbia), the capital city and federal district of the United States of America.\r\n\r\n如果要保留 `Washington` 和 `D.C.` 不翻",
          "created_at": "2023-06-08T15:51:55Z"
        }
      ]
    },
    {
      "issue_number": 53,
      "title": "添加对腾讯翻译API的支持（腾讯翻译API的一些有用特性无法通过自定义翻译引擎支持）",
      "body": "腾讯翻译API提供了[文本翻译](https://cloud.tencent.com/document/api/551/15619)和[批量文本翻译](https://cloud.tencent.com/document/api/551/40566)两个API，以下是我阅读API文档时发现的这两个API各自的一些特性以及一些想法：\r\n\r\n1. 文本翻译API：可选的```UntranslatedText```参数，用来标记不希望被翻译的文本内容，这个参数可以考虑和词汇表功能结合使用，减少对原文内容的处理，进而减少因此造成的对翻译结果的影响，毕竟API文档里也说了非常规翻译文本可能会翻译失败。缺点时每次请求只支持配置一个不被翻译的单词，如果一段中出现多个需要处理的单词，可以考虑根据词汇表中的顺序优先处理顺序靠前的单词。\r\n\r\n2. 批量文本翻译API：请求中的```SourceTextList```字段是一个字符串数组，响应中的```TargetTextList```字段也是一个数组。该API应用在在处理合并翻译的场景时无需再添加标记，进而减少额度的使用，也不用担心标记影响翻译，缺点是不支持```UntranslatedText```参数。\r\n\r\n这两个API不同场景下各有优劣，可以考虑分别实现。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-08T11:19:54Z",
      "updated_at": "2023-06-08T17:18:30Z",
      "closed_at": "2023-06-08T17:18:30Z",
      "labels": [
        "enhancement",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/53/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/53",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/53",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:51.960957",
      "comments": [
        {
          "author": "bookfere",
          "body": "没有太大的兴趣添加腾讯的产品。",
          "created_at": "2023-06-08T15:46:46Z"
        }
      ]
    },
    {
      "issue_number": 54,
      "title": "偏好格式设置中为输出格式添加“和输入相同”选项",
      "body": "如题",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-08T12:21:03Z",
      "updated_at": "2023-06-08T17:17:55Z",
      "closed_at": "2023-06-08T17:17:55Z",
      "labels": [
        "enhancement",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/54/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/54",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/54",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:52.215006",
      "comments": [
        {
          "author": "bookfere",
          "body": "感觉没有必要，这个功能使用频率很低，选一下即可。",
          "created_at": "2023-06-08T15:44:37Z"
        }
      ]
    },
    {
      "issue_number": 52,
      "title": "[bug]<ruby>,<rb>和<rt>标签处理错误的问题",
      "body": "在高级模式中测试时发现```<ruby>```,```<rb>```和```<rt>```标签的处理有问题，这几个标签一般一起使用，用于给文字提供注释或读音，常见于日语出版物。（[例子](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rp)）\r\nEPUB文件中原文的代码是这样的：\r\n```\r\n「では、<ruby><rb>神凪</rb><rp>（</rp><rt>かんなぎ</rt><rp>）</rp></ruby>殿。<ruby><rb>例</rb><rp>（</rp><rt>・</rt><rp>）</rp></ruby><ruby><rb>の</rb><rp>（</rp><rt>・</rt><rp>）</rp></ruby><ruby><rb>計</rb><rp>（</rp><rt>・</rt><rp>）</rp></ruby><ruby><rb>画</rb><rp>（</rp><rt>・</rt><rp>）</rp></ruby>を実行する、ということでよろしいですね？」\r\n```\r\n而在高级模式中看到的原文中是这样的：\r\n```\r\n「では、神凪（）殿。例（）の（）計（）画（）を実行する、ということでよろしいですね？」\r\n```\r\n可以看到作为格式一部分的括号被错误地当成了段落内容的一部分，注音部分也被丢弃了（把注音丢弃掉倒也没有什么问题）。",
      "state": "closed",
      "author": "WeeAris",
      "author_type": "User",
      "created_at": "2023-06-08T09:59:31Z",
      "updated_at": "2023-06-08T10:26:24Z",
      "closed_at": "2023-06-08T10:13:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/52/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/52",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/52",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:52.428614",
      "comments": [
        {
          "author": "bookfere",
          "body": "之前只移除了注音，没有把括号 `<rp>` 移除，下个版本会删掉它。",
          "created_at": "2023-06-08T10:03:25Z"
        }
      ]
    },
    {
      "issue_number": 50,
      "title": "Incomplete Read",
      "body": "![image](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/103828365/e950229e-b126-4db2-9203-5cf6a406290d)\r\n",
      "state": "closed",
      "author": "Jackie00765",
      "author_type": "User",
      "created_at": "2023-06-07T20:28:41Z",
      "updated_at": "2023-06-08T08:36:16Z",
      "closed_at": "2023-06-08T08:36:16Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/50/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/50",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/50",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:52.601461",
      "comments": [
        {
          "author": "Jackie00765",
          "body": "Traceback (most recent call last):\r\n  File \"http\\client.py\", line 565, in _get_chunk_left\r\n  File \"http\\client.py\", line 532, in _read_next_chunk_size\r\nValueError: invalid literal for int() with base 16: b''\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most re",
          "created_at": "2023-06-07T20:29:03Z"
        },
        {
          "author": "bookfere",
          "body": "Thanks for your feedback. We will address this issue in a future version.",
          "created_at": "2023-06-08T05:32:21Z"
        }
      ]
    },
    {
      "issue_number": 49,
      "title": "是否考慮支持Azure Openai的Chatgpt",
      "body": "如題，azure openai也針對很多人開放了，和openai官方的都一樣的模型，只是用的方式不大一樣。",
      "state": "closed",
      "author": "ickacn",
      "author_type": "User",
      "created_at": "2023-06-02T08:48:59Z",
      "updated_at": "2023-06-07T02:03:03Z",
      "closed_at": "2023-06-06T13:40:30Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/49/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/49",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/49",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:52.808111",
      "comments": [
        {
          "author": "bookfere",
          "body": "从 Azure OpenAI Service 提供的[文档](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/reference#chat-completions)看和 OpenAI 提供的 API 是兼容的。 新版本参考文档加上了 Azure ChatGPT，但是我这里没条件测试，新版发布后你可以试一试，有问题再反馈。这个 Issue 会在新版代码提交后自动关闭。",
          "created_at": "2023-06-05T08:19:30Z"
        },
        {
          "author": "ickacn",
          "body": "可以使用，剛剛測試是沒有報錯。謝謝",
          "created_at": "2023-06-07T02:03:03Z"
        }
      ]
    },
    {
      "issue_number": 45,
      "title": "Fix empty content 修复分割空白内容导致停止",
      "body": "首先，十分感谢作者的工作。由于我在使用的过程发现一个问题。\r\n在翻译一本书的时候会出现分割空白的情况导致停止。(Patrick Henry Winston - Make It Clear_ Speak and Write to Persuade and Inform-MIT Press (2020) )，可以参考我的代码[修复分割空白](https://github.com/baowonton/Ebook-Translator-Calibre-Plugin/tree/FixEmptyContent)，当时是简单跟着报错修复的，作者应该会有更好的方法。",
      "state": "closed",
      "author": "baowonton",
      "author_type": "User",
      "created_at": "2023-05-23T07:52:01Z",
      "updated_at": "2023-06-06T13:40:31Z",
      "closed_at": "2023-06-06T13:40:31Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/45/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/45",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/45",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:53.064301",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈！从你提供的代码看，好像是在处理“原文”或“译文”为空的情况。\r\n\r\n插件在抽取内容时已经在尝试排除所有内容为空的“原文”，如果仍出现这种错误，就表示抽取元素那一块存在问题，需要修复。获取译文时倒是没有判断是否为空，按理说，只要向翻译引擎发送了原文，除非获取不到响应，否则不应该出现响应空的情况，不过也不排除会出现这种情况。\r\n\r\n这两个问题都有待验证。是否方便提供一下出现此问题的电子书文件（或相关页面）？",
          "created_at": "2023-05-23T08:19:13Z"
        },
        {
          "author": "baowonton",
          "body": "> 谢谢反馈！从你提供的代码看，好像是在处理“原文”或“译文”为空的情况。\r\n> \r\n> 插件在抽取内容时已经在尝试排除所有内容为空的“原文”，如果仍出现这种错误，就表示抽取元素那一块存在问题，需要修复。获取译文时倒是没有判断是否为空，按理说，只要向翻译引擎发送了原文，除非获取不到响应，否则不应该出现响应空的情况，不过也不排除会出现这种情况。\r\n> \r\n> 这两个问题都有待验证。是否方便提供一下出现此问题的电子书文件（或相关页面）？\r\n\r\n没有很好的传输工具就用github分卷了，是mare it clear这本书。[mare it clear](https://github.com/baow",
          "created_at": "2023-05-23T09:12:02Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢提供测试文件。这是插件自身的错误，已在新版本中修复。新版本代码提交后会自动关闭此 Issue，请届时下载试用。",
          "created_at": "2023-06-02T10:16:21Z"
        }
      ]
    },
    {
      "issue_number": 44,
      "title": "翻译时，批量设置输出格式，来源语言",
      "body": "翻译时，批量设置输出格式，来源语言。\r\n如题，有很多本需要翻译，但是我又想保存为txt, 这样导致每一本都需要手动修改。",
      "state": "closed",
      "author": "QingHui653",
      "author_type": "User",
      "created_at": "2023-05-18T12:11:20Z",
      "updated_at": "2023-06-06T13:40:30Z",
      "closed_at": "2023-06-06T13:40:30Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/44/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/44",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/44",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:53.282956",
      "comments": [
        {
          "author": "bookfere",
          "body": "“输出格式”可以像“目标语言”一样，在设置中添加一个偏好格式。不过，“来源语言”在什么情况下需要批量设置呢？",
          "created_at": "2023-05-18T12:16:56Z"
        },
        {
          "author": "QingHui653",
          "body": "来源语言不太需要设置,选择自动即可. 不过我通常是特地选择的",
          "created_at": "2023-05-19T10:07:07Z"
        }
      ]
    },
    {
      "issue_number": 42,
      "title": "Enhance cache to store pre-translated text, not just md5",
      "body": "The current cache structure stores only the md5 of the pre-translated content and the response from the translator. This makes it difficult to identify mis-translations and manually correct them. It also lacks a column indicating the target language, making it inflexible for multi-language projects.\r\n\r\nI do not believe the space saving of storing md5 only warrants the loss of functionality from not also storing the plaintext. We are generally talking about a few megabytes, at most. Would it be possible to extend the cache to also store the pre-translated text? Also, it might be useful to make it more obvious where it's stored (was rather hard to find on osx)",
      "state": "closed",
      "author": "jtippett",
      "author_type": "User",
      "created_at": "2023-05-12T06:51:20Z",
      "updated_at": "2023-06-06T13:40:29Z",
      "closed_at": "2023-06-06T13:40:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/42/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/42",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/42",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:53.452054",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for your suggestion. I will enhance the cache feature to include more information and make it easier to find.",
          "created_at": "2023-05-12T09:20:51Z"
        },
        {
          "author": "jtippett",
          "body": "Thank you very much. I believe this will be very helpful for users, as often the LLM (I use ChatGPT) will randomly give some very irrelevant answer, or explain that it is an AI, or say it needs more context, or whatever. This enhancement will make it simpler for users to locate such occurences and e",
          "created_at": "2023-05-12T10:08:18Z"
        }
      ]
    },
    {
      "issue_number": 41,
      "title": "How can I exclude eg. code examples and/or tables from translation?",
      "body": "I've tried to use the exclude context tools to ensure the plugin doesn't try to translate code, but it doesn't seem to work. I've tried regex, all combinations I can think of. For example, with the structure\r\n\r\n```\r\n<table class=\"processedcode\">\r\n  <tr>\r\n    <td class=\"codeinfo\">​<span class=\"codeprefix\">1:&nbsp;</span></td>\r\n    <td class=\"codeline\">puts 1.0 + 2.0 </td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"codeinfo\">​<span class=\"codeprefix\">2:&nbsp;</span></td>\r\n    <td class=\"codeline\">puts 2.0 * 3.0</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"codeinfo\">​<span class=\"codeprefix\">3:&nbsp;</span></td>\r\n    <td class=\"codeline\">puts 5.0 - 8.0</td>\r\n  </tr>\r\n  <tr>\r\n    <td class=\"codeinfo\">​<span class=\"codeprefix\">4:&nbsp;</span></td>\r\n    <td class=\"codeline\">puts 9.0 / 2.0</td>\r\n  </tr>\r\n</table>\r\n```\r\n\r\nThere's nothing I have been able to do to avoid all of this being submitted for translation - with nonsensical results. I have also tried using a glossary for certain programming symbols and it seems to be ignored. I would have thought that simply adding `code` as an exclude in HTML elements would do the trick, but it does nothing.\r\n\r\nAny advice? \r\n\r\nAnd also, which takes precedence, the cache or the ignore/glossary settings? Another possibility is that it has cached all the (erroneous) code translations and is skipping all the rules I'm trying to add. I see it's sqlite so I actually should be able to just load it and edit - could its location be output in the job log?\r\n\r\n",
      "state": "closed",
      "author": "jtippett",
      "author_type": "User",
      "created_at": "2023-05-12T05:36:05Z",
      "updated_at": "2023-06-06T13:40:29Z",
      "closed_at": "2023-06-06T13:40:29Z",
      "labels": [
        "bug",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/41/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/41",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/41",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:53.663321",
      "comments": [
        {
          "author": "jtippett",
          "body": "Here are the regexes I've tried in the HTML element mode\r\n\r\n```\r\nclass=\"processedcode\"\r\nclass=\"codeinfo\"\r\nclass=\"codeprefix\"\r\nclass=\"codeline\"\r\nclass=\"about-pb\"\r\n<tr>\r\ntable\r\ntd\r\n^<tr>\r\n^<td\r\n^<pre\r\n</table>$\r\n```",
          "created_at": "2023-05-12T08:45:43Z"
        },
        {
          "author": "bookfere",
          "body": "There is an issue with the \"Ignore Paragraph\" feature when used in this way. Unfortunately, you cannot currently control which element is recognized as a \"paragraph\" since the plugin determines it. \r\n\r\nWith the example you provided,  the plugin will extract each element with non-empty content as bel",
          "created_at": "2023-05-12T09:13:46Z"
        },
        {
          "author": "jtippett",
          "body": "Thanks so much for the explanation and looking forward to the enhancement. In the meantime, I was able to write a quick ruby script which is able to strip unwanted spans/tables/anything by simply exploding the processed epub, traversing it, and simply deleting any element with `class=\"unwanted\"` and",
          "created_at": "2023-05-12T10:02:18Z"
        },
        {
          "author": "bookfere",
          "body": "> Here are the regexes I've tried in the HTML element mode\r\n> \r\n> ```\r\n> class=\"processedcode\"\r\n> class=\"codeinfo\"\r\n> class=\"codeprefix\"\r\n> class=\"codeline\"\r\n> class=\"about-pb\"\r\n> <tr>\r\n> table\r\n> td\r\n> ^<tr>\r\n> ^<td\r\n> ^<pre\r\n> </table>$\r\n> ```\r\n\r\nI also found a bug after reviewing the relevant cod",
          "created_at": "2023-05-12T13:27:58Z"
        }
      ]
    },
    {
      "issue_number": 37,
      "title": "Multiple api keys | Deepl",
      "body": "I have multiple deepl free api keys and I would like to use them in a way that they are automatically activated as they run out of limits. can you make this enhancement? \r\n\r\n\r\n\r\nThank you for your time.",
      "state": "closed",
      "author": "Dwtexe",
      "author_type": "User",
      "created_at": "2023-05-09T21:47:34Z",
      "updated_at": "2023-06-06T13:40:29Z",
      "closed_at": "2023-06-06T13:40:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/37/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/37",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/37",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:53.836886",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your suggestion. We will work on it.",
          "created_at": "2023-05-10T17:03:41Z"
        },
        {
          "author": "Dwtexe",
          "body": "It would be very nice if you can add the deepl handle_tag feature, otherwise markdowns are lost.",
          "created_at": "2023-05-10T19:03:32Z"
        },
        {
          "author": "bookfere",
          "body": "Did you mean to preserve the original format while translating a Markdown document? Unfortunately, the plugin cannot perform this task because Calibre is unable to maintain the original formatting during the conversion process.",
          "created_at": "2023-05-11T04:51:37Z"
        },
        {
          "author": "Nil7x",
          "body": "请问ChatGPT也还不支持多keys的配置吗？",
          "created_at": "2023-05-12T05:40:48Z"
        }
      ]
    },
    {
      "issue_number": 46,
      "title": "GPT-4",
      "body": "Can I use gpt4 now?",
      "state": "closed",
      "author": "Jackie00765",
      "author_type": "User",
      "created_at": "2023-05-24T18:01:37Z",
      "updated_at": "2023-06-06T13:40:28Z",
      "closed_at": "2023-06-06T13:40:28Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/46/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/46",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/46",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:54.169577",
      "comments": [
        {
          "author": "bookfere",
          "body": "Yes, you can select GPT-4 in the new future version.",
          "created_at": "2023-06-02T10:18:59Z"
        }
      ]
    },
    {
      "issue_number": 18,
      "title": "技术类文档中存在代码如何避免翻译",
      "body": "如题，技术类文档中，很多存在代码片段，如何避免被翻译；正则无法匹配",
      "state": "closed",
      "author": "kingnight",
      "author_type": "User",
      "created_at": "2023-04-19T02:27:49Z",
      "updated_at": "2023-06-06T13:40:27Z",
      "closed_at": "2023-06-06T13:40:27Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/18/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/18",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/18",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:54.376463",
      "comments": [
        {
          "author": "bookfere",
          "body": "感觉这不太容易用程序自动处理，因为不同电子书的代码片段格式差异很大。插件今后打算添加一个翻译监控面板，到时可以在上面提供一些功能，可以通过一些特征（比如有些代码片段所在的元素共用同一个 class 属性）来排除不需要翻译的段落。",
          "created_at": "2023-04-19T10:04:51Z"
        },
        {
          "author": "kingnight",
          "body": "确实是，期待新功能",
          "created_at": "2023-04-20T08:43:09Z"
        }
      ]
    },
    {
      "issue_number": 39,
      "title": "有没有任务暂定与恢复功能？",
      "body": "翻译一本书的时间通常很长，任务如何暂停和恢复？calibre本身限制没法继续？翻译过程中windows更新了重启了…",
      "state": "closed",
      "author": "guanyubin",
      "author_type": "User",
      "created_at": "2023-05-12T01:26:20Z",
      "updated_at": "2023-06-03T17:47:54Z",
      "closed_at": "2023-05-22T06:09:29Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/39/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/39",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/39",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:54.568899",
      "comments": [
        {
          "author": "bookfere",
          "body": "在插件设置中开启缓存后可以随时中断翻译，下次翻译同一本书时，只要同时满足同一翻译引擎、同一输入路径、同一来源语言、同一目标语言这四个条件，就会自动读取缓存而不会重新翻译。",
          "created_at": "2023-05-12T04:31:55Z"
        }
      ]
    },
    {
      "issue_number": 48,
      "title": "请问可以添加【彩云小译】的API接口吗？",
      "body": "如题，谢谢！",
      "state": "closed",
      "author": "Benson1997",
      "author_type": "User",
      "created_at": "2023-05-31T15:49:14Z",
      "updated_at": "2023-06-03T17:47:16Z",
      "closed_at": "2023-06-03T17:47:16Z",
      "labels": [
        "duplicate",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/48/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/48",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/48",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:54.764010",
      "comments": [
        {
          "author": "bookfere",
          "body": "同 #32。你可以通过自定义翻译引擎功能添加此翻译引擎，拷贝粘贴以下代码片段即可，注意 `token` 部分要换成你自己的密钥。\r\n\r\n```\r\n{\r\n    \"name\": \"彩云小译\",\r\n    \"languages\": {\r\n        \"手动指定\": \"custom\"\r\n    },\r\n    \"request\": {\r\n        \"url\": \"https://api.interpreter.caiyunai.com/v1/translator\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            ",
          "created_at": "2023-06-02T10:23:41Z"
        },
        {
          "author": "Benson1997",
          "body": "完美运行，感谢大佬 👍👍",
          "created_at": "2023-06-03T09:59:37Z"
        }
      ]
    },
    {
      "issue_number": 43,
      "title": "Output With the Translation Only?",
      "body": "Hi\r\nIs there a way of having the output book with the translated text only? Instead of having the original text included?",
      "state": "closed",
      "author": "jpirez",
      "author_type": "User",
      "created_at": "2023-05-12T21:49:49Z",
      "updated_at": "2023-05-22T06:09:56Z",
      "closed_at": "2023-05-22T06:09:56Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/43/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/43",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/43",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:54.946608",
      "comments": [
        {
          "author": "wangshuihua",
          "body": "You can achieve this by setting [Translation Position] to \"Add without original\" in plugin Content panel, and do not forget to click Save. Duplicate of #7.",
          "created_at": "2023-05-13T03:14:51Z"
        }
      ]
    },
    {
      "issue_number": 40,
      "title": "error: bad escape \\H at position 74",
      "body": "I use a plugin to translate a book:[Laravel: Up & Running](https://www.oreilly.com/library/view/laravel-up/9781492041207/)\r\n\r\n* calibre:6.17.0\r\n* [Plugin](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin): v1.3.7\r\n---\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"sre_parse.py\", line 1039, in parse_template\r\nKeyError: '\\\\H'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 41, in <module>\r\n  File \"site.py\", line 37, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 215, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 123, in convert_book\r\n  File \"calibre/ebooks/conversion/plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 119, in convert\r\n  File \"calibre_plugins.ebook_translator.translation\", line 140, in handle\r\n  File \"calibre_plugins.ebook_translator.element\", line 119, in apply_translation\r\n  File \"calibre_plugins.ebook_translator.element\", line 51, in add_translation\r\n  File \"re.py\", line 209, in sub\r\n  File \"re.py\", line 326, in _subx\r\n  File \"re.py\", line 317, in _compile_repl\r\n  File \"sre_parse.py\", line 1042, in parse_template\r\nre.error: bad escape \\H at position 74\r\n```\r\n---\r\n[log:job.log](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11459187/job.log)\r\n",
      "state": "closed",
      "author": "chenweil",
      "author_type": "User",
      "created_at": "2023-05-12T05:09:28Z",
      "updated_at": "2023-05-13T02:33:45Z",
      "closed_at": "2023-05-13T02:33:45Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/40/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/40",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/40",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:55.158793",
      "comments": [
        {
          "author": "bookfere",
          "body": "The bug has been fixed. Please try the latest version, v1.3.8.\r\n",
          "created_at": "2023-05-12T07:20:12Z"
        },
        {
          "author": "chenweil",
          "body": "> The bug has been fixed. Please try the latest version, v1.3.8.\r\n\r\n__I tested it and the problem is solved in the new version. Thanks。",
          "created_at": "2023-05-13T02:33:45Z"
        }
      ]
    },
    {
      "issue_number": 38,
      "title": "I can't find the translated files",
      "body": "I'm really sorry, but I can't find my translation file. If the path I specify is the clibre library, I can't find the new translation files. If I specify a folder, there is a file that cannot be opened. What's happening here? If this is my problem please tell me how to do it.\r\n真的很抱歉，我找不到我的翻译文件。如果我指定的路径是 clibre 库，我找不到新的翻译文件。如果我指定一个文件夹，那么有一个文件无法打开。这是什么情况？如果这是我的问题，请告诉我该怎么做",
      "state": "closed",
      "author": "chenxixing7",
      "author_type": "User",
      "created_at": "2023-05-11T11:52:53Z",
      "updated_at": "2023-05-11T12:23:27Z",
      "closed_at": "2023-05-11T12:23:27Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/38/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/38",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/38",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:55.381495",
      "comments": [
        {
          "author": "chenxixing7",
          "body": "I'm really sorry, it was my problem, I have solved it, thanks to the developer, your plugin is very useful!\r\n真的很抱歉，是我的问题，我已经解决了，感谢开发者，您的插件非常好用！",
          "created_at": "2023-05-11T12:12:20Z"
        },
        {
          "author": "bookfere",
          "body": "I suggest to refer to this thread: https://www.mobileread.com/forums/showpost.php?p=4311779&postcount=11.\r\n\r\nOn Windows, there is a feature called \"[Storage Sense](https://support.microsoft.com/en-us/windows/manage-drive-space-with-storage-sense-654f6ada-7bfc-45e5-966b-e24aded96ad5#ID0EBD=Windows_11",
          "created_at": "2023-05-11T12:19:43Z"
        }
      ]
    },
    {
      "issue_number": 36,
      "title": "能否开发成多线程模式，以提高翻译速度？",
      "body": "感谢作者的开发，非常好的工具。\r\n但是能不能开发多线程，这个比谷歌官方文档翻译速度慢太多了，看任务显示详情似乎用的是单线程，能否开发成多线程模式？否则完全无法用作实际生产，因为速度甚至跟不上人工翻译。谢谢！",
      "state": "closed",
      "author": "vssnipper",
      "author_type": "User",
      "created_at": "2023-05-08T16:46:22Z",
      "updated_at": "2023-05-10T17:58:54Z",
      "closed_at": "2023-05-10T16:50:51Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/36/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/36",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/36",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:55.612441",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢建议。后面的版本会增加并发请求的功能。\r\n\r\n---\r\n\r\nUpdate: 新版本 v1.3.7 增加了并发请求功能，仅支持 5.0 及更高版本的 Calibre。并发请求数量默认为 1，你可以根据自己的实际需要调整。用 Google 翻译测试，800 个段落，并发请求数量设为 100，耗时约 10 分钟。\r\n\r\n<img width=\"600\" alt=\"ebook-translator-concurrency-limit\" src=\"https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/assets/29969316/6",
          "created_at": "2023-05-09T06:37:34Z"
        }
      ]
    },
    {
      "issue_number": 26,
      "title": "Recover translation fail due to \"HTTP Error 429: Too Many Requests\"",
      "body": "Hi.\r\n\r\nSome times using Google or DeepL free, i get the error \"HTTP Error 429: Too Many Requests\".\r\nI know....I know it's my fault to want to translate a lot. \r\n\r\nBut, It might be possible when this happens that in the next translation process of this book I ask for a new start or do I continue the previous translation? In this way it could be possible to translate a book several times.\r\n\r\nAlso, I think it could also be interesting that when this error's happens, it could be possible to set a time interval (for example hours) to automatically continue the translation.\r\n\r\nThe log is:\r\n\r\nOriginal: Mike was born on 5 March 1942. He sold his first article in 1957, his first short story in 1959 and his first book in 1962.\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result.\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\nThe translation engine API data could not be retrieved.\r\nWill try again in 5 seconds.\r\nRetrying... (timeout is 300 seconds).\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result.\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 25, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 100, in get_result\r\nException: Could not parse the returned response. Raw Data: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\nCould not retrieve data from the translation engine API.\r\nWill try again in 10 seconds.\r\nRetrying... (timeout is 300 seconds).\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result.\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 25, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 100, in get_result\r\nException: Could not parse the returned response. Raw Data: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.translation\", line 65, in _translate_text\r\n  File \"calibre_plugins.ebook_translator.engines.google\", line 25, in translate\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 100, in get_result\r\nException: Could not parse the returned response. Raw Data: HTTP Error 429: Too Many Requests\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"calibre_plugins.ebook_translator.engines.base\", line 89, in get_result\r\n  File \"mechanize\\_mechanize.py\", line 257, in open\r\n  File \"mechanize\\_mechanize.py\", line 313, in _mech_open\r\nmechanize._response.get_seek_wrapper_class.<locals>.httperror_seek_wrapper: HTTP Error 429: Too Many Requests\r\nThe translation engine API data could not be retrieved.\r\nWill try again in 30 seconds.\r\n\r\n\r\n\r\n",
      "state": "closed",
      "author": "killo3967",
      "author_type": "User",
      "created_at": "2023-04-29T17:40:20Z",
      "updated_at": "2023-05-09T06:50:28Z",
      "closed_at": "2023-05-09T06:50:28Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/26/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/26",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/26",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:55.831286",
      "comments": [
        {
          "author": "bookfere",
          "body": "Don't worry if you turn on the cache feature in settings, because it will recover translated content from the local cache whenever translation processing is interrupted for any reason.\r\n\r\nWe already have an \"__Attempt times__\" setting that allows you to wait for a long time and retry failed attempts",
          "created_at": "2023-04-29T19:01:32Z"
        },
        {
          "author": "joelucky198x",
          "body": "同样的问题，翻译了一半出现这个，貌似是太多的请求，被服务器被拒绝了，哈哈。",
          "created_at": "2023-05-02T01:09:36Z"
        },
        {
          "author": "killo3967",
          "body": "Could you put a timestamp in the log file to check the times of retry. beacuse i tried to translate the same book with the parameter  \"Attempt times\"  in 6 and have the same problem. Now i am translating with the parameter in 7 secons. \r\n",
          "created_at": "2023-05-02T18:41:17Z"
        },
        {
          "author": "wangshuihua",
          "body": "OK, no problem. We will add a timestamp in the next version.\r\n\r\n> Could you put a timestamp in the log file to check the times of retry. beacuse i tried to translate the same book with the parameter \"Attempt times\" in 6 and have the same problem. Now i am translating with the parameter in 7 secons.\r",
          "created_at": "2023-05-03T12:15:24Z"
        },
        {
          "author": "bookfere",
          "body": "Many users on MobileRead have also encountered the 'Too Many Requests' issue. After some investigation, we discovered that the problem may have been caused by our decision to switch the request method of Google (Free) from GET to POST in version 1.3.0 and later. This change was intended to support l",
          "created_at": "2023-05-03T18:52:31Z"
        }
      ]
    },
    {
      "issue_number": 35,
      "title": "当翻译因为某些原因中断后如何从中断处继续执行？",
      "body": "缓存没有起作用，翻译仍然是从头开始的",
      "state": "closed",
      "author": "guanyubin",
      "author_type": "User",
      "created_at": "2023-05-08T02:33:15Z",
      "updated_at": "2023-05-08T12:44:32Z",
      "closed_at": "2023-05-08T12:44:32Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/35/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/35",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/35",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.025161",
      "comments": [
        {
          "author": "bookfere",
          "body": "用的是哪个插件版本？是否同时满足这四个条件：同一翻译引擎、同一输入路径、同一来源语言、同一目标语言。",
          "created_at": "2023-05-08T04:12:45Z"
        },
        {
          "author": "guanyubin",
          "body": "不好意思，是我疏忽了，第二次翻译时来源语言选了自动识别，与第一次指定为english不同，我猜是这个原因，改正后可以加载缓存。",
          "created_at": "2023-05-08T12:40:19Z"
        }
      ]
    },
    {
      "issue_number": 33,
      "title": "Calibre 3.21.0 无法让插件显示在主工具栏上进而导致无法使用",
      "body": "Ubuntu18.04，无法安装Calibre最新版，用apt 安装就是3.21.0版本。这个版本安装看不到插件在主界面，根据readme介绍，需要手动添加，但是“工具栏和菜单”里面看不到本插件\r\n![image](https://user-images.githubusercontent.com/3775351/236602227-b0891924-8fbe-410f-91bf-88e6edbbb983.png)\r\n![image](https://user-images.githubusercontent.com/3775351/236602243-54525834-29e0-4a93-9cfb-7872590f7ee2.png)\r\n插件是安装了的，也不允许个性化设置\r\n![image](https://user-images.githubusercontent.com/3775351/236602267-e3d436f4-c061-45cf-a08a-e579d0490d09.png)\r\n",
      "state": "closed",
      "author": "xflcx1991",
      "author_type": "User",
      "created_at": "2023-05-06T05:32:44Z",
      "updated_at": "2023-05-07T09:56:28Z",
      "closed_at": "2023-05-07T09:56:28Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 14,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/33/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/33",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/33",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.208304",
      "comments": [
        {
          "author": "bookfere",
          "body": "右栏拉到底部也没有图标吗？",
          "created_at": "2023-05-06T05:40:25Z"
        },
        {
          "author": "xflcx1991",
          "body": "> 右栏拉到底部也没有图标吗？\r\n\r\n右栏？那就是主界面咯，没有\r\n![image](https://user-images.githubusercontent.com/3775351/236603197-13d82f5a-9977-4202-9a83-e05eb1822773.png)\r\n\r\n",
          "created_at": "2023-05-06T05:54:16Z"
        },
        {
          "author": "xflcx1991",
          "body": "命令行启动calibre有报错\r\n![image](https://user-images.githubusercontent.com/3775351/236603254-b6e3420e-2c78-4f22-ade2-5a6f50c6c33b.png)\r\n",
          "created_at": "2023-05-06T05:55:42Z"
        },
        {
          "author": "xflcx1991",
          "body": "删除插件再启动就没有报错，看来是插件和3.21.0版本的兼容问题？\r\n![image](https://user-images.githubusercontent.com/3775351/236603290-966c9735-7c86-4ed6-b9b2-4876761f8d85.png)\r\n",
          "created_at": "2023-05-06T05:56:51Z"
        },
        {
          "author": "bookfere",
          "body": "对，是插件和 Calibre 版本的兼容问题。我去下载一个相应的版本测试修复一下。",
          "created_at": "2023-05-06T05:58:15Z"
        }
      ]
    },
    {
      "issue_number": 32,
      "title": "自定义彩云小译翻译引擎错误",
      "body": "作者您好，我在根据您给出的示例和结合彩云小译的API文档，设置了以下规则，但是在测试中提示“无法解析返回的响应。原始数据：HTTP Error 401: UNAUTHORIZED”，在实际使用中提示“无法从翻译引擎API获取数据。”，麻烦您帮我看下设置的引擎内容是哪里出错可以吗？\r\n\r\n以下为自定义彩云小译翻译引擎json内容：\r\n\r\n```json\r\n{\r\n    \"name\": \"彩云小译\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"日文\": \"ja\"\r\n        },\r\n        \"target\": {\r\n            \"中文\": \"zh\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"http://api.interpreter.caiyunai.com/v1/translator\",\r\n        \"method\": \"POST\",\r\n        \"headers\": {\r\n            \"Content-Type\": \"application/json\",\r\n            \"X-Authorization\": \"token  xxx\"\r\n        },\r\n        \"data\": {\r\n            \"source\": \"ja\",\r\n            \"trans_type\": \"auto2zh\",\r\n            \"text\": \"<text>\"\r\n        }\r\n    },\r\n    \"response\": \"json.loads(response.text)['target']\"\r\n}\r\n```\r\n\r\n以下为彩云小译给出的两个API示例，均为使用python调用API：\r\n\r\n其一：\r\n\r\n```python\r\nimport requests\r\nimport json\r\n \r\nurl = \"http://api.interpreter.caiyunai.com/v1/translator\"\r\n \r\ntoken = \"xxx\"\r\n \r\npayload = {\r\n        \"source\" : [\"Lingocloud is the best translation service.\", \r\n                     \"ColorfulClouds Weather is the best weather service.\"], \r\n        \"trans_type\" : \"en2zh\",\r\n        \"request_id\" : \"demo\",\r\n        }\r\n \r\nheaders = {\r\n        'content-type': \"application/json\",\r\n        'x-authorization': \"token \" + token,\r\n}\r\n \r\nresponse = requests.request(\"POST\", url, data=json.dumps(payload), headers=headers)\r\n \r\nprint(response.text)\r\nprint(json.loads(response.text)['target'][0])\r\nprint(json.loads(response.text)['target'][1])\r\n```\r\n\r\n其二：\r\n\r\n```python\r\nimport json\r\n\r\nimport requests\r\n\r\n\r\ndef tranlate(source, direction):\r\n    url = \"http://api.interpreter.caiyunai.com/v1/translator\"\r\n\r\n    # WARNING, this token is a test token for new developers,\r\n    # and it should be replaced by your token\r\n    token = \"YOUR_TOKEN\"\r\n\r\n    payload = {\r\n        \"source\": source,\r\n        \"trans_type\": direction,\r\n        \"request_id\": \"demo\",\r\n        \"detect\": True,\r\n    }\r\n\r\n    headers = {\r\n        \"content-type\": \"application/json\",\r\n        \"x-authorization\": \"token \" + token,\r\n    }\r\n\r\n    response = requests.request(\"POST\", url, data=json.dumps(payload), headers=headers)\r\n\r\n    return json.loads(response.text)[\"target\"]\r\n\r\n\r\nsource = [\"Lingocloud is the best translation service.\", \"彩云小译は最高の翻訳サービスです\"]\r\ntarget = tranlate(source, \"auto2zh\")\r\n\r\nprint(target)\r\n```\r\n\r\n我并没有编程基础，json的修改也是借助ChatGpt镜像站进行的，所以如果我的提问出现了常识性的错误请见谅和指正，谢谢。",
      "state": "closed",
      "author": "sihulj",
      "author_type": "User",
      "created_at": "2023-05-04T15:02:16Z",
      "updated_at": "2023-05-07T02:40:41Z",
      "closed_at": "2023-05-06T15:00:51Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/32/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/32",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/32",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.388544",
      "comments": [
        {
          "author": "bookfere",
          "body": "你写的格式没问题，但是有几处需要注意的地方。出现错误提示 `HTTP Error 401: UNAUTHORIZED` 是因为 `\"token  xxx\"` 之间有两个空格，貌似他们没有处理好这个细节，改成一个空格就可以了。\r\n\r\n另外，传文本的参数名填写有误，官方文档上给出的**不是** `text` 而**是** `source`（这可能会让人误以为是来源语言）。还有，插件返回的 `response` 变量已经是解析好的 JSON 格式，直接取数据就可以了。\r\n\r\n下面这个可以测试通过，使用的是官方文档提供的测试密钥：\r\n\r\n```\r\n{\r\n    \"name\": \"彩云小译\",\r\n   ",
          "created_at": "2023-05-04T16:23:35Z"
        },
        {
          "author": "sihulj",
          "body": "非常感激！没有编程基础的确看不懂，您的解答很有帮助！",
          "created_at": "2023-05-06T15:00:45Z"
        }
      ]
    },
    {
      "issue_number": 29,
      "title": "对于标题和短语的翻译有问题",
      "body": "对于标题和作者没有直接翻译，而是添加了不需要的AI生成内容\r\n\r\n例如：\r\nT. Sekine\r\n\r\nT. Sekine T. Sekine（关关）是日本的一位著名音乐家和作曲家。他的音乐涵盖了众多的流派，包括摇滚、流行、电子、爵士等等。他是许多台湾乐迷所熟悉的音乐人物之一，他的音乐风格不仅充满了创新和前卫，同时还融合了亚洲和西方的文化元素。他的代表作品包括《东京街头摇滚》、《疯狂的爱》等等。在他的音乐生涯中，他获得了无数的奖项和荣誉，同时也为许多电影和电视剧的配乐作出了杰出的贡献。\r\n\r\nIntroduction\t1\r\n\r\n简介 1 介绍：这是一篇关于狗的文章。狗已经成为人类最亲密的伙伴之一，目前在世界各地被广泛地饲养。在本文中，我们将探讨狗的起源、品种、特性和作用等方面，并了解人类与狗之间的关系。",
      "state": "closed",
      "author": "fohishs",
      "author_type": "User",
      "created_at": "2023-05-03T13:29:38Z",
      "updated_at": "2023-05-05T19:02:04Z",
      "closed_at": "2023-05-05T19:02:04Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/29/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/29",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/29",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.593568",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。这个问题和 #20 类似，你可以通过在设置中修改 ChatGPT 提示词以避免不当内容的生成。\r\n\r\n---\r\n\r\nUpdate: 新版本 v1.3.5 对提示词作了优化，将原来的 `Translate the content into {tlang}: {text}` 改成了 `Translate the content into {tlang} only: {text}`，貌似能够稍微限制一下 ChatGPT 随意生成内容，但是仍然无法阻止 ChatGPT 回复问句，因此还是需要自根据所翻译电子书的具体内容修改更合适的提示词。",
          "created_at": "2023-05-03T18:31:52Z"
        }
      ]
    },
    {
      "issue_number": 31,
      "title": "能否增加一个火山翻译？",
      "body": "经过我的个人使用，我发现字节跳动旗下的火山翻译的准确度是最最最高的。",
      "state": "closed",
      "author": "taylormao",
      "author_type": "User",
      "created_at": "2023-05-04T09:58:07Z",
      "updated_at": "2023-05-05T05:13:05Z",
      "closed_at": "2023-05-05T05:13:05Z",
      "labels": [
        "enhancement",
        "wontfix"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/31/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/31",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/31",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.785929",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢建议。想要测试火山翻译的 API 必须提交敏感信息进行实名认证，因此不太想添加。插件提供了自定义翻译引擎功能，你可以尝试通过其 API 文档提供的信息进行设置，看能否满足需求。",
          "created_at": "2023-05-04T12:56:08Z"
        },
        {
          "author": "taylormao",
          "body": "非常感谢\r\n\r\n书伴 ***@***.***> 于2023年5月4日周四 20:56写道：\r\n\r\n> 谢谢建议。想要测试火山翻译的 API 必须提交敏感信息进行实名认证，因此不太想添加。插件提供了自定义翻译引擎功能，你可以尝试通过其 API\r\n> 文档提供的信息进行设置，看能否满足需求。\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/31#issuecomment-153473023",
          "created_at": "2023-05-05T02:07:55Z"
        }
      ]
    },
    {
      "issue_number": 27,
      "title": "AttributeError: 'NoneType' object has no attribute 'tail'",
      "body": "1. Calibre 6.17 + \r\n2. Error always pop-up for specific ePUB. \r\n3. Checked with https://www.epubvalidation.com/ epub seems correct:\r\n ```\r\nThe Result of the submitted file:\r\nFilename: *******.epub\r\n\r\nValidating using EPUB version 3.2 rules.\r\nNo errors or warnings detected.\r\nMessages: 0 fatals / 0 errors / 0 warnings / 0 infos\r\n\r\nEPUBCheck completed\r\n```\r\n\r\nError Log:\r\n```\r\nTraceback (most recent call last):\r\n  File \"runpy.py\", line 196, in _run_module_as_main\r\n  File \"runpy.py\", line 86, in _run_code\r\n  File \"site.py\", line 41, in <module>\r\n  File \"site.py\", line 37, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 215, in main\r\n  File \"calibre/utils/ipc/worker.py\", line 150, in arbitrary_n\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 124, in convert_book\r\n  File \"calibre/ebooks/conversion/plumber.py\", line 1281, in run\r\n  File \"calibre_plugins.ebook_translator.convertion\", line 120, in convert\r\n  File \"calibre_plugins.ebook_translator.translation\", line 107, in handle\r\n  File \"calibre_plugins.ebook_translator.element\", line 86, in get_original\r\n  File \"calibre_plugins.ebook_translator.element\", line 29, in get_content\r\nAttributeError: 'NoneType' object has no attribute 'tail'\r\n```\r\n",
      "state": "closed",
      "author": "LuXIAzoe",
      "author_type": "User",
      "created_at": "2023-05-01T10:26:47Z",
      "updated_at": "2023-05-02T12:12:28Z",
      "closed_at": "2023-05-02T12:12:28Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/27/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/27",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/27",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:56.986576",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your feedback. We fixed the bug in latest version, v1.3.2.",
          "created_at": "2023-05-01T14:21:32Z"
        }
      ]
    },
    {
      "issue_number": 28,
      "title": "Possible to translate larger sections at a time?",
      "body": "Is there a way to translate larger portions of the text at once, rather than line by line? It seems like the translations would be more accurate if there is more context available, particularly for the ChatGPT option. \r\n\r\nDialogue especially can have issues because the translation engine doesn't know who is speaking or how the line works in the context of the full conversation. ",
      "state": "closed",
      "author": "armyofgnomes",
      "author_type": "User",
      "created_at": "2023-05-02T09:55:00Z",
      "updated_at": "2023-05-02T11:59:34Z",
      "closed_at": "2023-05-02T11:48:35Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/28/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/28",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/28",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:57.181494",
      "comments": [
        {
          "author": "bookfere",
          "body": "To translate a specific (larger) number of characters at a time, you can enable the \"Merge to Translate\" feature. If you are using an older version without this feature, please update to the latest version 1.3.2.\r\n\r\n<img width=\"600\" alt=\"merge-to-translate\" src=\"https://user-images.githubusercontent",
          "created_at": "2023-05-02T11:44:37Z"
        },
        {
          "author": "armyofgnomes",
          "body": "Excellent, thanks!",
          "created_at": "2023-05-02T11:48:35Z"
        }
      ]
    },
    {
      "issue_number": 21,
      "title": "Delay between translations",
      "body": "I'm using DeepL X\r\nhttps://github.com/OwO-Network/DeepLX\r\n\r\nAfter some time translating, the plugin gives an error because deepl says that too many translation attempts have been made. \r\nCould you implement a delay between translations?\r\nMaybe two fields, so that if you fill in the first one, it will be a fixed delay value and if you fill in the second one too, it will be a random value between the first and the second one. ",
      "state": "closed",
      "author": "killo3967",
      "author_type": "User",
      "created_at": "2023-04-24T18:05:09Z",
      "updated_at": "2023-04-28T09:28:29Z",
      "closed_at": "2023-04-26T07:53:12Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/21/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/21",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/21",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:57.349207",
      "comments": [
        {
          "author": "bookfere",
          "body": "![request-max-interval](https://user-images.githubusercontent.com/29969316/234093605-7099497c-3e25-4fd3-aa01-c2559fa2aaa1.png)\r\n\r\nHere is an option that allows you to set a maximum number of time intervals for requesting the translation engine. The request interval will be a random number between 1 ",
          "created_at": "2023-04-24T19:19:47Z"
        },
        {
          "author": "killo3967",
          "body": "No, thanks, this is enough.",
          "created_at": "2023-04-26T07:53:12Z"
        }
      ]
    },
    {
      "issue_number": 20,
      "title": "【Bug】使用 ChatGPT 翻译书籍，还当上老师了！",
      "body": "<img width=\"667\" alt=\"截屏2023-04-21 13 44 19\" src=\"https://user-images.githubusercontent.com/23257723/233550087-97a70e24-57f9-4463-b0e7-06addfa06b23.png\">\r\n应该是文章里有一段问话，GPT 直接就回复上了，是否有可能在调用时，可以有一些限制，减少这样的错误发生。\r\n下图是另一个错误，应该是类似的。\r\n<img width=\"543\" alt=\"截屏2023-04-21 13 47 22\" src=\"https://user-images.githubusercontent.com/23257723/233550508-4583d6c3-9409-4c1a-94a2-bbf5a25cbdb3.png\">\r\n",
      "state": "closed",
      "author": "kairyo",
      "author_type": "User",
      "created_at": "2023-04-21T05:47:35Z",
      "updated_at": "2023-04-26T09:56:03Z",
      "closed_at": "2023-04-21T10:17:09Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/20/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 1,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/20",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/20",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:57.625809",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢反馈。插件提供了自定义 ChatGPT 提示词功能（在设置中选择 ChatGPT 后会显示在下方），你可以利用此功能调节 ChatGPT 的回复。比如，对于擅自回复翻译内容的问题，可以将提示词 `Translate the content into {tlang}: {text}` 改成 `Translate the content into {tlang} and do not answer it: {text}`，修改完成后可以通过测试功能观察翻译结果。\r\n\r\n![ebook-translator-calibre-plugin](https://user-images.githubus",
          "created_at": "2023-04-21T10:05:34Z"
        },
        {
          "author": "kairyo",
          "body": "不好意思，没有仔细看可以用户自定义的功能。非常感谢提供的软件和插件！",
          "created_at": "2023-04-21T10:10:58Z"
        },
        {
          "author": "bookfere",
          "body": "不客气。之后在使用插件的过程中遇到任何问题欢迎随时反馈。",
          "created_at": "2023-04-21T10:17:09Z"
        },
        {
          "author": "kairyo",
          "body": "目前有个新问题，就是 ChatGPT提示词，我已经修改并进行了保存，但是我第二天重新打开又需要重新再修改一次（修改结果保存不了）",
          "created_at": "2023-04-24T05:54:44Z"
        },
        {
          "author": "bookfere",
          "body": "测试了一下没能重现这个问题。你在修改后点击【保存】按钮了吗？如果确认点击了，可以测试一下，修改后保存，然后关掉并重新打开 Calibre，看修改结果还存不存在。",
          "created_at": "2023-04-24T06:11:36Z"
        }
      ]
    },
    {
      "issue_number": 19,
      "title": "use of glossaries",
      "body": "I think it could be very interesting to implement glossaries for translations.\r\nFor example in Spanish the word \"cabo\" has two possible meanings \"end of a rope\" and \"military rank\". If what I am translating is a nautical work, I should be able to choose the first one and not the second one. A clear example is the novels of Honor Harrington, which have naval themes and very specific terminology. A glossary would allow all the novels to be translated with the same terminology. \r\nI propose that the \"glossary file\" contain word pairs that are substituted and can also include the specific options to exclude certain content (and future posibilities), as if it were a configuration file for how to do the translation.\r\nThis does not mean that you have to worry about the graphics part of creating the file as it would be a text file. Only to could select the file.\r\nThere are many book series that would benefit from this possibility and users could exchange these files.\r\n\r\n",
      "state": "closed",
      "author": "killo3967",
      "author_type": "User",
      "created_at": "2023-04-19T20:21:18Z",
      "updated_at": "2023-04-23T15:50:55Z",
      "closed_at": "2023-04-23T15:50:54Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/19/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/19",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/19",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:57.845981",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thanks for your suggestion and further thoughts. We will put this on our work list.",
          "created_at": "2023-04-20T03:52:01Z"
        },
        {
          "author": "killo3967",
          "body": "Oh no, thanks to you for let me read a lot of books not published in my language. Your plugin is a dream come true.",
          "created_at": "2023-04-20T09:41:10Z"
        },
        {
          "author": "bookfere",
          "body": "Thank you for your kind words. It was my pleasure to help you read more books.",
          "created_at": "2023-04-20T10:13:46Z"
        }
      ]
    },
    {
      "issue_number": 17,
      "title": "DeepL X problem",
      "body": "Hi!\r\n\r\nPlaying around DeepL X I could get it working as a small python code. Using this code returns to me HTTP Error 400: Bad Request in Calibre, and a 404 error in the DeepLX:\r\n\r\n```\r\n{\r\n    \"name\": \"DeepLX\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"Source Language\": \"DE\"\r\n        },\r\n        \"target\": {\r\n            \"Target Language\": \"EN-GB\"\r\n        }\r\n    },\r\n    \"request\": {\r\n        \"url\": \"http://127.0.0.1:1188/translate\",\r\n        \"method\": \"POST\",\r\n        \"data\": {\r\n            \"text\": \"<text>\",\r\n            \"source\": \"DE\",\r\n            \"target\": \"EN-GB\"\r\n        }\r\n    },\r\n    \"response\": \"response\"\r\n}\r\n```",
      "state": "closed",
      "author": "dyoghenes",
      "author_type": "User",
      "created_at": "2023-04-18T13:20:23Z",
      "updated_at": "2023-04-19T09:50:11Z",
      "closed_at": "2023-04-19T09:50:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/17/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/17",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/17",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:58.012741",
      "comments": [
        {
          "author": "bookfere",
          "body": "I see that you received a 400 response status code, indicating that the translation engine API rejected your request. This could be due to the instability of the API you used.\r\n\r\n**correction**: The 400 response code is not due to the server rejecting the request, but rather because the client sent ",
          "created_at": "2023-04-18T13:30:49Z"
        },
        {
          "author": "dyoghenes",
          "body": "I see. However, when I use the following python code, the translation works:\r\n\r\n> import httpx, json\r\n> \r\n> deeplx_api = \"http://127.0.0.1:1188/translate\"\r\n> \r\n> data = {\r\n> \t\"text\": \"Hello World\",\r\n> \t\"source_lang\": \"EN\",\r\n> \t\"target_lang\": \"ZH\"\r\n> }\r\n> \r\n> post_data = json.dumps(data)\r\n> r = httpx",
          "created_at": "2023-04-18T13:36:49Z"
        },
        {
          "author": "bookfere",
          "body": "The request data in your code is in JSON format, so you need to set the `Content-Type: application/json` in the request headers to specify the format of the data being sent:\r\n\r\n```\r\n\"headers\": {\r\n    \"Content-Type\": \"application/json\"\r\n}\r\n```",
          "created_at": "2023-04-18T13:51:14Z"
        },
        {
          "author": "dyoghenes",
          "body": "I tried that and it still returned the same error message (400 in Calibre,\n404 in DeepLX).\n\nOn Tue, 18 Apr 2023, 15:51 书伴, ***@***.***> wrote:\n\n> The request data in your code is in JSON format, so you need to set the Content-Type:\n> application/json in the request headers to specify the format of t",
          "created_at": "2023-04-18T14:36:57Z"
        },
        {
          "author": "bookfere",
          "body": "Please try the latest version 1.2.2. I tested the code snippet below and it works.\r\n\r\n```\r\n{\r\n    \"name\": \"DeepL X\",\r\n    \"languages\": {\r\n        \"source\": {\r\n            \"German\": \"DE\"\r\n        },\r\n        \"target\": {\r\n            \"English (British)\": \"EN-GB\"\r\n        }\r\n    },\r\n    \"request\": {\r\n ",
          "created_at": "2023-04-19T09:28:08Z"
        }
      ]
    },
    {
      "issue_number": 16,
      "title": "DeepL authentication key not working",
      "body": "Hi!\r\n\r\nI added my DeepL authentication key, but when I test it (either selecting DeepL or DeepL (Pro), I get the following error: Can not parse returned response. Raw data: HTTP Error 403: Forbidden\r\n\r\nWhat could be the problem?",
      "state": "closed",
      "author": "dyoghenes",
      "author_type": "User",
      "created_at": "2023-04-18T08:32:27Z",
      "updated_at": "2023-04-18T12:26:08Z",
      "closed_at": "2023-04-18T10:26:00Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/16/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/16",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/16",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:58.228010",
      "comments": [
        {
          "author": "bookfere",
          "body": "This bug was fixed. Please try the latest version v1.2.1. Thanks for your feedback!",
          "created_at": "2023-04-18T10:26:15Z"
        }
      ]
    },
    {
      "issue_number": 9,
      "title": "两个建议",
      "body": "反应几个问题\n1.翻译完成后，原本设置保存文件的位置并没有找到已翻译的文件，会丢失。比如保存位置为桌面，实际桌面只有一个0字节的同名文件。\n2.希望翻译完成之后，能够翻译内容单独输出，删除原文件内容，而不是用英文中文夹杂在一起。\n以上两点。谢谢。",
      "state": "closed",
      "author": "LIVEINTHEOC",
      "author_type": "User",
      "created_at": "2023-04-03T04:54:17Z",
      "updated_at": "2023-04-17T09:55:57Z",
      "closed_at": "2023-04-17T09:55:57Z",
      "labels": [
        "bug",
        "duplicate",
        "enhancement"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/9/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/9",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/9",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:58.462397",
      "comments": [
        {
          "author": "bookfere",
          "body": "旧版本插件会删除转换后的临时文件，新的版本去掉了这个步骤，把清理临时文件的工作交给了 Calibre，按理说应该不会再出现这个问题了，你可以再测试一下。第二个问题已经在新版本添加了选项，可以设置为不保留原文。 ",
          "created_at": "2023-04-08T07:24:44Z"
        }
      ]
    },
    {
      "issue_number": 8,
      "title": "View deepl free remains quote.",
      "body": "Hi\r\nCould be posible to connect to deepl and view who many characters have i remain in my quote and compare with the book to know i i have enought to translate the book?\r\n\r\n\"Deepl api free\" has only 500.000 characters in quote and could be very usefull to know this data prior to translate and anticipate the posible fail.\r\n",
      "state": "closed",
      "author": "killo3967",
      "author_type": "User",
      "created_at": "2023-04-02T13:39:53Z",
      "updated_at": "2023-04-17T09:49:17Z",
      "closed_at": "2023-04-17T09:49:17Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/8/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/8",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/8",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:58.656002",
      "comments": [
        {
          "author": "bookfere",
          "body": "This feature will be added in the next version, please stay tuned.",
          "created_at": "2023-04-13T17:08:34Z"
        }
      ]
    },
    {
      "issue_number": 13,
      "title": "可否添加对LibreTranslate和Lingva的支持",
      "body": "可否添加对于自建服务[LibreTranslate](https://github.com/LibreTranslate/LibreTranslate)和[Lingva](https://github.com/TheDavidDelta/lingva-translate)的支持\r\n",
      "state": "closed",
      "author": "killgfat",
      "author_type": "User",
      "created_at": "2023-04-11T11:58:10Z",
      "updated_at": "2023-04-17T09:49:16Z",
      "closed_at": "2023-04-17T09:49:16Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/13/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/13",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/13",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:58.857086",
      "comments": [
        {
          "author": "bookfere",
          "body": "和 #6  一样，之后的版本会增加自定义翻译引擎功能来满足这个需求。",
          "created_at": "2023-04-12T02:06:04Z"
        }
      ]
    },
    {
      "issue_number": 12,
      "title": "建议给chat gpt添加屏蔽审查的脚本或者内置绕开审查的代码供用户选择！",
      "body": "建议给chat gpt添加屏蔽审查的脚本或者内置绕开审查的代码供用户选择！ @bookfere ",
      "state": "closed",
      "author": "MZHMXH",
      "author_type": "User",
      "created_at": "2023-04-09T05:20:29Z",
      "updated_at": "2023-04-12T02:08:42Z",
      "closed_at": "2023-04-12T02:08:42Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/12/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/12",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/12",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.012106",
      "comments": [
        {
          "author": "bookfere",
          "body": "你所说的“审查”具体指的是什么？ChatGPT 不会审查所翻译的内容吧。",
          "created_at": "2023-04-09T06:02:30Z"
        },
        {
          "author": "MZHMXH",
          "body": "> \r\n\r\n\r\n这是有关于chat gpt“绕过审核禁用数据监管”的参考贴子地址\r\nhttps://www.cnblogs.com/JanYork/p/16981220.html\r\n\r\nhttps://zhuanlan.zhihu.com/p/591003498\r\n\r\n这是关于chat gpt “绕过审核禁用数据监管”的相关项目以及它的油猴脚本安装地址\r\nhttps://github.com/bigemon/ChatGPT-ToolBox\r\n\r\nhttps://greasyfork.org/zh-CN/scripts/456901-chatgpt%E5%8A%9F%E8%83%BD%E5%A2",
          "created_at": "2023-04-09T06:23:47Z"
        },
        {
          "author": "bookfere",
          "body": "插件所调用的 ChatGPT API 不能像官方提供的聊天式 ChatGPT 那样保持上下文，因此针对聊天式 ChatGPT 的 Hack 无法用在 API 上。即便手动维护上下文，对于翻译一本书来说代价也太大。\r\n\r\n从你提供的这些资料看，ChatGPT 的“审查”不会对于“翻译”这一功能产生什么负面影响，因此项目没有添加此需求的意愿。\r\n\r\n不过，之后插件会添加自定义翻译引擎功能，会把请求和响应数据交给用户处理，如果你想尝试自己的需求，可以利用此功能。",
          "created_at": "2023-04-09T06:44:44Z"
        },
        {
          "author": "MZHMXH",
          "body": "> 插件所调用的 ChatGPT API 不能像官方提供的聊天式 ChatGPT 那样保持上下文，因此针对聊天式 ChatGPT 的 Hack 无法用在 API 上。即便手动维护上下文，对于翻译一本书来说代价也太大。\r\n> \r\n> 从你提供的这些资料看，ChatGPT 的“审查”不会对于“翻译”这一功能产生什么负面影响，因此项目没有添加此需求的意愿。\r\n> \r\n> 不过，之后插件会添加自定义翻译引擎功能，会把请求和响应数据交给用户处理，如果你想尝试自己的需求，可以利用此功能。\r\n\r\nchat gpt可能会屏蔽翻译一些违规的内容吧，如果是这样的话会对原文内容翻译的完整性有着很大的影响，这个问题可",
          "created_at": "2023-04-09T06:52:22Z"
        },
        {
          "author": "bookfere",
          "body": "使用 ChatGPT 需要遵守他们的“[使用政策](https://openai.com/policies/usage-policies)”，如果原文内容不违反这些规则就没问题，否则就需要换用其他翻译引擎。",
          "created_at": "2023-04-09T07:19:38Z"
        }
      ]
    },
    {
      "issue_number": 10,
      "title": "please don't mixing language after translation ",
      "body": "please don't mixing [original text language ] with [another target language] after translated file\r\n\r\nmake a button for bilingual or only target one when translating\r\n",
      "state": "closed",
      "author": "boykensoidong",
      "author_type": "User",
      "created_at": "2023-04-06T17:00:06Z",
      "updated_at": "2023-04-08T07:26:39Z",
      "closed_at": "2023-04-08T07:26:39Z",
      "labels": [
        "duplicate",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/10/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/10",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/10",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.212462",
      "comments": [
        {
          "author": "bookfere",
          "body": "New version v1.1.0 added this feature. Please try.",
          "created_at": "2023-04-08T07:26:39Z"
        }
      ]
    },
    {
      "issue_number": 7,
      "title": "Checkbox for not show the original laguage",
      "body": "Hi. Thanks for the plugin.\r\n\r\nI think could be good to put checkbox for only view the translated document.",
      "state": "closed",
      "author": "killo3967",
      "author_type": "User",
      "created_at": "2023-04-02T13:34:36Z",
      "updated_at": "2023-04-08T07:20:55Z",
      "closed_at": "2023-04-08T07:20:55Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/7/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/7",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/7",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.445056",
      "comments": [
        {
          "author": "bookfere",
          "body": "This feature was added in v1.1.0. Please checkout.",
          "created_at": "2023-04-08T07:20:55Z"
        }
      ]
    },
    {
      "issue_number": 5,
      "title": "Spanish translation of the plugin",
      "body": "[traslation spanish.zip](https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/files/11127801/traslation.spanish.zip)\r\n",
      "state": "closed",
      "author": "Dunhill69",
      "author_type": "User",
      "created_at": "2023-03-31T23:07:28Z",
      "updated_at": "2023-04-08T07:13:48Z",
      "closed_at": "2023-04-08T07:13:48Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/5/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/5",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/5",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.602816",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you!",
          "created_at": "2023-04-01T04:14:26Z"
        }
      ]
    },
    {
      "issue_number": 4,
      "title": "请求添加epub文本翻译后的ai润色功能和给chat gpt自定义设置prompt以提高翻译成品的质量，与适配开发sigil版的插件",
      "body": "请求添加epub文本翻译后的ai润色功能和给chat gpt自定义设置prompt以提高翻译成品的质量，与适配开发sigil版的插件。翻译后的润色功能在文本翻译出的成品和阅读质量上会有很大的提升。此外还可以添加选择需要翻译文本的翻译范围。望开发者可以考虑一下我的建议。同时也祝开发者项目顺利开发，一帆风顺！可以帮助到更多需要的朋友@bookfere ",
      "state": "closed",
      "author": "MZHMXH",
      "author_type": "User",
      "created_at": "2023-03-30T19:51:42Z",
      "updated_at": "2023-04-08T07:13:47Z",
      "closed_at": "2023-04-08T07:13:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/4/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/4",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/4",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.765651",
      "comments": [
        {
          "author": "MZHMXH",
          "body": "希望开发者可以添加一个由用户自行选择是否翻译后只保留翻译结果不保留翻译前的原文的选项功能！",
          "created_at": "2023-03-30T21:04:42Z"
        },
        {
          "author": "bookfere",
          "body": "谢谢建议。自定义 ChatGPT 提示词、过滤待翻译内容和只保留翻译结果的功能会添加到之后版本的偏好设置中。Sigil 版本插件限于个人精力目前还没有计划。\r\n\r\n另外，你提到的“AI润色功能”是指将翻译结果重新发给 ChatGPT 进行润色吗？",
          "created_at": "2023-03-31T04:37:16Z"
        },
        {
          "author": "MZHMXH",
          "body": "> 中\r\n\r\n是的，我提到的“AI润色功能”是指将翻译结果重新发给ChatGPT 进行润色，也可以选择多次重复润色以达到翻译成品的阅读体验得到提升。具体可以参考这篇帖子里的工具所提到的“ai润色功能”https://www.iplaysoft.com/openai-translator.html",
          "created_at": "2023-03-31T10:32:45Z"
        },
        {
          "author": "bookfere",
          "body": "了解。不过类似的复审功能不适合放在翻译过程中。插件现在只是简单把翻译过程写到了日志中，之后会增加一个专门的监控面板替代这种方式，这样就比较方便复审翻译结果以及改善不满意的地方。",
          "created_at": "2023-03-31T13:09:17Z"
        },
        {
          "author": "MZHMXH",
          "body": "了解，辛苦了开发者！",
          "created_at": "2023-03-31T17:31:17Z"
        }
      ]
    },
    {
      "issue_number": 2,
      "title": "能否将序号数字这些排除翻译？",
      "body": "由于在国内，网络信号不是很好，看日志很多~“原文：5.1.1”这样的数字都要走一遍接口进行翻译，有时候网络不好还要重试好几遍，然后返回的结果还是“5.1.1”，这样就造成了大量的时间浪费，我翻译了一篇150多页的，有6004个翻译项目，估算了下，需要近一天的时间？？",
      "state": "closed",
      "author": "DamienLee2017",
      "author_type": "User",
      "created_at": "2023-03-30T03:16:15Z",
      "updated_at": "2023-04-08T07:13:46Z",
      "closed_at": "2023-04-08T07:13:46Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/2/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/2",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/2",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:47:59.957044",
      "comments": [
        {
          "author": "bookfere",
          "body": "谢谢建议。今后会添加偏好设置，可用来过滤待翻译内容。",
          "created_at": "2023-03-30T03:35:46Z"
        }
      ]
    },
    {
      "issue_number": 1,
      "title": "problem about output_path",
      "body": "Traceback (most recent call last):\r\n  File \"calibre\\gui2\\proceed.py\", line 208, in do_ask_question\r\n  File \"calibre_plugins.ebook_translator.main\", line 268, in <lambda>\r\nNameError: free variable 'output_path' referenced before assignment in enclosing scope\r\n",
      "state": "closed",
      "author": "wangliewei",
      "author_type": "User",
      "created_at": "2023-03-29T00:48:01Z",
      "updated_at": "2023-03-30T15:57:34Z",
      "closed_at": "2023-03-30T15:57:34Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/1/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/bookfere/Ebook-Translator-Calibre-Plugin/issues/1",
      "api_url": "https://api.github.com/repos/bookfere/Ebook-Translator-Calibre-Plugin/issues/1",
      "repository": "bookfere/Ebook-Translator-Calibre-Plugin",
      "extraction_date": "2025-06-22T00:48:00.119821",
      "comments": [
        {
          "author": "bookfere",
          "body": "Thank you for pointing out. It is now fixed. Please try the latest version.",
          "created_at": "2023-03-29T05:33:57Z"
        },
        {
          "author": "joostshao",
          "body": "太慢了，这是怎么回事？有测试数据吗？\r\nquick start guide , 都十分钟了，还没翻译完",
          "created_at": "2023-03-29T15:58:54Z"
        },
        {
          "author": "bookfere",
          "body": "@joostshao 翻译速度和网络响应速度和设置的请求时间间隔有关。以免费的 Google 翻译为例，在正常的网络环境下，按默认设置的每个请求间隔 0~5 秒钟来算，翻译 600 段按理说不超过  50 分钟。免费的 Google 翻译 API 对请求频率有限制，有时不得不加长请求间隔，导致耗时进一步增加。",
          "created_at": "2023-03-30T03:56:50Z"
        }
      ]
    }
  ]
}