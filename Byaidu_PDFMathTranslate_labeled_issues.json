{
  "repository": "Byaidu/PDFMathTranslate",
  "repository_info": {
    "repo": "Byaidu/PDFMathTranslate",
    "stars": 24823,
    "language": "Python",
    "description": "PDF scientific paper translation with preserved formats - 基于 AI 完整保留排版的 PDF 文档全文双语翻译，支持 Google/DeepL/Ollama/OpenAI 等服务，提供 CLI/GUI/MCP/Docker/Zotero",
    "url": "https://github.com/Byaidu/PDFMathTranslate",
    "topics": [
      "chinese",
      "document",
      "edit",
      "english",
      "japanese",
      "korean",
      "latex",
      "math",
      "mcp",
      "modify",
      "obsidian",
      "openai",
      "pdf",
      "pdf2zh",
      "python",
      "russian",
      "translate",
      "translation",
      "zotero"
    ],
    "created_at": "2024-09-06T06:56:03Z",
    "updated_at": "2025-06-21T17:05:51Z",
    "search_query": "ollama language:python stars:>2",
    "total_issues_estimate": 172,
    "labeled_issues_estimate": 138,
    "labeling_rate": 80.5,
    "sample_labeled": 33,
    "sample_total": 41,
    "has_issues": true,
    "repo_id": 853189791,
    "default_branch": "main",
    "size": 54337
  },
  "extraction_date": "2025-06-21T23:30:05.677430",
  "extraction_type": "LABELED_ISSUES_ONLY",
  "total_labeled_issues": 489,
  "issues": [
    {
      "issue_number": 986,
      "title": "使用ocr技术扫描后文件babyboc依旧无法进行扫描，显示错误",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\nTechnical details\n- GitHub: Byaidu/PDFMathTranslate\n- BabelDOC: funstory-ai/BabelDOC\n- GUI by: Rongxin\n- pdf2zh Version: 1.9.9\n- BabelDOC Version: 0.2.33\n```\n\n### How to install pdf2zh\n\ndocker\n\n### Describe the bug\n\n使用ocr技术扫描后文件babyboc依旧无法进行扫描，显示错误\n\n<img width=\"1131\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8fa0d5a4-7b35-44d3-877f-e0dfb5a3335c\" />\n\n### To Reproduce\n\n直接放上秒扫描就行，就是现实错误，有一些文件它可以翻译成功，但是有些文件例如下面的BABYDOC似乎无法识别，\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n直接放上秒扫描就行，就是现实错误，有一些文件它可以翻译成功，但是有些文件例如下面的BABYDOC似乎无法识别，\n```\n\n### Origin PDF file\n\n> #\n\n[\\[OCR\\]_ahess_0395-2649_1979_num_34_6_294131_20250616_2345.layered.pdf](https://github.com/user-attachments/files/20779726/OCR._ahess_0395-2649_1979_num_34_6_294131_20250616_2345.layered.pdf)\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "yh2336661",
      "author_type": "User",
      "created_at": "2025-06-17T16:51:07Z",
      "updated_at": "2025-06-17T16:59:26Z",
      "closed_at": "2025-06-17T16:59:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/986/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/986",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/986",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:11.593735",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请用v2重试\nhttps://github.com/PDFMathTranslate/PDFMathTranslate-next",
          "created_at": "2025-06-17T16:59:26Z"
        }
      ]
    },
    {
      "issue_number": 985,
      "title": "增加翻译文件夹选项，设定保存路径，在路径下面创建momo和dual放翻译好的文章",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前网页端需要人工手动一个个选择文献，手工操作。\n用代码调用pdf2zh的话，要用脚本首先读取文件夹路径的pdf然后进行翻译。\n希望官方能够增加整个文件夹路径下面所有pdf文件都进行翻译，保存到指定文献。\n\n### 解决方案\n\n目前这是我的解决方法，希望官方能够提供更好的文件夹翻译整合方案。  让其他一些不懂代码的人，也能够批量翻译文献。\nfile_list = os.listdir(dir_path)\n    file_list = [file for file in file_list if file.endswith('.pdf')]\n\n    for file in file_list:\n        file_path = os.path.join(dir_path, file)  # 获取文件的完整路径\n\n        # 执行命令cd\n        try:\n            subprocess.run(['pdf2zh', file_path, '-o', result_dir, '-s', 'silicon', '-t',\n                            '4'], check=True)\n\n        except subprocess.CalledProcessError as e:\n            print(f\"Error converting {file}: {e}\")\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "benjohn18",
      "author_type": "User",
      "created_at": "2025-06-16T09:31:14Z",
      "updated_at": "2025-06-16T09:57:56Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/985/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/985",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/985",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:11.825811",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate?tab=readme-ov-file#advanced-options\n请仔细阅读文档。: )",
          "created_at": "2025-06-16T09:57:56Z"
        }
      ]
    },
    {
      "issue_number": 982,
      "title": "能否支持输出word文件？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n_No response_\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "AngGaGim",
      "author_type": "User",
      "created_at": "2025-06-13T09:38:58Z",
      "updated_at": "2025-06-15T08:00:02Z",
      "closed_at": "2025-06-15T08:00:02Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/982/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/982",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/982",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.098547",
      "comments": [
        {
          "author": "hellofinch",
          "body": "可否提问前线检索一下之前的issue。 : ) ",
          "created_at": "2025-06-15T07:23:11Z"
        }
      ]
    },
    {
      "issue_number": 981,
      "title": "ERROR:pdf2zh.converter:'dict' object has no attribute 'message'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nC:\\Users\\x1090102>set OLLAMA_HOST=http://192.168.204.34:11434\n\nC:\\Users\\x1090102>pdf2zh -li en -lo zh-TW -s ollama:cogito:32b \"C:\\Users\\x1090102\\Desktop\\CCTV 系統入門.pdf\"\nnot in git repo\nNamespace(files=['C:\\\\Users\\\\x1090102\\\\Desktop\\\\CCTV 系統入門.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh-TW', service='ollama:cogito:32b', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=None, dir=False, config=None, babeldoc=False, skip_subset_fonts=False, ignore_cache=False, mcp=False, sse=False)\n[06/12/25 16:18:47] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/x1090102/.cache/babeldoc/fonts/SourceHanSerifTW-Regular.ttf\n  3%|██▏                                                                               | 3/112 [00:05<03:33,  1.96s/it][06/12/25 16:19:19] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:19:31] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:19:44] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:19:57] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:20:09] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:20:22] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:20:34] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:20:47] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:21:00] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:21:12] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:21:25] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n[06/12/25 16:21:38] ERROR    ERROR:pdf2zh.converter:'dict' object has no attribute 'message'            converter.py:357\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "h9052300",
      "author_type": "User",
      "created_at": "2025-06-12T08:22:52Z",
      "updated_at": "2025-06-12T08:29:49Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/981/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/981",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/981",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.282078",
      "comments": [
        {
          "author": "hellofinch",
          "body": "尝试使用2.0 pdf2zh-next仓库。",
          "created_at": "2025-06-12T08:29:49Z"
        }
      ]
    },
    {
      "issue_number": 976,
      "title": "目标语言为日文，韩文时，翻译后的pdf中对应的日韩文字都是空白",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nwindows\n```\n\n### 请选择安装方式\n\n源码\n\n### 描述你的问题\n\n目标语言为日文，韩文时，翻译后的pdf中对应的日韩文字都是空白\n\n### 如何复现\n\n随便用文档，目标语言设置为日文，都可以复现\n字体是存在的，我调试跟踪，对应的语言字体文件加载是正常的\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "Avens666",
      "author_type": "User",
      "created_at": "2025-06-04T12:29:10Z",
      "updated_at": "2025-06-10T08:59:15Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/976/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/976",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/976",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.453260",
      "comments": [
        {
          "author": "Teroyan",
          "body": "我也遇到这个问题\n排查：\n- 能提取内容\n- 大模型能翻译出结果（我输出成文本了）\n- 使用pyMuPDF能解析pdf内容。\n- 使用Acrobat查看字体已经嵌入\n\n但是但是但是，使用阅读工具显示大片空白，中文都没显示出来！\n\n英文->中/日/韩\n源文件：[故事-mono.pdf](https://github.com/user-attachments/files/20668852/-mono.pdf)\n（这个源文件是翻译生成的）",
          "created_at": "2025-06-10T08:49:21Z"
        }
      ]
    },
    {
      "issue_number": 978,
      "title": "支持 .docx 文档",
      "body": "### 在什么场景下，需要你请求的功能？\n\n有没计划支持 .docx 文档？\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "zhaotoday",
      "author_type": "User",
      "created_at": "2025-06-06T12:06:51Z",
      "updated_at": "2025-06-09T13:07:03Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/978/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/978",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/978",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.622684",
      "comments": [
        {
          "author": "hellofinch",
          "body": "可能有，但是优先级非常低。目前还是集中在处理PDF文件上。",
          "created_at": "2025-06-09T01:29:15Z"
        },
        {
          "author": "Lion68686",
          "body": "你可以先把word转成pdf。。。",
          "created_at": "2025-06-09T11:51:00Z"
        },
        {
          "author": "zhaotoday",
          "body": "@Lion68686 好的，谢谢。我先自己实现。",
          "created_at": "2025-06-09T13:07:01Z"
        }
      ]
    },
    {
      "issue_number": 979,
      "title": "exe启动的翻译器日志内容内容监听",
      "body": "### 在什么场景下，需要你请求的功能？\n\n在windows server 1.9.5版本，通过修改端口号启动多个exe的服务，目前想通过监控日志内容是否在翻译中的形式，给用户提供一个入口自动选择没有翻译任务的服务端口，以及针对长文本翻译卡死现象进行提示。\n目前没有找到启动后可以看到日志文件的路径，无法进行监控\n\n### 解决方案\n\n启动exe后，生成相应端口号下日志文件，可实时监听日志内容的变化，用来给用户提供翻译入口选择或是提醒\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "happyf1990",
      "author_type": "User",
      "created_at": "2025-06-07T06:12:31Z",
      "updated_at": "2025-06-09T06:21:29Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/979/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/979",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/979",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.826346",
      "comments": [
        {
          "author": "hellofinch",
          "body": "这个功能可以需要等到http api完成。\n同时，目前并没有设计将log保存到文件的功能。",
          "created_at": "2025-06-09T01:28:24Z"
        },
        {
          "author": "happyf1990",
          "body": "谢谢回复！ @hellofinch \n\n那1.9.5版本的话，能否修改gui或是哪个文件，达到输出log文件或是能监控log的目的？ \n\n还有 http api能支持windows server服务器吗？",
          "created_at": "2025-06-09T03:37:22Z"
        },
        {
          "author": "hellofinch",
          "body": "> 那1.9.5版本的话，能否修改gui或是哪个文件，达到输出log文件或是能监控log的目的？\n\n不能，没有往文件写的这个操作。或者可以考虑调整logger的输出。\n1.x不再提供支持，请考虑使用2.0。 : )\n\n> 还有 http api能支持windows server服务器吗？\n\n会的",
          "created_at": "2025-06-09T06:21:28Z"
        }
      ]
    },
    {
      "issue_number": 977,
      "title": "pdf2zh.exe无法打开",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nwindow10\npdf2zh-v1.9.9-win64\n使用的windows安装包\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n打开pdf2zh报错\n1、已安装vc_redist.x64\n2、尝试增加了环境set HF_ENDPOINT=https://hf-mirror.com\n3、重启后重试还是报错\nnot in git repo\n[06/05/25 21:42:57] INFO     INFO:babeldoc.assets.assets:doclayout onnx model not found or corrupted,      assets.py:196                             downloading...\n[06/05/25 21:43:01] WARNING  WARNING:babeldoc.assets.assets:Network error occurred: [SSL:                   assets.py:66                             CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate\n                             in certificate chain (_ssl.c:1010), will retry\n                    WARNING  WARNING:babeldoc.assets.assets:Get font metadata failed, retrying in 1.0      assets.py:118                             seconds... (Attempt 1/3)\n[06/05/25 21:43:03] WARNING  WARNING:babeldoc.assets.assets:Network error occurred: [SSL:                   assets.py:66                             CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate\n                             in certificate chain (_ssl.c:1010), will retry\n                    WARNING  WARNING:babeldoc.assets.assets:Download file failed, retrying in 1.0           assets.py:89                             seconds... (Attempt 1/3)\n[06/05/25 21:43:06] WARNING  WARNING:babeldoc.assets.assets:Network error occurred: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1010), will retry  assets.py:66                    WARNING  WARNING:babeldoc.assets.assets:Download file failed, retrying in 2.0 seconds... (Attempt 2/3)                                                                                              assets.py:89\n[06/05/25 21:43:10] WARNING  WARNING:babeldoc.assets.assets:Network error occurred: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed          assets.py:66                             certificate in certificate chain (_ssl.c:1010), will retry\nException in thread Thread-1 (_wrapper):\nTraceback (most recent call last):\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_transports\\default.py\", line 101, in map_httpcore_exceptions\n    yield\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_transports\\default.py\", line 394, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_async\\connection_pool.py\", line 256, in handle_async_request\n    raise exc from None\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_async\\connection_pool.py\", line 236, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_async\\http_proxy.py\", line 316, in handle_async_request\n    stream = await stream.start_tls(**kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_async\\http11.py\", line 376, in start_tls\n    return await self._stream.start_tls(ssl_context, server_hostname, timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_backends\\anyio.py\", line 67, in start_tls\n    with map_exceptions(exc_map):\n         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"contextlib.py\", line 158, in __exit__\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ConnectError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1010)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\asyncio\\__init__.py\", line 114, in __call__\n    result = await fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\babeldoc\\assets\\assets.py\", line 102, in download_file\n    response = await client.get(url, follow_redirects=True)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1768, in get\n    return await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1540, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_transports\\default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n         ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"contextlib.py\", line 158, in __exit__\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\httpx\\_transports\\default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ConnectError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1010)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"threading.py\", line 1075, in _bootstrap_inner\n  File \"threading.py\", line 1012, in run\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\babeldoc\\assets\\assets.py\", line 42, in _wrapper\n    result_container.set_result(asyncio.run(coro))\n                                ^^^^^^^^^^^^^^^^^\n  File \"asyncio\\runners.py\", line 195, in run\n  File \"asyncio\\runners.py\", line 118, in run\n  File \"asyncio\\base_events.py\", line 691, in run_until_complete\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\babeldoc\\assets\\assets.py\", line 204, in get_doclayout_onnx_model_path_async\n    await download_file(\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\asyncio\\__init__.py\", line 189, in async_wrapped\n    return await copy(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\asyncio\\__init__.py\", line 111, in __call__\n    do = await self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\asyncio\\__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\tenacity\\__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x2533dbc8830 state=finished raised ConnectError>]\nTraceback (most recent call last):\n  File \"D:\\software\\pdf2zh\\build\\_pystand_static.int\", line 19, in <module>\n    code = pdf2zh.pdf2zh.main()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\pdf2zh\\pdf2zh.py\", line 272, in main\n    ModelInstance.value = OnnxModel.load_available()\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\pdf2zh\\doclayout.py\", line 33, in load_available\n    return DocLayoutModel.load_onnx()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\pdf2zh\\doclayout.py\", line 28, in load_onnx\n    model = OnnxModel.from_pretrained()\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\pdf2zh\\doclayout.py\", line 86, in from_pretrained\n    return OnnxModel(pth)\n           ^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\pdf2zh\\doclayout.py\", line 76, in __init__\n    model = onnx.load(model_path)\n            ^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\onnx\\__init__.py\", line 212, in load_model\n    model = _get_serializer(format, f).deserialize_proto(_load_bytes(f), ModelProto())\n                                                         ^^^^^^^^^^^^^^\n  File \"D:\\software\\pdf2zh\\build\\site-packages\\onnx\\__init__.py\", line 149, in _load_bytes\n    with open(f, \"rb\") as readable:\n         ^^^^^^^^^^^^^\nTypeError: expected str, bytes or os.PathLike object, not NoneType\nPress Enter to continue...\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "Agnon1573",
      "author_type": "User",
      "created_at": "2025-06-05T13:51:33Z",
      "updated_at": "2025-06-06T00:50:37Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/977/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/977",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/977",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:12.990529",
      "comments": [
        {
          "author": "hellofinch",
          "body": "试一下 2.0 assets的压缩包。\n上述报错应该是你没有把模型下载下来。",
          "created_at": "2025-06-06T00:50:36Z"
        }
      ]
    },
    {
      "issue_number": 967,
      "title": "feat(BabelDOC): 2.0中暂未支持的BabelDOC功能",
      "body": "### before ...\n\n- [x] This issue is not about question or bug.\n\n### Add a description\n\n1. pool_max_workers\n2. 术语表\n3. 禁用自动术语提取",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-05-30T03:54:43Z",
      "updated_at": "2025-06-05T09:00:14Z",
      "closed_at": "2025-06-05T09:00:14Z",
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/967/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/967",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/967",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.194463",
      "comments": []
    },
    {
      "issue_number": 973,
      "title": "是否能支持代理服务器功能",
      "body": "### 在什么场景下，需要你请求的功能？\n\n在本地使用google  openai 等服务的时候 需要使用本地代理服务器的支持，目前没找到本地代理服务器的配置选项，期待能在以后加入这个配置。\n\n### 解决方案\n\n增加一个代理服务器的配置 可以手动开启或者关闭， 支持socks5 http https 等最常用的proxy即可\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "xiaojiaqi",
      "author_type": "User",
      "created_at": "2025-06-01T04:13:57Z",
      "updated_at": "2025-06-04T11:46:14Z",
      "closed_at": "2025-06-04T11:46:14Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/973/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/973",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/973",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.194486",
      "comments": [
        {
          "author": "hellofinch",
          "body": "网络问题确实不在我们的考虑范围内，openai service作为大部分LLM翻译的基类，不太能给一个代理的选项。",
          "created_at": "2025-06-03T01:12:41Z"
        },
        {
          "author": "YadominJinta",
          "body": "用环境变量 `https_proxy`, `http_proxy` 就行",
          "created_at": "2025-06-04T08:53:27Z"
        }
      ]
    },
    {
      "issue_number": 586,
      "title": "pdf2zh 2.0",
      "body": "\n> [!NOTE]\n>\n> 2.0 Moved to a new repository under the organization: [PDFMathTranslate/PDFMathTranslate-next](https://github.com/PDFMathTranslate/PDFMathTranslate-next)\n\n### Background\n\nPDF2ZH consists of the following parts:\n\n1. Core: I am completely rewriting it, related code is at https://github.com/funstory-ai/BabelDOC\n2. Configuration System\n3. GUI\n4. Translator Support\n\nThe current PDF2ZH code is difficult to maintain. I hope to completely rewrite all parts of PDF2ZH except for the translator to improve both user and developer experience.\n\n\n### BabelDOC Preview\n\n![Image](https://github.com/user-attachments/assets/62a70cb5-6876-47cc-ae6a-2905c2ce5f8c)\n\n### Project Positioning\n\nBabelDOC serves as a PDF translation library providing core translation functionality.\n\nPDF2ZH handles self-deployment related tasks, such as GUI, better configuration system, better initial guidance, multi-language localization, etc.\n\n### Roadmap\n\n- [x] Experimental support for BabelDOC in CLI and GUI\n- [x] Stop adding new features to the legacy backend\n- [x] Refactor the configuration system\n- [x] Improve GUI\n- [x] Switch documentation to mkdocs\n- [ ] Provide a more user-friendly http api\n- [ ] Integration Testing\n- [x] Completely remove the legacy backend after BabelDOC is perfected\n- [ ] ...\n\n### Specific Details\n\nRequires further research & discussion.",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-09T13:45:58Z",
      "updated_at": "2025-06-04T11:08:43Z",
      "closed_at": "2025-06-04T11:08:11Z",
      "labels": [
        "enhancement",
        "High priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 44,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/586/reactions",
        "total_count": 12,
        "+1": 12,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/586",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/586",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.398593",
      "comments": []
    },
    {
      "issue_number": 319,
      "title": "feat (doc) : environment variable list",
      "body": "现在的有了不属于service的环境变量的设置，文档中应该有一个部分来对不同的环境变量进行说明。同时，如果后续有新的环境变量的添加也可以在文档中更好的管理。\r\n",
      "state": "open",
      "author": "hellofinch",
      "author_type": "User",
      "created_at": "2024-12-23T01:10:18Z",
      "updated_at": "2025-06-04T11:08:29Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/319/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.1.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/319",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/319",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.398615",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "2.0 中应该可以自动生成 cli args + config file example + env var list，后面我实现一下。",
          "created_at": "2025-04-22T20:12:04Z"
        }
      ]
    },
    {
      "issue_number": 905,
      "title": "feat(2.0 gui config): 点击翻译按钮后更新内存中缓存的基础config",
      "body": "### 在什么场景下，需要你请求的功能？\n\n_No response_\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-05-08T04:40:48Z",
      "updated_at": "2025-06-04T11:08:27Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "Normal priority"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/905/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v2.1.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/905",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/905",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.571185",
      "comments": []
    },
    {
      "issue_number": 975,
      "title": "报错：ValueError: bad 'value'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Windows 11\n- Python: 3.12\n- pdf2zh: v1.9.9\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n在翻译完成保存时出现如下报错\n```\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"C:\\Users\\Do_no\\.local\\bin\\pdf2zh.exe\\__main__.py\", line 10, in <module>\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 328, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 245, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pymupdf\\utils.py\", line 5848, in subset_fonts\n    set_old_widths(font_xref, width_table, def_width)\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pymupdf\\utils.py\", line 5617, in set_old_widths\n    doc.xref_set_key(df_xref, \"DW\", dwidths)\n  File \"C:\\Users\\Do_no\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\pymupdf\\__init__.py\", line 6066, in xref_set_key\n    raise ValueError(\"bad 'value'\")\nValueError: bad 'value'\n```\n\n\n### 如何复现\n\n1. 执行 `pdf2zh '..\\Downloads\\doc.pdf' --config .\\config.json -s deepseek`\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\nconfig如下\n```json\n{\n    \"USE_MODELSCOPE\": \"0\",\n    \"translators\": [\n        {\n            \"name\": \"deepseek\",\n            \"envs\": {\n                \"DEEPSEEK_API_KEY\": \"***\",\n                \"DEEPSEEK_MODEL\": \"deepseek-chat\"\n            }\n        },\n        {\n            \"name\": \"deepl\",\n            \"envs\": {\n                \"DEEPL_AUTH_KEY\": null\n            }\n        }\n    ],\n    \"ENABLED_SERVICES\": [\n        \"deepseek\"\n    ],\n    \"HIDDEN_GRADIO_DETAILS\": true,\n    \"PDF2ZH_LANG_FROM\": \"English\",\n    \"PDF2ZH_LANG_TO\": \"Simplified Chinese\",\n    \"NOTO_FONT_PATH\": \"C:\\\\WINDOWS\\\\Fonts\\\\NotoSerifSC-VF.ttf\"\n}",
      "state": "open",
      "author": "ChickenHu",
      "author_type": "User",
      "created_at": "2025-06-04T09:44:46Z",
      "updated_at": "2025-06-04T09:47:11Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/975/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/975",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/975",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.571203",
      "comments": [
        {
          "author": "hellofinch",
          "body": "尝试2.0，2.0的地址在置顶的issue里。",
          "created_at": "2025-06-04T09:47:09Z"
        }
      ]
    },
    {
      "issue_number": 651,
      "title": "Feature: Add support for color",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:1.90\n```\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/04ae1f68-2c59-402d-a021-2a54161f48a8)\n\n![Image](https://github.com/user-attachments/assets/8d1c6196-90cf-482a-988e-2475b670bc6e)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hbtx99099",
      "author_type": "User",
      "created_at": "2025-02-20T01:31:24Z",
      "updated_at": "2025-06-04T08:12:46Z",
      "closed_at": "2025-02-20T04:33:31Z",
      "labels": [
        "enhancement",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/651/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/651",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/651",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.758631",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/milestone/2 请关注pdf2zh 2.0。新后端能处理此情况。",
          "created_at": "2025-02-20T02:00:32Z"
        },
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/71",
          "created_at": "2025-02-20T04:33:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 1.9.3 has been released. You can take a look.\n\n",
          "created_at": "2025-03-04T15:56:39Z"
        },
        {
          "author": "liuxiao-0371",
          "body": "Version 1.9.9 haven't resolve this problem. ",
          "created_at": "2025-06-04T08:12:45Z"
        }
      ]
    },
    {
      "issue_number": 972,
      "title": "使用qwen3报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用OpenAICompatible的qwen3-235b-a22b模型报错，错误为：openai.BadRequestError: Error code: 400 - {'error': {'code': 'invalid_parameter_error', 'param': None, 'message': 'parameter.enable_thinking must be set to false for non-streaming calls', 'type': 'invalid_request_error'}}。大概意思是：\n'message': 'parameter.enable_thinking must be set to false for non-streaming calls'：这是最关键的信息。它说明：\n你的程序在调用 OpenAI API 时，使用了一个名为 enable_thinking (或类似的，最终映射到这个) 的参数。\n这个 enable_thinking 参数，在进行非流式 (non-streaming) 调用时，必须被设置为 false。\n而你的程序很可能在进行非流式调用时，将 enable_thinking 设置为了 true，或者没有设置它（而该参数的默认值可能在这种情况下被API认为是 true 或不被允许）。\n我记得前几个礼拜是可以的。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hehwcrashboy",
      "author_type": "User",
      "created_at": "2025-05-31T16:17:17Z",
      "updated_at": "2025-06-01T11:49:03Z",
      "closed_at": "2025-06-01T11:49:02Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/972/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/972",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/972",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:13.952590",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "你用的模型提供商不太兼容openai格式，请发功能请求，单独适配对应提供商。",
          "created_at": "2025-06-01T11:49:02Z"
        }
      ]
    },
    {
      "issue_number": 970,
      "title": "Feature Request, Turkish Language",
      "body": "\nHi I see Turkish language is missing, can you add it as well. thank you.",
      "state": "closed",
      "author": "Jaber-Tebyan",
      "author_type": "User",
      "created_at": "2025-05-30T17:00:04Z",
      "updated_at": "2025-05-31T07:56:29Z",
      "closed_at": "2025-05-31T07:56:28Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/970/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/970",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/970",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:14.138365",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please try again with version 2.0 preview.",
          "created_at": "2025-05-31T07:56:28Z"
        }
      ]
    },
    {
      "issue_number": 971,
      "title": "支持在 config.json 中配置默认的翻译器",
      "body": "### 在什么场景下，需要你请求的功能？\n\n用 `pdf2zh -i` 打开 GUI 时的翻译器默认是 Google，每次都要手动切换到 OpenAI，较为繁琐。\n\n### 解决方案\n\n支持在 config.json 中配置默认的翻译器\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "AbyssSkb",
      "author_type": "User",
      "created_at": "2025-05-31T04:52:05Z",
      "updated_at": "2025-05-31T07:55:56Z",
      "closed_at": "2025-05-31T07:55:46Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/971/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/971",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/971",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:14.334454",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "用2.0重试",
          "created_at": "2025-05-31T07:55:55Z"
        }
      ]
    },
    {
      "issue_number": 606,
      "title": "Trouble translating italics",
      "body": "The translation system currently does not support text formatted in italics. Any words enclosed in single asterisks (*word*) or underscores (_word_) are ignored or left untranslated. This issue occurs regardless of the surrounding text.\n\nSteps to Reproduce:\nUpload a PDF containing italicized words (e.g., example or example).\nRun the translation function.\nObserve that the italicized words remain unchanged while the rest of the text is translated correctly.\nExpected Behavior:\nItalicized words should be translated along with the rest of the text.\n\nActual Behavior:\nThe translation system does not process italicized words, leaving them untranslated.\n\nAdditional Notes:\nThis issue is not related to network conditions.\nBold (**word**) and seem to be translated incorrectly as well.\nThe issue persists across multiple PDFs.",
      "state": "open",
      "author": "myronkharkover",
      "author_type": "User",
      "created_at": "2025-02-12T23:24:14Z",
      "updated_at": "2025-05-30T13:35:31Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/606/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/606",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/606",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:14.534528",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#translate-wih-exceptions\ntry this?",
          "created_at": "2025-02-13T00:57:29Z"
        },
        {
          "author": "awwaawwa",
          "body": "This is because it currently attempts to use font name-based rules to match formula characters, which can lead to unintended matches.",
          "created_at": "2025-02-13T02:13:10Z"
        },
        {
          "author": "zhihao138mike",
          "body": "> https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#translate-wih-exceptions try this?\n\n如果可以的话能麻烦再提供一些-f 和-c的例子嘛，比如需要翻译出文件中的斜体字和粗体字",
          "created_at": "2025-05-30T13:35:30Z"
        }
      ]
    },
    {
      "issue_number": 968,
      "title": "翻译带有CIDFontType2字体PDF文档会报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n翻译带有CIDFontType2字体PDF文档会报错\nTraceback (most recent call last):\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 2146, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 1664, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\utils.py\", line 884, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\gui.py\", line 334, in translate_file\n    translate(**param)\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 245, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5843, in subset_fonts\n    width_table, def_width = get_old_widths(font_xref)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\JingX\\Desktop\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5583, in get_old_widths\n    df_xref = int(df[1][1:-1].replace(\"0 R\", \"\"))\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: '<</Type/Font/Subtype/CIDFontType2/BaseFont/CIDFont+F1/CIDSystemInfo<</Ordering 5 /Registry 6 /Supplement 0>>/CIDToGIDMap/Identity/FontDescriptor<</Type/FontDescriptor/Ascent 937/CapHeight 649/Descent\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Monorths",
      "author_type": "User",
      "created_at": "2025-05-30T06:00:57Z",
      "updated_at": "2025-05-30T07:13:06Z",
      "closed_at": "2025-05-30T07:13:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/968/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/968",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/968",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:14.726630",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请完整填写issue模版",
          "created_at": "2025-05-30T07:13:05Z"
        }
      ]
    },
    {
      "issue_number": 969,
      "title": "能自定义翻译的prompt吗",
      "body": "### 在什么场景下，需要你请求的功能？\n\n能不能开放给我们自定义prompt的权限，或者给我们rag的接口，有的专业词汇翻译不正确\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "wanyu12138",
      "author_type": "User",
      "created_at": "2025-05-30T07:07:27Z",
      "updated_at": "2025-05-30T07:12:51Z",
      "closed_at": "2025-05-30T07:12:50Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/969/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/969",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/969",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:14.907369",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "用2.0预览版重试",
          "created_at": "2025-05-30T07:12:50Z"
        }
      ]
    },
    {
      "issue_number": 966,
      "title": "表格翻译的功能不完备，会出现漏翻译和格式错乱的问题",
      "body": "### 在什么场景下，需要你请求的功能？\n\n表格翻译的功能是完备，会出现漏翻译和格式错乱的问题\n\n### 解决方案\n\n希望可以准确翻译表格内容，效果达到百度文档翻译的水平。\n\n### 其他内容\n\n希望可以准确翻译表格内容，效果达到百度文档翻译的水平。",
      "state": "open",
      "author": "liuxiao-0371",
      "author_type": "User",
      "created_at": "2025-05-29T11:11:10Z",
      "updated_at": "2025-05-30T03:53:59Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Planned",
        "BabelDOC Related"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/966/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/966",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/966",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.081512",
      "comments": [
        {
          "author": "EnVeLoPeG",
          "body": "我也遇到一样的问题，表格里的内容识别不出来，总是保留原文。并且使用babeldoc还会出现英翻英的问题，推测可能是英翻中但是继续翻译成英文了。",
          "created_at": "2025-05-29T12:25:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/funstory-ai/BabelDOC/issues/306",
          "created_at": "2025-05-30T03:53:48Z"
        }
      ]
    },
    {
      "issue_number": 964,
      "title": "请求支持有道子曰翻译大模型2.0的api",
      "body": "### 在什么场景下，需要你请求的功能？\n\n希望服务中能支持接入有道子曰翻译大模型2.0的api\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "xy-001",
      "author_type": "User",
      "created_at": "2025-05-28T13:30:14Z",
      "updated_at": "2025-05-29T08:14:12Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/964/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/964",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/964",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.235704",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "2.0合入后，蹲好心人",
          "created_at": "2025-05-28T14:42:58Z"
        },
        {
          "author": "hellofinch",
          "body": "给个对应文档地址吧。",
          "created_at": "2025-05-29T00:42:41Z"
        },
        {
          "author": "goongyan",
          "body": "帮顶\n",
          "created_at": "2025-05-29T08:14:11Z"
        }
      ]
    },
    {
      "issue_number": 958,
      "title": "翻译后出现大片空白，公式发生诡异翻转",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- **OS** : windows11 x86 \n- **python**:  3.11.9\n- **pdf2zh** : 1.9.9\n- **pip_list** :\n\nPackage                        Version\n------------------------------ -----------\naiofiles                       23.2.1\nannotated-types                0.7.0\nanyio                          4.6.2.post1\nazure-ai-translation-text      1.0.1\nazure-core                     1.32.0\nBabelDOC                       0.2.30\nbitarray                       3.3.0\nbitstring                      4.3.1\ncertifi                        2024.8.30\ncffi                           1.17.1\ncharset-normalizer             3.4.0\nclick                          8.1.7\nclick-default-group            1.2.4\ncolorama                       0.4.6\ncoloredlogs                    15.0.1\nConfigArgParse                 1.7\ncontourpy                      1.3.2\ncryptography                   44.0.0\ncycler                         0.12.1\ndecorator                      5.1.1\ndeepl                          1.18.0\nDeprecated                     1.2.18\ndistro                         1.9.0\ndocformatter                   1.7.5\net_xmlfile                     2.0.0\nfastapi                        0.115.5\nffmpy                          0.4.0\nfilelock                       3.16.1\nflatbuffers                    24.3.25\nfonttools                      4.56.0\nfreetype-py                    2.5.1\nfsspec                         2024.10.0\ngradio                         5.7.0\ngradio_client                  1.5.0\ngradio_pdf                     0.0.21\nh11                            0.14.0\nhttpcore                       1.0.7\nhttpx                          0.27.2\nhuggingface-hub                0.30.1\nhumanfriendly                  10.0\nidna                           3.10\nimageio                        2.37.0\nisodate                        0.7.2\nJinja2                         3.1.4\njiter                          0.8.0\nkiwisolver                     1.4.8\nlazy_loader                    0.4\nLevenshtein                    0.27.1\nlxml                           5.3.1\nmarkdown-it-py                 3.0.0\nMarkupSafe                     2.1.5\nmatplotlib                     3.10.1\nmdurl                          0.1.2\nmpmath                         1.3.0\nmsgpack                        1.1.0\nnetworkx                       3.4.2\nnumpy                          2.2.4\nollama                         0.4.1\nonnx                           1.17.0\nonnxruntime                    1.20.1\nopenai                         1.70.0\nopencv-python                  4.11.0.86\nopencv-python-headless         4.10.0.84\nopenpyxl                       3.1.5\norjson                         3.10.16\npackaging                      24.2\npandas                         2.2.3\npdf2zh                         1.9.9\npdfminer.six                   20250416\npeewee                         3.17.9\npikepdf                        9.5.2\npillow                         11.0.0\npip                            25.0.1\nprotobuf                       5.29.0\npsutil                         7.0.0\npyclipper                      1.3.0.post6\npycosat                        0.6.6\npycparser                      2.22\npydantic                       2.11.1\npydantic_core                  2.33.0\npydub                          0.25.1\npygame                         2.6.1\nPygments                       2.18.0\nPyMuPDF                        1.25.2\npyparsing                      3.2.3\npyreadline3                    3.5.4\nPySocks                        1.7.1\npyte                           0.8.2\npython-dateutil                2.9.0.post0\npython-Levenshtein             0.27.1\npython-multipart               0.0.12\npytz                           2024.2\nPyYAML                         6.0.2\nRapidFuzz                      3.12.2\nrapidocr-onnxruntime           1.4.4\nregex                          2024.11.6\nrequests                       2.32.3\nrich                           13.9.4\nruff                           0.8.0\nsafehttpx                      0.1.1\nscikit-image                   0.25.2\nscipy                          1.15.2\nsemantic-version               2.10.0\nshapely                        2.0.7\nshellingham                    1.5.4\nsix                            1.16.0\nsniffio                        1.3.1\nsocksio                        1.0.0\nstarlette                      0.41.3\nsympy                          1.13.3\ntenacity                       9.0.0\ntencentcloud-sdk-python        3.0.1285\ntencentcloud-sdk-python-common 3.0.1353\ntencentcloud-sdk-python-tmt    3.0.1353\ntifffile                       2025.3.30\ntiktoken                       0.9.0\ntoml                           0.10.2\ntomlkit                        0.12.0\ntoposort                       1.10\ntqdm                           4.67.1\ntyper                          0.13.1\ntyping_extensions              4.12.2\ntyping-inspection              0.4.0\ntzdata                         2024.2\nuntokenize                     0.1.1\nurllib3                        2.2.3\nuvicorn                        0.32.1\nwcwidth                        0.2.13\nwebsockets                     12.0\nwin_unicode_console            0.5\nwrapt                          1.17.2\nxinference-client              1.4.0\nxsdata                         24.12\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n+ 一开始我是使用deepseek代理翻译，出现大段空白，且公式诡异翻转\n后面改用默认的谷歌的翻译，亦是如此，但是诡异的是两次尝试都没有终端信息报错\n+ 目前已更新到最新版，仍然出错\n\n+ 之前看到其他的因为PDF浏览器打开不当导致的bug，所以我自己尝试使用多种PDF浏览器打开之，但是用了Edge\\SumatraPDF\\TEXworks打开都无济于事\n+ 后面请了朋友用Mac电脑上的Chorme浏览器打开依旧不行\n\n### 如何复现\n\n执行 \n```pwsh\npdf2zh .\\icml01-ffq.pdf\n```\n或者\n```pwsh\npdf2zh .\\icml01-ffq.pdf -s deepseek\n```\n\n\n### 预期行为\n\n希望看到正常的文字翻译，公式错乱倒是小事\n\n### 相关 Logs\n\n```Text\n在PowerShell 7.5.1中运行得到：\n\nPRTS G:\\DownLoad_From_Edge\\PDFs_From_Internet 20:15 ◆ <◆> System  10s\n❖ pdf2zh .\\icml01-ffq.pdf -s deepseek\nnot in git repo\nNamespace(files=['.\\\\icml01-ffq.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='deepseek', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=None, dir=False, config=None, babeldoc=False, skip_subset_fonts=False, ignore_cache=False, mcp=False, sse=False)\n[05/26/25 20:16:10] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/区涛/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 8/8 [00:08<00:00,  1.04s/it]\nPRTS G:\\DownLoad_From_Edge\\PDFs_From_Internet 20:16 ◆ <◆> System  24s\n❖ pdf2zh .\\icml01-ffq.pdf\nnot in git repo\nNamespace(files=['.\\\\icml01-ffq.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='google', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=None, dir=False, config=None, babeldoc=False, skip_subset_fonts=False, ignore_cache=False, mcp=False, sse=False)\n[05/26/25 20:17:10] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/区涛/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 8/8 [00:49<00:00,  6.17s/it]\n```\n\n### 原始PDF文件\n\n[icml01-ffq_raw.pdf](https://github.com/user-attachments/files/20441376/icml01-ffq_raw.pdf)\n\n这里附上源下载网址：[https://www.researchgate.net/publication/2933305_Friend-or-Foe_Q-learning_in_General-Sum_Games](url)\n\n### 还有别的吗？\n\n\n\n[icml01-ffq-mono.pdf](https://github.com/user-attachments/files/20441384/icml01-ffq-mono.pdf)\n\n[icml01-ffq-dual.pdf](https://github.com/user-attachments/files/20441385/icml01-ffq-dual.pdf)",
      "state": "open",
      "author": "ouhongtao2024",
      "author_type": "User",
      "created_at": "2025-05-26T12:57:11Z",
      "updated_at": "2025-05-28T16:12:47Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/958/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/958",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/958",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.401000",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试",
          "created_at": "2025-05-27T05:57:01Z"
        },
        {
          "author": "ouhongtao2024",
          "body": "很抱歉，下载尝试后发现问题仍然没有彻底解决，这里面是我运行后得到的文件，虽然是没有空白了，但是文章内容全部翻转了\n```\nuv run babeldoc --files .\\icml01-ffq_raw.pdf --openai --openai-model \"deepseek\" --openai-base-url \"https://chat.deepseek.com\" --openai-api-key \"my-key\"\n```\n# 注意 \n+ 这里我没有启用中文翻译，只是简单的尝试了一下是否会出现bug\n+ 问题文件[icml01-ffq_raw.zh.dual.pdf](https://g",
          "created_at": "2025-05-27T07:22:51Z"
        },
        {
          "author": "ouhongtao2024",
          "body": "顺便说一句，babeldoc中的README文件似乎过时了，因为实质上 `--bing`参数已经不被支持了，但是文档中仍然将其作为示例写出，这是不妥的",
          "created_at": "2025-05-27T07:26:05Z"
        },
        {
          "author": "ouhongtao2024",
          "body": "后面我启用了中文翻译选项\n`uv run babeldoc --files .\\icml01-ffq_raw.pdf --lang-in \"en\" --lang-out \"zh\"  --openai --openai-model \"deepseek\" --openai-base-url \"https://chat.deepseek.com\" --openai-api-key \"my-key\"`\n仍然出现翻转的英文？这就很奇怪了\n+ 同时附上终端信息文件如下：\n\n[PowerShell.txt](https://github.com/user-attachments/files/20452326",
          "created_at": "2025-05-27T07:45:19Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 顺便说一句，babeldoc中的README文件似乎过时了，因为实质上 `--bing`参数已经不被支持了，但是文档中仍然将其作为示例写出，这是不妥的\n\n欢迎好心人发PR帮忙改。\n\n由于BabelDOC的cli主要是给debug用的，所以README内容并没有活跃维护。实际上，BabelDOC整体的文档都存在严重过时问题，并且没有人力维护。",
          "created_at": "2025-05-27T10:27:24Z"
        }
      ]
    },
    {
      "issue_number": 962,
      "title": "使用--babeldoc参数同时使用--prompt ./prompt.txt，pdf2zh.py 出现错误",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用--babeldoc参数同时使用--prompt ./prompt.txt，pdf2zh.py 出现错误\n原因在约pdf2zh.py:300L代码中提取了prompt，但是在进入到yadt_main函数中，又会提取prompt，第二次提取的prompt存在错误。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Strforexc",
      "author_type": "User",
      "created_at": "2025-05-28T08:25:43Z",
      "updated_at": "2025-05-28T09:22:44Z",
      "closed_at": "2025-05-28T09:22:44Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/962/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/962",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/962",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.565755",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/932\n重复issue，参考一下。",
          "created_at": "2025-05-28T08:33:14Z"
        }
      ]
    },
    {
      "issue_number": 960,
      "title": "翻译由于网络等原因中断，刷新页面后无法重新翻译",
      "body": "#### 问题描述\n<html>\n    当我翻译一篇文献时，有时候长时间翻译不完时，比如我当前选择了Google做翻译引擎，但是由于中途网络不佳，卡住了。当我刷新页面后，重新选择其他引擎，比如bing或本地Ollama重新翻译时，页面并未正常显示翻译进度，而是在右下角显示一行小字 “queue x/y | 秒数”。如图所示，秒数一直增加，而翻译迟迟不进行。刷新后重试，仍是同样的问题。</html>\n\n![Image](https://github.com/user-attachments/assets/befea531-5238-4e1a-a21a-71adf4673641)\n",
      "state": "closed",
      "author": "zincnan",
      "author_type": "User",
      "created_at": "2025-05-28T02:30:31Z",
      "updated_at": "2025-05-28T07:29:47Z",
      "closed_at": "2025-05-28T07:29:43Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/960/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/960",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/960",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.722568",
      "comments": [
        {
          "author": "hellofinch",
          "body": "请正确使用issue模板。",
          "created_at": "2025-05-28T02:47:39Z"
        },
        {
          "author": "ouhongtao2024",
          "body": "这位朋友，提出issue所提供的信息要全面，具体要求可自己学一下模板，或者看一下别人是怎么提出issue，低质量的issue会白白花费维护者的精力和时间",
          "created_at": "2025-05-28T05:15:44Z"
        }
      ]
    },
    {
      "issue_number": 957,
      "title": "Translation error: Babeldoc translation error: The document contains no paragraphs",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 50 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\nwin11\nPython 3.11\nexe versions\n```\n\n### How to install pdf2zh\n\nexe\n\n### Describe the bug\n\n> 2025-5-17\n> \n> https://github.com/awwaawwa/PDFMathTranslate/actions/runs/15073554383 https://github.com/awwaawwa/PDFMathTranslate/pkgs/container/pdfmathtranslate\n> \n> Synchronized BabelDOC 0.3.50, now supports Python 3.13. The exe and docker versions are also built based on Python 3.13. However, I have only tested the source code + Python 3.13 locally on my computer and it runs normally. I would appreciate it if the community could help test the exe and docker versions~\n> \n> 显示没有找到段落，试了好几个pdf都一样，包括以前正常可用的2.0版本（5月9号左右的版本）成功翻译过的文件\n> [traceback.txt](https://github.com/user-attachments/files/20263922/traceback.txt) \n\n _Originally posted by @EaglePPP in [#586](https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2888244424)_\n\nI have found the bug, if \"**_Maximum pages per part (for auto-split translation, 0 means no limit)_**\" set anything than 0, it gives this error.\n\n### To Reproduce\n\n1. execute 'pdf2zh.exe'\n2. select '\"**_Maximum pages per part (for auto-split translation, 0 means no limit)_**\" number bigger than 0'\n3. see errors\n\n\n### Expected behavior\n\nnormal, faster with \"**_Maximum pages per part (for auto-split translation, 0 means no limit)_**\"\n\n### Relevant log output\n\n```Text\n[05/17/25 11:06:58] INFO     INFO:babeldoc.document_il.backend.pdf_creater:INFO:babeldoc.document_il.backend.pdf_c pdf_creater.py:748\n                             reater:PDF save with clean=False completed successfully\n                    INFO     INFO:pdf2zh.gui:Progress: 0.09901009701049297, Save PDF (1/10, 2/2)                           gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.09901009701049297, Save PDF (1/10, 2/2)                           gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.09901009701049297, Save PDF (1/10, 2/2)                           gui.py:525\n                    ERROR    ERROR:babeldoc.high_level:ERROR:babeldoc.high_level:Error in part 1: The document      high_level.py:556\n                             contains no paragraphs.\n                    INFO     INFO:babeldoc.progress_monitor:INFO:babeldoc.progress_monitor:progress_monitor   progress_monitor.py:247\n                             handle translate_error: The document contains no paragraphs.\n                    INFO     INFO:babeldoc.high_level:INFO:babeldoc.high_level:Waiting for translation to finish... high_level.py:323\n                    INFO     INFO:babeldoc.high_level:INFO:babeldoc.high_level:Peak memory usage: 1970.32 MB        high_level.py:369\n                    ERROR    ERROR:babeldoc.high_level:ERROR:babeldoc.high_level:translate error: [WinError 32]     high_level.py:596\n                             另一个程序正在使用此文件，进程无法访问。:\n                             'C:\\\\Users\\\\eagel\\\\AppData\\\\Local\\\\Temp\\\\tmppvbfekzi\\\\part_1\\\\input.part1.pdf'\n                    INFO     INFO:babeldoc.progress_monitor:INFO:babeldoc.progress_monitor:progress_monitor   progress_monitor.py:247\n                             handle translate_error: [WinError 32] 另一个程序正在使用此文件，进程无法访问。:\n                             'C:\\\\Users\\\\eagel\\\\AppData\\\\Local\\\\Temp\\\\tmppvbfekzi\\\\part_1\\\\input.part1.pdf'\n                    ERROR    ERROR:babeldoc.translation_config:ERROR:babeldoc.translation_config:Error      translation_config.py:257\n                             cleaning up temporary files\n                             Traceback (most recent call last):\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\high_level.py\",\n                             line 549, in do_translate\n                                 result = _do_translate_single(\n                                     part_monitor,\n                                     part_config,\n                                 )\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\high_level.py\",\n                             line 730, in _do_translate_single\n                                 ParagraphFinder(translation_config).process(docs)\n                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\document_il\\midend\\\n                             paragraph_finder.py\", line 142, in process\n                                 raise ExtractTextError(\"The document contains no paragraphs.\")\n                             babeldoc.document_il.babeldoc_exception.BabelDOCException.ExtractTextError:\n                             The document contains no paragraphs.\n\n                             During handling of the above exception, another exception occurred:\n\n                             Traceback (most recent call last):\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\high_level.py\",\n                             line 561, in do_translate\n                                 translation_config.cleanup_part_working_dir(i)\n                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\translation_config.\n                             py\", line 245, in cleanup_part_working_dir\n                                 shutil.rmtree(part_dir)\n                                 ~~~~~~~~~~~~~^^^^^^^^^^\n                               File \"shutil.py\", line 790, in rmtree\n                               File \"shutil.py\", line 629, in _rmtree_unsafe\n                               File \"shutil.py\", line 625, in _rmtree_unsafe\n                             PermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。:\n                             'C:\\\\Users\\\\eagel\\\\AppData\\\\Local\\\\Temp\\\\tmppvbfekzi\\\\part_1\\\\input.part1.pdf'\n\n                             During handling of the above exception, another exception occurred:\n\n                             Traceback (most recent call last):\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\translation_config.\n                             py\", line 252, in cleanup_temp_files\n                                 self.cleanup_part_working_dir(part_index)\n                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^\n                               File\n                             \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\babeldoc\\translation_config.\n                             py\", line 245, in cleanup_part_working_dir\n                                 shutil.rmtree(part_dir)\n                                 ~~~~~~~~~~~~~^^^^^^^^^^\n                               File \"shutil.py\", line 790, in rmtree\n                               File \"shutil.py\", line 629, in _rmtree_unsafe\n                               File \"shutil.py\", line 625, in _rmtree_unsafe\n                             PermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。:\n                             'C:\\\\Users\\\\eagel\\\\AppData\\\\Local\\\\Temp\\\\tmppvbfekzi\\\\part_1\\\\input.part1.pdf'\n                    INFO     INFO:pdf2zh.high_level:Listener stopped.                                               high_level.py:281\n                    INFO     INFO:pdf2zh.gui:Progress: 0.11397743021183925, Parse PDF and Create Intermediate              gui.py:525\n                             Representation (2/10, 0/0)\n                    INFO     INFO:pdf2zh.gui:Progress: 0.11397743021183925, Parse PDF and Create Intermediate              gui.py:525\n                             Representation (2/10, 0/0)\n                    INFO     INFO:pdf2zh.gui:Progress: 0.11397743021183925, Parse PDF and Create Intermediate              gui.py:525\n                             Representation (2/10, 0/0)\n                    INFO     INFO:pdf2zh.gui:Progress: 0.12786576915462283, Parse Page Layout (2/10, 0/0)                  gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.12786576915462283, Parse Page Layout (2/10, 0/0)                  gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.12786576915462283, Parse Page Layout (2/10, 0/0)                  gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.13406256186893684, Parse Paragraphs (2/10, 0/0)                   gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.13406256186893684, Parse Paragraphs (2/10, 0/0)                   gui.py:525\n                    INFO     INFO:pdf2zh.gui:Progress: 0.13406256186893684, Parse Paragraphs (2/10, 0/0)                   gui.py:525\n[05/17/25 11:06:59] ERROR    ERROR:pdf2zh.high_level:Received error from subprocess: Babeldoc translation error:    high_level.py:250\n                             The document contains no paragraphs. - Original error: The document contains no\n                             paragraphs. - Original error: The document contains no paragraphs.\n                    ERROR    ERROR:pdf2zh.high_level:Translation error: Babeldoc translation error: The document    high_level.py:504\n                             contains no paragraphs. - Original error: The document contains no paragraphs. -\n                             Original error: The document contains no paragraphs.\n                    ERROR    ERROR:pdf2zh.high_level:Original babeldoc error: The document contains no paragraphs.  high_level.py:506\n                    ERROR    ERROR:pdf2zh.gui:Error in _run_translation_task: 'Translation error: Babeldoc translation     gui.py:554\n                             error: The document contains no paragraphs. - Original error: The document contains no\n                             paragraphs. - Original error: The document contains no paragraphs.: The document contains no\n                             paragraphs.'\n                             Traceback (most recent call last):\n                               File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\pdf2zh\\gui.py\", line 541, in\n                             _run_translation_task\n                                 raise gr.Error(f\"Translation error: {error_str}\")\n                             gradio.exceptions.Error: 'Translation error: Babeldoc translation error: The document\n                             contains no paragraphs. - Original error: The document contains no paragraphs. - Original\n                             error: The document contains no paragraphs.: The document contains no paragraphs.'\nTraceback (most recent call last):\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\pdf2zh\\gui.py\", line 541, in _run_translation_task\n    raise gr.Error(f\"Translation error: {error_str}\")\ngradio.exceptions.Error: 'Translation error: Babeldoc translation error: The document contains no paragraphs. - Original error: The document contains no paragraphs. - Original error: The document contains no paragraphs.: The document contains no paragraphs.'\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<11 lines>...\n    )\n    ^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\gradio\\blocks.py\", line 2147, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<8 lines>...\n    )\n    ^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\gradio\\blocks.py\", line 1663, in call_function\n    prediction = await fn(*processed_input)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\gradio\\utils.py\", line 856, in async_wrapper\n    response = await f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\pdf2zh\\gui.py\", line 719, in translate_file\n    mono_path, dual_path = await task\n                           ^^^^^^^^^^\n  File \"E:\\GreenApps\\win64-exe-with-assets\\site-packages\\pdf2zh\\gui.py\", line 555, in _run_translation_task\n    raise gr.Error(f\"Translation failed: {e}\") from e\ngradio.exceptions.Error: \"Translation failed: 'Translation error: Babeldoc translation error: The document contains no paragraphs. - Original error: The document contains no paragraphs. - Original error: The document contains no paragraphs.: The document contains no paragraphs.'\"\n```\n\n### Origin PDF file\n\nany\n\n[Homing in wrong.pdf](https://github.com/user-attachments/files/20440423/Homing.in.wrong.pdf)\n\n### Anything else?\n\nleave it as 0 then could output normally",
      "state": "closed",
      "author": "EaglePPP",
      "author_type": "User",
      "created_at": "2025-05-26T11:37:41Z",
      "updated_at": "2025-05-26T12:45:36Z",
      "closed_at": "2025-05-26T12:25:10Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/957/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/957",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/957",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:15.922456",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "使用最新版BabelDOC测试，可以正常翻译。\n\nmax-pages-per-part = 250\nmax-pages-per-part = 2 也正常\n\n既然 max-pages-per-part = 0 能正常翻译，那就将这个参数修改成0用吧。\n",
          "created_at": "2025-05-26T12:30:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2909624958\n\nmax-pages-per-part did not consider the case where the setting is too small, I have added mandatory validation.",
          "created_at": "2025-05-26T12:45:35Z"
        }
      ]
    },
    {
      "issue_number": 956,
      "title": "关于翻译加速的建议",
      "body": "### 在什么场景下，需要你请求的功能？\n\n_No response_\n\n### 解决方案\n\n我看到 1.x 版本的翻译过程会阻塞文档遍历, 导致翻译请求不能充分并发, 成为主要性能瓶颈.\n因此我采用两轮遍历的思路以加速翻译:\n- 第一轮遍历使用一个假的翻译器, 它直接返回原文, 因此这轮遍历很快就完成, 与此同时它为所有翻译任务发出异步请求\n- 等待所有请求返回, 这一过程可以充分并发\n- 第二轮遍历翻译器直接从缓存中获取译文, 因此也可以很快完成\n\n用这种方法可以明显提高翻译速度\n另外, 我认为在 python 中用异步实现 IO 并发比多线程要好得多. 我不清楚 2.0 的翻译流程是如何实现的, 思路仅供参考\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "yuanshanhua",
      "author_type": "User",
      "created_at": "2025-05-26T08:35:00Z",
      "updated_at": "2025-05-26T08:53:51Z",
      "closed_at": "2025-05-26T08:52:24Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/956/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/956",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/956",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.162072",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "建议先研究下BabelDOC的流程。目前2.0单实例能打100-200左右rps。",
          "created_at": "2025-05-26T08:53:51Z"
        }
      ]
    },
    {
      "issue_number": 955,
      "title": "docker-compose配置有问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\ndocker-compose.yaml中关于volume的映射配置有些问题，docker-compose的卷映射只能映射目录，不能映射文件，将config.json直接映射到容器内，会导致既无法在容器在创建config.json文件，也无法在容器外的映射卷目录下创建config.json文件（只能创建config.json目录）\n\n### 如何复现\n\ndocker compose up\n\n### 预期行为\n\nconfig.json可在容器外部编辑并正常使用\n\n### 相关 Logs\n\n```Text\n见“原始PDF文件”截图\n```\n\n### 原始PDF文件\n\n![Image](https://github.com/user-attachments/assets/353a3cac-9e46-45ba-9a0f-f18f96db3a41)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "lawson147",
      "author_type": "User",
      "created_at": "2025-05-26T03:09:41Z",
      "updated_at": "2025-05-26T04:15:07Z",
      "closed_at": "2025-05-26T04:14:42Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/955/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/955",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/955",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.340420",
      "comments": [
        {
          "author": "lawson147",
          "body": "提错项目了不好意思，项目名称有点相似",
          "created_at": "2025-05-26T04:15:06Z"
        }
      ]
    },
    {
      "issue_number": 954,
      "title": "翻译后的文件中关键字词自动加标注",
      "body": "### Is your feature request related to a problem?\n\npdfzh.py 中添加：\n\n text_zh=[\"可是\",\"然而\",\"但\",\"却\",\"不过\",\"尽管\",\"虽然\",\"即使\",\"而\",\"相反\",\"反之\",\"相比之下\",\"尽管如此\",\"贡献\",\"创新性\",\"挑战\",\"不足\",\"动机\",\"限制\",\"缺陷\"]\n\n并修改：\n        doc_zh = pymupdf.open('output-zh.pdf')\n        for page in doc_zh:\n            for text in text_zh:\n                rects = page.search_for(text)\n                page.add_highlight_annot(rects)\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "open",
      "author": "whubao",
      "author_type": "User",
      "created_at": "2025-05-26T02:34:59Z",
      "updated_at": "2025-05-26T03:12:39Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Planned"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/954/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/954",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/954",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.507088",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "pdf2zh这边能做，BabelDOC暂时没搞这个功能的想法。蹲好心人",
          "created_at": "2025-05-26T03:01:14Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/funstory-ai/BabelDOC/blob/604e25ead71da561e18873394906f4fa737ee9db/babeldoc/high_level.py#L907\n\n实现此功能时，请参考上述代码，使用BabelDOC封装好的子进程+带timeout的PDF保存函数。根据经验，有部分PDF，会让pymupdf直接卡死................",
          "created_at": "2025-05-26T03:12:39Z"
        }
      ]
    },
    {
      "issue_number": 953,
      "title": "请问翻译功能有过程拆分吗，比如拆分成布局识别 + 内容翻译，如果觉得翻译的结果不太行，可以拿到布局识别的内容做其它处理",
      "body": "### 在什么场景下，需要你请求的功能？\n\n请问大佬们要怎样只拿到识别的内容结果\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "MrSu1990",
      "author_type": "User",
      "created_at": "2025-05-26T02:17:46Z",
      "updated_at": "2025-05-26T03:00:20Z",
      "closed_at": "2025-05-26T02:58:33Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/953/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/953",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/953",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.647842",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "有拆分，中间表示体积巨大，不准备支持此功能。",
          "created_at": "2025-05-26T02:58:33Z"
        },
        {
          "author": "awwaawwa",
          "body": "如果你想这么做，可以直接使用BabelDOC裸api，参考： https://github.com/funstory-ai/BabelDOC/blob/604e25ead71da561e18873394906f4fa737ee9db/babeldoc/high_level.py#L636 。\n\n但是请注意，BabelDOC所有api均不保证兼容性。",
          "created_at": "2025-05-26T03:00:19Z"
        }
      ]
    },
    {
      "issue_number": 951,
      "title": "bug: qwenmt does not work properly in 2.0",
      "body": "> 试用了下5.20号的预览版，发现qwmt模块没匹配\"zh-CN\": \"Chinese\"，导致无法翻译，提示\n> \n> `\"D:\\Programs\\pdf2zh_beta\\site-packages\\pdf2zh\\translator\\translator_im\n> pl\\qwenmt.py\", line 58, in lang_mapping\n>     return langdict[input_lang]\n>            ~~~~~~~~^^^^^^^^^^^^\n> KeyError: 'zh-CN'`\n> \n> 添加后qwen-mt-plus跑的挺正常，qwen-mt-turbo的话不知道为啥全是提示词\n> \n> `您是一个专业可靠的机器翻译引擎，负责将输入文本翻译成 zh‑CN。在翻译时，请参\n> 考以下信息以提高翻译质量：0. 全文中的第一个标题：1 | 介绍 1. 全文中最相似的标\n> 题：摘要在翻译时，请遵循以下规则：1. 不要翻译样式标签，例如 \"<style\n> id='1'>xxx\"！2. 不要翻译公式占位符，例如 \"{v3}\"。系统会自动用相应的公式替换占\n> 位符。3. 如果不需要翻译（例如专有名词、代码等），则返回原文。4. 只输出翻译结\n> 果，不解释和注释。5. 将文本翻译成 zh‑CN。现在，请仔细阅读以下待翻译文本，并\n> 直接输出翻译结果。` \n\n _Originally posted by @sixpoints in [#586](https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2903528770)_",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-05-24T11:49:17Z",
      "updated_at": "2025-05-24T11:49:27Z",
      "closed_at": null,
      "labels": [
        "bug",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/951/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/951",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/951",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.817485",
      "comments": []
    },
    {
      "issue_number": 950,
      "title": "为什么输出的翻译后的文档里面会有些红色，绿色的框框",
      "body": "### 在什么场景下，需要你请求的功能？\n\n<img width=\"509\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d2c9aa8a-e72d-4718-89c0-adb05034c447\" />\n下面是源文件\n[An Embedding Powered Knowledge_4.pdf](https://github.com/user-attachments/files/20406159/An.Embedding.Powered.Knowledge_4.pdf)\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "MrSu1990",
      "author_type": "User",
      "created_at": "2025-05-23T07:39:05Z",
      "updated_at": "2025-05-23T08:42:44Z",
      "closed_at": "2025-05-23T07:41:02Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/950/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/950",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/950",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.817517",
      "comments": [
        {
          "author": "hellofinch",
          "body": "这个应该是原文中的交叉引用。\n目前还没有处理这个东西的打算，毕竟翻译完，对应的交叉引用的内容和位置都换边。 ",
          "created_at": "2025-05-23T08:42:44Z"
        }
      ]
    },
    {
      "issue_number": 948,
      "title": "代码也被翻译成中文了",
      "body": "### Is your feature request related to a problem?\n\npdf中包含一些example的code，但是被翻译成中文了\n\n<img width=\"1802\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b0b99ed6-15ad-488a-9269-f944f5ceab61\" />\n\n![Image](https://github.com/user-attachments/assets/261e3d6e-7afd-4eb5-8bf4-aece0181fd83)\n\n### Describe the solution you'd like\n\n希望能识别代码，不要翻译\n\n### Additional context\n\n_No response_",
      "state": "open",
      "author": "USTCer-ycw",
      "author_type": "User",
      "created_at": "2025-05-21T07:42:54Z",
      "updated_at": "2025-05-21T07:57:44Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority",
        "Planned",
        "BabelDOC Related"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/948/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/948",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/948",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.992835",
      "comments": []
    },
    {
      "issue_number": 945,
      "title": "DeepLX error",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- **OS**: Windows 11\n- **Python**: 3.12\n- **pdf2zh**: 1.9.9\n```\n\n### How to install pdf2zh\n\nexe\n\n### Describe the bug\n\nI am trying to translate a PDF document from English to Spanish with the DeepLX service, but I get the following error.\n\n![Image](https://github.com/user-attachments/assets/20c5b04c-ee0a-47cf-aea4-4a07ef78dbb8)\n\n### To Reproduce\n\n1. Run pdf2zh.exe\n2. Select the DeepLX service\n3. Enter the access token\n4. Change translate to Spanish\n5. Upload the PDF\n6. Play Translate\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "JsJhonatanJs",
      "author_type": "User",
      "created_at": "2025-05-19T21:57:49Z",
      "updated_at": "2025-05-20T12:50:17Z",
      "closed_at": "2025-05-20T08:56:50Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/945/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/945",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/945",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:16.992857",
      "comments": [
        {
          "author": "hellofinch",
          "body": "Thanks for the response.\nFirst of all, there is a question. Are you sure that you use [DeepLX](https://deeplx.owo.network/integration/python.html), not DeepL? DeepL and DeepLX are different from the API. \nAs far as I know. DeepLX doesn't use `token` in the URL shown in the link above. DeepLX set `to",
          "created_at": "2025-05-20T01:07:32Z"
        },
        {
          "author": "JsJhonatanJs",
          "body": "I don't know what I'm doing wrong, please help me, I've been trying different ways to use it and I can't get it to work.\n\n![Image](https://github.com/user-attachments/assets/c61ec0ac-a336-4a6f-bdde-1ba77166a0db)\n![Image](https://github.com/user-attachments/assets/f5b23925-c02d-431a-b170-b09515a8f324",
          "created_at": "2025-05-20T01:51:09Z"
        },
        {
          "author": "hellofinch",
          "body": "https://github.com/OwO-Network/DeepLX/issues/178 \nAccording to this issue, the DeepLX free endpoint is dead. We may remove the DeeplX service later.",
          "created_at": "2025-05-20T02:21:15Z"
        },
        {
          "author": "JsJhonatanJs",
          "body": "I understand, thank you for your patience and help. Which service do you recommend to translate my documents? Apart from DeepL, because the free API is limited.",
          "created_at": "2025-05-20T03:03:42Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0 will remove deeplx",
          "created_at": "2025-05-20T08:56:50Z"
        }
      ]
    },
    {
      "issue_number": 940,
      "title": "feat: token consumption statistics",
      "body": "### 在什么场景下，需要你请求的功能？\n\n我想在文档翻译结束后获取消耗的总 token 和翻译的总字数，目前可以取到吗？\n\n### 解决方案\n\nBabelDOC 目前是有返回消耗的总 token。\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "zhaotoday",
      "author_type": "User",
      "created_at": "2025-05-18T00:27:11Z",
      "updated_at": "2025-05-20T10:35:11Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/940/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/940",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/940",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:17.238754",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "这个东西其实不是BabelDOC返回的。其实是翻译器自己统计的。\n\n所以这个活确实是该pdf2zh这边做，，并且这边确实也能做，笑。\n\n2.0正式版发出来了后，，欢迎社区PR～\n\n实现方法参考：\n\nhttps://github.com/funstory-ai/BabelDOC/blob/c43b7472c0c605eab44b2d90fbecc5b7f6ebb8c9/babeldoc/document_il/translator/translator.py#L208\nhttps://github.com/funstory-ai/BabelDOC/blob/c43b7472c0c605eab44",
          "created_at": "2025-05-18T04:29:09Z"
        },
        {
          "author": "zhaotoday",
          "body": "期待 2.0 版本。",
          "created_at": "2025-05-18T10:53:30Z"
        },
        {
          "author": "zhaotoday",
          "body": "@awwaawwa 2.0 版本计划什么时候发布？",
          "created_at": "2025-05-20T09:04:10Z"
        },
        {
          "author": "hellofinch",
          "body": "快了，等文档搞好，就会合进来。",
          "created_at": "2025-05-20T10:27:01Z"
        },
        {
          "author": "zhaotoday",
          "body": "> 快了，等文档搞好，就会合进来。\n\n收到。",
          "created_at": "2025-05-20T10:35:10Z"
        }
      ]
    },
    {
      "issue_number": 947,
      "title": "PDF文章中的的表格内容无法翻译",
      "body": "### 在什么场景下，需要你请求的功能？\n\n英文翻译为中文，表格中的英文内容翻译出来还是英文。\n\n分析代码，尝试修改 vcls = [\"figure\", \"table\", \"isolate_formula\", \"formula_caption\"]，放开 “table” 的翻译限制，但是翻译出来的格式会乱掉，表格中所有的内容会作为一个整体翻译，丢失了格式。\n\n### 解决方案\n\n希望可以正常翻译表格内容，并保留正确的格式。\n\n### 其他内容\n\nPDF中表格是非常常见的格式，希望可以尽快支持，谢谢。",
      "state": "closed",
      "author": "liuxiao-0371",
      "author_type": "User",
      "created_at": "2025-05-20T09:29:34Z",
      "updated_at": "2025-05-20T09:39:22Z",
      "closed_at": "2025-05-20T09:32:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/947/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/947",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/947",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:17.486848",
      "comments": [
        {
          "author": "liuxiao-0371",
          "body": "请问有没有计划支持？",
          "created_at": "2025-05-20T09:30:58Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试，2.0预览版有初步的表格支持。更好的表格支持也在计划中了，后面会做",
          "created_at": "2025-05-20T09:33:23Z"
        },
        {
          "author": "liuxiao-0371",
          "body": "> 请用2.0预览版重试，2.0预览版有初步的表格支持。更好的表格支持也在计划中了，后面会做\n\n谢谢，请问2.0预览版的入口在哪里？",
          "created_at": "2025-05-20T09:39:21Z"
        }
      ]
    },
    {
      "issue_number": 119,
      "title": "列表内容排版混乱",
      "body": "## 问题描述\r\n在翻译beamer写的pdf时，出现类目识别问题\r\n![image](https://github.com/user-attachments/assets/d864cf5e-f638-47a7-a537-cbd32caa3531)\r\n\r\n![image](https://github.com/user-attachments/assets/a9bfeb9f-3cb9-4c1f-a5db-17f0b11e30eb)\r\n\r\n![image](https://github.com/user-attachments/assets/cc163731-777a-4823-bc2a-7a7c767a0883)\r\n\r\n![image](https://github.com/user-attachments/assets/bb1145cb-c925-415e-807a-b976cf9504e7)\r\n\r\n",
      "state": "open",
      "author": "LouisNuh",
      "author_type": "User",
      "created_at": "2024-11-24T08:30:16Z",
      "updated_at": "2025-05-20T09:37:01Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/119/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/119",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/119",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:17.691789",
      "comments": [
        {
          "author": "Byaidu",
          "body": "麻烦贴下测试文档",
          "created_at": "2024-11-24T08:38:05Z"
        },
        {
          "author": "LouisNuh",
          "body": "> 麻烦贴下测试文档\r\n这是测试文档以及结果\r\n[lect1.pdf](https://github.com/user-attachments/files/17892547/lect1.pdf)\r\n[lect1-zh.pdf](https://github.com/user-attachments/files/17892549/lect1-zh.pdf)\r\n\r\n",
          "created_at": "2024-11-24T08:40:02Z"
        },
        {
          "author": "halibaduoxiansheng",
          "body": "同楼主问题，列表混乱\r\n![image](https://github.com/user-attachments/assets/a885c698-4d63-4770-9124-5f6c8f14458f)\r\n![image](https://github.com/user-attachments/assets/1fccc9c9-f2b6-407a-af07-218df3d2fbfa)\r\n[intro99.pdf](https://github.com/user-attachments/files/18165029/intro99.pdf)\r\n\r\n\r\n",
          "created_at": "2024-12-17T11:58:35Z"
        },
        {
          "author": "SongZihui-sudo",
          "body": "可能以为是列表的原因，最后的引用部分也会乱",
          "created_at": "2024-12-25T05:38:03Z"
        },
        {
          "author": "liuxiao-0371",
          "body": "是的，我也遇到过此类情况。\n在文章开始的目录部分会出现。",
          "created_at": "2025-05-20T09:37:00Z"
        }
      ]
    },
    {
      "issue_number": 828,
      "title": "文件中的流程图未翻译",
      "body": "### 在什么场景下，需要你请求的功能？\n\n文件中存在流程图，翻译之后流程图没有翻译，这个功能可以支持吗？\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "arnoCao",
      "author_type": "User",
      "created_at": "2025-04-03T08:40:52Z",
      "updated_at": "2025-05-20T09:34:27Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/828/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/828",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/828",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:17.975717",
      "comments": [
        {
          "author": "hellofinch",
          "body": "估计可能支持不了，流程图可能是图片也可能是PDF绘制的线条，不好说。layout的识别可能是figure。\n给个示例文档吧。",
          "created_at": "2025-04-03T09:53:44Z"
        },
        {
          "author": "awwaawwa",
          "body": "走纯图片翻译的路子肯定是ok的。这块的layout和普通区域不太一样。\n\n对于部分文件，还能走现在这种挖改方案，后面研究吧。",
          "created_at": "2025-04-03T10:22:37Z"
        },
        {
          "author": "arnoCao",
          "body": "[chatlaw.pdf](https://github.com/user-attachments/files/19625317/chatlaw.pdf)\n这个是示例文档，供你们参考",
          "created_at": "2025-04-07T03:15:25Z"
        },
        {
          "author": "liuxiao-0371",
          "body": "希望能尽快支持表格翻译",
          "created_at": "2025-05-20T09:32:22Z"
        }
      ]
    },
    {
      "issue_number": 942,
      "title": "为什么会出现完全重影？",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nwindows 10\npython3.11\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n出现翻译完的文字和原先的文字完全重影\n\n![Image](https://github.com/user-attachments/assets/3b37827c-4960-4584-8b82-efb42495e073)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "hehwcrashboy",
      "author_type": "User",
      "created_at": "2025-05-19T04:10:26Z",
      "updated_at": "2025-05-20T01:38:45Z",
      "closed_at": null,
      "labels": [
        "bug",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/942/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/942",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/942",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:18.170417",
      "comments": [
        {
          "author": "hehwcrashboy",
          "body": "使用的是2.0版本",
          "created_at": "2025-05-19T04:17:31Z"
        },
        {
          "author": "hehwcrashboy",
          "body": "还有这个问题，感觉是程序在排版原版的时候把原版移动了位置，如图：\n\n![Image](https://github.com/user-attachments/assets/35b69b5c-728a-4de2-99b9-54c1df4486f6)",
          "created_at": "2025-05-19T04:24:11Z"
        },
        {
          "author": "hehwcrashboy",
          "body": "把原版的整体往右上方移动了，导致很多文字看不见，但是在右侧翻译后的版本中，原版又在原位置。",
          "created_at": "2025-05-19T04:25:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "请给出原始文件及所用pdf2zh版本",
          "created_at": "2025-05-19T06:26:21Z"
        },
        {
          "author": "hehwcrashboy",
          "body": "现在是第二种情况还没解决，就是原版整体版面会移动。用的版本是https://github.com/awwaawwa/PDFMathTranslate/tree/v2-rc，应该是最新的。\n这是电子书\n[complex analysis.pdf](https://github.com/user-attachments/files/20281790/complex.analysis.pdf)",
          "created_at": "2025-05-19T10:25:14Z"
        }
      ]
    },
    {
      "issue_number": 941,
      "title": "使用openAI是会出现只输出标点符号的情况",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用openAI翻译时出现了只输出标点符号的问题，全篇文档大概有一半文字都出现这种问题，断断续续的时好时坏。但使用DeepSeek的时候不会出现类似的问题\n\n\n<img width=\"822\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c85f7a00-19f3-46f3-bec1-d5549445d16d\" />\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Bobobobio",
      "author_type": "User",
      "created_at": "2025-05-18T22:53:34Z",
      "updated_at": "2025-05-19T06:29:02Z",
      "closed_at": "2025-05-19T06:27:37Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/941/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/941",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/941",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:18.343575",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请开一个新的issue，并完整填写issue模版，给出原始PDF文件及所用pdf2zh 版本，对应BabelDOC版本。之后将你所使用的翻译参数详细列出",
          "created_at": "2025-05-19T06:29:02Z"
        }
      ]
    },
    {
      "issue_number": 939,
      "title": "输入提示词后，会在译文中不断出现翻译模型对提示词的回应。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n在Open for More Experimental Options! 中，输入提示词后，会在译文中不断的出现大模型（deepseekV3）对提示词的回复，无法通过用提示词进行纠正。 \n\n### 如何复现\n\n1. 执行 'Open for More Experimental Options! '\n2. 选择 '你是一位专业的应急救援领域翻译人员，请按以下规则翻译：\n\n- 所有术语保留英文并在其后用括号标注中文译文；\n- 翻译需结合上下文，做到信达雅；\n- 仅输出译文；\n- 最后列出术语表。\n-不要对我的提示词有任何回应，不要输出任何非译文内容'\n3. 出现问题\n不断在输出的译文PDF中出现Understood. As a professional translator and emergency rescue technical expert, I will ensure translations are precise, contextually consistent, and meet the standards of fidelity。。。。\n\n![Image](https://github.com/user-attachments/assets/38c33024-9abc-4473-8cbf-996e129b4567)\n\n### 预期行为\n\n希望去除这一现象。\n\n![Image](https://github.com/user-attachments/assets/7203e9e3-eae5-4628-b63d-cee6eedd70e9)\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "TENCHI79",
      "author_type": "User",
      "created_at": "2025-05-17T13:23:10Z",
      "updated_at": "2025-05-17T16:00:54Z",
      "closed_at": "2025-05-17T16:00:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/939/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/939",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/939",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:18.542362",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请完整填写issue模版",
          "created_at": "2025-05-17T16:00:53Z"
        }
      ]
    },
    {
      "issue_number": 924,
      "title": "Python compatible",
      "body": "### 在什么场景下，需要你请求的功能？\n\nWhen will pdf2zh be compatible with Python 3.13?\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "HAfpq",
      "author_type": "User",
      "created_at": "2025-05-12T09:15:29Z",
      "updated_at": "2025-05-16T17:04:42Z",
      "closed_at": "2025-05-16T17:04:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/924/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/924",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/924",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:18.725523",
      "comments": [
        {
          "author": "hellofinch",
          "body": "取决于上游，上游有包不支持13，要是我没记错的话。",
          "created_at": "2025-05-12T09:36:55Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/onnx/onnx 1.18就支持了，等这个库发了正式版就行了。",
          "created_at": "2025-05-12T10:12:39Z"
        },
        {
          "author": "HAfpq",
          "body": "Why is it not compatible with python3.13 yet, when onnx1.18 has been released?",
          "created_at": "2025-05-16T11:16:33Z"
        },
        {
          "author": "awwaawwa",
          "body": "> Why is it not compatible with python3.13 yet, when onnx1.18 has been released?\n\nBecause I didn't see it hhhhhhhhh",
          "created_at": "2025-05-16T16:40:40Z"
        },
        {
          "author": "awwaawwa",
          "body": "BabelDOC 0.3.50 will support Python 3.13.\n\nThe next version of pdf2zh 2.0 preview should be built based on Python 3.13. The official 2.0 version will support Python 3.13 after its release.\n\nThe 2.0 version is optimistically estimated to be released in about one to two weeks, currently we are still w",
          "created_at": "2025-05-16T16:47:23Z"
        }
      ]
    },
    {
      "issue_number": 899,
      "title": "feat: Qwen3 thinking",
      "body": "Qwen3 支持思考模式并默认启用，需要追踪各平台选项&对应支持\n",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-05-06T15:50:40Z",
      "updated_at": "2025-05-16T03:55:24Z",
      "closed_at": "2025-05-08T17:19:54Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/899/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/899",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/899",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:18.898149",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "2025-5-9:\nsync BabelDOC 0.3.39 [GitHub Actions Build](https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14912034287)\n\nhttps://github.com/funstory-ai/BabelDOC/pull/344 added a `--custom-system-prompt \"/no_think You are a professional, authentic machine translation engine.\"` which is mainly us",
          "created_at": "2025-05-08T17:19:54Z"
        },
        {
          "author": "eecoder-dyf",
          "body": "使用docker+gui时，怎样自定义prompt呢",
          "created_at": "2025-05-15T11:52:59Z"
        },
        {
          "author": "hellofinch",
          "body": "2.0 暂时不支持自定义prompt",
          "created_at": "2025-05-16T00:46:43Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 2.0 暂时不支持自定义prompt\n\n2.0最新版高级选项中能自定义系统提示词了，，，多少也算有点自定义",
          "created_at": "2025-05-16T03:55:23Z"
        }
      ]
    },
    {
      "issue_number": 848,
      "title": "str object has no attribute 'choices'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:window\n- Python:3.12\n- pdf2zh:1.90\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\npdf2zh 工具在转换 PDF 文件时遇到了 str object has no attribute 'choices'\n\n![Image](https://github.com/user-attachments/assets/49e1fdb7-e469-415d-ac31-ba823d7a0533)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "iridescentboy",
      "author_type": "User",
      "created_at": "2025-04-17T06:29:44Z",
      "updated_at": "2025-05-15T13:05:25Z",
      "closed_at": "2025-05-15T13:05:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/848/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/848",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/848",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:19.091927",
      "comments": [
        {
          "author": "hellofinch",
          "body": "启用BabelDOC选项再尝试。",
          "created_at": "2025-04-17T07:54:14Z"
        },
        {
          "author": "awwaawwa",
          "body": "他这个是llm相关问题",
          "created_at": "2025-04-17T09:20:19Z"
        },
        {
          "author": "iridescentboy",
          "body": "> 启用BabelDOC选项再尝试。\n\n我用babeldoc 后，他不翻译成中文",
          "created_at": "2025-04-17T09:24:29Z"
        },
        {
          "author": "iridescentboy",
          "body": "> 他这个是llm相关问\n\n> 他这个是llm相关问题\n\n换模型吗？不用openai 的",
          "created_at": "2025-04-17T09:25:34Z"
        },
        {
          "author": "hellofinch",
          "body": "> 他这个是llm相关问题\n\n1.x的报错看着太折磨了。我以为还是之前那个字体的问题呢。",
          "created_at": "2025-04-17T09:53:32Z"
        }
      ]
    },
    {
      "issue_number": 810,
      "title": "是否能增加任务定时开始功能？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n因为deepseek 错峰使用，费用会低很多，我希望能有任务设置，可以定时执行的功能。那将是个很不错的功能。\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "feihongloveworld",
      "author_type": "User",
      "created_at": "2025-03-28T07:26:35Z",
      "updated_at": "2025-05-15T13:04:52Z",
      "closed_at": "2025-05-15T13:04:52Z",
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/810/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/810",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/810",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:19.291636",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "感觉有用，不过这个有一定的工程量，后面再弄吧。",
          "created_at": "2025-03-28T07:27:40Z"
        },
        {
          "author": "hellofinch",
          "body": "我推荐借助系统的定时任务来搞定，无论是mac或者linux上的crontab，或者windows下的计划任务。\n软件读取时间因为时区，标准的不同可能问题会很大。而且程序在后台持续挂起的话资源也是浪费。",
          "created_at": "2025-03-28T11:40:58Z"
        }
      ]
    },
    {
      "issue_number": 792,
      "title": "添加llama.cpp提供的llama-server服务支持",
      "body": "### 在什么场景下，需要你请求的功能？\n\n我在尝试使用pdf2zh连接llama.cpp的llama-server提供的api :http://127.0.0.1:8080/v1时，总是失败，提示不支持，还请大佬添加此服务，非常感激！\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "mrcedar-git",
      "author_type": "User",
      "created_at": "2025-03-21T23:14:27Z",
      "updated_at": "2025-05-15T13:03:23Z",
      "closed_at": "2025-05-15T13:03:23Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/792/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/792",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/792",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:19.467640",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请用openai like接入。",
          "created_at": "2025-03-22T04:56:45Z"
        },
        {
          "author": "mrcedar-git",
          "body": "我查看了服务的高级文档，在Rockylinux9上的bash shell 里使用如下方法测试，没有成功，一直卡在这个位置：\n 29%|██████████████████████▊                              | 2/7 [01:06<02:46, 33.24s/it]\n\n第一种：\n```\nexport OPENAILIKED_BASE_URL=http://127.0.0.1:8080/v1\npdf2zh example.pdf -s openailiked:Qwen2.5-7B-Instruct-Q8_0　 -li en -lo zh\n```\n第二种：\n```",
          "created_at": "2025-03-22T15:51:42Z"
        },
        {
          "author": "hellofinch",
          "body": "请提供一些控制台输出",
          "created_at": "2025-03-24T00:42:40Z"
        },
        {
          "author": "mrcedar-git",
          "body": "环境：\n系统：rockylinux9.5\n启动服务：\n\\# systemctl start llama-qwen2.5\n\n● llama-qwen2.5.service - llama-qwen2.5.server\n     Loaded: loaded (/etc/systemd/system/llama-qwen2.5.service; disabled; preset: disabled)\n     Active: active (running) since Mon 2025-03-24 12:40:36 CST; 25s ago\n   Main PID: 4690 (llama-se",
          "created_at": "2025-03-24T05:31:20Z"
        },
        {
          "author": "hellofinch",
          "body": "看上去是连接超时了，llama.cpp连通性正常吗？",
          "created_at": "2025-03-26T01:25:25Z"
        }
      ]
    },
    {
      "issue_number": 936,
      "title": "nginx加上https的方向代理  域名访问预览不出来 似乎是https请求到http报错 地址是http://aipdf.shinebed.com.cn/gradio_api/file=/tmp/gradio/990dccc913099ec8f2ea068ad16c4cfb92d277f16728f650bf1b217cf572cd1c/Invoice-15321D1D-0002.pdf",
      "body": "### 在什么场景下，需要你请求的功能？\n\nhttp://aipdf.shinebed.com.cn/gradio_api/file=/tmp/gradio/990dccc913099ec8f2ea068ad16c4cfb92d277f16728f650bf1b217cf572cd1c/Invoice-15321D1D-0002.pdf  需要改成https\n\n\n\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Maincine",
      "author_type": "User",
      "created_at": "2025-05-15T10:01:19Z",
      "updated_at": "2025-05-15T13:02:13Z",
      "closed_at": "2025-05-15T13:02:12Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/936/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/936",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/936",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:19.697906",
      "comments": [
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/256",
          "created_at": "2025-05-15T13:02:12Z"
        }
      ]
    },
    {
      "issue_number": 937,
      "title": "使用argos-translate翻译文档，出现版本冲突的问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- **OS**: MacOS15.4.1\n- **Python**: 3.11\n- **pdf2zh**: 1.9.9\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n您好，我想要本地部署PDFMathTranslate，翻译引擎用的是Argos Translate，从而实现离线翻译，但在实际运行中，执行pdf2zh xxx.pdf -li en -lo zh -s argos命令，出现错误信息，看着是pdf2zh和argos-translate依赖的numpy版本不一致（pdf2zh依赖2.x，argos-translate依赖1.x），请问这个需要怎么处理，是否可以通过调整pdf2zh版本处理？\n\n### 如何复现\n\n1. 安装argos-translate(1.9.6)并下载模型\n2. 执行 'pdf2zh xxx.pdf -li en -lo zh -s argos'\n\n\n### 预期行为\n\n成功翻译文档\n\n### 相关 Logs\n\n```Text\nA module that was compiled using NumPy 1.x cannot be run in\nNumPy 2.2.5 as it may crash. To support both 1.x and 2.x\nversions of NumPy, modules must be compiled with NumPy 2.0.\nSome module may need to rebuild instead e.g. with 'pybind11>=2.12'.\n\nIf you are a user of the module, the easiest solution will be to\ndowngrade to 'numpy<2' or try to upgrade the affected module.\nWe expect that some modules will need time to support NumPy 2.\n\nTraceback (most recent call last):  File \"/Users/yesheng/anaconda3/envs/pdf2zh/bin/pdf2zh\", line 8, in <module>\n    sys.exit(main())\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/pdf2zh.py\", line 328, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 232, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 92, in translate_patch\n    device = TranslateConverter(\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/converter.py\", line 164, in __init__\n    self.translator = translator(lang_in, lang_out, service_model, envs=envs, prompt=prompt, ignore_cache=ignore_cache)\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/pdf2zh/translator.py\", line 810, in __init__\n    import argostranslate.translate\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/argostranslate/translate.py\", line 5, in <module>\n    import ctranslate2\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/__init__.py\", line 55, in <module>\n    from ctranslate2 import converters, models, specs\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/converters/__init__.py\", line 1, in <module>\n    from ctranslate2.converters.converter import Converter\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/converters/converter.py\", line 8, in <module>\n    from ctranslate2.specs.model_spec import ACCEPTED_MODEL_TYPES, ModelSpec\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/specs/__init__.py\", line 1, in <module>\n    from ctranslate2.specs.attention_spec import RotaryScalingType\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/specs/attention_spec.py\", line 5, in <module>\n    from ctranslate2.specs import common_spec, model_spec\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/specs/common_spec.py\", line 3, in <module>\n    from ctranslate2.specs import model_spec\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/ctranslate2/specs/model_spec.py\", line 18, in <module>\n    import torch\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/__init__.py\", line 1477, in <module>\n    from .functional import *  # noqa: F403\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/functional.py\", line 9, in <module>\n    import torch.nn.functional as F\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/nn/__init__.py\", line 1, in <module>\n    from .modules import *  # noqa: F403\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/nn/modules/__init__.py\", line 35, in <module>\n    from .transformer import TransformerEncoder, TransformerDecoder, \\\n  File \"/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/nn/modules/transformer.py\", line 20, in <module>\n    device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\n/Users/yesheng/anaconda3/envs/pdf2zh/lib/python3.11/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)\n  device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "AlvisYe",
      "author_type": "User",
      "created_at": "2025-05-15T11:32:29Z",
      "updated_at": "2025-05-15T12:15:28Z",
      "closed_at": "2025-05-15T12:15:06Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/937/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/937",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/937",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:19.842453",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "我们已弃用argos translate支持",
          "created_at": "2025-05-15T12:15:06Z"
        },
        {
          "author": "awwaawwa",
          "body": "想离线跑的话，请用ollama跑个大模型",
          "created_at": "2025-05-15T12:15:28Z"
        }
      ]
    },
    {
      "issue_number": 907,
      "title": "使用pdf2zh Version: 1.9.8无法完成翻译功能",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nmacbook m2\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n可以正常启动服务并通过web访问页面，上传pdf文档进行翻译时，出现错误提示\n\n![Image](https://github.com/user-attachments/assets/457e8803-c521-4f15-a477-1a9ab1568dd8)\n\n在docker日志中输出的内容是\n```\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2470, in run_sync_in_worker_thread\n\n\nreturn await future\n\n\n^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 967, in run\n\n\nresult = context.run(func, *args)\n\n\n^^^^^^^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/gradio/utils.py\", line 884, in wrapper\n\n\nresponse = f(*args, **kwargs)\n\n\n^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/gui.py\", line 334, in translate_file\n\n\ntranslate(**param)\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 383, in translate\n\n\ns_mono, s_dual = translate_stream(\n\n\n^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 232, in translate_stream\n\n\nobj_patch: dict = translate_patch(fp, **locals())\n\n\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 163, in translate_patch\n\n\ninterpreter.process_page(page)\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 269, in process_page\n\n\nops_base = self.render_contents(page.resources, page.contents, ctm=ctm)\n\n\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 299, in render_contents\n\n\nreturn self.execute(list_value(streams))\n\n\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 345, in execute\n\n\ntargs = func()\n\n\n^^^^^^\n\n\nFile \"/usr/local/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 178, in do_scn\n\n\nif self.ncs:\n\n\n^^^^^^^^\n\n\nAttributeError: 'PDFPageInterpreterEx' object has no attribute 'ncs'\n\n\n0%| | 0/6 [00:00<?, ?it/s]\n\n\n17%|█▋ | 1/6 [00:00<00:03, 1.25it/s]\n\n\n0%| | 0/6 [00:00<?, ?it/s]\n\n\n17%|█▋ | 1/6 [00:00<00:03, 1.47it/s]\n\n\n0%| | 0/6 [00:00<?, ?it/s]\n\n\n17%|█▋ | 1/6 [00:00<00:04, 1.23it/s]\n\n\n0%| | 0/1 [00:00<?, ?it/s]\n\n\n100%|██████████| 1/1 [00:00<00:00, 1.34it/s]\n\n\n0%| | 0/1 [00:00<?, ?it/s]\n\n\n100%|██████████| 1/1 [00:00<00:00, 1.43it/s]\n```\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "pianfang",
      "author_type": "User",
      "created_at": "2025-05-08T08:47:02Z",
      "updated_at": "2025-05-15T10:06:59Z",
      "closed_at": "2025-05-08T13:57:03Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/907/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/907",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/907",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.028708",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请用1.9.6的docker。",
          "created_at": "2025-05-08T13:57:03Z"
        },
        {
          "author": "awwaawwa",
          "body": "1.9.9修了",
          "created_at": "2025-05-08T13:59:58Z"
        },
        {
          "author": "enzuos",
          "body": "> 1.9.9修了\n\n使用的是pdf2zh-v1.9.9-with-assets-win64，未启用代理，正常启动软件，一上传文件就报错，以下是报错图片：\n\n<img width=\"721\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/37a93e2b-dcae-40c1-b55e-023ae31b2c97\" />\n\n请问是什么原因？",
          "created_at": "2025-05-15T10:06:58Z"
        }
      ]
    },
    {
      "issue_number": 928,
      "title": "feat(config): better translator configuration model",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- **OS**: ubuntu 22.04\n- **pdf2zh**: 1.9.6\n- **python**: 3.12.9\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n在config.json中如果要配置多个本地部署模型应该怎么写\n\"\"\"\n{\n    \"USE_MODELSCOPE\": \"0\",\n    \"PDF2ZH_LANG_FROM\": \"English\",\n    \"PDF2ZH_LANG_TO\": \"Simplified Chinese\",\n    \"NOTO_FONT_PATH\": \"/app/SourceHanSerifCN-Regular.ttf\",\n    \"translators\": [\n        {\n            \"name\": \"openailiked\",\n            \"envs\": {\n                \"OPENAILIKED_BASE_URL\": \"http://xxx/v1\",\n                \"OPENAILIKED_API_KEY\": null,\n                \"OPENAILIKED_MODEL\": \"mode_1\"\n            }\n        },\n        \"name\": \"openailiked_2\",\n                    \"envs\": {\n                        \"OPENAILIKED_BASE_URL\": \"http://xxx/v1\",\n                        \"OPENAILIKED_API_KEY\": null,\n                        \"OPENAILIKED_MODEL\": \"mode_2\"\n                    }\n        }\n}\n\"\"\"\n必须使用这个openailiked名字吗，可以自定义吗？pdf2zh xxx.pdf -s openailiked\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "Teresajw",
      "author_type": "User",
      "created_at": "2025-05-14T04:50:25Z",
      "updated_at": "2025-05-15T09:44:27Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority",
        "No help needed"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/928/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v3.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/928",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/928",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.201632",
      "comments": [
        {
          "author": "hellofinch",
          "body": "1.x没有设计过相应的内容。这个问题确实思考过应该处理，不过没有设计好怎么做。",
          "created_at": "2025-05-14T06:37:44Z"
        },
        {
          "author": "awwaawwa",
          "body": "不可以自定义。3.0或者4.0可能会考虑",
          "created_at": "2025-05-14T08:30:30Z"
        },
        {
          "author": "awwaawwa",
          "body": "先挂到3.0的里程碑里，但是可能会延期到4.0，或者更后面",
          "created_at": "2025-05-15T09:43:55Z"
        }
      ]
    },
    {
      "issue_number": 935,
      "title": "运行时报错 ModuleNotFoundError: No module named 'babeldoc'，发现该仓库不可访问，请问如何获取或替代？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n运行时报错 ModuleNotFoundError: No module named 'babeldoc'，发现该仓库不可访问，请问如何获取或替代？\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Tinattl",
      "author_type": "User",
      "created_at": "2025-05-15T08:46:52Z",
      "updated_at": "2025-05-15T09:34:40Z",
      "closed_at": "2025-05-15T09:34:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/935/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/935",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/935",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.355207",
      "comments": [
        {
          "author": "hellofinch",
          "body": "请正确使用模板，并正确清晰的描述问题。",
          "created_at": "2025-05-15T09:23:59Z"
        }
      ]
    },
    {
      "issue_number": 932,
      "title": "添加自定义提示语问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- **OS**: ubuntu 22.04\n- **python**: 3.12.9\n- **pdf2zh**: 1.9.9\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n当同时使用自定义提示语参数--prompt和--babeldoc 参数,就会报错无法翻译\n\nprompt文件信息如下：\n`You are a professional, authentic machine translation engine. Only Output the translated text, do not include any other text.\n\nTranslate the following markdown source text to ${lang_out}. Keep the formula notation {v*} unchanged. Output translation directly without any additional text.\n\nSource Text: ${text}\n\nTranslated Text:`\n错误信息如下：\n`(ai-bg) F:\\datax\\ai_bg\\translate\\documents>pdf2zh Adalimumabreview.pdf -s openailiked:qwen3-32b -o \"translate\\\\documents\"  --prompt \"F:\\datax\\ai_bg\\translate\\temp_prompts\\pt.txt\" --babeldoc \nnot in git repo\nNamespace(files=['Adalimumabreview.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='openailiked:qwen3-32b', output='translate\\\\\\\\docum\nents', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=<string.Template object at 0x000001FCB8EB3050>, compatible=False, onnx=None, serverport=None, dir=False, config=None, babeldoc=True, skip_subset_fonts=False, ignore_cache=False, mcp=False, sse=False)\n[05/15/25 10:07:36] INFO     INFO:pdf2zh.high_level:use font: C:/Users/lenovo/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf                              high_level.py:423\nTraceback (most recent call last):\n  File \"F:\\datax\\ai_bg\\.venv\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 357, in yadt_main\n    with open(parsed_args.prompt, \"r\", encoding=\"utf-8\") as file:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: expected str, bytes or os.PathLike object, not Template\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"F:\\datax\\ai_bg\\.venv\\Scripts\\pdf2zh.exe\\__main__.py\", line 10, in <module>\n  File \"F:\\datax\\ai_bg\\.venv\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 321, in main\n    return yadt_main(parsed_args)\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"F:\\datax\\ai_bg\\.venv\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 361, in yadt_main\n    raise ValueError(\"prompt error.\")\nValueError: prompt error.\n`\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Teresajw",
      "author_type": "User",
      "created_at": "2025-05-15T02:13:35Z",
      "updated_at": "2025-05-15T07:52:26Z",
      "closed_at": "2025-05-15T07:42:58Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/932/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/932",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/932",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.528805",
      "comments": [
        {
          "author": "hellofinch",
          "body": "> with open(parsed_args.prompt, \"r\", encoding=\"utf-8\") as file:\n> ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> TypeError: expected str, bytes or os.PathLike object, not Template\n\n这里提示送进程序的是个Template？",
          "created_at": "2025-05-15T03:05:00Z"
        },
        {
          "author": "Teresajw",
          "body": "可是不加--babeldoc 参数时，同样的命令，啥也没有改动, 可以翻译成功，没有报错Template\n**_pdf2zh Adalimumabreview.pdf -p 1 -s silicon --prompt F:\\datax\\ai_bg\\translate\\temp_prompts\\pt.txt_**\n`(ai-bg) F:\\datax\\ai_bg\\translate\\documents>pdf2zh Adalimumabreview.pdf -p 1 -s silicon --prompt F:\\datax\\ai_bg\\translate\\temp_prompts\\pt.txt\nn",
          "created_at": "2025-05-15T05:08:04Z"
        },
        {
          "author": "hellofinch",
          "body": "把`F:\\datax\\ai_bg.venv\\Lib\\site-packages\\pdf2zh\\pdf2zh.py` 文件中的 355行开始的这段内容删掉或者注释掉然后再试试看？\n```\n    if parsed_args.prompt:\n        try:\n            with open(parsed_args.prompt, \"r\", encoding=\"utf-8\") as file:\n                content = file.read()\n            prompt = Template(content)\n        except E",
          "created_at": "2025-05-15T06:18:19Z"
        },
        {
          "author": "Teresajw",
          "body": "> 把`F:\\datax\\ai_bg.venv\\Lib\\site-packages\\pdf2zh\\pdf2zh.py` 文件中的 355行开始的这段内容删掉或者注释掉然后再试试看？\n> \n> ```\n>     if parsed_args.prompt:\n>         try:\n>             with open(parsed_args.prompt, \"r\", encoding=\"utf-8\") as file:\n>                 content = file.read()\n>             prompt = Template(content)",
          "created_at": "2025-05-15T06:40:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "1.x已弃用，请使用2.0预览版重试",
          "created_at": "2025-05-15T07:42:58Z"
        }
      ]
    },
    {
      "issue_number": 927,
      "title": "docker 部署无法运行",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 1 of 2: Operation not permitted\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/__init__.py\", line 23, in <module>\n    from . import multiarray\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/multiarray.py\", line 10, in <module>\n    from . import overrides\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/overrides.py\", line 7, in <module>\n    from numpy._core._multiarray_umath import (\nImportError: PyCapsule_Import could not import module \"datetime\"\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__init__.py\", line 114, in <module>\n    from numpy.__config__ import show_config\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__config__.py\", line 4, in <module>\n    from numpy._core._multiarray_umath import (\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/__init__.py\", line 49, in <module>\n    raise ImportError(msg)\nImportError: \n\nIMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!\n\nImporting the numpy C-extensions failed. This error can happen for\nmany reasons, often due to issues with your setup or how NumPy was\ninstalled.\n\nWe have compiled some common reasons and troubleshooting tips at:\n\n    https://numpy.org/devdocs/user/troubleshooting-importerror.html\n\nPlease note and check the following:\n\n  * The Python version is: Python3.12 from \"/usr/local/bin/python\"\n  * The NumPy version is: \"2.2.5\"\n\nand make sure that they are the versions you expect.\nPlease carefully study the documentation linked above for further help.\n\nOriginal error was: PyCapsule_Import could not import module \"datetime\"\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 15, in <module>\n    import numpy as np\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__init__.py\", line 119, in <module>\n    raise ImportError(msg) from e\nImportError: Error importing numpy: you should not try to import numpy from\n        its source directory; please exit the numpy source tree, and relaunch\n        your python interpreter from there.\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "jonnyman12345",
      "author_type": "User",
      "created_at": "2025-05-14T04:15:32Z",
      "updated_at": "2025-05-15T07:49:52Z",
      "closed_at": "2025-05-15T07:49:50Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/927/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/927",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/927",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.697510",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请完整填写issue模版",
          "created_at": "2025-05-15T07:49:50Z"
        }
      ]
    },
    {
      "issue_number": 931,
      "title": "在2.0版GUI中添加任务执行时间限制功能",
      "body": "### 在什么场景下，需要你请求的功能？\n\n当多用户同时使用PDF翻译工具时，出现了以下问题：\n\n- 某些特别大的PDF文件或格式复杂的文档会导致翻译任务执行时间过长\n- 一个长时间运行的翻译任务会阻塞队列，使后面的用户请求被迫等待\n- 偶尔会出现卡死情况，一个任务无限期运行但没有进展，需要手动重启服务\n\n这种情况在公共部署环境中尤为突出，多用户共享同一系统资源时，单个用户的长时间任务会影响整体服务质量。\n\n### 解决方案\n\n建议在GUI界面中添加任务执行时间限制功能:\n\n- 在界面上添加一个可配置的\"最大执行时间\"选项，允许用户或管理员设置翻译任务的超时时间\n- 当任务执行时间超过设定限制时，自动中断该任务并释放资源\n- 在后端实现处理中断的清理机制，确保资源被正确释放\n\n实现方式可以结合Gradio的队列参数和Python的超时处理机制。\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "yurhett",
      "author_type": "User",
      "created_at": "2025-05-14T07:01:43Z",
      "updated_at": "2025-05-15T07:48:27Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "Low priority"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/931/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/931",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/931",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:20.862799",
      "comments": [
        {
          "author": "hellofinch",
          "body": "谢谢，很好的建议。\n但是处理有限级应该不会很高，但确实是一个需要解决的问题。\n: )",
          "created_at": "2025-05-14T08:10:19Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/awwaawwa/PDFMathTranslate/blob/116ba33c52d7bb2b266c55acff0f7155426a0d56/pdf2zh/high_level.py#L227\n\n我目前只实现了任意两个进度消息之间超时的机制，没有实现整个任务的timeout。\n\n低优先级一位，社区有人想写的话可以PR",
          "created_at": "2025-05-15T07:48:16Z"
        }
      ]
    },
    {
      "issue_number": 934,
      "title": "pdf翻译重影和格式错误",
      "body": "Before you asking\n\n[x] I have searched the existing issues\n[x] I spend at least 5 minutes for thinking and preparing\n[x] I have thoroughly and completely read the wiki.\n[x] I have carefully checked the issue, and it is unrelated to the network environment.\n\nEnvironment\n\n- pdf2zh 2.0 preview（sha256:0d12e6fa8504d9754428286e61db5dfba46af82070ef8851389dca237c569dbc）\n\n![Image](https://github.com/user-attachments/assets/5f4ca2ac-2f72-4e13-96c6-17133383cec7)\n\nhere is my docker-compose.yml:\n```yaml \nversion: '3'\nservices:\n  pdf2zh:\n    image: ghcr.io/awwaawwa/pdfmathtranslate:dev\n    ports:\n      - \"12345:7860\"\n    environment:\n      - PDF2ZH_TRANSLATE_TABLE_TEXT=false\n    command: [\"pdf2zh\", \"--gui\", \"--openai-base-url\", \"https://api.gpt.ge/v1\", \"--openai-api-key\", \"xxx\", \"--openai-model\", \"gpt-4.1-nano\", \"--qps\", \"8\"]\n```\nHow to install pdf2zh\n\ndocker\n\nDescribe the bug\n\n存在重影：\n\n![Image](https://github.com/user-attachments/assets/6c6cf842-317f-4b60-a72e-9f79450397fb)\n\n翻译格式错误：\n\n![Image](https://github.com/user-attachments/assets/bb35a7a6-f273-4ac9-bb3e-463682c28fdf)\n\n还有一个不算bug，algorithm这种也翻译，即使翻译这种格式也不对：\n\n![Image](https://github.com/user-attachments/assets/9e55f85c-13ee-42fa-a292-ca9816bbcf8e)\n\nTo Reproduce\n\n\n1. select \nhttps://proceedings.neurips.cc/paper_files/paper/2024/file/1e5cff01121223de917a84a242de30a5-Paper-Conference.pdf\n\n2. see errors\n[NeurIPS-2024-ordered-momentum-for-asynchronous-sgd-Paper-Conference.zh-CN.dual.pdf](https://github.com/user-attachments/files/20223339/NeurIPS-2024-ordered-momentum-for-asynchronous-sgd-Paper-Conference.zh-CN.dual.pdf)\n\nExpected behavior\n\n我希望可以纠正pdf翻译重影和格式错误的问题，以及改善计算机领域算法显示的问题\n\nRelevant log output\n\n\n\nOrigin PDF file\n\n[NeurIPS-2024-ordered-momentum-for-asynchronous-sgd-Paper-Conference.pdf](https://github.com/user-attachments/files/20223358/NeurIPS-2024-ordered-momentum-for-asynchronous-sgd-Paper-Conference.pdf)\n\nAnything else?\n\nNo response",
      "state": "closed",
      "author": "frankjoey2048",
      "author_type": "User",
      "created_at": "2025-05-15T07:31:05Z",
      "updated_at": "2025-05-15T07:42:29Z",
      "closed_at": "2025-05-15T07:42:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/934/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/934",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/934",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.039683",
      "comments": []
    },
    {
      "issue_number": 841,
      "title": "部分字体404",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Ubuntu 22.04\n- Python:3.12.0\n- pdf2zh:\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/d440790e-9982-4dd3-bda9-d5fe4626e812)\n使用docker运行项目，打开网址，如下字体找不到\nArial-Regular.woff2\nHelvetica-Regular.woff2\nArial-Bold.woff2\nHelvetica-Bold.woff2\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "arnoCao",
      "author_type": "User",
      "created_at": "2025-04-11T01:25:21Z",
      "updated_at": "2025-05-14T03:32:05Z",
      "closed_at": "2025-05-14T03:32:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/841/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/841",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/841",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.039704",
      "comments": [
        {
          "author": "hellofinch",
          "body": "说明一下pdf2zh的版本，然后打码的部分是IP地址还是网址？\n据我所知，仓库代码中不存在`static/fonts`相关的路径。同时仓库中的代码不存在theme.css 文件。\n可能需要确认一下这个文件和什么内容相关。",
          "created_at": "2025-04-11T02:02:14Z"
        },
        {
          "author": "arnoCao",
          "body": "> 说明一下pdf2zh的版本，然后打码的部分是IP地址还是网址？ 据我所知，仓库代码中不存在`static/fonts`相关的路径。同时仓库中的代码不存在theme.css 文件。 可能需要确认一下这个文件和什么内容相关。\n\n用的是IP，pdf2zh版本是1.9.6，我是源码下载到本地后使用Dockerfile打的镜像\n是不是和gradio版本有关系，我使用的是5.24.0的版本",
          "created_at": "2025-04-11T03:20:31Z"
        },
        {
          "author": "hellofinch",
          "body": "应该和gradio没有关系，源码下来以后自己打包docker镜像的话，依赖要是没有自己改过的话应该是没问题。\n这个路径下字体提示404的问题也是第一次见到。",
          "created_at": "2025-04-11T06:33:12Z"
        },
        {
          "author": "arnoCao",
          "body": "哦哦，，，这个翻译功能，可以支持并发吗，我和朋友两个人用就要排队 ",
          "created_at": "2025-04-11T06:35:35Z"
        },
        {
          "author": "hellofinch",
          "body": "我记得应该是支持的。目前2.0在重构中，2.0 应该是支持的。\n如果想高并发的请求的话，可以考虑2.0重构之后使用API访问。 ",
          "created_at": "2025-04-11T07:04:32Z"
        }
      ]
    },
    {
      "issue_number": 923,
      "title": "翻译出来的段落有重影",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nos: ubuntu 22.04\npdf2zh: 1.9.6\npython: 3.12.10\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n\n我在对pdf文件进行翻译后，发现出现多处重影，中译英，英译中，都会出现同样情况。\n![Image](https://github.com/user-attachments/assets/507a60b6-4823-46ed-a8d0-45c2ac6663cd)\n\n### 如何复现\n\n1. 执行 打开网页，完成加载。\n2. 选择 上传案例文件，选中“Use BabelDOC”，进行翻译\n3. 出现问题\n\n\n### 预期行为\n\n正常翻译\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[CMO-April-2025.pdf](https://github.com/user-attachments/files/20154713/CMO-April-2025.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "arnoCao",
      "author_type": "User",
      "created_at": "2025-05-12T05:31:49Z",
      "updated_at": "2025-05-14T03:31:48Z",
      "closed_at": "2025-05-14T03:31:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/923/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/923",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/923",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.196828",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "用2.0预览版重试一下",
          "created_at": "2025-05-12T08:01:43Z"
        }
      ]
    },
    {
      "issue_number": 925,
      "title": "使用prompt后无法翻译，只显示重影",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nmacos13上的docker\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\npdfmathtranslate版本1.96和1.99，\n如果使用自定义prompt，会在最终的输出pdf里出现重影，重影内容是prompt的内容。\n1.测试后发现2.0rc似乎解决了这个问题。\n2.但无论是1.96/1.99还是2.0rc，翻译pdf的表格/图片和某些段落都会有漏翻。\n\n<img width=\"1576\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3b365748-5e62-46e9-8656-efc13e384a95\" />\n\n<img width=\"659\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/1a2fce4a-99a0-4c7e-844a-d9a032d04ce9\" />\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n感觉整个处理过程是不可见的，一旦某些部分因为超时原因翻不出来，除了看到logs里的记录，也没办法逐一修正；还是期待做成像“沉浸式翻译”里的办法，可以实时呈现页面上各段落的翻译？\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[AH401 24-25 - Reimagining Realty - v.PRINT 1.zh-CN.mono-v2.0rc.pdf](https://github.com/user-attachments/files/20165955/AH401.24-25.-.Reimagining.Realty.-.v.PRINT.1.zh-CN.mono-v2.0rc.pdf)\n[AH401 24-25 - Reimagining Realty - v.PRINT 1.zh.mono-v1.99.pdf](https://github.com/user-attachments/files/20165954/AH401.24-25.-.Reimagining.Realty.-.v.PRINT.1.zh.mono-v1.99.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "junelee220",
      "author_type": "User",
      "created_at": "2025-05-12T17:21:09Z",
      "updated_at": "2025-05-13T03:48:15Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/925/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/925",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/925",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.381346",
      "comments": [
        {
          "author": "junelee220",
          "body": "同时连简单的上一页末句和下一页首句的连句/断句翻译都没能翻好（默认设置），是不是我的设置有误？",
          "created_at": "2025-05-12T17:30:54Z"
        },
        {
          "author": "hellofinch",
          "body": "> 同时连简单的上一页末句和下一页首句的连句/断句翻译都没能翻好\n\n因为翻译是按PDF的段来进行的，目前并没有区分上下文的功能。\n\n重影的问题请先确认需要翻译的PDF不是扫描件，扫描件的话2.0才有处理。\nPDF中的图片上的内容是不处理的，所以图片没有翻译是正常的。",
          "created_at": "2025-05-13T00:47:00Z"
        },
        {
          "author": "awwaawwa",
          "body": "1. 1.x版本自定义提示词要使用几个专用占位符。\n2. 跨栏跨页后面处理\n3. qps开低点\n4. 图表不翻译是已知问题。",
          "created_at": "2025-05-13T03:48:15Z"
        }
      ]
    },
    {
      "issue_number": 920,
      "title": "同一篇论文，本地部署翻译公式乱码，但用沉浸式翻译则正常",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nos:win11\npdf2zh:1.9.9\npython:3.12.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n同一篇论文，本地部署翻译公式乱码，但用沉浸式翻译则正常，且沉浸式翻译的引文正常显示，而本地翻译的则变成了一段。\n\n![Image](https://github.com/user-attachments/assets/c9e4e854-ac54-4f06-8458-56cf284343c7)\n\n![Image](https://github.com/user-attachments/assets/1151e0a4-5233-46aa-bbd6-8aa227d2940c)\n\n![Image](https://github.com/user-attachments/assets/e9ad11ff-1a55-43f4-929d-fd0f26b4173c)\n\n![Image](https://github.com/user-attachments/assets/481db686-3b1c-4827-a161-9c3f367914a5)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n预期应该一致才对，且无乱码\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[Development of compositionality through interactive learning of language and action of robots_Vijayaraghavan et al_2025.pdf](https://github.com/user-attachments/files/20149572/Development.of.compositionality.through.interactive.learning.of.language.and.action.of.robots_Vijayaraghavan.et.al_2025.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "zifeiyu1999",
      "author_type": "User",
      "created_at": "2025-05-11T14:09:30Z",
      "updated_at": "2025-05-12T02:11:24Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/920/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/920",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/920",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.538608",
      "comments": [
        {
          "author": "zifeiyu1999",
          "body": "![Image](https://github.com/user-attachments/assets/cd86a2ad-1076-424d-804d-5bcdfe264361)\n沉浸式翻译的引文开始也出现了位置错误",
          "created_at": "2025-05-11T14:31:18Z"
        },
        {
          "author": "hellofinch",
          "body": "勾选使用BabelDoc选项了吗？沉浸式翻译使用的BabelDOC作为后端。\n如果勾选后还是有问题，检查一下本地的BabelDOC版本和沉浸式翻译上的BabelDOC版本是不是一致的，沉浸式翻译的版本会高一些，可能。",
          "created_at": "2025-05-12T01:15:28Z"
        },
        {
          "author": "awwaawwa",
          "body": "请使用2.0预览版重试",
          "created_at": "2025-05-12T02:11:23Z"
        }
      ]
    },
    {
      "issue_number": 921,
      "title": "Deep frustration over the lack of Arabic support despite its global importance",
      "body": "### Is your feature request related to a problem?\n\nHonestly, I felt a deep sense of frustration when I saw that Arabic isn’t supported in the project. Arabic is one of the most widely spoken languages in the world, and there are millions of students, researchers, and math enthusiasts who use it every day.\n\nThe project itself is brilliant and truly valuable, but leaving Arabic out makes it inaccessible to a huge segment of people. This isn’t just a missing feature — it’s a real barrier for entire communities.\n\nI’m not asking you to add Arabic just to tick a box. But if this tool is meant to empower learning and widen access to knowledge, then ignoring Arabic undermines that very goal. Please consider the long-term value of being more inclusive — it will make the project stronger for everyone.\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "Wyetgf",
      "author_type": "User",
      "created_at": "2025-05-11T22:18:50Z",
      "updated_at": "2025-05-12T02:02:56Z",
      "closed_at": "2025-05-12T02:02:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/921/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/921",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/921",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.723356",
      "comments": [
        {
          "author": "hellofinch",
          "body": "Thanks!\nActually, we tried to support the Arabic. But none of us is familiar with it. As you know, Arabic is different from other languages. For example, Arabic is read in a different direction. We want the project to offer a better experience, so we haven’t taken any hasty actions for now.\nTherefor",
          "created_at": "2025-05-12T01:24:51Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please go to BabelDOC to file an issue https://github.com/funstory-ai/BabelDOC\n\nAlso, Arabic-related things do not accept community PRs, I already have basic ideas and may start implementing related code this year.",
          "created_at": "2025-05-12T02:02:56Z"
        }
      ]
    },
    {
      "issue_number": 915,
      "title": "azureopenai的version值问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n选择azureopenai翻译服务后，由于gui界面中没有version输入的选项，导致version的值没有被正确的传递，无论是修改config文件还是设置环境变量都没用。由于GUI 传入的值 (envs_from_gui) 具有最高的覆盖优先级，所以可能最根本的解决方案仍然是修改 gui.py，使其能够正确地为 AZURE_OPENAI_API_VERSION 提供一个独立的输入框，并且正确地传递其值。谢谢！！\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hehwcrashboy",
      "author_type": "User",
      "created_at": "2025-05-09T09:21:02Z",
      "updated_at": "2025-05-10T18:42:54Z",
      "closed_at": "2025-05-10T18:42:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/915/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/915",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/915",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:21.915384",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用2.0预览版重试",
          "created_at": "2025-05-09T11:51:22Z"
        },
        {
          "author": "galoisgroupcn",
          "body": "@hehwcrashboy https://github.com/Byaidu/PDFMathTranslate/pull/917. let us know if it works or not. We can reiterate the code till it passes all the tests.",
          "created_at": "2025-05-09T12:40:44Z"
        },
        {
          "author": "hehwcrashboy",
          "body": "多谢。我今天试了下，基本上可以了，分支2.0中还有个小错误，azueopenai.py应该更名为azureopenai.py，改完以后就可以用azureopenai了。但是还有个小小的请求，为什么之前1.99里面的OpenAIliked类没有了，这个还挺好用的，qwen的模型可以配置到这里，能否加上去？",
          "created_at": "2025-05-10T10:44:04Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 多谢。我今天试了下，基本上可以了，分支2.0中还有个小错误，azueopenai.py应该更名为azureopenai.py，改完以后就可以用azureopenai了。但是还有个小小的请求，为什么之前1.99里面的OpenAIliked类没有了，这个还挺好用的，qwen的模型可以配置到这里，能否加上去？\n\nopenailiked，直接用openai就行，这俩是一个东西。",
          "created_at": "2025-05-10T12:38:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "最新开发分支加了OpenAICompatible，类似以前的openai-like吧。另外az的file name应该是修好了，可以帮忙测试一下嘛 @hehwcrashboy \n\nhttps://github.com/awwaawwa/PDFMathTranslate/actions/runs/14945493895",
          "created_at": "2025-05-10T12:48:57Z"
        }
      ]
    },
    {
      "issue_number": 904,
      "title": "离线环境运行报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n-离线win10环境\n-pdf2zh-v1.9.6-with-assets-win64\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n离线win10环境，用的这个包pdf2zh-v1.9.6-with-assets-win64.zip，安装了包里面的vc_redist.x64.exe并重启。\n报错：openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken无法访问。\n在在线电脑上测试了没问题的，直接把在线电脑上的软件目录拷贝到离线电脑上就不能运行。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "hugefrog",
      "author_type": "User",
      "created_at": "2025-05-08T02:17:34Z",
      "updated_at": "2025-05-09T14:08:33Z",
      "closed_at": null,
      "labels": [
        "bug",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/904/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.1.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/904",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/904",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:22.130046",
      "comments": [
        {
          "author": "hellofinch",
          "body": "> 在在线电脑上测试了没问题的，直接把在线电脑上的软件目录拷贝到离线电脑上就不能运行。\n\n这里具体是怎么操作的可以描述一下吗？",
          "created_at": "2025-05-08T02:56:40Z"
        },
        {
          "author": "hugefrog",
          "body": "> > 在在线电脑上测试了没问题的，直接把在线电脑上的软件目录拷贝到离线电脑上就不能运行。\n> \n> 这里具体是怎么操作的可以描述一下吗？\n\n1.直接把pdf2zh-v1.9.6-with-assets-win64.zip解压到在线电脑的d:\\pdf2zh目录。\n2.安装vc_redist.x64.exe，重启。\n3.在线电脑运行成功。\n4. 把在线电脑的d:\\pdf2zh目录打包，复制到离线电脑。\n5.在离线电脑xxx目录解开压缩包，安装vc_redist.x64.exe，重启。\n6. 运行exe报错。",
          "created_at": "2025-05-08T03:17:12Z"
        },
        {
          "author": "hellofinch",
          "body": "复制东西复制少了，在用户路径下还有cache文件没有复制走。",
          "created_at": "2025-05-08T06:24:38Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试",
          "created_at": "2025-05-08T17:19:36Z"
        },
        {
          "author": "galoisgroupcn",
          "body": "离线环境解决tiktoken模型文件无法访问问题\n1. 在联网电脑上预下载模型文件：\n\n在一台可以联网的电脑上，运行如下 Python 脚本以下载所需的tiktoken模型文件，并保存到本地文件夹（比如 tiktoken_assets）：\n\n    import os\n    import tiktoken\n\n    # 以 o200k_base 为例，其他模型类似\n    enc = tiktoken.get_encoding(\"o200k_base\")\n    output_dir = \"tiktoken_assets\"\n    os.makedirs(output_dir, exist_",
          "created_at": "2025-05-09T14:08:33Z"
        }
      ]
    },
    {
      "issue_number": 911,
      "title": "不支持非流输出的模型会报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用OpenAI-liked时，如何指定流输出，而不是非流\n```\n{\n  \"message\": \"400 This model only support stream mode, please enable the stream parameter to access the model.  (aiproxy: )\",\n  \"name\": \"Error\",\n  \"code\": \"invalid_parameter_error\",\n  \"status\": 400\n}\n```\n\n### 如何复现\n\n\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "chung1912",
      "author_type": "User",
      "created_at": "2025-05-08T15:20:53Z",
      "updated_at": "2025-05-09T14:02:44Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Low priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/911/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/911",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/911",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:22.327520",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "pdf2zh can handle this. After the official release of version 2.0, I’m looking forward to someone interested giving it a try.",
          "created_at": "2025-05-08T17:16:40Z"
        },
        {
          "author": "galoisgroupcn",
          "body": "@awwaawwa @chung1912 @7shi @highkay @kidach1 https://github.com/Byaidu/PDFMathTranslate/pull/918",
          "created_at": "2025-05-09T14:02:43Z"
        }
      ]
    },
    {
      "issue_number": 916,
      "title": "由word通过Microsoft Print to PDF生成的PDF文档翻译进度至100%时报错。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nOS：Windows 11 Pro 24h2\nPython:3.13\nPDFMathTranslate:1.9.6,1.9.8\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n翻译（俄语、韩语翻译成中文）使用Word打印中的Microsoft Print to PDF生成的PDF时，当进度条至100%时，会报错。同样一份word文档，如果使用Word另存为功能，另存为PDF不存在以上问题。从网上下载的部分PDF文档存在同样问题。\n\n[普京国情咨文节-word打印PDF.pdf](https://github.com/user-attachments/files/20121043/-word.PDF.pdf)\n\n[普京国情咨文节-word另存为pdf.pdf](https://github.com/user-attachments/files/20121044/-word.pdf.pdf)\n\n网络下载的PDF：[相对论的宇宙前沿.pdf](https://github.com/user-attachments/files/20121047/default.pdf)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n[05/09/25 19:39:28] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:47\n[05/09/25 19:39:29] INFO     INFO:babeldoc.docvision.doclayout:Available Provider: CPUExecutionProvider doclayout.py:118\n* Running on local URL:  http://0.0.0.0:7860\nError launching GUI using 0.0.0.0.\nThis may be caused by global mode of proxy software.\nRerunning server... use `close()` to stop if you need to change `launch()` parameters.\n----\n* To create a public link, set `share=True` in `launch()`.\nFiles before translation: ['普京国情咨文节-word打印PDF.pdf']\n[05/09/25 19:41:26] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/small/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 4/4 [00:09<00:00,  2.48s/it]\nTraceback (most recent call last):\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 2146, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 1664, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\utils.py\", line 884, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\gui.py\", line 334, in translate_file\n    translate(**param)\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 245, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5843, in subset_fonts\n    width_table, def_width = get_old_widths(font_xref)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5583, in get_old_widths\n    df_xref = int(df[1][1:-1].replace(\"0 R\", \"\"))\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: '<</Type/Font/Subtype/CIDFontType2/BaseFont/CIDFont+F1/CIDSystemInfo<</Ordering 4 /Registry 5 /Supplement 0>>/CIDToGIDMap/Identity/FontDescriptor<</Type/FontDescriptor/Ascent 810/CapHeight 687/Descent\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "smallboat123",
      "author_type": "User",
      "created_at": "2025-05-09T11:42:56Z",
      "updated_at": "2025-05-09T11:50:06Z",
      "closed_at": "2025-05-09T11:49:02Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/916/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/916",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/916",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:22.500059",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/791bd368-59a2-4d14-9f13-92063a76610d)",
          "created_at": "2025-05-09T11:50:05Z"
        }
      ]
    },
    {
      "issue_number": 914,
      "title": "Vietnamese Language Support",
      "body": "### Is your feature request related to a problem?\n\nCan you add Vietnamese language support to the \"Translate to\" option?\nIt should display Vietnamese as a selectable language for AI models that use APIs, such as OpenAI, Gemini, and others.\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "blackcatxhan",
      "author_type": "User",
      "created_at": "2025-05-09T01:42:23Z",
      "updated_at": "2025-05-09T03:19:00Z",
      "closed_at": "2025-05-09T03:18:58Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/914/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/914",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/914",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:22.700031",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please use version 2.0 preview.",
          "created_at": "2025-05-09T03:18:58Z"
        }
      ]
    },
    {
      "issue_number": 912,
      "title": "docker部署支持环境变量配置一些参数",
      "body": "### 在什么场景下，需要你请求的功能？\n\ndocker部署时，希望支持通过环境变量进行大模型的基础后端配置，比如\n配置OpenAI-liked的OPENAILIKED_BASE_URL、OPENAILIKED_API_KEY、OPENAILIKED_MODEL等，并且支持提示词的后端配置，这些配置希望前端不可见，在前端上传文件后，可以直接翻译\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "chung1912",
      "author_type": "User",
      "created_at": "2025-05-08T15:24:25Z",
      "updated_at": "2025-05-09T02:05:04Z",
      "closed_at": "2025-05-08T17:15:31Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/912/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/912",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/912",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:22.874249",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "2.0支持了",
          "created_at": "2025-05-08T17:15:38Z"
        },
        {
          "author": "chung1912",
          "body": "> 2.0支持了\n\n现在还是1.9.9。请问2.0是尚未发布吗？",
          "created_at": "2025-05-09T00:54:09Z"
        },
        {
          "author": "hellofinch",
          "body": "现在2.0 只是预览版，还没合进仓库。可以在https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14912034287 这里找到。",
          "created_at": "2025-05-09T00:58:44Z"
        },
        {
          "author": "chung1912",
          "body": "> 现在2.0 只是预览版，还没合进仓库。可以在https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14912034287 这里找到。\n\n请问2.0预计什么时候正式上线呢？",
          "created_at": "2025-05-09T01:59:56Z"
        },
        {
          "author": "hellofinch",
          "body": "好问题，等鸡啄完了米，狗舔完了面，火烧断了锁（不是\n快了，http api和文档完成后就会合入主仓库。",
          "created_at": "2025-05-09T02:05:04Z"
        }
      ]
    },
    {
      "issue_number": 892,
      "title": "目录会有缺失，有多余的 <> {} 产生，代码块的代码会错位重叠",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n目录会有缺失，有多余的 <> {} 产生，代码块的代码会错位重叠\n\n### 如何复现\n\n1. 执行 'translate'\n2. 选择 'buse babeldoc'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[Idiomatic Rust Code like a Rustacean (Brenden Matthews) (Z-Library).pdf](https://github.com/user-attachments/files/20012860/Idiomatic.Rust.Code.like.a.Rustacean.Brenden.Matthews.Z-Library.pdf)\n\n[Zero to Production in Rust (Luca Palmieri) (Z-Library).pdf](https://github.com/user-attachments/files/20012877/Zero.to.Production.in.Rust.Luca.Palmieri.Z-Library.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "NeedRelax",
      "author_type": "User",
      "created_at": "2025-05-02T12:38:19Z",
      "updated_at": "2025-05-09T00:51:20Z",
      "closed_at": "2025-05-08T17:20:44Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/892/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/892",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/892",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:23.063672",
      "comments": [
        {
          "author": "hellofinch",
          "body": "有两个问题，\n1. 使用的是什么系统，什么方式部署的，使用的版本是什么。（模板中没有填的内容）\n2. 使用的是什么翻译服务。",
          "created_at": "2025-05-06T01:03:17Z"
        },
        {
          "author": "NeedRelax",
          "body": "> 有两个问题，\n> \n> 1. 使用的是什么系统，什么方式部署的，使用的版本是什么。（模板中没有填的内容）\n> 2. 使用的是什么翻译服务。\n\nmacos，docker，pdf2zh Version: 1.9.6\n\nBabelDOC Version: 0.2.4， 微软谷歌和deepseek v3，都有问题",
          "created_at": "2025-05-06T21:36:20Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试。如果2.0预览版有问题，请去BabelDOC发issue",
          "created_at": "2025-05-08T17:20:44Z"
        },
        {
          "author": "NeedRelax",
          "body": "> 请用2.0预览版\n\n用docker怎么安装 2.0预览版？",
          "created_at": "2025-05-08T19:31:40Z"
        },
        {
          "author": "hellofinch",
          "body": "@NeedRelax  也有对应的docker镜像",
          "created_at": "2025-05-09T00:51:19Z"
        }
      ]
    },
    {
      "issue_number": 838,
      "title": "如何设置本地版deepseek",
      "body": "### 在什么场景下，需要你请求的功能？\n\n学校部署了本地版deepseek,有api地址和key,如何设置,docker run 部署的。\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "firebirdmx2016",
      "author_type": "User",
      "created_at": "2025-04-08T08:04:46Z",
      "updated_at": "2025-05-08T17:23:53Z",
      "closed_at": "2025-05-08T17:23:20Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/838/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/838",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/838",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:23.232662",
      "comments": [
        {
          "author": "firebirdmx2016",
          "body": "PDFMathT...是用docker run 部署的。请问怎么设置本地网络版的deepseek",
          "created_at": "2025-04-08T08:06:12Z"
        },
        {
          "author": "hellofinch",
          "body": "docker启动时给进去对应的环境变量即可。",
          "created_at": "2025-04-11T02:03:55Z"
        },
        {
          "author": "firebirdmx2016",
          "body": "这是来自QQ邮箱的假期自动回复邮件。\n \n您好，我最近正在休假中，无法亲自回复您的邮件。我将在假期结束后，尽快给您回复。",
          "created_at": "2025-04-11T02:04:26Z"
        },
        {
          "author": "syd168",
          "body": "ollama 部署deepseek，然后通过ollama ，设置名称",
          "created_at": "2025-04-14T16:02:21Z"
        },
        {
          "author": "firebirdmx2016",
          "body": "这是来自QQ邮箱的假期自动回复邮件。\n \n您好，我最近正在休假中，无法亲自回复您的邮件。我将在假期结束后，尽快给您回复。",
          "created_at": "2025-05-08T17:23:52Z"
        }
      ]
    },
    {
      "issue_number": 835,
      "title": "API inquiry",
      "body": "### 在什么场景下，需要你请求的功能？\n\nI am trying to run PDFMathTranslate on my Docker localhost using either the OpenAI API or DeepSeek API. However, when I set the API key (for either service), the application shows infinite loading and does not complete the translation process.\n\nWhat did I miss?\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "PedaPeterPark",
      "author_type": "User",
      "created_at": "2025-04-07T19:01:52Z",
      "updated_at": "2025-05-08T17:23:42Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/835/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/835",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/835",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:23.408345",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please try with 2.0 preview version",
          "created_at": "2025-05-08T17:23:41Z"
        }
      ]
    },
    {
      "issue_number": 849,
      "title": "Translating PDFs from English to Italian with GPT‑4o Mini produces a PDF in Spanish.",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: windows 11\n- Python: 3.13.1\n- pdf2zh: 1.9.6\n```\n\n### How to install pdf2zh\n\nexe\n\n### Describe the bug\n\nHello everyone, I’ve been trying for some time to translate PDFs from English to Italian using OpenAI’s GPT-4o Mini, but each time the PDF ends up being translated into Spanish. I tried GPT-4o and it successfully translates into Italian. Do you have any advice on how to configure the Mini version so that it can also translate into Italian? After all, the GPT-4o version costs three times as much.\nThank you in advance to anyone who can help me.\nI hope I’ve written the bug report correctly; if not, I apologize.\n\n大家好，我一直在尝试使用 OpenAI 的 GPT-4o Mini 将 PDF 从英文翻译成意大利语，但每次都被翻译成西班牙语。我试过 GPT-4o，它能成功翻译成意大利语。请问有什么建议可以如何设置 Mini 版本，使其也能翻译成意大利语吗？毕竟 GPT-4o 版本的费用是它的三倍。\n在此先感谢任何能够帮助我的人。\n希望我已正确写出这个 bug 报告，如果有误，还请见谅。\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "Proppu1",
      "author_type": "User",
      "created_at": "2025-04-17T17:45:03Z",
      "updated_at": "2025-05-08T17:22:40Z",
      "closed_at": "2025-05-08T17:22:40Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/849/reactions",
        "total_count": 4,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 2,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/849",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/849",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:25.721119",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please wait patiently for pdf2zh 2.0.\n\nAfter the 2.0 rc is released, we will re-examine this issue.",
          "created_at": "2025-04-17T18:01:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please retry with the 2.0 preview version  \n\nIf there are issues with the 2.0 preview version, please report them by submitting an issue on BabelDOC.",
          "created_at": "2025-05-08T17:22:31Z"
        }
      ]
    },
    {
      "issue_number": 851,
      "title": "The API_KEY input window does not appear.",
      "body": "### 在什么场景下，需要你请求的功能？\n\nI've completed the installation locally, but I don't see the API or AUTH KEY input and it won't translate.\nWhat could be the problem?\n--------------------------------\nTechnical details\n- Warning: environmental not found or error (OPENAI_API_KEY).\n- Please make sure that the environment variables are properly configured ([guide](https://github.com/Byaidu/PDFMathTranslate)).\n- GitHub: [Byaidu/PDFMathTranslate](https://github.com/Byaidu/PDFMathTranslate)\n- GUI by: [Rongxin](https://github.com/reycn)\n- Version: 1.7.9\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "parkwansoo",
      "author_type": "User",
      "created_at": "2025-04-18T03:18:19Z",
      "updated_at": "2025-05-08T17:22:02Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/851/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/851",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/851",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:25.915227",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试",
          "created_at": "2025-05-08T17:22:01Z"
        }
      ]
    },
    {
      "issue_number": 852,
      "title": "pdf1.7翻译失败",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:3.12 \n- pdf2zh:1.7.8\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n我翻译pdf1.7版本的无法翻译，文章一比一输出，但翻译pdf版本为1.5的可以正常翻译\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "anbian123",
      "author_type": "User",
      "created_at": "2025-04-18T05:32:12Z",
      "updated_at": "2025-05-08T17:21:54Z",
      "closed_at": "2025-05-08T17:21:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/852/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/852",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/852",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.090581",
      "comments": [
        {
          "author": "hellofinch",
          "body": "请更新到最新版后再次尝试，如果还有问题请启用BabelDOC后再尝试。\n若问题仍未解决，请静候2.0发布。",
          "created_at": "2025-04-18T06:22:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用2.0预览版重试\n如果2.0预览版有问题，请去BabelDOC发issue",
          "created_at": "2025-05-08T17:21:53Z"
        }
      ]
    },
    {
      "issue_number": 873,
      "title": "pdf rotation属性的支持",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win10\n- Python:3.1.1\n- pdf2zh:2.0\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/eadd0c41-69d9-4874-a42e-d64c3edcbf98)\n\n![Image](https://github.com/user-attachments/assets/f63283cf-73eb-4e36-b2b4-3b4e8850fdf6)\n类似于该文档\n\n[Multivariable feedback control _ analysis and design -- Sigurd Skogestad and Ian Postlethwaite .pdf](https://github.com/user-attachments/files/19922882/Multivariable.feedback.control._.analysis.and.design.--.Sigurd.Skogestad.and.Ian.Postlethwaite.pdf)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[Multivariable feedback control _ analysis and design -- Sigurd Skogestad and Ian Postlethwaite .pdf](https://github.com/user-attachments/files/19922883/Multivariable.feedback.control._.analysis.and.design.--.Sigurd.Skogestad.and.Ian.Postlethwaite.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "pb7778",
      "author_type": "User",
      "created_at": "2025-04-26T14:15:01Z",
      "updated_at": "2025-05-08T17:21:33Z",
      "closed_at": "2025-05-08T17:21:31Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/873/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/873",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/873",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.248340",
      "comments": [
        {
          "author": "hellofinch",
          "body": "这个好像和rotation属性无关，这个和文档有关系，之前的issue里好像有提到过。",
          "created_at": "2025-04-27T02:32:38Z"
        },
        {
          "author": "awwaawwa",
          "body": "请去BabelDOC发issue",
          "created_at": "2025-05-08T17:21:31Z"
        }
      ]
    },
    {
      "issue_number": 909,
      "title": "对于使用Microsoft Print to PDF生成的PDF文件翻译进度到100后报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nOS:Windows 11 Pro 24h2\nPython:3.13\npdfmathtranslate:1.9.6,1.9.8都存在该问题\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n翻译使用微软Edge，版本 136.0.3240.50 (正式版本) (64 位)或者Word（Office 家庭学生版2021）的Print to PDF功能生成的PDF文件，进度到100%后会报错。\n但是翻译使用相同Word文件的另存为功能生成的PDF没问题。\n翻译语言：俄语-中文，韩语-中文\n[普京国情咨文节-word打印PDF.pdf](https://github.com/user-attachments/files/20102517/-word.PDF.pdf)\n[普京国情咨文节-word另存为pdf.pdf](https://github.com/user-attachments/files/20102518/-word.pdf.pdf)\n\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n* Running on local URL:  http://0.0.0.0:7860\n* To create a public link, set `share=True` in `launch()`.\nFiles before translation: ['普京国情咨文节-word打印PDF.pdf']\n[05/08/25 19:50:08] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/small/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 4/4 [00:09<00:00,  2.31s/it]\nTraceback (most recent call last):\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 2146, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 1664, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2470, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 967, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\gradio\\utils.py\", line 884, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\gui.py\", line 334, in translate_file\n    translate(**param)\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 245, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5843, in subset_fonts\n    width_table, def_width = get_old_widths(font_xref)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\small\\Downloads\\pdf2zh\\build\\site-packages\\pymupdf\\utils.py\", line 5583, in get_old_widths\n    df_xref = int(df[1][1:-1].replace(\"0 R\", \"\"))\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: '<</Type/Font/Subtype/CIDFontType2/BaseFont/CIDFont+F1/CIDSystemInfo<</Ordering 4 /Registry 5 /Supplement 0>>/CIDToGIDMap/Identity/FontDescriptor<</Type/FontDescriptor/Ascent 810/CapHeight 687/Descent\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "smallboat123",
      "author_type": "User",
      "created_at": "2025-05-08T12:13:41Z",
      "updated_at": "2025-05-08T17:20:23Z",
      "closed_at": "2025-05-08T17:20:22Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/909/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/909",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/909",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.433524",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用2.0预览版重试",
          "created_at": "2025-05-08T17:18:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "如果2.0预览版有问题，请去BabelDOC发issue",
          "created_at": "2025-05-08T17:20:22Z"
        }
      ]
    },
    {
      "issue_number": 908,
      "title": "特定pdf翻译问题",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- **pdf2zh**: 2.0.0\n- **babeldoc**: 0.3.36\n```\n\n### How to install pdf2zh\n\nexe\n\n### Describe the bug\n\n![Image](https://github.com/user-attachments/assets/c1566db9-a3b0-4a1b-97b0-24d19fb0a82a)\n如图\n1. 使用过pdf2zh 1.9.6的旧后端，问题是一样的\n2. 原文件是可复制的矢量文字，但是不知道为什么总是会有这个报错\n```\nWARNING  WARNING:pdfminer.pdffont:WARNING:pdfminer.pdffont:Could get FontBBox from    pdffont.py:967\n                             font descriptor because None cannot be parsed as 4 floats\n```\n3. 原文件存在目录，翻译后文件目录/书签消失\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\nhttps://www.123865.com/s/P69Sjv-RkmHh\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "wuqie-xuanzhao",
      "author_type": "User",
      "created_at": "2025-05-08T11:14:22Z",
      "updated_at": "2025-05-08T17:18:59Z",
      "closed_at": "2025-05-08T17:18:58Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/908/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/908",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/908",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.596559",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请去BabelDOC发issue",
          "created_at": "2025-05-08T17:18:58Z"
        }
      ]
    },
    {
      "issue_number": 876,
      "title": "通过docker 部署的，请问web页面可不可以设置成中文，Option中Service下拉框可不可以，将不用的剔除只保留deepseek",
      "body": "### 在什么场景下，需要你请求的功能？\n\n_No response_\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "x543754000",
      "author_type": "User",
      "created_at": "2025-04-28T07:55:55Z",
      "updated_at": "2025-05-08T07:43:40Z",
      "closed_at": "2025-05-08T07:43:38Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/876/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.1.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/876",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/876",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.774938",
      "comments": [
        {
          "author": "hellofinch",
          "body": "2.0 提供了新的config system，用来完成这个目标。 \n2.0 预览版可以在 https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634422474 这里找到，如果使用过程中存在问题，请反馈。\n: )",
          "created_at": "2025-04-28T09:11:30Z"
        },
        {
          "author": "x543754000",
          "body": "> 2.0 提供了新的config system，用来完成这个目标。 2.0 预览版可以在 https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634422474 这里找到，如果使用过程中存在问题，请反馈。 : )\n\n我尝试修改gui.py里的内容，并重启了容器 ，发现更新的内容未生效，比如将PDFMathTranslate @ GitHub 这个关键词删除",
          "created_at": "2025-04-28T09:41:40Z"
        },
        {
          "author": "hellofinch",
          "body": "> 我尝试修改gui.py里的内容，\n\n请详细描述一下操作？并且确认自己对python包的安装管理方式有清楚的认识和实践。需要在安装路径下进行修改，而不是直接修改源码。",
          "created_at": "2025-04-29T00:55:12Z"
        },
        {
          "author": "happyf1990",
          "body": "同想修改只保留deepseek的选项，且因为要部署在windows server 2022，目前用的1.9.5 exe安装版，1.9.6 exe版会发生闪退，请问是否可以实现",
          "created_at": "2025-04-30T00:35:10Z"
        },
        {
          "author": "hellofinch",
          "body": "@happyf1990 尝试使用 2.0 测试版 https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634422474 有新的config system 应该是可以达到你的目的。",
          "created_at": "2025-04-30T01:11:27Z"
        }
      ]
    },
    {
      "issue_number": 906,
      "title": "链接错位",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nos:windows 11\npython:3.11.5\npdf2zh：1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n翻译文献后出现链接错位\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2106.03348v4-mono.pdf](https://github.com/user-attachments/files/20097195/2106.03348v4-mono.pdf)\n[2106.03348v4.pdf](https://github.com/user-attachments/files/20097196/2106.03348v4.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "prheworl",
      "author_type": "User",
      "created_at": "2025-05-08T05:16:33Z",
      "updated_at": "2025-05-08T05:30:13Z",
      "closed_at": "2025-05-08T05:30:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/906/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/906",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/906",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:26.972776",
      "comments": [
        {
          "author": "prheworl",
          "body": "![Image](https://github.com/user-attachments/assets/08562afb-1b9a-4691-bb29-62e0d7353577)",
          "created_at": "2025-05-08T05:20:53Z"
        }
      ]
    },
    {
      "issue_number": 883,
      "title": "ERROR:pdf2zh.converter:Connection error.  converter.py:357",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 11 home edition \n- Python:\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n以前版本没有出现过这个问题，昨天用了1.9.6，第一次发现个问题，就是翻译过程中会出现错误，虽然过段时间还能继续往下翻译，具体日志信息如下：\n\n[04/30/25 00:09:04] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/87092/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n 14%|██████████▉                                                                     | 6/44 [15:33<1:57:36, 185.71s/it][04/30/25 00:30:47] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n 45%|█████████████████████████████████████▎                                            | 20/44 [55:07<37:08, 92.84s/it][04/30/25 01:12:08] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n[04/30/25 01:12:23] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n 75%|███████████████████████████████████████████████████████████▎                   | 33/44 [1:28:51<28:56, 157.83s/it][04/30/25 01:43:25] ERROR    ERROR:pdf2zh.converter:Request timed out.                                  converter.py:357\n100%|███████████████████████████████████████████████████████████████████████████████| 44/44 [2:08:03<00:00, 174.63s/it]\nFiles after translation: ['pub-ch-earnings-dual.pdf', 'pub-ch-\n\n另外，第一次运行V1.9.6运行及翻译的完整日志如下，可以看到，刚开始运行就报了一些错误，这些错误老版本都没有发生过。\n\n[pdf2zh V1.9.6 第一次运行完整日志.txt](https://github.com/user-attachments/files/19969073/pdf2zh.V1.9.6.txt)\n\nearnings-mono.pdf', 'pub-ch-earnings.pdf', 'pub-ch-liquidity-dual.pdf', 'pub-ch-liquidity-mono.pdf', 'pub-ch-liquidity.pdf']\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n[04/30/25 00:09:04] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/87092/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n 14%|██████████▉                                                                     | 6/44 [15:33<1:57:36, 185.71s/it][04/30/25 00:30:47] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n 45%|█████████████████████████████████████▎                                            | 20/44 [55:07<37:08, 92.84s/it][04/30/25 01:12:08] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n[04/30/25 01:12:23] ERROR    ERROR:pdf2zh.converter:Connection error.                                   converter.py:357\n 75%|███████████████████████████████████████████████████████████▎                   | 33/44 [1:28:51<28:56, 157.83s/it][04/30/25 01:43:25] ERROR    ERROR:pdf2zh.converter:Request timed out.                                  converter.py:357\n100%|███████████████████████████████████████████████████████████████████████████████| 44/44 [2:08:03<00:00, 174.63s/it]\nFiles after translation: ['pub-ch-earnings-dual.pdf', 'pub-ch-\n```\n\n### 原始PDF文件\n\n[pub-ch-liquidity.pdf](https://github.com/user-attachments/files/19969122/pub-ch-liquidity.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "aleebaba",
      "author_type": "User",
      "created_at": "2025-04-30T00:12:39Z",
      "updated_at": "2025-05-08T01:03:36Z",
      "closed_at": "2025-05-08T01:02:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/883/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/883",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/883",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:27.204717",
      "comments": [
        {
          "author": "hellofinch",
          "body": "有两个问题，\n 1. 使用的是什么翻译服务？\n 2. 100%之后有没有生成对应的翻译后的文档？",
          "created_at": "2025-04-30T01:10:10Z"
        },
        {
          "author": "aleebaba",
          "body": "> 有两个问题，\n> \n> 1. 使用的是什么翻译服务？\n> 2. 100%之后有没有生成对应的翻译后的文档？\n1、使用的是翻译服务是大模型 DeepSeek R1，轨迹流动提供的。 \n2、100%之后，生成了对应的翻译后的文档。",
          "created_at": "2025-04-30T14:12:15Z"
        },
        {
          "author": "junelee220",
          "body": "我也出现了这个问题。openai",
          "created_at": "2025-05-01T05:28:52Z"
        },
        {
          "author": "aleebaba",
          "body": "> 我也出现了这个问题。openai\n\n老版本没有出现过吧？我前期使用老版本从没有出现过类似问题",
          "created_at": "2025-05-01T10:23:35Z"
        },
        {
          "author": "hellofinch",
          "body": "> > 有两个问题，\n> > \n> > 1. 使用的是什么翻译服务？\n> > 2. 100%之后有没有生成对应的翻译后的文档？\n> >    1、使用的是翻译服务是大模型 DeepSeek R1，轨迹流动提供的。\n> >    2、100%之后，生成了对应的翻译后的文档。\n\n可能是服务提供商限制了请求频率，导致时不时出现网络问题。\n同时已经出现了翻译完的文档说明整个过程正常结束了。",
          "created_at": "2025-05-06T00:59:45Z"
        }
      ]
    },
    {
      "issue_number": 681,
      "title": "pdf解析能力有点差，希望借鉴各种Computer-aided translation (CAT)工具，类似trados，可以完美翻译pdf文件",
      "body": "### 在什么场景下，需要你请求的功能？\n\n各种cat工具在pdf解析方面已经有很成熟的技术，但是我在使用本包时发现pdf翻译时文字堆叠特别严重，希望这一信息能对团队有所价值，可以使用各种cat工具转换下试试\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "oushiei120",
      "author_type": "User",
      "created_at": "2025-02-24T11:05:05Z",
      "updated_at": "2025-05-07T18:24:13Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/681/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/681",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/681",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:27.380591",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "给几个具体的cat工具链接？",
          "created_at": "2025-02-24T11:06:23Z"
        },
        {
          "author": "awwaawwa",
          "body": "补充一点名词解释给其他开发者= =\n\nComputer-aided translation (CAT)\n计算机辅助翻译\n\nTrados应该是闭源商业项目，，我们还是更想参考一些开源的工具，这样可以直接阅读源码，了解其实现细节。\n\n您是否能提供一些Trados的开源替代品？",
          "created_at": "2025-02-24T11:12:15Z"
        },
        {
          "author": "oushiei120",
          "body": "我们做笔译经常用的是 trados、 还有云译客，不过都是闭源的\n此链接下的云译客亦是闭源https://transpace.iol8.com/home。",
          "created_at": "2025-02-24T11:16:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "感谢您提供的信息！",
          "created_at": "2025-02-24T11:18:10Z"
        },
        {
          "author": "oushiei120",
          "body": "另外，现在正如上所述，许多笔译翻译项目都要用cat工具，但这些工具大多闭源、老旧，但是cat工具也有其一些优点，术语统一、翻译记忆库，可以保持pdf样式的优点。PDFMathTranslate翻译的产物面向的是简单阅读那么可以不必参考，但是如果能多迈前一步，能加入cat工具的各种功能（用户可以自主编辑翻译文本的错误），那么将会从“简单阅读”到“出版物级阅读”升级。\n\n不过似乎样式错乱导致的原因似乎是pdf的文本层与 PDFMathTranslate识别的文本层不统一有关。\n但是不知道现在中文ocr是如何的，是否可以精准为pdf的文本画框？（不太懂如何描述），如果在翻译这些文本层前，用户有机会查",
          "created_at": "2025-02-24T11:27:50Z"
        }
      ]
    },
    {
      "issue_number": 902,
      "title": "我创建了一个新的虚拟环境用于装pdf2zh，但是还是会报错，请问这是为啥呢",
      "body": "### 在什么场景下，需要你请求的功能？\n\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 306, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 232, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 163, in translate_patch\n    interpreter.process_page(page)\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 269, in process_page\n    ops_base = self.render_contents(page.resources, page.contents, ctm=ctm)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 299, in render_contents\n    return self.execute(list_value(streams))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 327, in execute\n    func(*args)\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 222, in do_Do\n    ops_base = interpreter.render_contents(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 299, in render_contents\n    return self.execute(list_value(streams))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 327, in execute\n    func(*args)\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 222, in do_Do\n    ops_base = interpreter.render_contents(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 299, in render_contents\n    return self.execute(list_value(streams))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 345, in execute\n    targs = func()\n            ^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 194, in do_sc\n    return self.do_scn()\n           ^^^^^^^^^^^^^\n  File \"D:\\anaconda3\\envs\\pdf2zh_env\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 178, in do_scn\n    if self.ncs:\n       ^^^^^^^^\nAttributeError: 'PDFPageInterpreterEx' object has no attribute 'ncs'\n[compare error]:  Command '['pdf2zh', 'D:\\\\pythonproject\\\\translated\\\\Wu 等 - 2021 - Assessment of notch fatigue and size effect using stress field intensity approach.pdf', '--t', '4', '--output', 'D:\\\\pythonproject\\\\translated', '--service', 'zhipu', '--lang-in', 'en', '--lang-out', 'zh', '--config', 'D:\\\\pythonproject\\\\config.json']' returned non-zero exit status 1.\n127.0.0.1 - - [07/May/2025 17:26:51] \"POST /compare HTTP/1.1\" 500 -\n\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "wentian810",
      "author_type": "User",
      "created_at": "2025-05-07T09:30:14Z",
      "updated_at": "2025-05-07T15:03:55Z",
      "closed_at": "2025-05-07T15:03:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/902/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/902",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/902",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:27.599910",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请正确使用issue模版",
          "created_at": "2025-05-07T15:03:54Z"
        }
      ]
    },
    {
      "issue_number": 900,
      "title": "question of use --babeldoc ？",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nWhen I use pdf2zh xxx.pdf --babeldoc -s silicon --prompt pt.txt I get an error:\n\nwith open(parsed_args.prompt, \"r\", encoding=\"utf-8\") as file:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: expected str, bytes or os.PathLike object, not Template\n\nDuring handling of the above exception, another exception occurred:\n\nRemove the parameter --babeldoc on normal, is the use of --prompt can not be used in the case of babedoc?\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Teresajw",
      "author_type": "User",
      "created_at": "2025-05-07T05:19:13Z",
      "updated_at": "2025-05-07T07:33:54Z",
      "closed_at": "2025-05-07T07:33:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/900/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/900",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/900",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:27.751980",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please complete all relevant information in the issue template.\n\nAlso, please retry using version 2.0 preview.",
          "created_at": "2025-05-07T07:33:53Z"
        }
      ]
    },
    {
      "issue_number": 901,
      "title": "使用新版本的 pdfminer.six 会导致 AttributeError",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nOS：Windows 10\nPython：3.12.9\npdf2zh：1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n如果直接使用 `pip install pdf2zh`\n会自动安装新版本的pdfminer.six `pdfminer.six==20250506`\n此时命令行运行`pdf2zh xxx.pdf`会出现如下报错\n\n> Traceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"D:\\zotero-pdf2zh\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 306, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 232, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 163, in translate_patch\n    interpreter.process_page(page)\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 269, in process_page\n    ops_base = self.render_contents(page.resources, page.contents, ctm=ctm)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 299, in render_contents\n    return self.execute(list_value(streams))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 327, in execute\n    func(*args)\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 222, in do_Do\n    ops_base = interpreter.render_contents(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 299, in render_contents\n    return self.execute(list_value(streams))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 327, in execute\n    func(*args)\n  File \"D:\\zotero-pdf2zh\\Lib\\site-packages\\pdf2zh\\pdfinterp.py\", line 227, in do_Do\n    self.ncs = interpreter.ncs\n               ^^^^^^^^^^^^^^^\nAttributeError: 'PDFPageInterpreterEx' object has no attribute 'ncs'\n\n通过查看pdfminer.six最近的提交，我认为可能是因为他们对`class PDFPageInterpreter`作出的一些更改导致的\n\n### 如何复现\n\n1. 执行 'pip install pdf2zh'\n2. 选择 'pdf2zh xxx.pdf'\n3. 出现问题\n\n\n### 预期行为\n\n执行\n```\npip uninstall pdfminer.six\npip install pdfminer.six==20240706\n```\n后可以正常运行\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n[Fix: correct colour spaces in graphics state #12 ](https://github.com/pdfminer/pdfminer.six/pull/1119/commits/85578f122c8e95357d80ad5c0a9462cdee0e3573)",
      "state": "closed",
      "author": "UUkun",
      "author_type": "User",
      "created_at": "2025-05-07T07:11:37Z",
      "updated_at": "2025-05-07T07:33:13Z",
      "closed_at": "2025-05-07T07:33:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/901/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/901",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/901",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:27.925196",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用2.0预览版重试",
          "created_at": "2025-05-07T07:33:13Z"
        }
      ]
    },
    {
      "issue_number": 891,
      "title": "关闭硅基流动平台某些模型的深度思考",
      "body": "### 在什么场景下，需要你请求的功能？\n\n现在很多模型支持思维链模式回答问题，但是太慢了，轨迹流动平台的qwen3支持发送enable_thinking=False关闭思维链，或者在提示词中加入/no_think，希望作者可以考虑这个功能\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Elkdx",
      "author_type": "User",
      "created_at": "2025-05-02T08:21:47Z",
      "updated_at": "2025-05-06T15:50:20Z",
      "closed_at": "2025-05-06T08:53:35Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/891/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/891",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/891",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.091121",
      "comments": [
        {
          "author": "zhouwei-jazz",
          "body": "确实，不光是QWEN3，之前的R1就很慢，导致处理大文档时只能用deepseek v3或其他模型，否则速度要慢5-10倍",
          "created_at": "2025-05-04T04:51:49Z"
        },
        {
          "author": "Elkdx",
          "body": "> 确实，不光是QWEN3，之前的R1就很慢，导致处理大文档时只能用deepseek v3或其他模型，否则速度要慢5-10倍\n\n我以为去translator.py里面改一下就行，改完发现没有作用，如果是qwen3的话用自定义提示词能关闭深度思考的，r1没办法关",
          "created_at": "2025-05-04T04:57:51Z"
        },
        {
          "author": "hellofinch",
          "body": "> > 确实，不光是QWEN3，之前的R1就很慢，导致处理大文档时只能用deepseek v3或其他模型，否则速度要慢5-10倍\n> \n> 我以为去translator.py里面改一下就行，改完发现没有作用，如果是qwen3的话用自定义提示词能关闭深度思考的，r1没办法关\n\n可能是改的方式不太对吧。\n我看了一下硅基流动提供的文档，他们的这些选项都是基于web API的。要是添加这个功能需要重写一下这个translator。\n@awwaawwa  这个功能在2.0来实现吧。1.x就不调整这个功能了。待我调整一下硅基流动的translator。",
          "created_at": "2025-05-06T01:33:05Z"
        },
        {
          "author": "Elkdx",
          "body": "> > > 确实，不光是QWEN3，之前的R1就很慢，导致处理大文档时只能用deepseek v3或其他模型，否则速度要慢5-10倍\n> > \n> > 我以为去translator.py里面改一下就行，改完发现没有作用，如果是qwen3的话用自定义提示词能关闭深度思考的，r1没办法关\n> \n> 可能是改的方式不太对吧。\n> 我去瞅瞅文档，看看这个选项加载什么地方。\n\nqwen3文档给的方法是修改extra_body=\r\n{\"enable_thinking\": xxx}",
          "created_at": "2025-05-06T01:43:17Z"
        },
        {
          "author": "hellofinch",
          "body": "> > > > 确实，不光是QWEN3，之前的R1就很慢，导致处理大文档时只能用deepseek v3或其他模型，否则速度要慢5-10倍\n> > > \n> > > \n> > > 我以为去translator.py里面改一下就行，改完发现没有作用，如果是qwen3的话用自定义提示词能关闭深度思考的，r1没办法关\n> > \n> > \n> > 可能是改的方式不太对吧。\n> > 我去瞅瞅文档，看看这个选项加载什么地方。\n> \n> qwen3文档给的方法是修改extra_body= {\"enable_thinking\": xxx}\n\n各家的还都不一样是吗？",
          "created_at": "2025-05-06T02:37:02Z"
        }
      ]
    },
    {
      "issue_number": 895,
      "title": "dify 的格式问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nOS: Ubuntu 24.04\nPython: 3.10\npdf2zh: 1.9.6\n```\n\n### 请选择安装方式\n\n源码\n\n### 描述你的问题\n\n目前 dify 最新版本 1.3.1，其返回格式应为 `{\"data\": {\"outputs\": {\"answer\": \"翻译后文本\"}}`\n这个在 [820](https://github.com/Byaidu/PDFMathTranslate/pull/820) 更改过，**可能需要**再更改回来。\n\n另外可以考虑在 [文档表格](https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#translate-with-different-services) 中的 Dify 的 Notes 一栏中添加一个 **输出设置 answer 参数** 的提示。（阅读源码后才发现这个 hard code 的注意事项）\n\n以下是 Dify 的响应格式\n![Image](https://github.com/user-attachments/assets/755a68ab-d7fe-4432-be69-bcd3614c0eba)\n\n### 如何复现\n\n下载源码运行\n\n### 预期行为\n\n将 820 中的更改撤除掉，在文档表格中添加 answer 输出参数的提示\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "brilliantrough",
      "author_type": "User",
      "created_at": "2025-05-05T13:21:44Z",
      "updated_at": "2025-05-06T11:00:33Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/895/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/895",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/895",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.276590",
      "comments": [
        {
          "author": "hellofinch",
          "body": "好的，谢谢反馈。\n: )\n\n可以把dify相关的文档链接发一下吗？我仔细瞅瞅，我没找到对应的页面。 : (",
          "created_at": "2025-05-06T01:10:38Z"
        },
        {
          "author": "brilliantrough",
          "body": "> 更新一下上面的说法\n\n查阅了一下，发现 dify 有工作流，Agent，Chatflow 的**三种形式**的应用。其中**工作流**是我上面所说的 `{\"data\": {\"outputs\": {\"answer\": \"翻译后文本\"}}`，而 Agent 和 Chatflow 是用的 answer，所以 [820](https://github.com/Byaidu/PDFMathTranslate/pull/820) 的改动应该**没有问题**。\n\n> 回复 可以把dify相关的文档链接发一下吗？我仔细瞅瞅，我没找到对应的页面。 : (\n\n这个我是自己部署了 dify，自己构建了应用，然后",
          "created_at": "2025-05-06T10:18:13Z"
        },
        {
          "author": "hellofinch",
          "body": "OK 我仔细研究一下，看看dify的translator应该怎么说。",
          "created_at": "2025-05-06T11:00:31Z"
        }
      ]
    },
    {
      "issue_number": 19,
      "title": "翻译扫描档存在重影 / feat (main): supports ocr on scanned document",
      "body": "\r\n![翻译错误](https://github.com/user-attachments/assets/6b239150-396e-46c2-b1bf-f6f442c50933)\r\n\r\n当pdf文件均为图像，而不是可编辑（复制）状态时，翻译完全失败，具体见图",
      "state": "open",
      "author": "jackiehejian",
      "author_type": "User",
      "created_at": "2024-11-07T03:32:16Z",
      "updated_at": "2025-05-06T09:26:39Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 31,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/19/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/19",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/19",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.450441",
      "comments": []
    },
    {
      "issue_number": 898,
      "title": "ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: ubuntu 24.04.2\n- Python: 3.10\n- pdf2zh: 1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nCannot launch the web page method:\n\n```\n$ ~/.python310/bin/pdf2zh -i\nnot in git repo\nTraceback (most recent call last):\n  File \"/home/XXXX/.python310/bin/pdf2zh\", line 8, in <module>\n    sys.exit(main())\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/pdf2zh/pdf2zh.py\", line 267, in main\n    from pdf2zh.gui import setup_gui\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/pdf2zh/gui.py\", line 11, in <module>\n    import gradio as gr\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/gradio/__init__.py\", line 3, in <module>\n    import gradio._simple_templates\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/gradio/_simple_templates/__init__.py\", line 1, in <module>\n    from .simpledropdown import SimpleDropdown\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/gradio/_simple_templates/simpledropdown.py\", line 7, in <module>\n    from gradio.components.base import Component, FormComponent\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/gradio/components/__init__.py\", line 40, in <module>\n    from gradio.components.native_plot import BarPlot, LinePlot, NativePlot, ScatterPlot\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/gradio/components/native_plot.py\", line 12, in <module>\n    import pandas as pd\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/pandas/__init__.py\", line 46, in <module>\n    from pandas.core.api import (\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/pandas/core/api.py\", line 1, in <module>\n    from pandas._libs import (\n  File \"/home/XXXX/.python310/lib/python3.10/site-packages/pandas/_libs/__init__.py\", line 18, in <module>\n    from pandas._libs.interval import Interval\n  File \"interval.pyx\", line 1, in init pandas._libs.interval\nValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject\n\n```\n\n\nVersion:\n\n```\n$ ~/.python310/bin/pdf2zh --version\nnot in git repo\npdf2zh v1.9.6\n```\n\nInstalled dependence:\n```\n$ ~/.python310/bin/pip3  install pdf2zh\nLooking in indexes: https://mirrors.tuna.tsinghua.edu.cn/pypi/web/simple\nRequirement already satisfied: pdf2zh in /home/XXXX/.python310/lib/python3.10/site-packages (1.9.6)\nRequirement already satisfied: azure-ai-translation-text<=1.0.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.0.1)\nRequirement already satisfied: babeldoc<0.3.0,>=0.1.22 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (0.2.33)\nRequirement already satisfied: tqdm in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (4.67.1)\nRequirement already satisfied: requests in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (2.31.0)\nRequirement already satisfied: fonttools in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (4.53.0)\nRequirement already satisfied: peewee>=3.17.8 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (3.17.8)\nRequirement already satisfied: pymupdf<1.25.3 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.25.2)\nRequirement already satisfied: ollama in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (0.4.7)\nRequirement already satisfied: deepl in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.21.0)\nRequirement already satisfied: openai in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.77.0)\nRequirement already satisfied: xinference-client in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.2.0)\nRequirement already satisfied: tencentcloud-sdk-python-tmt in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (3.0.1372)\nRequirement already satisfied: numpy in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (2.2.5)\nRequirement already satisfied: onnxruntime in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.20.1)\nRequirement already satisfied: opencv-python-headless in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (4.11.0.86)\nRequirement already satisfied: gradio-pdf>=0.0.21 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (0.0.21)\nRequirement already satisfied: pikepdf in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (9.5.1)\nRequirement already satisfied: tenacity in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (9.1.2)\nRequirement already satisfied: onnx in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (1.17.0)\nRequirement already satisfied: pdfminer-six>=20240706 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (20240706)\nRequirement already satisfied: huggingface-hub in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (0.27.1)\nRequirement already satisfied: rich in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (14.0.0)\nRequirement already satisfied: gradio in /home/XXXX/.python310/lib/python3.10/site-packages (from pdf2zh) (5.12.0)\nRequirement already satisfied: isodate>=0.6.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from azure-ai-translation-text<=1.0.1->pdf2zh) (0.7.2)\nRequirement already satisfied: azure-core>=1.30.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from azure-ai-translation-text<=1.0.1->pdf2zh) (1.32.0)\nRequirement already satisfied: typing-extensions>=4.6.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from azure-ai-translation-text<=1.0.1->pdf2zh) (4.13.2)\nRequirement already satisfied: msgpack>=1.1.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.1.0)\nRequirement already satisfied: configargparse>=1.7 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.7)\nRequirement already satisfied: orjson>=3.10.14 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (3.10.15)\nRequirement already satisfied: xsdata[cli,lxml,soap]>=24.12 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (25.4)\nRequirement already satisfied: python-levenshtein>=0.27.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.27.1)\nRequirement already satisfied: pydantic>=2.10.6 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (2.11.4)\nRequirement already satisfied: toml>=0.10.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.10.2)\nRequirement already satisfied: freetype-py>=2.5.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (2.5.1)\nRequirement already satisfied: tiktoken>=0.9.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.9.0)\nRequirement already satisfied: httpx[socks]>=0.27.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.27.0)\nRequirement already satisfied: bitstring>=4.3.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (4.3.1)\nRequirement already satisfied: psutil>=7.0.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (7.0.0)\nRequirement already satisfied: scikit-image>=0.25.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.25.2)\nRequirement already satisfied: rapidocr-onnxruntime>=1.4.4 in /home/XXXX/.python310/lib/python3.10/site-packages (from babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.4.4)\nRequirement already satisfied: gradio-client==1.5.4 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (1.5.4)\nRequirement already satisfied: semantic-version~=2.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (2.10.0)\nRequirement already satisfied: tomlkit<0.14.0,>=0.12.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.13.2)\nRequirement already satisfied: python-multipart>=0.0.18 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.0.20)\nRequirement already satisfied: fastapi<1.0,>=0.115.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.115.6)\nRequirement already satisfied: typer<1.0,>=0.12 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.15.3)\nRequirement already satisfied: packaging in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (24.2)\nRequirement already satisfied: safehttpx<0.2.0,>=0.1.6 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.1.6)\nRequirement already satisfied: anyio<5.0,>=3.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (4.4.0)\nRequirement already satisfied: pyyaml<7.0,>=5.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (6.0.2)\nRequirement already satisfied: markupsafe~=2.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (2.1.5)\nRequirement already satisfied: aiofiles<24.0,>=22.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (23.2.1)\nRequirement already satisfied: pydub in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.25.1)\nRequirement already satisfied: pillow<12.0,>=8.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (10.2.0)\nRequirement already satisfied: jinja2<4.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (3.1.6)\nRequirement already satisfied: ffmpy in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.5.0)\nRequirement already satisfied: uvicorn>=0.14.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.34.0)\nRequirement already satisfied: ruff>=0.2.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.11.8)\nRequirement already satisfied: pandas<3.0,>=1.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (2.1.1)\nRequirement already satisfied: starlette<1.0,>=0.40.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio->pdf2zh) (0.41.3)\nRequirement already satisfied: websockets<15.0,>=10.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio-client==1.5.4->gradio->pdf2zh) (11.0.3)\nRequirement already satisfied: fsspec in /home/XXXX/.python310/lib/python3.10/site-packages (from gradio-client==1.5.4->gradio->pdf2zh) (2024.12.0)\nRequirement already satisfied: filelock in /home/XXXX/.python310/lib/python3.10/site-packages (from huggingface-hub->pdf2zh) (3.16.1)\nRequirement already satisfied: protobuf>=3.20.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from onnx->pdf2zh) (4.25.6)\nRequirement already satisfied: coloredlogs in /home/XXXX/.python310/lib/python3.10/site-packages (from onnxruntime->pdf2zh) (15.0.1)\nRequirement already satisfied: sympy in /home/XXXX/.python310/lib/python3.10/site-packages (from onnxruntime->pdf2zh) (1.13.1)\nRequirement already satisfied: flatbuffers in /home/XXXX/.python310/lib/python3.10/site-packages (from onnxruntime->pdf2zh) (24.12.23)\nRequirement already satisfied: distro<2,>=1.7.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from openai->pdf2zh) (1.9.0)\nRequirement already satisfied: jiter<1,>=0.4.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from openai->pdf2zh) (0.8.2)\nRequirement already satisfied: sniffio in /home/XXXX/.python310/lib/python3.10/site-packages (from openai->pdf2zh) (1.3.1)\nRequirement already satisfied: cryptography>=36.0.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdfminer-six>=20240706->pdf2zh) (43.0.0)\nRequirement already satisfied: charset-normalizer>=2.0.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from pdfminer-six>=20240706->pdf2zh) (3.3.2)\nRequirement already satisfied: markdown-it-py>=2.2.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from rich->pdf2zh) (3.0.0)\nRequirement already satisfied: pygments<3.0.0,>=2.13.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from rich->pdf2zh) (2.19.1)\nRequirement already satisfied: idna<4,>=2.5 in /home/XXXX/.python310/lib/python3.10/site-packages (from requests->pdf2zh) (3.7)\nRequirement already satisfied: certifi>=2017.4.17 in /home/XXXX/.python310/lib/python3.10/site-packages (from requests->pdf2zh) (2024.7.4)\nRequirement already satisfied: urllib3<3,>=1.21.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from requests->pdf2zh) (1.26.20)\nRequirement already satisfied: lxml>=4.8 in /home/XXXX/.python310/lib/python3.10/site-packages (from pikepdf->pdf2zh) (5.2.2)\nRequirement already satisfied: Deprecated in /home/XXXX/.python310/lib/python3.10/site-packages (from pikepdf->pdf2zh) (1.2.15)\nRequirement already satisfied: tencentcloud-sdk-python-common==3.0.1372 in /home/XXXX/.python310/lib/python3.10/site-packages (from tencentcloud-sdk-python-tmt->pdf2zh) (3.0.1372)\nRequirement already satisfied: exceptiongroup>=1.0.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from anyio<5.0,>=3.0->gradio->pdf2zh) (1.2.1)\nRequirement already satisfied: six>=1.11.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from azure-core>=1.30.0->azure-ai-translation-text<=1.0.1->pdf2zh) (1.17.0)\nRequirement already satisfied: bitarray<4.0,>=3.0.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from bitstring>=4.3.0->babeldoc<0.3.0,>=0.1.22->pdf2zh) (3.3.2)\nRequirement already satisfied: cffi>=1.12 in /home/XXXX/.python310/lib/python3.10/site-packages (from cryptography>=36.0.0->pdfminer-six>=20240706->pdf2zh) (1.17.0)\nRequirement already satisfied: httpcore==1.* in /home/XXXX/.python310/lib/python3.10/site-packages (from httpx[socks]>=0.27.0->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.0.5)\nRequirement already satisfied: h11<0.15,>=0.13 in /home/XXXX/.python310/lib/python3.10/site-packages (from httpcore==1.*->httpx[socks]>=0.27.0->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.14.0)\nRequirement already satisfied: socksio==1.* in /home/XXXX/.python310/lib/python3.10/site-packages (from httpx[socks]>=0.27.0->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.0.0)\nRequirement already satisfied: mdurl~=0.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from markdown-it-py>=2.2.0->rich->pdf2zh) (0.1.2)\nRequirement already satisfied: tzdata>=2022.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from pandas<3.0,>=1.0->gradio->pdf2zh) (2024.2)\nRequirement already satisfied: python-dateutil>=2.8.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from pandas<3.0,>=1.0->gradio->pdf2zh) (2.9.0.post0)\nRequirement already satisfied: pytz>=2020.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from pandas<3.0,>=1.0->gradio->pdf2zh) (2024.2)\nRequirement already satisfied: typing-inspection>=0.4.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from pydantic>=2.10.6->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.4.0)\nRequirement already satisfied: pydantic-core==2.33.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from pydantic>=2.10.6->babeldoc<0.3.0,>=0.1.22->pdf2zh) (2.33.2)\nRequirement already satisfied: annotated-types>=0.6.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from pydantic>=2.10.6->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.7.0)\nRequirement already satisfied: Levenshtein==0.27.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from python-levenshtein>=0.27.1->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.27.1)\nRequirement already satisfied: rapidfuzz<4.0.0,>=3.9.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from Levenshtein==0.27.1->python-levenshtein>=0.27.1->babeldoc<0.3.0,>=0.1.22->pdf2zh) (3.9.4)\nRequirement already satisfied: pyclipper>=1.2.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from rapidocr-onnxruntime>=1.4.4->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.3.0.post5)\nRequirement already satisfied: opencv-python>=4.5.1.48 in /home/XXXX/.python310/lib/python3.10/site-packages (from rapidocr-onnxruntime>=1.4.4->babeldoc<0.3.0,>=0.1.22->pdf2zh) (4.10.0.84)\nRequirement already satisfied: Shapely!=2.0.4,>=1.7.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from rapidocr-onnxruntime>=1.4.4->babeldoc<0.3.0,>=0.1.22->pdf2zh) (2.1.0)\nRequirement already satisfied: tifffile>=2022.8.12 in /home/XXXX/.python310/lib/python3.10/site-packages (from scikit-image>=0.25.2->babeldoc<0.3.0,>=0.1.22->pdf2zh) (2024.7.2)\nRequirement already satisfied: imageio!=2.35.0,>=2.33 in /home/XXXX/.python310/lib/python3.10/site-packages (from scikit-image>=0.25.2->babeldoc<0.3.0,>=0.1.22->pdf2zh) (2.34.2)\nRequirement already satisfied: lazy-loader>=0.4 in /home/XXXX/.python310/lib/python3.10/site-packages (from scikit-image>=0.25.2->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.4)\nRequirement already satisfied: networkx>=3.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from scikit-image>=0.25.2->babeldoc<0.3.0,>=0.1.22->pdf2zh) (3.2.1)\nRequirement already satisfied: scipy>=1.11.4 in /home/XXXX/.python310/lib/python3.10/site-packages (from scikit-image>=0.25.2->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.15.2)\nRequirement already satisfied: regex>=2022.1.18 in /home/XXXX/.python310/lib/python3.10/site-packages (from tiktoken>=0.9.0->babeldoc<0.3.0,>=0.1.22->pdf2zh) (2023.12.25)\nRequirement already satisfied: shellingham>=1.3.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from typer<1.0,>=0.12->gradio->pdf2zh) (1.5.4)\nRequirement already satisfied: click>=8.0.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from typer<1.0,>=0.12->gradio->pdf2zh) (8.1.8)\nRequirement already satisfied: docformatter>=1.7.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from xsdata[cli,lxml,soap]>=24.12->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.7.5)\nRequirement already satisfied: click-default-group>=1.2 in /home/XXXX/.python310/lib/python3.10/site-packages (from xsdata[cli,lxml,soap]>=24.12->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.2.4)\nRequirement already satisfied: toposort>=1.5 in /home/XXXX/.python310/lib/python3.10/site-packages (from xsdata[cli,lxml,soap]>=24.12->babeldoc<0.3.0,>=0.1.22->pdf2zh) (1.10)\nRequirement already satisfied: humanfriendly>=9.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from coloredlogs->onnxruntime->pdf2zh) (10.0)\nRequirement already satisfied: wrapt<2,>=1.10 in /home/XXXX/.python310/lib/python3.10/site-packages (from Deprecated->pikepdf->pdf2zh) (1.15.0)\nRequirement already satisfied: mpmath<1.4,>=1.1.0 in /home/XXXX/.python310/lib/python3.10/site-packages (from sympy->onnxruntime->pdf2zh) (1.3.0)\nRequirement already satisfied: pycparser in /home/XXXX/.python310/lib/python3.10/site-packages (from cffi>=1.12->cryptography>=36.0.0->pdfminer-six>=20240706->pdf2zh) (2.22)\nRequirement already satisfied: untokenize<0.2.0,>=0.1.1 in /home/XXXX/.python310/lib/python3.10/site-packages (from docformatter>=1.7.2->xsdata[cli,lxml,soap]>=24.12->babeldoc<0.3.0,>=0.1.22->pdf2zh) (0.1.1)\n```\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "tonyho",
      "author_type": "User",
      "created_at": "2025-05-06T03:33:21Z",
      "updated_at": "2025-05-06T03:34:58Z",
      "closed_at": "2025-05-06T03:34:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/898/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/898",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/898",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.450463",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请开独立虚拟环境，或尝试使用uv tools安装",
          "created_at": "2025-05-06T03:34:56Z"
        }
      ]
    },
    {
      "issue_number": 894,
      "title": "另一个程序正在使用此文件，进程无法访问。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 10\n- Python:3.12.5\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n执行中带有--babeldoc参数时会报出 “另一个程序正在使用这个功能，进程无法访问”，报错日志如下\n\n执行命令：pdf2zh --babeldoc -s google file1.pdf\n\n \n\n### 如何复现\n\n1. 执行 'pdf2zh --babeldoc -lo zh -li en file.pdf'\n2. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n[05/05/25 11:56:30] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/ABC/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n                    INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:47\n                    INFO     INFO:babeldoc.docvision.doclayout:Available Provider: CPUExecutionProvider doclayout.py:118\n[05/05/25 11:56:31] INFO     INFO:babeldoc.high_level:start to translate: file1.pdf                    high_level.py:382\n[05/05/25 11:56:33] WARNING  WARNING:babeldoc.document_il.midend.detect_scanned_file:Detected  detect_scanned_file.py:98\n                             16 scanned pages, which is more than 80% of the total pages.\n                             Please check the input PDF file.\n                    INFO     INFO:babeldoc.high_level:Peak memory usage: 606.09 MB                     high_level.py:333\n                    ERROR    ERROR:babeldoc.high_level:translate error: Scanned PDF detected.          high_level.py:519\n                             Traceback (most recent call last):\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldoc\\\n                             high_level.py\", line 388, in do_translate\n                                 result = _do_translate_single(pm, translation_config)\n                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldoc\\\n                             high_level.py\", line 587, in _do_translate_single\n                                 DetectScannedFile(translation_config).process(docs)\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldoc\\\n                             document_il\\midend\\detect_scanned_file.py\", line 102, in process\n                                 raise ScannedPDFError(\"Scanned PDF detected.\")\n                             babeldoc.document_il.babeldoc_exception.BabelDOCException.ScannedPDFError\n                             : Scanned PDF detected.\n                    INFO     INFO:babeldoc.progress_monitor:progress_monitor handle              progress_monitor.py:247\n                             translate_error: Scanned PDF detected.\n                    INFO     INFO:babeldoc.high_level:Waiting for translation to finish...             high_level.py:287\n                    INFO     INFO:babeldoc.translation_config:cleanup temp files:              translation_config.py:240\n                             C:\\Users\\ABC\\AppData\\Local\\Temp\\tmpyl2_owzb\ntranslate                                              ━━━━━━╸━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  16/100 0:00:02 0:00:10\nParse PDF and Create Intermediate Representation (1/1) ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19/19   0:00:00 0:00:00\nDetectScannedFile (1/1)                                ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 19/19   0:00:01 0:00:00\n                    ERROR    ERROR:asyncio:Future exception was never retrieved                      base_events.py:1820\n                             future: <Future finished exception=PermissionError(13,\n                             '另一个程序正在使用此文件，进程无法访问。')>\n                             Traceback (most recent call last):\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldo\n                             c\\high_level.py\", line 388, in do_translate\n                                 result = _do_translate_single(pm, translation_config)\n                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldo\n                             c\\high_level.py\", line 587, in _do_translate_single\n                                 DetectScannedFile(translation_config).process(docs)\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldo\n                             c\\document_il\\midend\\detect_scanned_file.py\", line 102, in process\n                                 raise ScannedPDFError(\"Scanned PDF detected.\")\n                             babeldoc.document_il.babeldoc_exception.BabelDOCException.ScannedPDFErr\n                             or: Scanned PDF detected.\n\n                             During handling of the above exception, another exception occurred:\n\n                             Traceback (most recent call last):\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\concurrent\\fu\n                             tures\\thread.py\", line 58, in run\n                                 result = self.fn(*self.args, **self.kwargs)\n                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldo\n                             c\\high_level.py\", line 525, in do_translate\n                                 translation_config.cleanup_temp_files()\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Roaming\\uv\\tools\\pdf2zh\\Lib\\site-packages\\babeldo\n                             c\\translation_config.py\", line 241, in cleanup_temp_files\n                                 shutil.rmtree(self.working_dir)\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\shutil.py\",\n                             line 781, in rmtree\n                                 return _rmtree_unsafe(path, onexc)\n                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\shutil.py\",\n                             line 635, in _rmtree_unsafe\n                                 onexc(os.unlink, fullname, err)\n                               File\n                             \"C:\\Users\\ABC\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\shutil.py\",\n                             line 633, in _rmtree_unsafe\n                                 os.unlink(fullname)\n                             PermissionError: [WinError 32]\n                             另一个程序正在使用此文件，进程无法访问。:\n                             'C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Temp\\\\tmpyl2_owzb\\\\input.pdf'\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "YandN",
      "author_type": "User",
      "created_at": "2025-05-05T04:01:26Z",
      "updated_at": "2025-05-05T09:42:38Z",
      "closed_at": "2025-05-05T09:42:36Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/894/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/894",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/894",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.655961",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "真实原因：                    ERROR    ERROR:babeldoc.high_level:translate error: Scanned PDF detected.          high_level.py:519\n\n然后下面是清理缓存失败了，那个错误忽略就行。后面有空了慢慢修。",
          "created_at": "2025-05-05T09:42:36Z"
        }
      ]
    },
    {
      "issue_number": 893,
      "title": "不要翻译Reference部分",
      "body": "### 在什么场景下，需要你请求的功能？\n\n不要翻译Reference部分。这部分翻译时间长，通常也不需要翻译。\n\n### 解决方案\n\n在prompt中加入 DO NOT Translate the reference section.\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "bingosxs",
      "author_type": "User",
      "created_at": "2025-05-04T14:59:52Z",
      "updated_at": "2025-05-04T16:15:32Z",
      "closed_at": "2025-05-04T16:15:32Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/893/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/893",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/893",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.827765",
      "comments": []
    },
    {
      "issue_number": 890,
      "title": "How can I force translation of table contents?",
      "body": "### 在什么场景下，需要你请求的功能？\n\nIs there a way to force table contents to be translated just like regular text?\n\nI’ve tried several times, and while the overall translation quality was good, the content inside tables wasn’t translated at all.\nIn my case, most of the data in the tables is plain English, so I expected it to be translated as well, but it was skipped.\n\nIs there a method to ensure that text within tables is also translated like other parts of the document?\n\nThank you in advance for your help.\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "kimsama",
      "author_type": "User",
      "created_at": "2025-05-02T06:40:24Z",
      "updated_at": "2025-05-04T11:17:16Z",
      "closed_at": "2025-05-04T11:17:15Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/890/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/890",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/890",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.827787",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2848690203",
          "created_at": "2025-05-04T11:17:15Z"
        }
      ]
    },
    {
      "issue_number": 888,
      "title": "代码修正",
      "body": "### 在什么场景下，需要你请求的功能？\n\n[为了实现巨潮网某家公司的多页pdf文件下载，创建附件中的代码](\n\n[1.txt](https://github.com/user-attachments/files/20001862/1.txt)\n\n)\n文本中的代码运行后一直出现以下报错：\n解析行数据时出错: Message: no such element: element not found\n  (Session info: chrome=135.0.7049.115); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception \nStacktrace:\n\tGetHandleVerifier [0x00007FF6BA29EFA5+77893]\n\tGetHandleVerifier [0x00007FF6BA29F000+77984]\n\t(No symbol) [0x00007FF6BA0691BA]\n\t(No symbol) [0x00007FF6BA07F524]\n\t(No symbol) [0x00007FF6BA07DFF3]\n\t(No symbol) [0x00007FF6BA071819]\n\t(No symbol) [0x00007FF6BA06F69F]\n\t(No symbol) [0x00007FF6BA073B5C]\n\t(No symbol) [0x00007FF6BA073C2F]\n\t(No symbol) [0x00007FF6BA0BEA17]\n\t(No symbol) [0x00007FF6BA0BF41C]\n\t(No symbol) [0x00007FF6BA0B1B1C]\n\t(No symbol) [0x00007FF6BA0E716F]\n\t(No symbol) [0x00007FF6BA0B19E6]\n\t(No symbol) [0x00007FF6BA0E7340]\n\t(No symbol) [0x00007FF6BA10F07F]\n\t(No symbol) [0x00007FF6BA0E6F03]\n\t(No symbol) [0x00007FF6BA0B0328]\n\t(No symbol) [0x00007FF6BA0B1093]\n\tGetHandleVerifier [0x00007FF6BA557B6D+2931725]\n\tGetHandleVerifier [0x00007FF6BA552132+2908626]\n\tGetHandleVerifier [0x00007FF6BA5700F3+3031443]\n\tGetHandleVerifier [0x00007FF6BA2B91EA+184970]\n\tGetHandleVerifier [0x00007FF6BA2C086F+215311]\n\tGetHandleVerifier [0x00007FF6BA2A6EC4+110436]\n\tGetHandleVerifier [0x00007FF6BA2A7072+110866]\n\tGetHandleVerifier [0x00007FF6BA28D479+5401]\n\t[0x00007FFE7DC87374+20]\n\tRtlUserThreadStart [0x00007FFE7F19CC91+33]\n\n### 解决方案\n\n希望能用selenium库实现我的目的\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "YH1128yh",
      "author_type": "User",
      "created_at": "2025-05-01T16:16:22Z",
      "updated_at": "2025-05-01T17:01:19Z",
      "closed_at": "2025-05-01T16:54:42Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/888/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/888",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/888",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:28.995909",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "与本项目无关",
          "created_at": "2025-05-01T16:54:42Z"
        },
        {
          "author": "YH1128yh",
          "body": "抱歉，忘记切换了😂\r\n----&nbsp;原始邮件&nbsp;----\r\n***@***.***&gt;;\r\nDate:2025年5月2日(星期五)&nbsp;凌晨0:55\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\nSubject:Re:&nbsp;[Byaidu/PDFMathTranslate]&nbsp;代码修正&nbsp;(Issue&nbsp;#888)\r\n\r\n awwaawwa left a comment (Byaidu/PDFMathTranslate#888)\r\n \r\n与本项目无关\r\n \r\n&mdash;\r\nReply t",
          "created_at": "2025-05-01T17:01:18Z"
        }
      ]
    },
    {
      "issue_number": 889,
      "title": "python爬虫代码",
      "body": "### 在什么场景下，需要你请求的功能？\n\n[为了实现巨潮网某家公司的多页pdf文件下载，创建附件中的代码]\n\n[1.txt](https://github.com/user-attachments/files/20001953/1.txt)\n\n文本中的代码运行后一直出现以下报错：\n解析行数据时出错: Message: no such element: element not found\n  (Session info: chrome=135.0.7049.115); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception \nStacktrace:\n\tGetHandleVerifier [0x00007FF6BA29EFA5+77893]\n\tGetHandleVerifier [0x00007FF6BA29F000+77984]\n\t(No symbol) [0x00007FF6BA0691BA]\n\t(No symbol) [0x00007FF6BA07F524]\n\t(No symbol) [0x00007FF6BA07DFF3]\n\t(No symbol) [0x00007FF6BA071819]\n\t(No symbol) [0x00007FF6BA06F69F]\n\t(No symbol) [0x00007FF6BA073B5C]\n\t(No symbol) [0x00007FF6BA073C2F]\n\t(No symbol) [0x00007FF6BA0BEA17]\n\t(No symbol) [0x00007FF6BA0BF41C]\n\t(No symbol) [0x00007FF6BA0B1B1C]\n\t(No symbol) [0x00007FF6BA0E716F]\n\t(No symbol) [0x00007FF6BA0B19E6]\n\t(No symbol) [0x00007FF6BA0E7340]\n\t(No symbol) [0x00007FF6BA10F07F]\n\t(No symbol) [0x00007FF6BA0E6F03]\n\t(No symbol) [0x00007FF6BA0B0328]\n\t(No symbol) [0x00007FF6BA0B1093]\n\tGetHandleVerifier [0x00007FF6BA557B6D+2931725]\n\tGetHandleVerifier [0x00007FF6BA552132+2908626]\n\tGetHandleVerifier [0x00007FF6BA5700F3+3031443]\n\tGetHandleVerifier [0x00007FF6BA2B91EA+184970]\n\tGetHandleVerifier [0x00007FF6BA2C086F+215311]\n\tGetHandleVerifier [0x00007FF6BA2A6EC4+110436]\n\tGetHandleVerifier [0x00007FF6BA2A7072+110866]\n\tGetHandleVerifier [0x00007FF6BA28D479+5401]\n\t[0x00007FFE7DC87374+20]\n\tRtlUserThreadStart [0x00007FFE7F19CC91+33]\n\n### 解决方案\n\n希望能改正代码以实现我的目的\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "YH1128yh",
      "author_type": "User",
      "created_at": "2025-05-01T16:24:20Z",
      "updated_at": "2025-05-01T16:53:49Z",
      "closed_at": "2025-05-01T16:53:36Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/889/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/889",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/889",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:29.184056",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "与本项目无关",
          "created_at": "2025-05-01T16:53:48Z"
        }
      ]
    },
    {
      "issue_number": 53,
      "title": "无法保留目录页格式",
      "body": "## 问题描述\r\n\r\n翻译目录内容排版不整齐\r\n![1731674129363](https://github.com/user-attachments/assets/4b20a973-2a07-4bca-8d12-123144149282)\r\n\r\n\r\n## 测试文档\r\n\r\n[FNP_LicAdmin.pdf](https://github.com/user-attachments/files/17776691/FNP_LicAdmin.pdf)\r\n\r\n\r\n\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\n\r\n\r\n使用模型\r\nhttps://api.siliconflow.cn/v1/deepseek-ai/DeepSeek-V2.5\r\n\r\n\r\n\r\n",
      "state": "open",
      "author": "Poppypy",
      "author_type": "User",
      "created_at": "2024-11-15T12:34:45Z",
      "updated_at": "2025-05-01T10:58:27Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/53/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/53",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/53",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:29.343308",
      "comments": [
        {
          "author": "Byaidu",
          "body": "麻烦按照 issue 的模版把图片和文档贴好",
          "created_at": "2024-11-15T12:44:23Z"
        },
        {
          "author": "Atul-8",
          "body": "我也遇到了这个问题, 蹲一个优化",
          "created_at": "2024-12-26T04:25:39Z"
        },
        {
          "author": "littledgg",
          "body": "同\r\n[cuDNN-Developer-Guide](https://docs.nvidia.com/deeplearning/cudnn/archives/cudnn-897/pdf/cuDNN-Developer-Guide.pdf)\r\n引擎是siliconflow的Qwen2.5-7B-Instruct，难道说会有别的引擎能正常翻译吗😵‍💫\r\n![image](https://github.com/user-attachments/assets/c4677618-65a5-4280-9172-ae7b64d674f0)\r\n![image](https://github.com/user-",
          "created_at": "2025-01-15T08:54:42Z"
        },
        {
          "author": "hellofinch",
          "body": "目前目录有些问题，正在调整",
          "created_at": "2025-01-15T10:07:10Z"
        },
        {
          "author": "wxmpro",
          "body": "加油，问题还存在",
          "created_at": "2025-05-01T10:58:26Z"
        }
      ]
    },
    {
      "issue_number": 887,
      "title": "代码类的pdf，代码框里面的代码会个别错位与重叠",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n代码类的pdf，代码框里面的代码会个别错位与重叠\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "NeedRelax",
      "author_type": "User",
      "created_at": "2025-05-01T07:40:47Z",
      "updated_at": "2025-05-01T07:52:27Z",
      "closed_at": "2025-05-01T07:52:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/887/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/887",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/887",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:29.543440",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请发一个新issue，完整填写issue模版，并提供原始pdf文件。",
          "created_at": "2025-05-01T07:52:26Z"
        }
      ]
    },
    {
      "issue_number": 886,
      "title": "行内公式的排版",
      "body": "### 在什么场景下，需要你请求的功能？\n\n行内公式的排版未能随着翻译而迁移\n\n![Image](https://github.com/user-attachments/assets/3a282ca3-5a67-48e7-b371-5922583b0d06)\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "l0190",
      "author_type": "User",
      "created_at": "2025-05-01T02:41:28Z",
      "updated_at": "2025-05-01T06:47:37Z",
      "closed_at": "2025-05-01T06:47:18Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/886/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/886",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/886",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:29.793806",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://app.immersivetranslate.com/babel-doc/\n\n请在这里重试。\n如果问题持续，请重开issue，使用上报bug模版，并填写相关内容",
          "created_at": "2025-05-01T06:47:18Z"
        }
      ]
    },
    {
      "issue_number": 884,
      "title": "用Gemini翻译出现错误，在7.1%时不再继续",
      "body": "### 在什么场景下，需要你请求的功能？\n\n使用Gemini的 gemini-2.0-flash在进行翻译时，进行到7.1%就出现错误，不再继续进行。请教大佬怎么解决？\n\n                    ERROR    ERROR:pdf2zh.converter:Error code: 403 - [{'error': {'code': 403,          converter.py:357\n                             'message': 'Generative Language API has not been used in project\n                             845248215272 before or it is disabled. Enable it by visiting\n                             https://console.developers.google.com/apis/api/generativelanguage.googleap\n                             is.com/overview?project=845248215272 then retry. If you enabled this API\n                             recently, wait a few minutes for the action to propagate to our systems\n                             and retry.', 'status': 'PERMISSION_DENIED', 'details': [{'@type':\n                             'type.googleapis.com/google.rpc.ErrorInfo', 'reason': 'SERVICE_DISABLED',\n                             'domain': 'googleapis.com', 'metadata': {'serviceTitle': 'Generative\n                             Language API', 'consumer': 'projects/845248215272', 'containerInfo':\n                             '845248215272', 'service': 'generativelanguage.googleapis.com',\n                             'activationUrl':\n                             'https://console.developers.google.com/apis/api/generativelanguage.googlea\n                             pis.com/overview?project=845248215272'}}, {'@type':\n                             'type.googleapis.com/google.rpc.LocalizedMessage', 'locale': 'en-US',\n                             'message': 'Generative Language API has not been used in project\n                             845248215272 before or it is disabled. Enable it by visiting\n                             https://console.developers.google.com/apis/api/generativelanguage.googleap\n                             is.com/overview?project=845248215272 then retry. If you enabled this API\n                             recently, wait a few minutes for the action to propagate to our systems\n                             and retry.'}, {'@type': 'type.googleapis.com/google.rpc.Help', 'links':\n                             [{'description': 'Google developers console API activation', 'url':\n                             'https://console.developers.google.com/apis/api/generativelanguage.googlea\n                             pis.com/overview?project=845248215272'}]}]}}]\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "qfsyqf",
      "author_type": "User",
      "created_at": "2025-04-30T00:53:01Z",
      "updated_at": "2025-04-30T13:54:42Z",
      "closed_at": "2025-04-30T02:19:42Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/884/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/884",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/884",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:29.999444",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用任意翻译软件将你提交的翻译信息翻译成母语，然后根据其中的说明操作。",
          "created_at": "2025-04-30T02:19:42Z"
        },
        {
          "author": "qfsyqf",
          "body": "谢谢！",
          "created_at": "2025-04-30T13:54:41Z"
        }
      ]
    },
    {
      "issue_number": 793,
      "title": "feat: batch recursive translation",
      "body": "### 在什么场景下，需要你请求的功能？\n\n对于一些论文需要分目录进行存放，目前的功能可实现整个文件夹的翻译，但是如果我的文件夹下面还有子文件夹，对于子文件夹的文件翻译后，还是指能存在我指定（如-o ./trans）的文件夹中，我希望有个功能可实现，子文件夹中的文件放入我指定目录下面的子文件夹中，孙文件夹中的文件放入我指定目录下的孙文件夹下面，这样翻译后的文件的存放结构与我原始文件就是匹配的。\n\n### 解决方案\n\n看能否在PDF2zh中集成这个功能，对于科研狗来说，很有用啊。\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "zpofrp",
      "author_type": "User",
      "created_at": "2025-03-22T12:04:07Z",
      "updated_at": "2025-04-30T03:18:00Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Normal priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/793/reactions",
        "total_count": 5,
        "+1": 5,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/793",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/793",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:30.234468",
      "comments": [
        {
          "author": "reycn",
          "body": "是一个很实用的功能，但这个需求相对边缘。考虑到暂无人贡献，暂时不在 pdf2zh 主程序提供吧。\n\n如确有需要可以直接让 gemini 写一个 bash 递归脚本实现（<3 mins）。注意指定翻译后的文件输出目录，通过 `pdf2zh ... -o $dir` 这个指令。详情参见 https://github.com/Byaidu/PDFMathTranslate#advanced-options",
          "created_at": "2025-04-30T03:02:11Z"
        }
      ]
    },
    {
      "issue_number": 541,
      "title": "文档按照原文一比一输出，无法翻译",
      "body": "## 问题描述\n使用本项目翻译英文文档时出现将文档原文一比一输出的情况，仅封面可以翻译。尝试使用命令指定源语言为英文，翻译为中文也无法解决问题，Google 搜索以及 wiki，GitHub 中都没有提及。\n双语版本翻译效果如图：\n\n![Image](https://github.com/user-attachments/assets/52028d71-cb69-452c-9111-d78a6a796a30)\n\n由于文档较大，上传失败，附上文档原件链接如下：\n## 测试文档\n> [!IMPORTANT]\n> 原文下载自 Z-library，链接为：[_Fluid Mechanics (9th Edition)_](https://z-library.sk/book/19191169/893bdc/fluid-mechanics-9th-edition.html\n)\n<!-- Failed to upload \"Fluid Mechanics (9th Edition) (Frank M. White, Henry Xue) (Z-Library)_2.pdf\" -->\n<!-- Failed to upload \"Fluid Mechanics (9th Edition) (Frank M. White, Henry Xue) (Z-Library)_2-mono.pdf\" -->",
      "state": "open",
      "author": "fengyuzheHQ",
      "author_type": "User",
      "created_at": "2025-01-26T13:25:11Z",
      "updated_at": "2025-04-30T03:15:11Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/541/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 1,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/541",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/541",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:30.383043",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend has the same issue, will investigate when time permits.",
          "created_at": "2025-01-27T02:44:13Z"
        },
        {
          "author": "GeorgeRudd",
          "body": "我也遇到了一样的问题 翻译时勾选了BabelDOC 文件 \nhttps://raw.githubusercontent.com/hehonghui/awesome-english-ebooks/master/01_economist/te_2025.03.15/TheEconomist.2025.03.15.pdf",
          "created_at": "2025-03-19T07:57:43Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 我也遇到了一样的问题 翻译时勾选了BabelDOC 文件 https://raw.githubusercontent.com/hehonghui/awesome-english-ebooks/master/01_economist/te_2025.03.15/TheEconomist.2025.03.15.pdf\n\n本地用最新版BabelDOC测试，绝大多数页面都正常翻译了。",
          "created_at": "2025-03-19T08:07:46Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue\n\npdf2zh 2.0出来后再试试，如果还有问题再发issue",
          "created_at": "2025-04-19T19:14:00Z"
        },
        {
          "author": "anbian123",
          "body": "我也遇到了相同的问题，请问这个问题解决了吗？\n",
          "created_at": "2025-04-28T08:42:03Z"
        }
      ]
    },
    {
      "issue_number": 885,
      "title": "bug: watermark detection in PNAS template",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: `MacOS`\n- Python: `3.10.17`\n- pdf2zh: `v1.96`\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n\n在解析带有水印的 PDF 文件时，水印会被当成正常文本输出。样例参见如下 PNAS 官方提交样本。\nWhen parsing a PDF file with a watermark, the watermark is recognized as normal text. . See the official PNAS submission below.\n\n### 如何复现\n\n1. 执行 'pdf2zh $file'\n2. 选择 'service in [default, google, deeplx]'\n3. 出现问题\n\n\n### 预期行为\n\n过于大幅的水印忽略；或者在重组阶段监测大幅重叠。\nOverly large watermarks are ignored; or large overlaps are monitored during the reorganization phase.\n\n### 相关 Logs\n\n```Text\nNormal logs.\n```\n\n### 原始PDF文件\n\n[PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_-dual.pdf](https://github.com/user-attachments/files/19970403/PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_-dual.pdf)\n[PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_-mono.pdf](https://github.com/user-attachments/files/19970404/PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_-mono.pdf)\n\n[PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_.pdf](https://github.com/user-attachments/files/19970405/PNAS_LaTeX_Template_for_preparing_single_column_mathematics_articles_on_Overleaf__2023___3_.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2025-04-30T02:58:00Z",
      "updated_at": "2025-04-30T03:14:00Z",
      "closed_at": "2025-04-30T03:13:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/885/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/885",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/885",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:30.568458",
      "comments": [
        {
          "author": "reycn",
          "body": "@awwaawwa 看看这个是否值得修复",
          "created_at": "2025-04-30T02:58:46Z"
        },
        {
          "author": "awwaawwa",
          "body": "请在https://app.immersivetranslate.com/babel-doc/ 测试一下BabelDOC效果，如果不行的话去 https://github.com/funstory-ai/BabelDOC 发issue",
          "created_at": "2025-04-30T03:13:59Z"
        }
      ]
    },
    {
      "issue_number": 847,
      "title": "translator中添加 中国知网翻译功能",
      "body": "### 在什么场景下，需要你请求的功能？\n\n 建议 translator.py 添加 中国知网翻译https://dict.cnki.net/index\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "beingwei",
      "author_type": "User",
      "created_at": "2025-04-16T10:53:03Z",
      "updated_at": "2025-04-30T02:47:50Z",
      "closed_at": "2025-04-30T02:47:50Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/847/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/847",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/847",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:30.721563",
      "comments": [
        {
          "author": "hellofinch",
          "body": "没有找到对应的开发文档，目前来看不是个开放项目，不予考虑。",
          "created_at": "2025-04-17T01:22:25Z"
        }
      ]
    },
    {
      "issue_number": 880,
      "title": "安装报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:centos7\n- Python:3.12\n- pdf2zh:\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nResolved 105 packages in 623ms\n  × Failed to build `simsimd==6.2.1`\n  ├─▶ The build backend returned an error\n  ╰─▶ Call to `setuptools.build_meta.build_wheel` failed (exit status: 1)\n\n      [stdout]\n      running bdist_wheel\n      running build\n      running build_py\n      running egg_info\n      writing simsimd.egg-info/PKG-INFO\n      writing dependency_links to simsimd.egg-info/dependency_links.txt\n      writing top-level names to simsimd.egg-info/top_level.txt\n      reading manifest file 'simsimd.egg-info/SOURCES.txt'\n      reading manifest template 'MANIFEST.in'\n      adding license file 'LICENSE'\n      writing manifest file 'simsimd.egg-info/SOURCES.txt'\n      copying python/annotations/__init__.pyi -> build/lib.linux-x86_64-cpython-312/simsimd\n      copying python/annotations/py.typed -> build/lib.linux-x86_64-cpython-312/simsimd\n      running build_ext\n      building 'simsimd' extension\n      gcc -pthread -B /home/admin/miniconda3/envs/myenv/compiler_compat -fno-strict-overflow -DNDEBUG -O2 -Wall -fPIC -O2\n      -isystem /home/admin/miniconda3/envs/myenv/include -fPIC -O2 -isystem /home/admin/miniconda3/envs/myenv/include -fPIC\n      -DSIMSIMD_NATIVE_F16=0 -DSIMSIMD_NATIVE_BF16=0 -DSIMSIMD_DYNAMIC_DISPATCH=1 -DSIMSIMD_TARGET_NEON=1 -DSIMSIMD_TARGET_NEON_F16=1\n      -DSIMSIMD_TARGET_NEON_BF16=1 -DSIMSIMD_TARGET_SVE=1 -DSIMSIMD_TARGET_SVE_F16=1 -DSIMSIMD_TARGET_SVE_BF16=1 -DSIMSIMD_TARGET_SVE2=1\n      -DSIMSIMD_TARGET_HASWELL=1 -DSIMSIMD_TARGET_SKYLAKE=1 -DSIMSIMD_TARGET_ICE=1 -DSIMSIMD_TARGET_GENOA=1 -DSIMSIMD_TARGET_SAPPHIRE=1\n      -DSIMSIMD_TARGET_TURIN=1 -DSIMSIMD_TARGET_SIERRA=0 -Iinclude -I/home/admin/.cache/uv/builds-v0/.tmp1dRyVZ/include\n      -I/home/admin/miniconda3/envs/myenv/include/python3.12 -c c/lib.c -o build/temp.linux-x86_64-cpython-312/c/lib.o -std=c11 -O3 -ffast-math\n      -fdiagnostics-color=always -fvisibility=default -fPIC -w -fopenmp\n      gcc -pthread -B /home/admin/miniconda3/envs/myenv/compiler_compat -fno-strict-overflow -DNDEBUG -O2 -Wall -fPIC -O2\n      -isystem /home/admin/miniconda3/envs/myenv/include -fPIC -O2 -isystem /home/admin/miniconda3/envs/myenv/include -fPIC\n      -DSIMSIMD_NATIVE_F16=0 -DSIMSIMD_NATIVE_BF16=0 -DSIMSIMD_DYNAMIC_DISPATCH=1 -DSIMSIMD_TARGET_NEON=1 -DSIMSIMD_TARGET_NEON_F16=1\n      -DSIMSIMD_TARGET_NEON_BF16=1 -DSIMSIMD_TARGET_SVE=1 -DSIMSIMD_TARGET_SVE_F16=1 -DSIMSIMD_TARGET_SVE_BF16=1 -DSIMSIMD_TARGET_SVE2=1\n      -DSIMSIMD_TARGET_HASWELL=1 -DSIMSIMD_TARGET_SKYLAKE=1 -DSIMSIMD_TARGET_ICE=1 -DSIMSIMD_TARGET_GENOA=1 -DSIMSIMD_TARGET_SAPPHIRE=1\n      -DSIMSIMD_TARGET_TURIN=1 -DSIMSIMD_TARGET_SIERRA=0 -Iinclude -I/home/admin/.cache/uv/builds-v0/.tmp1dRyVZ/include\n      -I/home/admin/miniconda3/envs/myenv/include/python3.12 -c python/lib.c -o build/temp.linux-x86_64-cpython-312/python/lib.o -std=c11 -O3\n      -ffast-math -fdiagnostics-color=always -fvisibility=default -fPIC -w -fopenmp\n\n      [stderr]\n      /home/admin/.cache/uv/builds-v0/.tmp1dRyVZ/lib/python3.12/site-packages/setuptools/dist.py:759: SetuptoolsDeprecationWarning: License\n      classifiers are deprecated.\n      !!\n\n              ********************************************************************************\n              Please consider removing the following classifiers in favor of a SPDX license expression:\n\n              License :: OSI Approved :: Apache Software License\n\n              See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license for details.\n              ********************************************************************************\n\n      !!\n        self._finalize_license_expression()\n      In file included from /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/math.h:419,\n                       from python/lib.c:88:\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h: In function 'lgamma':\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h:261:10: error: implicit declaration of\n      function 'lgamma_r'; did you mean 'lgammal'? [-Wimplicit-function-declaration]\n        261 |   return lgamma_r (__d, &__local_signgam);\n            |          ^~~~~~~~\n            |          lgammal\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h: In function 'lgammaf':\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h:270:10: error: implicit declaration of\n      function 'lgammaf_r'; did you mean 'lgammaf'? [-Wimplicit-function-declaration]\n        270 |   return lgammaf_r (__d, &__local_signgam);\n            |          ^~~~~~~~~\n            |          lgammaf\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h: In function 'lgammal':\n      /home/admin/miniconda3/envs/myenv/x86_64-conda-linux-gnu/sysroot/usr/include/bits/math-finite.h:280:10: error: implicit declaration of\n      function 'lgammal_r'; did you mean 'lgammal'? [-Wimplicit-function-declaration]\n        280 |   return lgammal_r (__d, &__local_signgam);\n            |          ^~~~~~~~~\n            |          lgammal\n      error: command '/home/admin/miniconda3/envs/myenv/bin/gcc' failed with exit code 1\n\n      hint: This usually indicates a problem with the package or the build environment.\n  help: `simsimd` (v6.2.1) was included because `pdf2zh` (v1.7.9) depends on `doclayout-yolo` (v0.0.3) which depends on `albumentations` (v2.0.6)\n        which depends on `albucore` (v0.0.24) which depends on `simsimd`\n(myenv) [admin@nethp-outinfo-a873647b package]$ conda deactivate\n\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "lihongdou",
      "author_type": "User",
      "created_at": "2025-04-29T13:12:13Z",
      "updated_at": "2025-04-30T02:18:57Z",
      "closed_at": "2025-04-30T02:18:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/880/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/880",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/880",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:30.893492",
      "comments": [
        {
          "author": "hellofinch",
          "body": "请使用最新版",
          "created_at": "2025-04-30T01:05:41Z"
        },
        {
          "author": "awwaawwa",
          "body": "环境/pip镜像等问题，可以尝试使用uv安装。\n\n请确保安装的是最新版。如果最新版+uv此问题持续，请发一个新issue",
          "created_at": "2025-04-30T02:18:56Z"
        }
      ]
    },
    {
      "issue_number": 881,
      "title": "Thai",
      "body": "### Is your feature request related to a problem?\n\nCan you do it in Thai?\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "Devive007",
      "author_type": "User",
      "created_at": "2025-04-29T18:01:44Z",
      "updated_at": "2025-04-30T02:17:10Z",
      "closed_at": "2025-04-30T02:17:01Z",
      "labels": [
        "enhancement",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/881/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/881",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/881",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.061299",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "BabelDOC development version should support it, if not it will be soon, then pdf2zh 2.0 will add language codes accordingly.\n\nPlease wait patiently for pdf2zh 2.0",
          "created_at": "2025-04-30T02:17:01Z"
        }
      ]
    },
    {
      "issue_number": 882,
      "title": "使用本地Xinference推理的qwen2.5-instruct模型进行翻译，报错list index out of range的问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:centos7.9\n- Python: python3.12.2\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用xinference运行的本地模型qwen2.5-instruct进行翻译，会报错list index out of range\n\n经过查看源码，调试排查：\n1、发现问题是在translator.py的第373行，xf_prompt = self.prompt(text, self.prompttext)，这里调用BaseTranslator类生成的xf_prompt的字典，永远只有1个值\n2、xf_prompt = [\n                    {\n                        \"role\": \"user\",\n                        \"content\": xf_prompt[0][\"content\"]\n                        + \"\\n\"\n                        + xf_prompt[1][\"content\"],\n                    }\n                ]\n接下来这里xf_prompt[1][\"content\"]这个代码，就会导致list index out of range的问题发生，如果BaseTranslator类不不修改\n\n解决方案：\n这里的代码把xf_prompt[1][\"content\"]去掉后，就能正常调用本地xinference启动的模型了\n\n### 如何复现\n\n使用xinference运行的本地qwen2.5-instruct模型进行翻译，100%复现\n\n### 预期行为\n\n解决提示词为空导致的列表索引超出长度的问题\n\n### 相关 Logs\n\n```Text\n[04/30/25 00:58:06] ERROR    ERROR:pdf2zh.converter:All models failed                                             converter.py:360\nlist index out of range\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ran411285752",
      "author_type": "User",
      "created_at": "2025-04-29T18:30:57Z",
      "updated_at": "2025-04-30T01:26:14Z",
      "closed_at": "2025-04-30T01:26:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/882/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/882",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/882",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.220953",
      "comments": [
        {
          "author": "hellofinch",
          "body": "谢谢反馈，这个问题已经在2.0中解决。\n\n![Image](https://github.com/user-attachments/assets/64fc2253-8ef9-4370-851a-c4a4da43cdbb)\n\n可以尝试2.0 实验版，如有问题请反馈。 https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634422474\n: )",
          "created_at": "2025-04-30T01:08:33Z"
        },
        {
          "author": "ran411285752",
          "body": "收到，有空了试一下",
          "created_at": "2025-04-30T01:26:14Z"
        }
      ]
    },
    {
      "issue_number": 879,
      "title": "docker 部署，在gui.py文件中，我将PDFMathTranslate @ GitHub关键字删除了并重启容器，发现不生效，不知道什么原因",
      "body": "### 在什么场景下，需要你请求的功能？\n\n![Image](https://github.com/user-attachments/assets/66fc3659-d734-4a03-a897-5f093232007c)\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "x543754000",
      "author_type": "User",
      "created_at": "2025-04-29T09:28:58Z",
      "updated_at": "2025-04-29T09:30:36Z",
      "closed_at": "2025-04-29T09:30:36Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/879/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/879",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/879",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.407385",
      "comments": []
    },
    {
      "issue_number": 875,
      "title": "how to control only file_mono?",
      "body": "### Is your feature request related to a problem?\n\nhow to control only file_mono? I dont want file_dual\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "ruidanwang",
      "author_type": "User",
      "created_at": "2025-04-28T02:15:58Z",
      "updated_at": "2025-04-29T01:00:32Z",
      "closed_at": "2025-04-28T14:30:18Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/875/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/875",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/875",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.407408",
      "comments": [
        {
          "author": "hellofinch",
          "body": "1.x dont design this.\nMaybe 2.0 can do.",
          "created_at": "2025-04-28T06:25:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0 supports this feature",
          "created_at": "2025-04-28T14:30:18Z"
        },
        {
          "author": "ruidanwang",
          "body": "Is there a deadline for 2.0？",
          "created_at": "2025-04-29T00:14:15Z"
        },
        {
          "author": "hellofinch",
          "body": "@ruidanwang Sorry, the maintainers are not full-time developers, and our time is still very tight. The current pdf2zh 2.0 is estimated to be preliminarily completed within half a month to one month, but it may continue to be delayed.\nWe all work on this and hope to release v2.0 ASAP.\nFor now, we hav",
          "created_at": "2025-04-29T01:00:30Z"
        }
      ]
    },
    {
      "issue_number": 877,
      "title": "翻译到paragraph阶段直接跳错误",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 11\n- Python:3.12.0\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n感谢，大部分PDF进展到layout 后的 paragraph阶段就会直接显示错误\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[4. 20120724 20MAGAMABAZI_MIN_SHELLS_AND_GEOLOGY FINAL.pdf](https://github.com/user-attachments/files/19937193/4.20120724.20MAGAMABAZI_MIN_SHELLS_AND_GEOLOGY.FINAL.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "starskynew198",
      "author_type": "User",
      "created_at": "2025-04-28T09:11:24Z",
      "updated_at": "2025-04-28T14:29:45Z",
      "closed_at": "2025-04-28T14:29:43Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/877/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/877",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/877",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.574427",
      "comments": [
        {
          "author": "hellofinch",
          "body": "请提供一些额外的log信息谢谢。\n尝试启用BabelDOC选项后检查问题是否依旧存在。\n或者可以尝试2.0预览版 https://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634422474",
          "created_at": "2025-04-28T09:13:21Z"
        },
        {
          "author": "starskynew198",
          "body": "应该是勾选了LableDoc的问题，如果不选中是能翻译的。请教目前还是想保持lableDoc的排版，如何继续进行操作",
          "created_at": "2025-04-28T09:39:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "请使用2.0预览版。1.x与BabelDOC的兼容性问题不做处理。如果2.0预览版仍有错误，请开一个新的issue",
          "created_at": "2025-04-28T14:29:43Z"
        }
      ]
    },
    {
      "issue_number": 833,
      "title": "windows服务器exe启动，gui.py更换端口号启动不生效",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows server 2022\n- Python:3.11\n- pdf2zh: 1.9.5\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\nexe已启动一个服务，占用默认端口号7860，复制一份代码，更新gui.py的端口号参数server_port=7863，启动本目录下的exe，报错 Errno 10048,error  while attempting to bind on address ('0.0.0.0', 7860)\n\n\n### 如何复现\n\n1. 执行 'build/pdf2zh.exe'\n2. 复制pdf2zh 文件夹\n3. 修改gui.py，端口号\n4. 启动本目录下的build/pdf2zh.exe\n\n\n### 预期行为\n\n能够通过修改portal，实现并行启动多个exe翻译工具\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "happyf1990",
      "author_type": "User",
      "created_at": "2025-04-07T07:40:33Z",
      "updated_at": "2025-04-28T08:19:18Z",
      "closed_at": "2025-04-28T08:19:18Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/833/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/833",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/833",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.736231",
      "comments": [
        {
          "author": "hellofinch",
          "body": "2.0正在重构，请耐心等待。\n之前的config系统有点问题。",
          "created_at": "2025-04-07T08:12:31Z"
        },
        {
          "author": "hello-wangjj",
          "body": "@happyf1990 ，修改‘\\pdf2zh-v1.9.6-with-assets-win64\\pdf2zh\\build\\site-packages\\gradio\\http_server.py’ 里面的server_ports这个变量就可以更换端口",
          "created_at": "2025-04-11T14:37:55Z"
        },
        {
          "author": "happyf1990",
          "body": "> [@happyf1990](https://github.com/happyf1990) ，修改‘\\pdf2zh-v1.9.6-with-assets-win64\\pdf2zh\\build\\site-packages\\gradio\\http_server.py’ 里面的server_ports这个变量就可以更换端口\n\n@hello-wangjj 谢谢回复，但是按照要求更改端口，build启动还是默认端口（尝试过同步改了gui里的server port）均无效，都是默认的7860，另外1.9.6版是不支持 win server了是吧",
          "created_at": "2025-04-22T00:35:30Z"
        },
        {
          "author": "hellofinch",
          "body": "想设置gradio的端口的话，可以参考gradio支持的环境变量来设置。 https://www.gradio.app/guides/environment-variables",
          "created_at": "2025-04-22T01:21:14Z"
        },
        {
          "author": "happyf1990",
          "body": "已解决",
          "created_at": "2025-04-28T08:19:13Z"
        }
      ]
    },
    {
      "issue_number": 872,
      "title": "Internal Server Error (500)应该纳入快速重试",
      "body": "### 在什么场景下，需要你请求的功能？\n\n```\n2025-04-25 11:53:42 [04/25/25 03:53:42] WARNING  WARNING:pdf2zh.translator:RateLim translator.py:447\n2025-04-25 11:53:42                              itError, retrying in 4.0                           \n2025-04-25 11:53:42                              seconds... (Attempt 3/100)\n2025-04-25 11:55:27 [04/25/25 03:55:27] ERROR    ERROR:pdf2zh.converter:Error code: converter.py:357\n2025-04-25 11:55:27                              500 - {'error': {'message': 'do                    \n2025-04-25 11:55:27                              request failed: Post                               \n2025-04-25 11:55:27                              \"https://generativelanguage.google                 \n2025-04-25 11:55:27                              apis.com/v1beta/models/gemini-2.5-                 \n2025-04-25 11:55:27                              flash-preview-04-17:generateConten                 \n2025-04-25 11:55:27                              t\": unexpected EOF (request id:                    \n2025-04-25 11:55:27                              2025042511545526031024711942508)',                 \n2025-04-25 11:55:27                              'type': 'one_api_error', 'param':                  \n2025-04-25 11:55:27                              '', 'code': 'do_request_failed'}}\n```\n\n通过one-api调用Gemini模型不可避免地经常出现Internal Server Error (500)，这是Google服务器的问题，但只需要继续重试就好了，但当前代码逻辑是直接抛出错误退出了重试。\n\n### 解决方案\n\nInternal Server Error (500)纳入快速重试，而非抛出错误\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "CALMCRAZY",
      "author_type": "User",
      "created_at": "2025-04-25T04:23:35Z",
      "updated_at": "2025-04-25T11:27:56Z",
      "closed_at": "2025-04-25T11:27:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/872/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/872",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/872",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:31.906280",
      "comments": [
        {
          "author": "hellofinch",
          "body": "2.0 已经实现了相关的重试功能，可以考虑尝试2.0测试版。\nhttps://github.com/awwaawwa/PDFMathTranslate/actions/runs/14634166438 ",
          "created_at": "2025-04-25T07:11:22Z"
        }
      ]
    },
    {
      "issue_number": 854,
      "title": "feat(strategy translator): add fallback and load balancing",
      "body": "### before ...\n\n- [x] This issue is not about question or bug.\n\n### Add a description\n\n_No response_",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-04-19T17:14:09Z",
      "updated_at": "2025-04-25T02:25:46Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority",
        "No help needed"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/854/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v3.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/854",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/854",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:32.082015",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The current core can add support for this feature, but the configuration file used by 2.0 cannot support this feature.\n\nThis feature will be added in 3.0. 3.0 will also introduce breaking changes to the configuration file to better support this feature.",
          "created_at": "2025-04-19T17:16:18Z"
        }
      ]
    },
    {
      "issue_number": 871,
      "title": "feat(gui): Batch translation",
      "body": "### before ...\n\n- [x] This issue is not about question or bug.\n\n### Add a description\n\n_No response_",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-04-24T08:22:43Z",
      "updated_at": "2025-04-24T08:23:34Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "Normal priority"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/871/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/871",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/871",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:32.253341",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Before merging v2 into the main branch, please submit the PR to https://github.com/awwaawwa/PDFMathTranslate/tree/v2-rc\n\nThe issue is still in the main repository~",
          "created_at": "2025-04-24T08:23:33Z"
        }
      ]
    },
    {
      "issue_number": 866,
      "title": "Memory consumed so quickly for large file",
      "body": "### Is your feature request related to a problem?\n\nA 200 pages pdf consumed all my memory and make the computer crash. Is there any method to make it write the results to file while translating ?\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "bajfi",
      "author_type": "User",
      "created_at": "2025-04-23T12:35:57Z",
      "updated_at": "2025-04-24T06:10:43Z",
      "closed_at": "2025-04-24T06:10:43Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/866/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/866",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/866",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:32.439273",
      "comments": [
        {
          "author": "hellofinch",
          "body": "How much memory does translation use?\nYou can try to split the PDF or wait for 2.0. 2.0 supports splitting the PDF automatically.",
          "created_at": "2025-04-24T06:00:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "Running this project requires at least 4GB of available memory, while regular files need 8GB of available memory.\n\nYou can download https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2826463690, then adjust the `Maximum pages per part (for auto-split translation, 0 means no limit)` i",
          "created_at": "2025-04-24T06:08:25Z"
        }
      ]
    },
    {
      "issue_number": 869,
      "title": "GUI方式是不是不能双语对照",
      "body": "### 在什么场景下，需要你请求的功能？\n\n你好，请问GUI翻译方式我只得到了译文译本，没有看到能选择双语对照译本的选项，是否只能如此还是需要如何设置？\n\n感谢你们，期待回复。\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "LB-dot-hub",
      "author_type": "User",
      "created_at": "2025-04-24T00:56:45Z",
      "updated_at": "2025-04-24T06:07:46Z",
      "closed_at": "2025-04-24T06:07:46Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/869/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/869",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/869",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:32.614279",
      "comments": [
        {
          "author": "bajfi",
          "body": "译文和双语结果会自动保存到pdf2zhfiles \n文件夹中,可以找找看",
          "created_at": "2025-04-24T01:05:22Z"
        },
        {
          "author": "hellofinch",
          "body": "webUI上也有，在左下角按需下载即可。",
          "created_at": "2025-04-24T05:57:52Z"
        }
      ]
    },
    {
      "issue_number": 863,
      "title": "关于指定公式字体",
      "body": "### 在什么场景下，需要你请求的功能？\n\n请问插入pdf渲染后的latex公式功能代码在哪一块，我想更改翻译后的行内公式字体\n\n### 解决方案\n\n实现自定义公式字体\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "lamg-Chen",
      "author_type": "User",
      "created_at": "2025-04-22T05:27:16Z",
      "updated_at": "2025-04-24T02:27:35Z",
      "closed_at": "2025-04-22T10:40:35Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/863/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/863",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/863",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:32.832112",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/converter.py 所有的pdf信息的抽取在这个文件中\n我理解，你的这个需求可能在现有的代码上更改可能比较困难，可以考虑等2.0版本或者在babelDOC的基础上进行更改。",
          "created_at": "2025-04-22T07:36:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "无法实现此功能。\n\n当前技术路线要求翻译后的行内公式字体必须与原始PDF保持一致。（行内公式是挖改，把原始的字符直接搬到新地方）",
          "created_at": "2025-04-22T10:40:35Z"
        },
        {
          "author": "lamg-Chen",
          "body": "好的感谢，但是这样的话搬运字符，关于行内公式中矢量-线是不是无法搬运",
          "created_at": "2025-04-22T19:01:30Z"
        },
        {
          "author": "awwaawwa",
          "body": "能，就是需要时间。\n\n排版引擎是自己写的，笑",
          "created_at": "2025-04-24T02:27:34Z"
        }
      ]
    },
    {
      "issue_number": 868,
      "title": "翻译后文本与原文重合",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows11 x64 24H2\n- Python:origin\n- pdf2zh:v1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n下载后\n\n### 如何复现\n\n1. 执行 '.exe文件打开WEBUI'\n2. 传入PDF文件，选择仅翻译前5页，开始翻译\n3. 出现翻译后的原文与译文重合问题，详情间下面的文档\n\n![Image](https://github.com/user-attachments/assets/58b233b5-b05e-4d8a-bb2d-5fd142c69144)\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[a-practical-guide-to-building-agents.pdf](https://github.com/user-attachments/files/19871256/a-practical-guide-to-building-agents.pdf)\n\n[a-practical-guide-to-building-agents-mono.pdf](https://github.com/user-attachments/files/19871266/a-practical-guide-to-building-agents-mono.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Eyre921",
      "author_type": "User",
      "created_at": "2025-04-23T15:19:19Z",
      "updated_at": "2025-04-24T02:25:56Z",
      "closed_at": "2025-04-24T02:25:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/868/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/868",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/868",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.025864",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "2.0中有一个ocr workaround，打开就能处理了。",
          "created_at": "2025-04-24T02:25:52Z"
        }
      ]
    },
    {
      "issue_number": 455,
      "title": "【功能请求】Docker版增加配置目录",
      "body": "如题，Docker版本里可否增加config目录，可以保存配置信息及要翻译的文件？\r\n当前上传的文件在翻译后还会存在docker的默认目录下，还需手工清理\r\n",
      "state": "closed",
      "author": "alone-dancer",
      "author_type": "User",
      "created_at": "2025-01-12T02:49:44Z",
      "updated_at": "2025-04-23T10:33:13Z",
      "closed_at": "2025-04-22T20:10:54Z",
      "labels": [
        "Normal priority"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/455/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa",
        "hellofinch"
      ],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/455",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/455",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.207559",
      "comments": [
        {
          "author": "hellofinch",
          "body": "config相关的PR已经提交，等待合并中。等合并后会添加docker相关的配置，请耐心等待。",
          "created_at": "2025-01-13T01:10:28Z"
        },
        {
          "author": "alone-dancer",
          "body": "好的，非常感谢！",
          "created_at": "2025-01-13T12:41:42Z"
        },
        {
          "author": "Byaidu",
          "body": "已更新",
          "created_at": "2025-01-19T05:12:15Z"
        },
        {
          "author": "alone-dancer",
          "body": "> 已更新\n\n太感谢了！\n新年快乐！",
          "created_at": "2025-01-19T06:32:00Z"
        },
        {
          "author": "alone-dancer",
          "body": "是不是还需要写个docker配置说明？^_^",
          "created_at": "2025-01-19T07:10:16Z"
        }
      ]
    },
    {
      "issue_number": 865,
      "title": "AzureOpenAi not work",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: Ubuntu 22.04\n- Python: 3.12.3\n- pdf2zh: 1.9.6\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\nWhen I use the AzureOpenAi to translate, it show the error\n```\n[04/23/25 16:58:33] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                                                                                               doclayout.py:47\n                    INFO     INFO:babeldoc.docvision.doclayout:Available Provider: CPUExecutionProvider                                                                           doclayout.py:118\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['Fourier Neural Operator.pdf']\n[04/23/25 16:58:55] INFO     INFO:pdf2zh.high_level:use font: /home/user/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf                                                       high_level.py:423\n  0%|                                                                                                                                                                       | 0/9 [00:00<?, ?it/s][04/23/25 16:58:57] ERROR    ERROR:pdf2zh.converter:Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}                                                 converter.py:357\n                    ERROR    ERROR:pdf2zh.converter:Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}                                                 converter.py:357\n                    ERROR    ERROR:pdf2zh.converter:Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}                                                 converter.py:357\n                    ERROR    ERROR:pdf2zh.converter:Error code: 404 - {'error': {'code': '404', 'message': 'Resource not found'}}                                                 converter.py:357\n\n```\n\n### To Reproduce\n\n1. Select the Azure Model\n2. Enter the url and apikey\n3. Then it raise the error\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "bajfi",
      "author_type": "User",
      "created_at": "2025-04-23T09:14:45Z",
      "updated_at": "2025-04-23T09:20:25Z",
      "closed_at": "2025-04-23T09:20:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/865/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/865",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/865",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.379614",
      "comments": [
        {
          "author": "bajfi",
          "body": "I fix it now, the URL should be the target URL not just the endpoints. ",
          "created_at": "2025-04-23T09:20:22Z"
        }
      ]
    },
    {
      "issue_number": 750,
      "title": "feat(web ui): Support automatic splitting of PDF translation",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:极空间Docker\n- Python:3.12.9\n- pdf2zh:1.9.4\n```\n\n### 描述你的问题\n\n\n在docker中运行时 从NAS的监控器上可以看到，翻译程序占用的docker内存会不断增加。启动初期占用750M左右，翻译PDF时会快速增加到1G，然后逐步增加。当设定分配给docker的内存为1G时。翻译较多页数的文件会在占满内存后一段时间里报错停止。更改设定为2G，4G时也会如此。\n\n\n最初我设定了1G内存，翻译一本384页的书，结果屡屡报错。\n当我分配docker的内存为2G时，一小时后翻译完成了。过程中峰值内存占用不足2G\n\n然后我信心爆棚，我设定了4G内存，丢给他一本2378页的PDF教科书。 没想到它跑了8个小时左右就占满了4G内存，因为没有暂停的选项，我只能眼巴巴地看它跑到第12个小时的时候报错停止。log显示，我的书翻译了61%。\n这次翻译吃掉我大概六百万token。然后提示出错后就什么也没剩了。\n\n1 【修bug】可能缺乏合理的内存调度，内存回收机制。这需要修复。\n2 【期待新功能】缺乏合理的分段保存机制。比如我那2378页的书翻译了61%，能不能有选项允许每10%。20%保存一次。\n3 【期待新功能】缺乏出错时保存自开始以来到出错前一页面为止的，部分翻译结果的选择。\n\n[2025_3_11 21_40_58_log.txt](https://github.com/user-attachments/files/19183575/2025_3_11.21_40_58_log.txt)\n\n\n\n\n\n### 如何复现\n\n1. 执行 docker里的翻译工具，分配一个常规的内存\n2. 选择 一本页数足够多的英文教科书\n3. 开始运行，观测到docker的内存逐渐被占满。粘满后再经过一段时间出现问题。提示错误。并没有任何说明。\n\n\n### 预期行为\n\n1 【修bug】可能缺乏合理的内存调度，内存回收机制。这需要修复。\n2 【期待新功能】缺乏合理的分段保存机制。比如我那2378页的书翻译了61%，能不能有选项允许每10%。20%保存一次。\n3 【期待新功能】缺乏出错时保存自开始以来到出错前一页面为止的，部分翻译结果的选择。\n\n\n### 相关 Logs\n\n```Text\n2025-03-11T00:05:05.400375013Z argos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\n2025-03-11T00:05:11.006338007Z \u001b[2;36m[03/11/25 00:05:11]\u001b[0m\u001b[2;36m \u001b[0m\u001b[34mINFO    \u001b[0m INFO:babeldoc.docvision.doclayout:L \u001b]8;id=257587;file:///usr/local/lib/python3.12/site-packages/babeldoc/docvision/doclayout.py\u001b\\\u001b[2mdoclayout.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=737979;file:///usr/local/lib/python3.12/site-packages/babeldoc/docvision/doclayout.py#21\u001b\\\u001b[2m21\u001b[0m\u001b]8;;\u001b\\\n2025-03-11T00:05:11.006373093Z \u001b[2;36m                    \u001b[0m         oading ONNX model\u001b[33m...\u001b[0m                \u001b[2m               \u001b[0m\n2025-03-11T00:05:12.129521863Z * Running on local URL:  http://0.0.0.0:7860\n2025-03-11T00:05:12.171381077Z \n2025-03-11T00:05:12.171413763Z To create a public link, set `share=True` in `launch()`.\n2025-03-11T00:07:51.882383101Z Files before translation: ['2022 Janeways Immunobiology Murphy 10 ed.pdf']\n2025-03-11T00:07:51.977700172Z \u001b[2;36m[03/11/25 00:07:51]\u001b[0m\u001b[2;36m \u001b[0m\u001b[34mINFO    \u001b[0m INFO:pdf2zh.high_level:use font:  \u001b]8;id=885861;file:///usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\u001b\\\u001b[2mhigh_level.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=706338;file:///usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py#419\u001b\\\u001b[2m419\u001b[0m\u001b]8;;\u001b\\\n2025-03-11T00:07:51.977738665Z \u001b[2;36m                    \u001b[0m         \u001b[35m/root/.cache/babeldoc/fonts/\u001b[0m\u001b[95mSourc\u001b[0m \u001b[2m                 \u001b[0m\n2025-03-11T00:07:51.977745632Z \u001b[2;36m                    \u001b[0m         \u001b[95meHanSerifCN-Regular.ttf\u001b[0m           \u001b[2m                 \u001b[0m\n2025-03-11T00:12:19.425131416Z \n  0% 0/5 [00:00<?, ?it/s]\n 40% 2/5 [00:21<00:32, 10.78s/it]\n 60% 3/5 [00:46<00:33, 16.64s/it]\n 80% 4/5 [01:14<00:21, 21.01s/it]\n100% 5/5 [01:53<00:00, 27.25s/it]\n100% 5/5 [02:59<00:00, 35.92s/it]\n2025-03-11T00:14:44.316942902Z Files after translation: ['2022 Janeways Immunobiology Murphy 10 ed.pdf', '2022 Janeways Immunobiology Murphy 10 ed-mono.pdf', '2022 Janeways Immunobiology Murphy 10 ed-dual.pdf']\n2025-03-11T00:19:28.395672771Z Files before translation: ['2022 Janeways Immunobiology Murphy 10 ed.pdf', '2022 Janeways Immunobiology Murphy 10 ed-mono.pdf', '2022 Janeways Immunobiology Murphy 10 ed-dual.pdf']\n2025-03-11T00:19:28.490056595Z \u001b[2;36m[03/11/25 00:19:28]\u001b[0m\u001b[2;36m \u001b[0m\u001b[34mINFO    \u001b[0m INFO:pdf2zh.high_level:use font:  \u001b]8;id=985962;file:///usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\u001b\\\u001b[2mhigh_level.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=903057;file:///usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py#419\u001b\\\u001b[2m419\u001b[0m\u001b]8;;\u001b\\\n2025-03-11T00:19:28.490087375Z \u001b[2;36m                    \u001b[0m         \u001b[35m/root/.cache/babeldoc/fonts/\u001b[0m\u001b[95mSourc\u001b[0m \u001b[2m                 \u001b[0m\n2025-03-11T00:19:28.490093380Z \u001b[2;36m                    \u001b[0m         \u001b[95meHanSerifCN-Regular.ttf\u001b[0m           \u001b[2m                 \u001b[0m\n2025-03-11T03:49:30.213951399Z \n  0% 0/2396 [00:00<?, ?it/s]\n  0% 2/2396 [00:02<57:49,  1.45s/it]\n  0% 3/2396 [00:06<1:40:29,  2.52s/it]\n  0% 4/2396 [00:09<1:48:14,  2.72s/it]\n  ......\n 16% 378/2396 [3:27:29<17:26:52, 31.13s/it]\n 16% 379/2396 [3:28:13<19:37:52, 35.04s/it]\n 16% 380/2396 [3:28:33<17:02:52, 30.44s/it]\n 16% 381/232025-03-11T03:49:30.213951399Z 96 [3:28:34<12:05:31, 21.60s/it]\n 16% 382/2396 [3:28:35<8:37:26, 15.42s/it] \n 16% 383/2396 [3:29:02<10:35:07, 18.93s/it]\n 16% 384/2396 [3:29:22<10:45:10, 19.24s/it]\n ......\n 31% 751/2396 [6:15:55<11:17:39, 24.72s/it]\n 31% 752/2396 [6:16:28<12:29:39, 27.36s/it]\n 31% 753/2396 [6:16:46<11:11:11, 24.51s/it]\n 31% 754/2396 [6:17:34<14:22:09, 31.502025-03-11T03:49:30.213951399Z s/it]\n 32% 755/2396 [6:18:16<15:48:12, 34.67s/it]\n 32% 756/2396 [6:18:32<13:13:04, 29.01s/it]\n 32% 757/2396 [6:19:19<15:41:59, 34.48s/it]\n 32% 758/2396 [6:20:16<18:39:40, 41.01s/it]\n ......\n 47% 1123/2396 [9:31:43<10:41:38, 30.24s/it]\n 47% 1124/2396 [9:32:16<10:59:04, 31.09s/it]\n 47% 1125/2396 [9:32:49<11:06:58, 31.49s/it]\n2025-03-11T03:49:30.213951399Z  47% 1126/2396 [9:33:27<11:47:23, 33.42s/it]\n 47% 1127/2396 [9:34:24<14:19:39, 40.65s/it]\n 47% 1128/2396 [9:34:44<12:07:36, 34.43s/it]\n 47% 1129/2396 [9:35:20<12:18:19, 34.96s/it]\n......\n 61% 1469/2396 [12:06:10<7:25:36, 28.84s/it]\n 61% 1470/2396 [12:06:41<7:31:47, 29.27s/it]2025-03-11T12:27:38.148440502Z argos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\n2025-03-11T12:27:41.680746491Z \u001b[2;36m[03/11/25 12:27:41]\u001b[0m\u001b[2;36m \u001b[0m\u001b[34mINFO    \u001b[0m INFO:babeldoc.docvision.doclayout:L \u001b]8;id=61760;file:///usr/local/lib/python3.12/site-packages/babeldoc/docvision/doclayout.py\u001b\\\u001b[2mdoclayout.py\u001b[0m\u001b]8;;\u001b\\\u001b[2m:\u001b[0m\u001b]8;id=59132;file:///usr/local/lib/python3.12/site-packages/babeldoc/docvision/doclayout.py#21\u001b\\\u001b[2m21\u001b[0m\u001b]8;;\u001b\\\n2025-03-11T12:27:41.680773735Z \u001b[2;36m                    \u001b[0m         oading ONNX model\u001b[33m...\u001b[0m                \u001b[2m               \u001b[0m\n2025-03-11T12:27:42.762420468Z * Running on local URL:  http://0.0.0.0:7860\n2025-03-11T12:27:42.803049131Z \n2025-03-11T12:27:42.803074567Z To create a public link, set `share=True` in `launch()`.\n```\n\n### 原始PDF文件\n\n2022 Janeways Immunobiology (Murphy) 10 ed.pdf  大概110M，2400页。\n\n### 还有别的吗？\n\nExperimental：\nnumber of threads：4\nSkip font subsetting：Yes\n\n![Image](https://github.com/user-attachments/assets/ced761a7-bff3-49ea-87d8-3cfe7fdbfc6d)",
      "state": "closed",
      "author": "Larix-A",
      "author_type": "User",
      "created_at": "2025-03-11T13:16:19Z",
      "updated_at": "2025-04-22T20:07:59Z",
      "closed_at": "2025-04-22T20:07:57Z",
      "labels": [
        "enhancement",
        "High priority",
        "No help needed"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/750/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/750",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/750",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.529053",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请自行切分PDF\n\n不准备优化此问题。",
          "created_at": "2025-03-11T13:17:32Z"
        },
        {
          "author": "awwaawwa",
          "body": "另，针对新后端BabelDOC来说，每一百页大约需要1-2G内存。\n\n对于pdf2zh和babeldoc而言，均需要一些额外的内存空间来加载onnx模型。",
          "created_at": "2025-03-11T13:18:01Z"
        },
        {
          "author": "Larix-A",
          "body": "> 另，针对新后端BabelDOC来说，每一百页大约需要1.5-2G内存。\n> \n> 对于pdf2zh和babeldoc而言，均需要一些额外的内存空间来加载onnx模型。\n\n确实切分pdf是可行的。虽然如此，还是希望作者可以在说明文档里写一下。我的经验是 2G内存足以翻译400页以内的医学PDF。 ",
          "created_at": "2025-03-11T13:24:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/586\n\npdf2zh 当前legacy后端将废弃。后续版本内存占用会上升。\n\nREADME的说明等pdf2zh 2.0做出来后改。",
          "created_at": "2025-03-11T13:26:00Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/586#issuecomment-2714246464\n\n等pdf2zh 2.0搓出来了，到时候看看搞个gui里自动切分翻译吧。",
          "created_at": "2025-03-11T13:29:23Z"
        }
      ]
    },
    {
      "issue_number": 672,
      "title": "docs: Update the translated version of README",
      "body": "I have updated the English version of README at https://github.com/Byaidu/PDFMathTranslate/pull/671, but haven't synchronized the corresponding multilingual translations. I kindly request help from the community with the translations.",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-22T20:41:44Z",
      "updated_at": "2025-04-22T11:43:58Z",
      "closed_at": null,
      "labels": [
        "documentation",
        "help wanted",
        "good first issue",
        "High priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/672/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/672",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/672",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.698087",
      "comments": [
        {
          "author": "Krishn1412",
          "body": "Hey @awwaawwa , I want to contribute to this. Can you explain what the requirement is? TIA",
          "created_at": "2025-04-22T08:38:11Z"
        },
        {
          "author": "awwaawwa",
          "body": "@Krishn1412 Please be patient and wait for pdf2zh 2.0 to be released. Please come back after the document is completed. Thank you very much!\n\nAt that time, you can submit a PR to translate the documentation of this project into other languages.",
          "created_at": "2025-04-22T11:33:38Z"
        },
        {
          "author": "Krishn1412",
          "body": "Sure thing.",
          "created_at": "2025-04-22T11:43:57Z"
        }
      ]
    },
    {
      "issue_number": 861,
      "title": "引用未能被正确解析",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: WSL2 Ubuntu 22.04 LTS on Windows 11\n- Python: 3.10.12\n- pdf2zh: 1.96\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n在使用Deepseek+BabelDOC翻译时，出现了大量形如`{v1}`的字符，疑似是引用未能被正确解析\n\n![Image](https://github.com/user-attachments/assets/0161b425-5653-4951-a4e3-b70554fb7bed)\n\n### 如何复现\n\n1. 执行 Deepseek 翻译\n2. 选择使用BabelDOC\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[TMEM63B functions as a mammalian hyperosmolar sensor for thirst.pdf](https://github.com/user-attachments/files/19827976/TMEM63B.functions.as.a.mammalian.hyperosmolar.sensor.for.thirst.-ablesci.com.-1.pdf)\n\n### 还有别的吗？\n\n使用默认prompt",
      "state": "closed",
      "author": "ChickenHu",
      "author_type": "User",
      "created_at": "2025-04-21T01:14:05Z",
      "updated_at": "2025-04-21T12:27:26Z",
      "closed_at": "2025-04-21T12:27:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/861/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/861",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/861",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:33.909585",
      "comments": [
        {
          "author": "hellofinch",
          "body": " 这个问题是LLM的问题，可以尝试换其他的LLM来试试。这个是因为LLM的上下文不够，没有理解这些标签是干什么的。",
          "created_at": "2025-04-21T01:17:46Z"
        }
      ]
    },
    {
      "issue_number": 843,
      "title": "feat (gui): macOS native application in alpha",
      "body": "### In what scenarios do you need the functionality you requested?\n\n**Scenario:**\n- macOS layman users\n\n**Features:**\n- [x] Native application\n- [x] Select different languages\n- [x] Settings\n- [x] Persistent settings\n- [x] Reset the status and start a new task\n- [x] PDF preview for both the selected file and the translated file\n- [x] Auto-open\n- [x] BabelDoc and PDF/A support\n- [ ] Auto installing \n\n\n### Solution\n\nCurrently alpha version available at: [https://github.com/reycn/pdf2zh-mac](https://github.com/reycn/pdf2zh-mac)\n\n![Image](https://github.com/user-attachments/assets/6b6ff903-10b5-4dab-9131-9ef205ac9da7)\n\n### Others\n\nFeel free to provide any helpful suggestions and comments.",
      "state": "open",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2025-04-14T08:11:00Z",
      "updated_at": "2025-04-21T11:30:47Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/843/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/843",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/843",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.103925",
      "comments": []
    },
    {
      "issue_number": 860,
      "title": "Integration with ocrmypdf",
      "body": "### Is your feature request related to a problem?\n\nfor pdf's that lack a text layer it might be helpful to integrate with ocrmypdf to add a text layer to the pdf. https://github.com/ocrmypdf/OCRmyPDF\n\n### Describe the solution you'd like\n\nA way to deploy both in one docker container and a tight integration to improve the quality for pdf's without text layer\n\n### Additional context\n\n_No response_",
      "state": "open",
      "author": "BjoernRave",
      "author_type": "User",
      "created_at": "2025-04-20T20:45:27Z",
      "updated_at": "2025-04-21T03:01:08Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/860/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/860",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/860",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.103951",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Closed the wrong one, I mistook it for another repository...",
          "created_at": "2025-04-21T02:51:18Z"
        },
        {
          "author": "hellofinch",
          "body": "Thanks for idea! I try the program you mentioned. I use `orcmypdf` on different files provided by previous issues. `ocrmypdf` told me `page already has text!`. \n\n![Image](https://github.com/user-attachments/assets/0c68cb77-db2e-49a7-b724-851d2cf94a3b)\nI also try the command with `--redo-ocr` and it ",
          "created_at": "2025-04-21T03:01:07Z"
        }
      ]
    },
    {
      "issue_number": 859,
      "title": "反复进行部分翻译后，发生的排版/翻译崩坏",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: Windows\n- Python: -\n- pdf2zh: v1.9.6 .exe 版本\n```\n\n### How to install pdf2zh\n\nexe\n\n### Describe the bug\n\n第一次部分翻译之后的结果，如果重新输入，并翻译其他页的话，就会发生排版崩坏。\n下图是排版崩坏的效果（翻译44页，然后-mono.pdf作为输入并请求翻译45页）\n\n![Image](https://github.com/user-attachments/assets/3091319e-9826-4dca-acbf-f95922f8c43d)\n下图是正常翻译的效果（直接翻译45页）\n![Image](https://github.com/user-attachments/assets/971af887-236a-4b88-a463-1648dac52ce6)\n\n下图是原文：\n\n![Image](https://github.com/user-attachments/assets/9707a0a6-988c-47c3-9a9b-ee89482b6927)\n\n### To Reproduce\n\n```cmd\nREM 45页会发生bug的情形\npdf2zh.exe \"path\\to\\original\\filename.pdf\" -p 44 -s gemini\npdf2zh.exe \"filename-mono.pdf\" -p 45 -s gemini\nREM 45页正常翻译的情形\npdf2zh.exe \"path\\to\\original\\filename.pdf\" -p 45 -s gemini\n```\n\n\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n《Computer Networking A Top-Down Approach》第八版，zlib编号 book/17011163/2fe094/\n\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "tontyoutoure",
      "author_type": "User",
      "created_at": "2025-04-20T14:53:31Z",
      "updated_at": "2025-04-20T14:58:14Z",
      "closed_at": "2025-04-20T14:58:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/859/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/859",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/859",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.267071",
      "comments": [
        {
          "author": "tontyoutoure",
          "body": "重新看了一下发现既然有cache，那就不需要进行我这样的操作了",
          "created_at": "2025-04-20T14:58:13Z"
        }
      ]
    },
    {
      "issue_number": 858,
      "title": "maxium小于等于5mb",
      "body": "### 在什么场景下，需要你请求的功能？\n\n很多pdf文件的大小在5mb上，看看能否增加文件大小的功能\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "tangbing-xm",
      "author_type": "User",
      "created_at": "2025-04-20T12:53:22Z",
      "updated_at": "2025-04-20T14:44:45Z",
      "closed_at": "2025-04-20T14:44:45Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/858/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/858",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/858",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.456259",
      "comments": [
        {
          "author": "Byaidu",
          "body": "自部署无限制",
          "created_at": "2025-04-20T14:44:42Z"
        }
      ]
    },
    {
      "issue_number": 781,
      "title": "能否增加网页版的默认值设置",
      "body": "### 在什么场景下，需要你请求的功能？\n\n查阅了wiki没有发现相关文档\n需要分享网页版给不懂这个项目的朋友使用，所以需要进行一些默认设置\n\n\n### 解决方案\n\n在配置文件中提供一些默认配置的项\n比如说我需要默认的service 设置成OpenAI\nnumber of threads 设置成默认50\nUse BabelDOC我想设置成默认勾选\n\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "tzrj0",
      "author_type": "User",
      "created_at": "2025-03-18T18:23:01Z",
      "updated_at": "2025-04-20T12:47:24Z",
      "closed_at": "2025-04-19T17:11:52Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/781/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/781",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/781",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.603215",
      "comments": [
        {
          "author": "hellofinch",
          "body": "OK 2.0的重构过程可以考虑上。@awwaawwa 加在config里，应该就可以了。",
          "created_at": "2025-03-19T01:17:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "可以的",
          "created_at": "2025-03-19T02:10:08Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0最新开发分支现已支持",
          "created_at": "2025-04-19T17:11:52Z"
        },
        {
          "author": "tzrj0",
          "body": "好像没看到2.0的分支\r\n\r\nawwaawwa ***@***.***>于2025年4月20日 周日01:12写道：\r\n\r\n> 2.0最新开发分支现已支持\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/Byaidu/PDFMathTranslate/issues/781#issuecomment-2816786762>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AEM6TLM",
          "created_at": "2025-04-20T04:39:50Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/awwaawwa/PDFMathTranslate/tree/v2-rc",
          "created_at": "2025-04-20T12:47:23Z"
        }
      ]
    },
    {
      "issue_number": 775,
      "title": "翻译后表格内的线丢失",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:python3.12\n- pdf2zh:1.96\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/35bbf9da-3ce0-4d92-9499-b569f8d41b48)\n左边是原始文档 右边是翻译后的文档 翻译后线条丢失了\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "miyunwangluo",
      "author_type": "User",
      "created_at": "2025-03-17T07:29:16Z",
      "updated_at": "2025-04-20T02:05:57Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/775/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/775",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/775",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.798321",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "已知问题，请耐心等待。",
          "created_at": "2025-03-17T07:29:58Z"
        },
        {
          "author": "CBIhalsen",
          "body": "类似doclayout 识别出的坐标涵盖了线，导致图片线被删除",
          "created_at": "2025-04-20T02:05:56Z"
        }
      ]
    },
    {
      "issue_number": 216,
      "title": "建议将翻译与排版解耦",
      "body": "## 功能描述\r\n\r\n一些 API 支持高并发的翻译请求，但是目前该项目似乎还是按页串行处理的\r\n\r\n因为设置的线程数往往大于当前页面文字块数，所以实际工作达不到设置的线程数，极端点退化成单线程处理。遇到生成较慢的服务可能耗时会很久\r\n\r\n一种可能的解决方案是加一步翻译缓存所有文字的步骤：\r\n\r\n翻译： 1. 解析所有页面的文字 2. 多线程处理翻译 3. 写入本地缓存\r\n\r\n排版（现有的代码保持不变）： 1. 解析单页文字 2. 读取缓存的翻译 3. 排版当前页面\r\n\r\n这样既可以更”并行“地翻译，又不会大幅影响项目的现有逻辑",
      "state": "closed",
      "author": "jgewbem",
      "author_type": "User",
      "created_at": "2024-12-12T14:50:04Z",
      "updated_at": "2025-04-19T19:30:26Z",
      "closed_at": "2025-04-19T19:30:25Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/216/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/216",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/216",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:34.964846",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "其实也不用二阶段翻译，毕竟PDF各页之间天然独立，只需要把处理某一页的代码写成async def handle函数，然后直接发起所有task（或者想省mem的话找个信号量限制一下），并用async.gather并行运行。handle里可以顺序执行，也可以把部分性能瓶颈代码改成并行执行，比如说获取到当页所有文本后并行翻译。\r\n```python\r\ntasks = []\r\nfor page in pdf_pages:\r\n    task = handle(page)\r\n    tasks.append(task)\r\n\r\nresults = await asyncio.gather(*tasks)\r",
          "created_at": "2024-12-14T21:19:19Z"
        },
        {
          "author": "awwaawwa",
          "body": "我在 https://github.com/Byaidu/PDFMathTranslate/pull/330 先实现了翻译与排版解耦。Async 要改的东西较多，且会出现 Async - Sync - Async 这种两边都是异步，中间 PDFMiner 库同步执行的问题，并且 PDFMiner 用的是回调函数。Async 暂时先放放，我后面有时间了把相关代码研究研究，分析一下多线程并行会有什么数据冲突等。",
          "created_at": "2024-12-23T18:48:37Z"
        },
        {
          "author": "awwaawwa",
          "body": "耐心等待2.0吧",
          "created_at": "2025-04-19T19:30:25Z"
        }
      ]
    },
    {
      "issue_number": 804,
      "title": "快完成了，突然中断了，无法产生文本",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:3.1\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nTypesetting (Complete):  98%|█████████████████████████████▎| 97.56024992561737/100 [10:05<00:15,  6.21s/it]\n[03/26/25 06:43:07] ERROR    ERROR:asyncio:Future exception was never retrieved          base_events.py:1758\n                             future: <Future finished exception=FileNotFoundError(2,\n                             '系统找不到指定的路径。')>\n                             Traceback (most recent call last):\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\babeldoc\\high_level.py\",\n                             line 385, in do_translate\n                                 result = _do_translate_single(pm, translation_config)\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\babeldoc\\high_level.py\",\n                             line 663, in _do_translate_single\n                                 result = pdf_creater.write(translation_config)\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\babeldoc\\document_il\\back\n                             end\\pdf_creater.py\", line 644, in write\n                                 pdf = pymupdf.open(self.original_pdf_path)\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\pymupdf\\__init__.py\",\n                             line 2955, in __init__\n                                 raise FileNotFoundError(msg)\n                             pymupdf.FileNotFoundError: no such file:\n                             'C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\tmp3lq4fy_r\\input.pdf\n                             '\n\n                             During handling of the above exception, another exception\n                             occurred:\n\n                             Traceback (most recent call last):\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\concurrent\\futures\\thread.py\", line 58,\n                             in run\n                                 result = self.fn(*self.args, **self.kwargs)\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\babeldoc\\high_level.py\",\n                             line 517, in do_translate\n                                 translation_config.cleanup_temp_files()\n                               File \"C:\\Program\n                             Files\\Python310\\lib\\site-packages\\babeldoc\\translation_conf\n                             ig.py\", line 237, in cleanup_temp_files\n                                 shutil.rmtree(self.working_dir)\n                               File \"C:\\Program Files\\Python310\\lib\\shutil.py\", line\n                             750, in rmtree\n                                 return _rmtree_unsafe(path, onerror)\n                               File \"C:\\Program Files\\Python310\\lib\\shutil.py\", line\n                             601, in _rmtree_unsafe\n                                 onerror(os.scandir, path, sys.exc_info())\n                               File \"C:\\Program Files\\Python310\\lib\\shutil.py\", line\n                             598, in _rmtree_unsafe\n                                 with os.scandir(path) as scandir_it:\n                             FileNotFoundError: [WinError 3] 系统找不到指定的路径。:\n                             'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\tmp3lq4fy_r'\nTraceback (most recent call last):\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\gradio\\blocks.py\", line 2047, in process_api\n    result = await self.call_function(\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\gradio\\blocks.py\", line 1594, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2505, in run_sync_in_worker_thread\n    return await future\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 1005, in run\n    result = context.run(func, *args)\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\gradio\\utils.py\", line 869, in wrapper\n    response = f(*args, **kwargs)\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\pdf2zh\\gui.py\", line 333, in translate_file\n    return babeldoc_translate_file(**param)\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\pdf2zh\\gui.py\", line 492, in babeldoc_translate_file\n    return asyncio.run(yadt_translate_coro(yadt_config))\n  File \"C:\\Program Files\\Python310\\lib\\asyncio\\runners.py\", line 44, in run\n    return loop.run_until_complete(main)\n  File \"C:\\Program Files\\Python310\\lib\\asyncio\\base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"C:\\Program Files\\Python310\\lib\\site-packages\\pdf2zh\\gui.py\", line 484, in yadt_translate_coro\n    str(file_mono),\n\n\n### 如何复现\n\n我勾选了“Use BabelDOC”，不知道有没有关系。昨晚第一次升级为1.9.6，之前用1.8.8的时候都没有问题\n\n我用的是pip install --upgrade pdf2zh升级的pdf2zh\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ReedinGod",
      "author_type": "User",
      "created_at": "2025-03-25T23:03:15Z",
      "updated_at": "2025-04-19T19:29:28Z",
      "closed_at": "2025-04-19T19:29:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/804/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/804",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/804",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:35.135973",
      "comments": [
        {
          "author": "hellofinch",
          "body": "使用的是webUI是吗？有尝试过重启吗？\n看上去是没找到临时文件，1.9.6版本的话，已经不太依赖临时文件了，所以尝试重启一下。然后检查一下用户路径下`.config/PDFMathTranslate/config.json`这个文件中的内容，看看有没有设置什么临时文件的路径。\n勾选了“Use BabelDOC”这个没问题，会比之前的效果好一些。",
          "created_at": "2025-03-26T01:41:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:29:27Z"
        }
      ]
    },
    {
      "issue_number": 821,
      "title": "魔塔社区的总是频繁超时后报错，复制空间后仍不能正常使用（no found api）",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/97e19637-6b26-4f93-a342-446c729d219e)\n\n![Image](https://github.com/user-attachments/assets/75f89cca-15df-4b01-8dde-9d3e57ded6aa)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "JiaWANG-TJ",
      "author_type": "User",
      "created_at": "2025-04-01T08:43:22Z",
      "updated_at": "2025-04-19T19:29:10Z",
      "closed_at": "2025-04-19T19:29:09Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/821/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/821",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/821",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:35.319329",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "先用这个吧 https://app.immersivetranslate.com/babel-doc/\n",
          "created_at": "2025-04-01T08:48:17Z"
        },
        {
          "author": "JiaWANG-TJ",
          "body": "ok",
          "created_at": "2025-04-01T08:51:45Z"
        },
        {
          "author": "hellofinch",
          "body": "问题与这个社区有关，和项目无关。\n可以考虑向社区反馈。",
          "created_at": "2025-04-02T00:56:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:29:09Z"
        }
      ]
    },
    {
      "issue_number": 706,
      "title": "pdf2zh.exe打开直接闪退",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:11.8\n- pdf2zh:\n```\n\n### 描述你的问题\n\npdf2zh.exe打开直接闪退\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hrwxl1585",
      "author_type": "User",
      "created_at": "2025-03-02T01:30:06Z",
      "updated_at": "2025-04-19T19:28:38Z",
      "closed_at": "2025-04-19T19:28:37Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/706/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/706",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/706",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:35.519391",
      "comments": [
        {
          "author": "mst981012",
          "body": "我在不同的电脑上出现了同样的问题",
          "created_at": "2025-03-02T04:04:22Z"
        },
        {
          "author": "xiaysh662",
          "body": "我的也是，pdf2zh.exe打开直接闪退，是64位WIN11系统。",
          "created_at": "2025-03-02T18:39:53Z"
        },
        {
          "author": "hellofinch",
          "body": "请在cmd或者powershell中运行exe，获得完整报错信息。\n目前根据反馈可能是两种情况导致：\n1. 网络问题，无法连接huggingface并下载模型\n2. onnx需要vc runtime版本未满足。\n",
          "created_at": "2025-03-03T01:44:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "以及尝试1.9.3版本",
          "created_at": "2025-03-03T02:06:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:28:37Z"
        }
      ]
    },
    {
      "issue_number": 772,
      "title": "Using multiple API keys",
      "body": "### Is your feature request related to a problem?\n\nI believe that the translation performance of the higher LLM model (deepseek r1, gpt o3 mini) is superior to that of the lower models (gpt 4o mini, gemini flash pro). However, the issue is always the cost.\n\nHowever, in the case of deepseek r1, the cost is very low, and it can be used at a more discounted price during certain time periods.\n\nThe biggest problem with the Deepseek API is the slow speed of the server. It takes more than 5 minutes just to translate a 10-page PDF. I have rarely seen a 1000-page book succeed.\n\nTherefore, I would like to suggest a method to reduce working time by using multiple API keys. If multiple API keys for Deepseek are used for translation, I believe the translation work can be done much faster.\n\nWhat are your thoughts, creator?\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "Rukkha1024",
      "author_type": "User",
      "created_at": "2025-03-16T09:06:23Z",
      "updated_at": "2025-04-19T19:28:04Z",
      "closed_at": "2025-04-19T19:28:03Z",
      "labels": [
        "enhancement",
        "Normal priority",
        "No help needed"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/772/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/772",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/772",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:35.795375",
      "comments": [
        {
          "author": "hellofinch",
          "body": "good idea! We can try to implement in 2.0.\n: )\n@awwaawwa ",
          "created_at": "2025-03-16T09:44:36Z"
        },
        {
          "author": "awwaawwa",
          "body": "Planned.",
          "created_at": "2025-03-16T15:47:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "Follow-up will be tracked in #854. This feature is expected to be introduced in 3.0.",
          "created_at": "2025-04-19T19:28:03Z"
        }
      ]
    },
    {
      "issue_number": 765,
      "title": "feature: 表格支持",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Mac OS\n- Python:3.10\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n将中文（简体）翻译为英文的时候，表格中的文字不会被翻译\n\n### 如何复现\n\n1. 执行 'pdf2zh -i'\n2. 选择 'Google/Bing'、'simplified Chinese to English'\n3. 出现问题，表格中的文字不会被翻译\n\n\n### 预期行为\n\n查清楚问题\n\n### 相关 Logs\n\n```Text\n[03/14/25 15:47:26] INFO     INFO:pdf2zh.high_level:use font:                             high_level.py:423\n                             /Users/user/.cache/babeldoc/fonts/GoNotoKurrent-Regular.t                  \n                             tf                                                                            \n100%|██████████████████████████████████████████████████████████████████████| 83/83 [00:45<00:00,  1.84it/s]\nFiles after translation: ['BATSCCD  a new change detection method for mapping building age in rapidly changing urban areas using Landsat time series data.pdf', '.DS_Store', '2025实习简历_无照片版.pdf', 'BATSCCD  a new change detection method for mapping building age in rapidly changing urban areas using Landsat time series data-mono.pdf', '中山大学2025年硕士研究生招生学科专业目录.pdf', 'BATSCCD  a new change detection method for mapping building age in rapidly changing urban areas using Landsat time series data-dual.pdf', '2025实习简历_无照片版-mono.pdf', '中山大学2025年硕士研究生招生学科专业目录-mono.pdf', '2025实习简历_无照片版-dual.pdf', '中山大学2025年硕士研究生招生学科专业目录-dual.pdf']\n```\n\n### 原始PDF文件\n\n[中山大学2025年硕士研究生招生学科专业目录.pdf](https://github.com/user-attachments/files/19243567/2025.pdf)\n该文件仅用来测试。\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "yssysu",
      "author_type": "User",
      "created_at": "2025-03-14T07:57:00Z",
      "updated_at": "2025-04-19T19:27:04Z",
      "closed_at": "2025-04-19T19:27:00Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/765/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/765",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/765",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:36.038787",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "表格暂不支持，请耐心等待。",
          "created_at": "2025-03-14T07:58:54Z"
        },
        {
          "author": "awwaawwa",
          "body": "BabelDOC最新版有实验性表格支持。虽然不是很好用。后续慢慢优化。\n\n此issue先关闭。请耐心等待2.0发布",
          "created_at": "2025-04-19T19:27:00Z"
        }
      ]
    },
    {
      "issue_number": 760,
      "title": "onnxruntime：Non-zero status code returned while running TopK node",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windows11 26100.3476\n- Python: 3.12.7150\n- pdf2zh: 1.9.5\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n翻译此特定文件（无法上传，只能分享在百度网盘）会出现如log所示的提示：\n*\n[E:onnxruntime:, sequential_executor.cc:572 onnxruntime::ExecuteKernel] Non-zero status code returned while running TopK node. Name:'/model.23/TopK' Status Message: k argument [300] should not be greater than specified axis dim value [210]\n*\n是否有修改该变量值的办法？\n\n### 如何复现\n\n1. 执行 ：pdf2zh.exe\n2. 选择 ：Service Bing\n3. 出现问题：[E:onnxruntime:, sequential_executor.cc:572 onnxruntime::ExecuteKernel] Non-zero status code returned while running TopK node. Name:'/model.23/TopK' Status Message: k argument [300] should not be greater than specified axis dim value [210]\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n2025-03-13 20:45:18.3486397 [E:onnxruntime:, sequential_executor.cc:572 onnxruntime::ExecuteKernel] Non-zero status code returned while running TopK node. Name:'/model.23/TopK' Status Message: k argument [300] should not be greater than specified axis dim value [210]\n  3%|██▎                                                                             | 44/1563 [00:14<08:35,  2.94it/s]\nTraceback (most recent call last):\n  File \"D:\\pdf2zh\\build\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 2103, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 1650, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2461, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 962, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\gradio\\utils.py\", line 890, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\pdf2zh\\gui.py\", line 305, in translate_file\n    translate(**param)\n  File \"D:\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 232, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 132, in translate_patch\n    page_layout = model.predict(image, imgsz=int(pix.height / 32) * 32)[0]\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\pdf2zh\\doclayout.py\", line 168, in predict\n    preds = self.model.run(None, {\"images\": pix})[0]\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\pdf2zh\\build\\site-packages\\onnxruntime\\capi\\onnxruntime_inference_collection.py\", line 270, in run\n    return self._sess.run(output_names, input_feed, run_options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nonnxruntime.capi.onnxruntime_pybind11_state.Fail: [ONNXRuntimeError] : 1 : FAIL : Non-zero status code returned while running TopK node. Name:'/model.23/TopK' Status Message: k argument [300] should not be greater than specified axis dim value [210]\n```\n\n### 原始PDF文件\n\n通过网盘分享的文件：Thomas Calculus 11th edition.pdf\n链接: https://pan.baidu.com/s/1iT5BxEBoYIwOMMuv_7-64A 提取码: wynr\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Dusty-Mirror",
      "author_type": "User",
      "created_at": "2025-03-13T13:15:17Z",
      "updated_at": "2025-04-19T19:26:31Z",
      "closed_at": "2025-04-19T19:26:25Z",
      "labels": [
        "bug",
        "High priority",
        "The new backend BabelDOC can handle",
        "No help needed"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/760/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/760",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/760",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:37.220384",
      "comments": [
        {
          "author": "Naivenerd",
          "body": "我遇到了和你一样的问题，但我发现了这个问题的稳定触发条件。\n\n# 我的问题：\n如果我要翻译的PDF中有非正常尺寸的纸张，那翻译到这一页就会出问题，例如\n![Image](https://github.com/user-attachments/assets/cb364a65-b8e5-44e5-acd3-0955e66e3bd0)\n翻译到图片中这里也会报错：\n```\n 92%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████",
          "created_at": "2025-03-13T15:15:52Z"
        },
        {
          "author": "hellofinch",
          "body": "这个应该是上游doclayout模型识别的问题。页面尺寸不对，送到网络里就炸了（应该）。\n这个确实是个bug，可能需要看看上游doclayout有没有解决。",
          "created_at": "2025-03-14T01:32:27Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 这个应该是上游doclayout模型识别的问题。页面尺寸不对，送到网络里就炸了（应该）。 这个确实是个bug，可能需要看看上游doclayout有没有解决。\n\n把所有图片都resize+padding成1024x1024能修复这个问题的。",
          "created_at": "2025-03-14T02:48:48Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/6be6531f276c4df635ceab33b9c1ce049d74c33e/pdf2zh/high_level.py#L132C54-L132C79\n\n上面那个位置直接写死1024应该能好，欢迎好心人帮忙试试",
          "created_at": "2025-03-14T03:04:21Z"
        },
        {
          "author": "Naivenerd",
          "body": "> https://github.com/Byaidu/PDFMathTranslate/blob/6be6531f276c4df635ceab33b9c1ce049d74c33e/pdf2zh/high_level.py#L132C54-L132C79\n> \n> 上面那个位置直接写死1024应该能好，欢迎好心人帮忙试试\n\n实测有用，现在不报错了\n![Image](https://github.com/user-attachments/assets/9b10040f-e428-4384-8a74-de4674820b18)",
          "created_at": "2025-03-15T03:30:46Z"
        }
      ]
    },
    {
      "issue_number": 756,
      "title": "ERROR:pdf2zh.converter:Connection error.",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:ubuntu 20.04\n- Python: 12\n- pdf2zh: 1.9.5\n```\n\n### 描述你的问题\n\n在升级到这个新版本后，在翻译时一直返回下面的错误代码：\n\n[03/12/25 21:23:31] ERROR    ERROR:pdf2zh.converter:Connection error.                                                                                                                              converter.py:357\n\n我使用的是本地部署的大模型。config.json 是这样的：\n\n{\n    \"USE_MODELSCOPE\": \"0\",\n    \"translators\": [\n        {\n            \"name\": \"openai\",\n            \"envs\": {\n                \"OPENAI_BASE_URL\": \"https://0.0.0.0:8001/v1\",\n                \"OPENAI_API_KEY\": \"token-abc123\",\n                \"OPENAI_MODEL\": \"Qwen2.5-72B-Instruct\"\n            }\n        }\n    ],\n    \"ENABLED_SERVICES\": [\n        \"OpenAI\",\n        \"Grok\"\n    ],\n    \"HIDDEN_GRADIO_DETAILS\": true,\n    \"PDF2ZH_LANG_FROM\": \"English\",\n    \"PDF2ZH_LANG_TO\": \"Simplified Chinese\",\n    \"NOTO_FONT_PATH\": \"/app/SourceHanSerifCN-Regular.ttf\"\n}\n\n请问会是哪里出了问题？\n\n谢谢！\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "george66s",
      "author_type": "User",
      "created_at": "2025-03-12T13:54:41Z",
      "updated_at": "2025-04-19T19:25:57Z",
      "closed_at": "2025-04-19T19:25:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/756/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/756",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/756",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:37.419760",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "是你的配置有误。",
          "created_at": "2025-03-12T14:00:13Z"
        },
        {
          "author": "hellofinch",
          "body": "> https://0.0.0.0:8001/v1\n\n这看着就不对，确认一下。",
          "created_at": "2025-03-13T00:59:20Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:25:56Z"
        }
      ]
    },
    {
      "issue_number": 726,
      "title": "明明安装了argos-translate，还提示未安装",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 11\n- Python:3.11.9\n- pdf2zh:1.9.3\n```\n\n### 描述你的问题\n\n1、使用pip命令安装了argostranslate及argostranslategui，运行pdf2zh 1.9.3的exe文件，仍提示argostranslate为安装；\n2、提示sqlite3.OperationalError: unable to open database file等错误（我没安装sqlite3，安装包夜未提示安装）\n\n### 如何复现\n\n1. 执行 'pdf2zh.exe'，版本号为1.9.3\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n运行pdf2zh.exe，提示：\nC:\\Users\\Administrator\\Downloads\\pdf2zh\\build>pdf2zh.exe\nargos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\nTraceback (most recent call last):\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3263, in connect\n    self._state.set_connection(self._connect())\n                               ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3607, in _connect\n    self._add_conn_hooks(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3617, in _add_conn_hooks\n    self._set_pragmas(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3632, in _set_pragmas\n    cursor.execute('PRAGMA %s = %s;' % (pragma, value))\nsqlite3.OperationalError: unable to open database file\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3321, in execute_sql\n    cursor = self.cursor()\n             ^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3311, in cursor\n    self.connect()\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3262, in connect\n    with __exception_wrapper__:\n         ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3088, in __exit__\n    reraise(new_type, new_type(exc_value, *exc_args), traceback)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 196, in reraise\n    raise value.with_traceback(tb)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3263, in connect\n    self._state.set_connection(self._connect())\n                               ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3607, in _connect\n    self._add_conn_hooks(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3617, in _add_conn_hooks\n    self._set_pragmas(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3632, in _set_pragmas\n    cursor.execute('PRAGMA %s = %s;' % (pragma, value))\npeewee.OperationalError: unable to open database file\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<string>\", line 27, in <module>\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\_pystand_static.int\", line 2, in <module>\n    import pdf2zh.pdf2zh\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 25, in <module>\n    from pdf2zh.converter import TranslateConverter\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\converter.py\", line 18, in <module>\n    from pdf2zh.translator import (\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\translator.py\", line 35, in <module>\n    from pdf2zh.cache import TranslationCache\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\cache.py\", line 146, in <module>\n    init_db()\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\pdf2zh\\cache.py\", line 112, in init_db\n    db.create_tables([_TranslationCache], safe=True)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3508, in create_tables\n    model.create_table(**options)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 7083, in create_table\n    cls._schema.create_all(safe, **options)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 6176, in create_all\n    self.create_table(safe, **table_options)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 6032, in create_table\n    self.database.execute(self._create_table(safe=safe, **options))\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3330, in execute\n    return self.execute_sql(sql, params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3320, in execute_sql\n    with __exception_wrapper__:\n         ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3088, in __exit__\n    reraise(new_type, new_type(exc_value, *exc_args), traceback)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 196, in reraise\n    raise value.with_traceback(tb)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3321, in execute_sql\n    cursor = self.cursor()\n             ^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3311, in cursor\n    self.connect()\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3262, in connect\n    with __exception_wrapper__:\n         ^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3088, in __exit__\n    reraise(new_type, new_type(exc_value, *exc_args), traceback)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 196, in reraise\n    raise value.with_traceback(tb)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3263, in connect\n    self._state.set_connection(self._connect())\n                               ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3607, in _connect\n    self._add_conn_hooks(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3617, in _add_conn_hooks\n    self._set_pragmas(conn)\n  File \"C:\\Users\\Administrator\\Downloads\\pdf2zh\\build\\site-packages\\peewee.py\", line 3632, in _set_pragmas\n    cursor.execute('PRAGMA %s = %s;' % (pragma, value))\npeewee.OperationalError: unable to open database file\n\n------------------------------------\n\nC:\\Users\\Administrator>pip list\nWARNING: Ignoring invalid distribution ~orch (C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages)\nPackage            Version\n------------------ ---------\nappdirs            1.4.4\nargostranslate     1.9.6\nargostranslategui  1.6.5\nasync-timeout      5.0.1\nbabel              2.17.0\ncachelib           0.13.0\ncertifi            2025.1.31\ncharset-normalizer 3.4.1\nclick              8.1.8\ncolorama           0.4.6\ncommonmark         0.9.1\nctranslate2        4.5.0\nexpiringdict       1.2.2\nfilelock           3.17.0\nfsspec             2025.2.0\nidna               3.10\nitsdangerous       2.1.2\nJinja2             3.1.5\njoblib             1.4.2\nlangdetect         1.0.9\nLexiLang           1.0.4\nlxml               5.3.1\nMarkupSafe         3.0.2\nMorfessor          2.0.6\nmpmath             1.3.0\nnetworkx           3.4.2\nnumpy              1.26.4\npackaging          23.1\npip                25.0.1\npolib              1.1.1\nprometheus-client  0.15.0\nprotobuf           6.30.0\nPygments           2.19.1\nPyQt5              5.15.11\nPyQt5-Qt5          5.15.2\nPyQt5_sip          12.17.0\npytz               2025.1\nPyYAML             6.0.2\nregex              2024.11.6\nrequests           2.31.0\nsacremoses         0.0.53\nsentencepiece      0.2.0\nsetuptools         65.5.0\nsix                1.17.0\nsoupsieve          2.6\nstanza             1.1.1\nsympy              1.13.1\ntorch              2.2.0\ntqdm               4.67.1\ntyping_extensions  4.12.2\ntzdata             2025.1\ntzlocal            5.3\nurllib3            2.3.0\nwaitress           2.1.2\nWerkzeug           2.3.8\nwrapt              1.17.2\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "yougwypf1991",
      "author_type": "User",
      "created_at": "2025-03-05T09:42:57Z",
      "updated_at": "2025-04-19T19:25:42Z",
      "closed_at": "2025-04-19T19:24:15Z",
      "labels": [
        "bug",
        "Waiting for feedback"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/726/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/726",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/726",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:37.625735",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "exe版不支持自己调整依赖库。如果想调整依赖，请使用其他安装方式。\n\nargos的警告直接忽略就可以。\n\n打不开数据库的话，检查一下文件 ~/.cache/pdf2zh/cache.v1.db 是否存在，以及是否有权限操作这个路径。",
          "created_at": "2025-03-05T09:45:29Z"
        },
        {
          "author": "hullyang",
          "body": "我遇到同样的情况，解决方法：创建一个虚拟环境，把pdf2zh和argos都装在这个虚拟环境下",
          "created_at": "2025-03-11T03:13:43Z"
        },
        {
          "author": "hellofinch",
          "body": "@hullyang 其实argos是选装的，可以不用装也没关系的。argos的包太大了，所以没有默认安装，只是在运行时提示一下而已。",
          "created_at": "2025-03-11T03:15:43Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0已移除argos",
          "created_at": "2025-04-19T19:24:15Z"
        }
      ]
    },
    {
      "issue_number": 743,
      "title": "网页UI上传后自动下载同名文档、表格不翻译",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:群晖7.1\n- pdf2zh: Docker byaidu/pdf2zh v1.9.4\n- 浏览器：Chrome（IDM集成）\n- 模型：deepseek-chat模型+api\n```\n\n### 描述你的问题\n\n问题一：上传本地文件成功后，会立即（未点`Translate`）自动下载一个**同名文档**或者是`video.pdf`\n\n问题二：（使用deepseek-chat模型+api）表格不翻译、脚注不翻译\n\n![Image](https://github.com/user-attachments/assets/8518b0f3-61ba-4d08-aae3-b53fdf83863f)\n\n![Image](https://github.com/user-attachments/assets/8263d701-342b-4a88-ad69-756900e09dfd)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2024 ESSKA共识：首次髌骨脱位的管理-第1部分.pdf](https://github.com/user-attachments/files/19163040/2024.ESSKA.-.1.pdf)\n\n### 还有别的吗？\n\n转换后文档\n\n<!-- Failed to upload \"2024 ESSKA共识首次髌骨脱位的管理-第1部分-mono.pdf\" -->",
      "state": "closed",
      "author": "Vekixx",
      "author_type": "User",
      "created_at": "2025-03-10T13:08:55Z",
      "updated_at": "2025-04-19T19:25:20Z",
      "closed_at": "2025-04-19T19:25:18Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/743/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/743",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/743",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:37.794838",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "表格不翻译是已知问题，之后会处理。\n\n脚注应该是bug，启用一下实验性选项中的use babeldoc测试一下翻译不翻译。\n\n自动下载没碰到过，后面有空了研究吧。",
          "created_at": "2025-03-10T13:11:11Z"
        },
        {
          "author": "Vekixx",
          "body": "> use babeldoc\n\nuse babeldoc后脚注翻译了。\n\n自动下载的确比较困扰，上传一份，马上给下载一份一模一样的",
          "created_at": "2025-03-10T14:16:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "issue开着呗，追踪一下自动下载的问题。",
          "created_at": "2025-03-10T14:17:40Z"
        },
        {
          "author": "hellofinch",
          "body": "自动下载是浏览器的问题，可以尝试换换其他浏览器试试。",
          "created_at": "2025-03-11T01:09:29Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:25:18Z"
        }
      ]
    },
    {
      "issue_number": 739,
      "title": "Request: Support for Korean Translation in MathTranslate",
      "body": "Request: Support for Korean Translation in MathTranslate\nDear MathTranslate Developers,\n\nThank you for developing and maintaining this amazing tool! I have been using MathTranslate for translating mathematical PDFs, and I truly appreciate its capabilities.\n\nHowever, I noticed that Korean (ko) translation is either not supported or not functioning correctly. When I try running the following command:",
      "state": "open",
      "author": "LEEHEE2",
      "author_type": "User",
      "created_at": "2025-03-10T01:52:31Z",
      "updated_at": "2025-04-19T19:24:59Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/739/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/739",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/739",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:37.987562",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "What command?",
          "created_at": "2025-03-10T02:05:17Z"
        },
        {
          "author": "LEEHEE2",
          "body": "I encountered an issue when attempting to translate an English PDF into Korean. When I run the following command:\n'pdf2zh example.pdf -li en -lo ko'\n\nThe Korean translation does not work.\nInstead, the file remains untranslated or is incorrectly translated into Chinese, resulting in a -zh.pdf file.\n\n",
          "created_at": "2025-03-10T07:11:10Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please try using LLM for translation, the default Google/Bing may not support this feature very well.",
          "created_at": "2025-03-10T07:27:09Z"
        },
        {
          "author": "Rukkha1024",
          "body": "한국어 번역 잘 되는데 뭐 잘못한거 아닌가요? ",
          "created_at": "2025-03-15T17:14:15Z"
        },
        {
          "author": "LEEHEE2",
          "body": "\n> 한국어 번역 잘 되는데 뭐 잘못한거 아닌가요?\n\n뭐가 잘못되었는지 모르겠는데 한국어 번역이 잘 안되네요 ㅜㅜ\npdf2zh relation.pdf -li en -li ko\n또는 pdf2zh relation.pdf -li en -li kr \n이렇게 넣었는데도\nrelation-dual과 relation-zh 파일만 만들어지는데 혹시 왜 그런지 알고 계실까요?\n중국어 번역만 되는 것 같아요 ㅜㅜ",
          "created_at": "2025-03-16T02:30:10Z"
        }
      ]
    },
    {
      "issue_number": 725,
      "title": "config由于意外损坏后（比如程序意外退出）再次启动时会崩溃（JSON load error）",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:3.11\n- pdf2zh:1.9.3\n```\n\n### 描述你的问题\n\nconfig.py中在执行_load_config()的时候，应该添加文件是否损坏（比如缺少字段或者其他异常）的检查，如果发现有问题应该删除并替换成一个新的config.json文件，不然会因为JSON load Error导致启动崩溃，只能依靠用户手动找到并删除该配置文件\n\n### 如何复现\n\n1. 正常运行\n2. 非正常退出（如电脑突然关机）\n3. 再次启动程序后出现上述问题\n\n\n### 预期行为\n\nconfig.py中在执行_load_config()的时候，应该添加文件是否损坏（比如缺少字段或者其他异常）的检查，如果发现有问题应该删除并替换成一个新的config.json文件\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "PZQ-ship-it",
      "author_type": "User",
      "created_at": "2025-03-05T08:30:16Z",
      "updated_at": "2025-04-19T19:23:59Z",
      "closed_at": "2025-04-19T19:22:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/725/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/725",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/725",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:38.179686",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "好的，配置系统正在重写，后面处理。",
          "created_at": "2025-03-05T08:41:14Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0能正常处理。会先存到临时文件，然后用rename来原子的替换原配置文件。",
          "created_at": "2025-04-19T19:22:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/71a6e6de-ebc0-4fe5-a45d-4fe43e6cb33b)\n\n在读取配置文件时，如果有异常，会自动跳过。",
          "created_at": "2025-04-19T19:23:58Z"
        }
      ]
    },
    {
      "issue_number": 663,
      "title": "preview last forever in graphical UI",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Windows\n- Python: 3.9\n- pdf2zh: 1.8.9\n```\n\n### 描述你的问题\n\n图形界面的preview一直在处理，无法预览也无法后续翻译\n\n运行命令使用\npdf2zh -i --onnx D:\\doclayout_yolo_docstructbench_imgsz1024.onnx\n尝试了多个pdf也不行\n\n![Image](https://github.com/user-attachments/assets/0d41cb85-deb6-4dbc-865f-c2076be2079e)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "jlyw1017",
      "author_type": "User",
      "created_at": "2025-02-21T16:32:26Z",
      "updated_at": "2025-04-19T19:21:29Z",
      "closed_at": "2025-04-19T19:21:28Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/663/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/663",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/663",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:38.366871",
      "comments": [
        {
          "author": "hellofinch",
          "body": "preview需要一些国际互联网上的资源，如果访问不到的话，preview就不能用。\n这个是上游gradio-pdf的已知问题。",
          "created_at": "2025-02-24T01:24:41Z"
        },
        {
          "author": "ShadyLeaf",
          "body": "测试了下，是浏览器加载[cdn.jsdelivr.net](cdn.jsdelivr.net)上的[这个文件](https://cdn.jsdelivr.net/gh/freddyaboulton/gradio-pdf@main/pdf.worker.min.mjs)失败导致的。\n\n[cdn.jsdelivr.net](cdn.jsdelivr.net)目前在内地无法正常访问，可以通过把`cdn.jsdelivr.net`加入代理解决。",
          "created_at": "2025-04-12T14:21:50Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:21:28Z"
        }
      ]
    },
    {
      "issue_number": 657,
      "title": "HTTP服务无法使用",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nOS: Ubuntu 24.10\nPython: 3.12.0\npdf2zh: 1.9.0\n```\n\n### 描述你的问题\n\n在进行pdf2zh后端api部署时，上传的文件可以被正常翻译，但是当下载时会报400错误，并且下载的文件无法打开，只有1kb。在使用pdf2zh -i 进行操作时可以正常翻译以及下载。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Tulingli",
      "author_type": "User",
      "created_at": "2025-02-20T13:03:50Z",
      "updated_at": "2025-04-19T19:21:07Z",
      "closed_at": "2025-04-19T19:21:06Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/657/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/657",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/657",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:38.572041",
      "comments": [
        {
          "author": "hellofinch",
          "body": "翻译时有报错信息吗？",
          "created_at": "2025-02-21T00:47:29Z"
        },
        {
          "author": "Tulingli",
          "body": "并没有报错信息，只是返回400状态码，并且也开启了celery服务，redis-server也在正常运行。请求翻译的状态码是200，而且进行结果下载也可以正常下载。",
          "created_at": "2025-02-21T02:05:23Z"
        },
        {
          "author": "hellofinch",
          "body": "所有文件都是这样吗？还是个别文件如此？",
          "created_at": "2025-02-21T02:39:34Z"
        },
        {
          "author": "Tulingli",
          "body": "所有文件都是这样的，问题大概在celery与redis的交互上。以下是我在ubuntu系统上部署的过程：\npip install pdf2zh[backend]:安装pdf2zh\nsudo apt-get install redis:安装redis\nredis-server:正常启动redis\npdf2zh -i:测式翻译功能正常\npdf2zh --flask\npdf2zh --celery worker：分别运行命令，正常运行\ncurl http://localhost:11008/v1/translate -F \"file=@example.pdf\" -F \"data={\\\"lang_in",
          "created_at": "2025-02-21T03:09:59Z"
        },
        {
          "author": "Byaidu",
          "body": "model加载逻辑烂了，所以那个api接口暂时没法用，回滚到1.8.8应该可以正常使用",
          "created_at": "2025-02-21T16:18:54Z"
        }
      ]
    },
    {
      "issue_number": 640,
      "title": "key 空白",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### Describe the bug\n\nraise ValueError(\"auth_key must not be empty\")\nValueError: auth_key must not be empty\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "xfb20010901",
      "author_type": "User",
      "created_at": "2025-02-17T03:29:57Z",
      "updated_at": "2025-04-19T19:19:58Z",
      "closed_at": "2025-04-19T19:19:58Z",
      "labels": [
        "bug",
        "Waiting for feedback"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/640/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/640",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/640",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:38.807619",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请提供更详细的描述，比如pdf2zh版本，你使用的翻译引擎，关键信息打码后的参数等等等。",
          "created_at": "2025-02-17T03:31:41Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:19:58Z"
        }
      ]
    },
    {
      "issue_number": 635,
      "title": "PDF 转换后图表的文字、数字全部消失",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:MacOS 11.7.10 \n- Python:3.10.16\n- pdf2zh:1.9.0\n```\n\n### 描述你的问题\n\n> 是使用 pyenv virtualenv 3.10.16 env-31016 创建虚拟环境 中运行pdf2zh\n\n1. 测试的PDF是一份仪表测试报告，并非全英文（带有部分汉字） \n2. 本地使用 命令行工具 翻译 PDF 发现转换后表格、图标的英文、数字全都消失（看log里像是报了错误）\n3. 在 README 提供的 **免费服务** 上传测试 也是同样问题\n\n\n### 如何复现\n\n执行 ``pdf2zh ~/Downloads/New_USM_1_30Jul24_1.pdf -s google -li en -lo zh``\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nNamespace(files=['/Users/edward/Downloads/New_USM_1_30Jul24_1.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='google', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=None, dir=False, config=None, yadt=False)\n100%|████████████████████████████████████████████████████████████████████████████████████████| 2/2 [00:02<00:00,  1.15s/it]\n../../.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/__init__.py:276:exception_info(): exception_info:\n../../.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/utils.py\", line 5832, in build_subset\n    fts.main(args)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/subset/__init__.py\", line 3786, in main\n    font = load_font(\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/subset/__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/sfnt.py\", line 109, in __getitem__\n    entry = self.tables[Tag(tag)]\nKeyError: 'post'\n\n../../.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/__init__.py:276:exception_info(): exception_info:\n../../.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pymupdf/utils.py\", line 5832, in build_subset\n    fts.main(args)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/subset/__init__.py\", line 3786, in main\n    font = load_font(\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/subset/__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/fontTools/ttLib/sfnt.py\", line 109, in __getitem__\n    entry = self.tables[Tag(tag)]\nKeyError: 'post'\n```\n\n### 原始PDF文件\n\n[New_USM_1_30Jul24_1.pdf](https://github.com/user-attachments/files/18814985/New_USM_1_30Jul24_1.pdf)\n\n\n\n### 还有别的吗？\n\n```bash\nenv-31016 ~/Desktop/github-PDFMathTranslate\npip list\nPackage                   Version\n------------------------- -----------\naiofiles                  23.2.1\nannotated-types           0.7.0\nanyio                     4.8.0\nargostranslate            1.9.6\nazure-ai-translation-text 1.0.1\nazure-core                1.32.0\nbitarray                  3.0.0\nbitstring                 4.3.0\ncertifi                   2025.1.31\ncffi                      1.17.1\ncharset-normalizer        3.4.1\nclick                     8.1.8\nclick-default-group       1.2.4\ncoloredlogs               15.0.1\nConfigArgParse            1.7\ncryptography              44.0.1\nctranslate2               4.3.1\ndeepl                     1.21.0\nDeprecated                1.2.18\ndistro                    1.9.0\ndocformatter              1.7.5\nexceptiongroup            1.2.2\nfastapi                   0.115.8\nffmpy                     0.5.0\nfilelock                  3.17.0\nflatbuffers               25.2.10\nfonttools                 4.56.0\nfsspec                    2025.2.0\ngradio                    5.16.0\ngradio_client             1.7.0\ngradio_pdf                0.0.22\nh11                       0.14.0\nhttpcore                  1.0.7\nhttpx                     0.28.1\nhuggingface-hub           0.28.1\nhumanfriendly             10.0\nidna                      3.10\nisodate                   0.7.2\nJinja2                    3.1.5\njiter                     0.8.2\njoblib                    1.4.2\nlxml                      5.3.1\nmarkdown-it-py            3.0.0\nMarkupSafe                2.1.5\nmdurl                     0.1.2\nmpmath                    1.3.0\nnetworkx                  3.4.2\nnumpy                     1.26.4\nollama                    0.4.7\nonnx                      1.17.0\nonnxruntime               1.19.2\nopenai                    1.63.0\nopencv-python             4.11.0.86\nopencv-python-headless    4.11.0.86\norjson                    3.10.15\npackaging                 24.2\npandas                    2.2.3\npdf2zh                    1.9.0\npdfminer.six              20240706\npeewee                    3.17.9\npikepdf                   9.5.2\npillow                    11.1.0\npip                       25.0.1\nprotobuf                  5.29.3\npycparser                 2.22\npydantic                  2.10.6\npydantic_core             2.27.2\npydub                     0.25.1\nPygments                  2.19.1\nPyMuPDF                   1.25.3\npython-dateutil           2.9.0.post0\npython-multipart          0.0.20\npytz                      2025.1\nPyYAML                    6.0.2\nregex                     2024.11.6\nrequests                  2.32.3\nrich                      13.9.4\nruff                      0.9.6\nsacremoses                0.0.53\nsafehttpx                 0.1.6\nsemantic-version          2.10.0\nsentencepiece             0.2.0\nsetuptools                65.5.0\nshellingham               1.5.4\nsix                       1.17.0\nsniffio                   1.3.1\nstanza                    1.1.1\nstarlette                 0.45.3\nsympy                     1.13.3\ntenacity                  9.0.0\ntencentcloud-sdk-python   3.0.1319\ntoml                      0.10.2\ntomlkit                   0.13.2\ntoposort                  1.10\ntorch                     2.2.2\ntqdm                      4.67.1\ntyper                     0.15.1\ntyping_extensions         4.12.2\ntzdata                    2025.1\nuntokenize                0.1.1\nurllib3                   2.3.0\nuvicorn                   0.34.0\nwebsockets                14.2\nwrapt                     1.17.2\nxinference-client         1.2.2\nxsdata                    24.12\nyadt                      0.0.1a28`\n```\n\n**说明**\n我把numpy降到1.26.4，会出现下方的提示。执行 pdf2zh 的报错信息就是 前面  **相关 Logs** 贴出来的\n```\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nyadt 0.0.1a28 requires numpy>=2.0.2, but you have numpy 1.26.4 which is incompatible.\n```\n\n\n如果我更新到numpy-2.2.3 再次执行 pdf2zh  出现下面log报错且 PDF也是空白\n```\npdf2zh ~/Downloads/New_USM_1_30Jul24_1.pdf -s google -li en -lo zh\n\nA module that was compiled using NumPy 1.x cannot be run in\nNumPy 2.2.3 as it may crash. To support both 1.x and 2.x\nversions of NumPy, modules must be compiled with NumPy 2.0.\nSome module may need to rebuild instead e.g. with 'pybind11>=2.12'.\n\nIf you are a user of the module, the easiest solution will be to\ndowngrade to 'numpy<2' or try to upgrade the affected module.\nWe expect that some modules will need time to support NumPy 2.\n\nTraceback (most recent call last):  File \"/Users/edward/.pyenv/versions/env-31016/bin/pdf2zh\", line 5, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pdf2zh/high_level.py\", line 24, in <module>\n    from pdf2zh.converter import TranslateConverter\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pdf2zh/converter.py\", line 22, in <module>\n    from pdf2zh.translator import (\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/pdf2zh/translator.py\", line 20, in <module>\n    import argostranslate.translate\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/argostranslate/translate.py\", line 5, in <module>\n    import ctranslate2\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/__init__.py\", line 55, in <module>\n    from ctranslate2 import converters, models, specs\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/converters/__init__.py\", line 1, in <module>\n    from ctranslate2.converters.converter import Converter\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/converters/converter.py\", line 8, in <module>\n    from ctranslate2.specs.model_spec import ACCEPTED_MODEL_TYPES, ModelSpec\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/specs/__init__.py\", line 1, in <module>\n    from ctranslate2.specs.attention_spec import RotaryScalingType\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/specs/attention_spec.py\", line 5, in <module>\n    from ctranslate2.specs import common_spec, model_spec\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/specs/common_spec.py\", line 3, in <module>\n    from ctranslate2.specs import model_spec\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/ctranslate2/specs/model_spec.py\", line 18, in <module>\n    import torch\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/__init__.py\", line 1477, in <module>\n    from .functional import *  # noqa: F403\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/functional.py\", line 9, in <module>\n    import torch.nn.functional as F\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/nn/__init__.py\", line 1, in <module>\n    from .modules import *  # noqa: F403\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/nn/modules/__init__.py\", line 35, in <module>\n    from .transformer import TransformerEncoder, TransformerDecoder, \\\n  File \"/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/nn/modules/transformer.py\", line 20, in <module>\n    device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\n/Users/edward/.pyenv/versions/env-31016/lib/python3.10/site-packages/torch/nn/modules/transformer.py:20: UserWarning: Failed to initialize NumPy: _ARRAY_API not found (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/torch/csrc/utils/tensor_numpy.cpp:84.)\n  device: torch.device = torch.device(torch._C._get_default_device()),  # torch.device('cpu'),\n```\n\n\n**转换出错的文档**\n[New_USM_1_30Jul24_1-dual.pdf](https://github.com/user-attachments/files/18815059/New_USM_1_30Jul24_1-dual.pdf)\n[New_USM_1_30Jul24_1-mono.pdf](https://github.com/user-attachments/files/18815060/New_USM_1_30Jul24_1-mono.pdf)",
      "state": "closed",
      "author": "zhEdward",
      "author_type": "User",
      "created_at": "2025-02-16T15:26:19Z",
      "updated_at": "2025-04-19T19:19:53Z",
      "closed_at": "2025-04-19T19:19:51Z",
      "labels": [
        "bug",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/635/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/635",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/635",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:38.970453",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend also has this issue. Will analyze when there's time.",
          "created_at": "2025-02-16T15:28:58Z"
        },
        {
          "author": "duofengzhiling",
          "body": "1.9.1翻译之后一片空白，1.8.8还能用。怀疑字符不显示的问题是字体原因。",
          "created_at": "2025-02-25T15:35:06Z"
        },
        {
          "author": "duofengzhiling",
          "body": "  File \"I:\\pdf_en2cn\\pdf2zhcmd\\.venv\\Lib\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset\n    fts.main(args)\n  File \"I:\\pdf_en2cn\\pdf2zhcmd\\.venv\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"I",
          "created_at": "2025-02-25T15:39:04Z"
        },
        {
          "author": "awwaawwa",
          "body": "@duofengzhiling https://github.com/Byaidu/PDFMathTranslate/issues/678 等正式版发版吧。这个选项可以修复字体子集化的问题。",
          "created_at": "2025-02-25T15:42:33Z"
        },
        {
          "author": "BD4XZE",
          "body": "I had the same problem. Downgrading pdf2zh to version 1.8.8 can solve the issue of missing words.",
          "created_at": "2025-03-02T11:00:38Z"
        }
      ]
    },
    {
      "issue_number": 621,
      "title": "connection refuse",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n> \n\n> 服务器端运行ollama，\n\n```\n(base) ai@ai-Z490-UD:~$ ollama serve\n2025/02/14 13:49:32 routes.go:1189: INFO server config env=\"map[CUDA_VISIBLE_DEVICES: GPU_DEVICE_ORDINAL: HIP_VISIBLE_DEVICES: HSA_OVERRIDE_GFX_VERSION: HTTPS_PROXY: HTTP_PROXY: NO_PROXY: OLLAMA_DEBUG:false OLLAMA_FLASH_ATTENTION:false OLLAMA_GPU_OVERHEAD:0 OLLAMA_HOST:http://0.0.0.0:11434 \n```\n\n> 运行模型\n\n`ollama run deepseek-r1:14b`\n\n> 网页端启动pdf2zh -i\n> 选择ollama，配置ip和端口，设置模型名称\n\n![Image](https://github.com/user-attachments/assets/42e6b086-0628-432e-8ade-dec006118774)\n\n运行翻译报错：\n```\nroot@179cffc8180f:/app# pdf2zh -i\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['2411.08216v1.pdf']\n  0%|                                                                                                                                                                            | 0/14 [00:00<?, ?it/s][Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused[Errno 111] Connection refused\n\nERROR:pdf2zh.converter:All models failed\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused[Errno 111] Connection refused\n\nERROR:pdf2zh.converter:All models failed\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused[Errno 111] Connection refused\n\nERROR:pdf2zh.converter:All models failed\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n\n```\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hytxx",
      "author_type": "User",
      "created_at": "2025-02-14T07:01:43Z",
      "updated_at": "2025-04-19T19:19:01Z",
      "closed_at": "2025-04-19T19:19:00Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/621/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/621",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/621",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:39.198966",
      "comments": [
        {
          "author": "hellofinch",
          "body": "确认ollama的IP地址外部是可以正常访问的吗？\n推荐先使用curl测试ollama API的连通性。",
          "created_at": "2025-02-14T07:07:07Z"
        },
        {
          "author": "hytxx",
          "body": "> 确认ollama的IP地址外部是可以正常访问的吗？ 推荐先使用curl测试ollama API的连通性。\n\n是的，可以访问\n```\n:~$ curl http://10.238.106.176:11434\n\nOllama is running\n```",
          "created_at": "2025-02-14T07:11:26Z"
        },
        {
          "author": "hytxx",
          "body": "> 确认ollama的IP地址外部是可以正常访问的吗？ 推荐先使用curl测试ollama API的连通性。\n\n我看了有类似的回答\nhttps://github.com/Byaidu/PDFMathTranslate/issues/234#issuecomment-2543503022\n按照他的方式，设置环境变量OLLAMA_HOST=http://host.docker.internal:11434 还是不行",
          "created_at": "2025-02-14T07:14:04Z"
        },
        {
          "author": "hellofinch",
          "body": "你提到的issue中，ollama是在docker中启动的，你也是相同的情况吗？\n推荐先使用curl测试一下ollama API的连通性。参考 https://github.com/ollama/ollama/blob/main/docs/api.md#list-local-models 确认ollama服务正常，然后才好判断是什么地方导致了connection refused。",
          "created_at": "2025-02-14T07:20:13Z"
        },
        {
          "author": "hytxx",
          "body": "> 你提到的issue中，ollama是在docker中启动的，你也是相同的情况吗？ 推荐先使用curl测试一下ollama API的连通性。参考 https://github.com/ollama/ollama/blob/main/docs/api.md#list-local-models 确认ollama服务正常，然后才好判断是什么地方导致了connection refused。\n\nollama是直接在终端启动的，api在外部访问是ok的\n\n```\n~$ curl http://10.238.106.176:11434/api/tags\n\n{\"models\":[{\"name\":\"deeps",
          "created_at": "2025-02-14T07:24:03Z"
        }
      ]
    },
    {
      "issue_number": 617,
      "title": "feat (service): chain-of-thought compatibility",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:windows 11\n- Python: 3.12.0\n- pdf2zh: 1.9.0\n```\n\n### 描述你的问题\n\nFiles before translation: ['Computational and Mathematical Methods in Medicine - 2017 - Huan - Deep Convolutional Neural Networks for Classifying Body-dual.pdf', 'Computational and Mathematical Methods in Medicine - 2017 - Huan - Deep Convolutional Neural Networks for Classifying Body-mono.pdf', 'Computational and Mathematical Methods in Medicine - 2017 - Huan - Deep Convolutional Neural Networks for Classifying Body.pdf', 'e100942.full-dual.pdf', 'e100942.full-mono.pdf', 'e100942.full.pdf']\n  0%|                                                                       | 0/9 [00:00<?, ?it/s]Response too long\nERROR:pdf2zh.converter:All models failed\nResponse too long\nERROR:pdf2zh.converter:All models failed\nResponse too long\nERROR:pdf2zh.converter:All models failed\n使用必应模型可以翻译，但是接入本地运行的大模型后，出现这个问题，请问是什么原因呢，是否需要进行某些参数的设定\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KKLaLaLa",
      "author_type": "User",
      "created_at": "2025-02-13T15:49:55Z",
      "updated_at": "2025-04-19T19:18:50Z",
      "closed_at": "2025-04-19T19:18:49Z",
      "labels": [
        "bug",
        "Waiting for feedback"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/617/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/617",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/617",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:39.377429",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "如何复现？\n\n请提供你使用的输入PDF以及对应的命令/操作。",
          "created_at": "2025-02-13T16:02:38Z"
        },
        {
          "author": "KKLaLaLa",
          "body": "我使用powershell终端，运行pdf2zh -i指令，打开网页后，输入一篇英文论文，论文大小为4.4M，总页数为11页，设置如图中所示。运行后就会报Response too long。我查看了一下代码，代码段中的设置范围为2000-5*len(text)，是模型返回的语句太长了吗？我需要再单独写一个prompt吗？或者官方有提供标准的prompt吗\n\n![Image](https://github.com/user-attachments/assets/a2016af3-0f82-42b4-9672-6467e024e3f9)",
          "created_at": "2025-02-15T09:42:51Z"
        },
        {
          "author": "hellofinch",
          "body": "这个问题已经确定了，还在排查需要怎么改。\n众所周知，deepseek在输出回复时，会出现think，这个地方现在的ollama实现有点问题。\n可以尝试自己修改一下这个地方。\nhttps://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/translator.py#L281\n```\ndef do_translate(self, text):\n        for model in self.model.split(\";\"):\n            try:\n                response = self.client.",
          "created_at": "2025-02-17T01:15:13Z"
        },
        {
          "author": "RArchered",
          "body": "deepseek模型现在我也遇到同样的问题，可以先用qwen2.5模型来翻译",
          "created_at": "2025-02-17T04:57:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:18:49Z"
        }
      ]
    },
    {
      "issue_number": 584,
      "title": "~/.cache/yadt directory do not create,so the font is downloaded repeated and slow the translate speed",
      "body": "in the yadt module，the ~/.cache/yadt directory  do not create . I browser the code, I think the reason is, in the yadt/main.py file，code is like that:\nif __name__ == \"__main__\":\n    main()\n\nsince the program is start by run pdf2zh , the yadt/main.py is not called directly，so the main() function is not call actually, hereby the create_cache_folder() function is not called. so ~/.cache/yadt directory is not created. each time the pdf2zh program is started , the font file must be downloaded again, slow the run speed.\n\nI modified some code, the my way is put ~/.cache/yadt directory detection code in get_cache_file_path(). just an advice\n\nsince code is simple,I dont paste it\n\n",
      "state": "closed",
      "author": "gansui",
      "author_type": "User",
      "created_at": "2025-02-08T16:18:35Z",
      "updated_at": "2025-04-19T19:18:13Z",
      "closed_at": "2025-04-19T19:18:13Z",
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/584/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/584",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/584",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:39.547687",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "1. Font re-downloading is a pdf2zh issue, not a yadt issue. If ~/.cache/yadt is not created, yadt will crash directly instead of repeatedly downloading fonts.\n\n2. It's great to put the ~/.cache/yadt directory detection code in get_cache_file_path(), I fixed it in https://github.com/funstory-ai/yadt/",
          "created_at": "2025-02-09T08:19:49Z"
        },
        {
          "author": "awwaawwa",
          "body": "After careful consideration, I rolled back the changes to yadt.\n\nYADT requires calling the yadt.high_level.init function for initialization before running. This function will definitely create a cache path. Therefore, this path will definitely exist afterwards. If this path disappears later, it's co",
          "created_at": "2025-02-09T08:36:50Z"
        },
        {
          "author": "awwaawwa",
          "body": "I haven't decided how the program should behave when ~/.cache/yadt is suddenly deleted during runtime. Feel free to discuss at https://github.com/funstory-ai/yadt/issues/70",
          "created_at": "2025-02-09T08:40:38Z"
        },
        {
          "author": "awwaawwa",
          "body": "Since the new backend [BabelDOC](https://github.com/funstory-ai/BabelDOC) doesn't have this issue, combined with the proposal in https://github.com/Byaidu/PDFMathTranslate/issues/586, I don't want to improve this issue, so I'll mark it as low priority.",
          "created_at": "2025-02-12T09:22:10Z"
        }
      ]
    },
    {
      "issue_number": 560,
      "title": "添加文言文翻译白话文选项",
      "body": "![Image](https://github.com/user-attachments/assets/f86a8e4f-7f7a-49ab-8ddc-8e30172d2f77)\n\n## 功能描述\n请描述需要添加的功能，以及是否有类似项目可以参考\n",
      "state": "closed",
      "author": "mengxin-66",
      "author_type": "User",
      "created_at": "2025-02-01T12:55:47Z",
      "updated_at": "2025-04-19T19:16:32Z",
      "closed_at": "2025-04-19T19:16:31Z",
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/560/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/560",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/560",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:44.711237",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Hope some sample files can be provided.\n\nPersonally, I think this is probably a scanned PDF (which is currently not supported). And maybe there's no punctuation? It's quite challenging, I'll look into it when I have time.",
          "created_at": "2025-02-13T02:39:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:16:31Z"
        }
      ]
    },
    {
      "issue_number": 559,
      "title": "ValueError: bad 'value' on Docker version",
      "body": "Hi,\n\nI'm using the Docker version based on 1.9.0 and testing [this pdf file](https://github.com/user-attachments/files/18627984/test.pdf).\nI get an error after translating process and no file is displayed:\n\n```sh\npdf2zh  | Files before translation: ['test.pdf']\n100%|██████████| 1/1 [00:08<00:00,  8.22s/it]\npdf2zh  | Traceback (most recent call last):\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/gradio/queueing.py\", line 625, in process_events\npdf2zh  |     response = await route_utils.call_process_api(\npdf2zh  |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/gradio/route_utils.py\", line 322, in call_process_api\npdf2zh  |     output = await app.get_blocks().process_api(\npdf2zh  |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 2042, in process_api\npdf2zh  |     result = await self.call_function(\npdf2zh  |              ^^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 1589, in call_function\npdf2zh  |     prediction = await anyio.to_thread.run_sync(  # type: ignore\npdf2zh  |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\npdf2zh  |     return await get_async_backend().run_sync_in_worker_thread(\npdf2zh  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2461, in run_sync_in_worker_thread\npdf2zh  |     return await future\npdf2zh  |            ^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 962, in run\npdf2zh  |     result = context.run(func, *args)\npdf2zh  |              ^^^^^^^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/gradio/utils.py\", line 883, in wrapper\npdf2zh  |     response = f(*args, **kwargs)\npdf2zh  |                ^^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/gui.py\", line 284, in translate_file\npdf2zh  |     translate(**param)\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 356, in translate\npdf2zh  |     s_mono, s_dual = translate_stream(\npdf2zh  |                      ^^^^^^^^^^^^^^^^^\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 230, in translate_stream\npdf2zh  |     doc_en.subset_fonts(fallback=True)\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pymupdf/utils.py\", line 5848, in subset_fonts\npdf2zh  |     set_old_widths(font_xref, width_table, def_width)\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pymupdf/utils.py\", line 5611, in set_old_widths\npdf2zh  |     doc.xref_set_key(df_xref, \"W\", widths)\npdf2zh  |   File \"/usr/local/lib/python3.12/site-packages/pymupdf/__init__.py\", line 6066, in xref_set_key\npdf2zh  |     raise ValueError(\"bad 'value'\")\npdf2zh  | ValueError: bad 'value'\n```\n\ncould you please help?\n\nThe pdf file is originated from a scanned document and was processed via OCR so the text is not extracted!\n\nThanks",
      "state": "closed",
      "author": "seth100",
      "author_type": "User",
      "created_at": "2025-02-01T08:40:00Z",
      "updated_at": "2025-04-19T19:16:12Z",
      "closed_at": "2025-04-19T19:16:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/559/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/559",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/559",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:44.877723",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:16:11Z"
        }
      ]
    },
    {
      "issue_number": 558,
      "title": "Unable to run the docker image",
      "body": "## 问题描述\n无法启动docker，日志如下\n`/usr/local/lib/python3.12/site-packages/stanza/models/common/beam.py:6: SyntaxWarning: invalid escape sequence '\\ '\n  \"\"\"\nTraceback (most recent call last):\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 25, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/doclayout.py\", line 4, in <module>\n    import cv2\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 181, in <module>\n    bootstrap()\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 153, in bootstrap\n    native_module = importlib.import_module(\"cv2\")\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory\nTraceback (most recent call last):\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 25, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/doclayout.py\", line 4, in <module>\n    import cv2\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 181, in <module>\n    bootstrap()\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 153, in bootstrap\n    native_module = importlib.import_module(\"cv2\")\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory`\n",
      "state": "closed",
      "author": "henrywang041201",
      "author_type": "User",
      "created_at": "2025-02-01T00:47:56Z",
      "updated_at": "2025-04-19T19:16:05Z",
      "closed_at": "2025-04-19T19:16:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/558/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/558",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/558",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:45.032082",
      "comments": [
        {
          "author": "Twilight-lxy",
          "body": "出现相同问题",
          "created_at": "2025-02-01T07:55:24Z"
        },
        {
          "author": "ictwjw",
          "body": "Strangely, this problem occurs in Mac(silicon), but not in Mac(intel)",
          "created_at": "2025-02-01T09:48:14Z"
        },
        {
          "author": "hotwa",
          "body": "+1",
          "created_at": "2025-02-02T03:22:24Z"
        },
        {
          "author": "hotwa",
          "body": "\ndocker exec -it <containerid> bash\n\nthen run：\n`apt-get update && \\\n    apt-get install -y --no-install-recommends \\\nlibglib2.0-0 \\\nlibxext6 \\\nlibsm6 \\\nlibxrender1`",
          "created_at": "2025-02-02T03:33:13Z"
        },
        {
          "author": "hotwa",
          "body": "docker exec -it pdf2zh bash\nroot@efddcd293365:/app# pdf2zh -i\n/usr/local/lib/python3.12/site-packages/stanza/models/common/beam.py:6: SyntaxWarning: invalid escape sequence '\\ '\n  \"\"\"\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\n\nfix sucess",
          "created_at": "2025-02-02T03:48:25Z"
        }
      ]
    },
    {
      "issue_number": 540,
      "title": "字体下载不成功",
      "body": "## 问题描述\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['Ancient_Greece-2006.pdf', 'Dinosaur.pdf']\nDownloading SourceHanSerifCN-Regular.ttf...\nTraceback (most recent call last):\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 1348, in do_open\n    h.request(req.get_method(), req.selector, req.data, headers,\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 1282, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 1328, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 1277, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 1037, in _send_output\n    self.send(msg)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 975, in send\n    self.connect()\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 1447, in connect\n    super().connect()\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\http\\client.py\", line 941, in connect\n    self.sock = self._create_connection(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\socket.py\", line 845, in create_connection\n    raise err\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\socket.py\", line 833, in create_connection\n    sock.connect(sa)\nTimeoutError: [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\gradio\\blocks.py\", line 2044, in process_api\n    result = await self.call_function(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\gradio\\blocks.py\", line 1591, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2405, in run_sync_in_worker_thread\n    return await future\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 914, in run\n    result = context.run(func, *args)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\gradio\\utils.py\", line 883, in wrapper\n    response = f(*args, **kwargs)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pdf2zh\\gui.py\", line 284, in translate_file\n    translate(**param)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pdf2zh\\high_level.py\", line 356, in translate\n    s_mono, s_dual = translate_stream(\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pdf2zh\\high_level.py\", line 181, in translate_stream\n    font_path = download_remote_fonts(lang_out.lower())\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pdf2zh\\high_level.py\", line 396, in download_remote_fonts\n    urllib.request.urlretrieve(f\"{URL_PREFIX}{font_name}\", font_path)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 241, in urlretrieve\n    with contextlib.closing(urlopen(url, data)) as fp:\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 216, in urlopen\n    return opener.open(url, data, timeout)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 519, in open\n    response = self._open(req, data)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 536, in _open\n    result = self._call_chain(self.handle_open, protocol, protocol +\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 496, in _call_chain\n    result = func(*args)\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 1391, in https_open\n    return self.do_open(http.client.HTTPSConnection, req,\n  File \"C:\\Users\\beiji\\AppData\\Local\\Programs\\Python\\Python310\\lib\\urllib\\request.py\", line 1351, in do_open\n    raise URLError(err)\nurllib.error.URLError: <urlopen error [WinError 10060] 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试 失败。>\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "ppypph",
      "author_type": "User",
      "created_at": "2025-01-26T02:37:37Z",
      "updated_at": "2025-04-19T19:13:39Z",
      "closed_at": "2025-04-19T19:13:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/540/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/540",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/540",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:45.551465",
      "comments": [
        {
          "author": "ppypph",
          "body": "另外安装了SourceHanSerifCN-Regular.ttf字体软件，关机重启后，还是要下载这个字体。咋办？",
          "created_at": "2025-01-26T08:33:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "pdf2zh 在每次翻译时会将字体下载到随机的临时文件，而新的后端 YADT 会将字体下载到固定位置。你可以尝试使用 [YADT](https://github.com/funstory-ai/yadt)，但需注意，YADT 仍处于早期开发阶段，同时 pdf2zh 的 CLI 尚未提供相关文档。",
          "created_at": "2025-01-27T02:41:53Z"
        },
        {
          "author": "ppypph",
          "body": "> pdf2zh 在每次翻译时会将字体下载到随机的临时文件，而新的后端 YADT 会将字体下载到固定位置。你可以尝试使用 [YADT](https://github.com/funstory-ai/yadt)，但需注意，YADT 仍处于早期开发阶段，同时 pdf2zh 的 CLI 尚未提供相关文档。\n谢谢",
          "created_at": "2025-01-27T03:55:57Z"
        },
        {
          "author": "3094256956",
          "body": "\n\n\n\n> 另外安装了SourceHanSerifCN-Regular.ttf字体软件，关机重启后，还是要下载这个字体。咋办？\n\n你好，找到解决方法了嘛",
          "created_at": "2025-02-22T08:04:57Z"
        },
        {
          "author": "3094256956",
          "body": "> > 另外安装了SourceHanSerifCN-Regular.ttf字体软件，关机重启后，还是要下载这个字体。咋办？\n> \n> 你好，找到解决方法了嘛\n直接下载字体，使用本地字体能解决这个问题，需要修改high_level.py的函数\ndef download_remote_fonts(lang: str):\n    # 直接指定本地字体路径\n    local_font_path = \"C:/fonts/SourceHanSerifCN-Regular.ttf\"  # 修改为你的实际路径\n    return local_font_path",
          "created_at": "2025-02-22T10:00:10Z"
        }
      ]
    },
    {
      "issue_number": 538,
      "title": "docker不能启动",
      "body": "bz@bz-Ubuntu2501:~$ docker pull byaidu/pdf2zh\ndocker run -d -p 7860:7860 byaidu/pdf2zh\nUsing default tag: latest\nlatest: Pulling from byaidu/pdf2zh\naf302e5c37e9: Pull complete \n499051ac08b3: Pull complete \n52a8eea45d12: Pull complete \nbc54bb88b02b: Pull complete \naa9128402005: Pull complete \n0b6cc44232b9: Pull complete \n1caa2199a02f: Pull complete \n70d743f9d43a: Pull complete \n8b902c07332a: Pull complete \nf2c8d5c1f528: Pull complete \n6c86b0adbe49: Pull complete \n982934196013: Pull complete \n794e07d6b393: Pull complete \n9a7b70872841: Pull complete \nDigest: sha256:43e29b92cfa603f5150b1c4c26516c6f33d9f1a4ecfd5cad6ffd4a22a59d6315\nStatus: Downloaded newer image for byaidu/pdf2zh:latest\ndocker.io/byaidu/pdf2zh:latest\n851d9fd31bca6cacb75981704159a6d4f28848ac4683527346102c28ef5e2dd4\nbz@bz-Ubuntu2501:~$ docker ps\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\nbz@bz-Ubuntu2501:~$ \n",
      "state": "closed",
      "author": "b13942272350",
      "author_type": "User",
      "created_at": "2025-01-25T07:39:12Z",
      "updated_at": "2025-04-19T19:13:12Z",
      "closed_at": "2025-04-19T19:13:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 14,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/538/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/538",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/538",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:45.735428",
      "comments": [
        {
          "author": "1023386568",
          "body": "我也是docker启动报错\n\n[pdf2zh.log](https://github.com/user-attachments/files/18549421/pdf2zh.log)",
          "created_at": "2025-01-26T08:55:35Z"
        },
        {
          "author": "highkay",
          "body": "+1 \nImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory",
          "created_at": "2025-01-26T11:00:30Z"
        },
        {
          "author": "billylicn",
          "body": "这个问题是dockerfile的安装不太对 第18行libglib2.0-0 改成 libglib2.0-dev 然后重新built就好了",
          "created_at": "2025-01-29T15:28:36Z"
        },
        {
          "author": "b13942272350",
          "body": "> 这个问题是dockerfile的安装不太对 第18行libglib2.0-0 改成 libglib2.0-dev 然后重新built就好了\n\n谢谢，我试试",
          "created_at": "2025-01-30T00:49:34Z"
        },
        {
          "author": "b13942272350",
          "body": "> > 这个问题是dockerfile的安装不太对 第18行libglib2.0-0 改成 libglib2.0-dev 然后重新built就好了\n> \n> 谢谢，我试试\n\n测试 好用，非常感谢",
          "created_at": "2025-01-30T07:40:20Z"
        }
      ]
    },
    {
      "issue_number": 537,
      "title": "翻译出错，提示nvalid character.",
      "body": "## 问题描述\n翻译特定pdf时出现非法字符错误，似乎是中英文字符的问题。导致一直报错，翻译无法进行下去，或许可以提供一个跳过错误的选项\n\n`ERROR:pdf2zh.converter:invalid character '，' (U+FF0C) (<string>, line 1)`\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n[Programming game AI by example (Mat Buckland) (Z-Library).pdf](https://github.com/user-attachments/files/18545092/Programming.game.AI.by.example.Mat.Buckland.Z-Library.pdf)",
      "state": "closed",
      "author": "dh224",
      "author_type": "User",
      "created_at": "2025-01-25T06:45:54Z",
      "updated_at": "2025-04-19T19:13:06Z",
      "closed_at": "2025-04-19T19:13:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/537/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/537",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/537",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:46.009209",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend can translate smoothly. Although there are a few bugs, it should be in a usable state. Please wait patiently.",
          "created_at": "2025-01-26T02:17:48Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:13:05Z"
        }
      ]
    },
    {
      "issue_number": 535,
      "title": "Response too long 的Exception并未得到有效处理，导致后台一直请求ollama数据死循环",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n如题，ollama出现Response too long 的Exception并未得到有效处理，导致后台一直请求ollama数据死循环。\n\nFiles before translation: ['x.pdf']\n  0%|                                     | 0/14 [00:00<?, ?it/s]Response too long\nERROR:pdf2zh.converter:All models failed\nResponse too long\nERROR:pdf2zh.converter:All models failed\nResponse too long\nERROR:pdf2zh.converter:All models failed\nResponse too long\n\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n任意PDF文档都行。",
      "state": "closed",
      "author": "damaoooo",
      "author_type": "User",
      "created_at": "2025-01-25T03:04:59Z",
      "updated_at": "2025-04-19T19:12:49Z",
      "closed_at": "2025-04-19T19:12:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/535/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/535",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/535",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:48.265118",
      "comments": [
        {
          "author": "ariesbi",
          "body": "是的，ollama翻译我就没有成功过，一直卡在6.3%，查看显存占用，他根本就没有调用llm进行翻译。\n此项目是个好项目，解决了大家的实际问题，期望作者做得越来越完善，我可以供养作者咖啡",
          "created_at": "2025-01-25T07:14:27Z"
        },
        {
          "author": "ariesbi",
          "body": "我给你添加点日志：\n1. pdf2zh日志：\nERROR:pdf2zh.converter:All models failed\n[WinError 10049] 在其上下文中，该请求的地址无效。\nERROR:pdf2zh.converter:All models failed\n[WinError 10049] 在其上下文中，该请求的地址无效。\nERROR:pdf2zh.converter:All models failed\n2.ollama 日志\nllm_load_print_meta: max token length = 256\nllama_model_load: vocab only -",
          "created_at": "2025-01-30T04:01:43Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:12:48Z"
        }
      ]
    },
    {
      "issue_number": 533,
      "title": "腾讯混元模型接入报错",
      "body": "使用腾讯hunyuan-lite 模型，类openai方式调用，翻译时报错如下\n\nERROR:pdf2zh.converter:'NoneType' object is not subscriptable",
      "state": "closed",
      "author": "LifeNT",
      "author_type": "User",
      "created_at": "2025-01-25T01:56:40Z",
      "updated_at": "2025-04-19T19:12:29Z",
      "closed_at": "2025-04-19T19:12:28Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/533/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/533",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/533",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:48.461802",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue\n\n等2.0出来后可以再试试，说不准能看见点更有用的报错",
          "created_at": "2025-04-19T19:12:28Z"
        }
      ]
    },
    {
      "issue_number": 531,
      "title": "翻译后出现排版混乱",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n### 源文件：\n![Image](https://github.com/user-attachments/assets/7f050d0e-0c12-4172-affc-08caf46857c5)\n### 翻译后：\n![Image](https://github.com/user-attachments/assets/36037e85-29c1-4d4f-a851-17a15181a4d6)\n\n## 测试文档\n> [!IMPORTANT]\n\n[test_file.pdf](https://github.com/user-attachments/files/18544139/test_file.pdf)",
      "state": "closed",
      "author": "ZIV-LY",
      "author_type": "User",
      "created_at": "2025-01-25T00:18:11Z",
      "updated_at": "2025-04-19T19:12:09Z",
      "closed_at": "2025-04-19T19:12:09Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/531/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/531",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/531",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:48.618485",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请上传原始文件",
          "created_at": "2025-01-26T02:04:21Z"
        },
        {
          "author": "ZIV-LY",
          "body": "原始文件已附，test_file.pdf",
          "created_at": "2025-01-26T02:26:23Z"
        },
        {
          "author": "awwaawwa",
          "body": "我无法下载。请等待上传完成后再评论。\n![Image](https://github.com/user-attachments/assets/82055a98-6824-40b6-bd83-8cd5917182c2)",
          "created_at": "2025-01-26T02:31:03Z"
        },
        {
          "author": "ZIV-LY",
          "body": "抱歉，我没写清楚。\n这个附件在问题描述（图片）下面，测试文档部分。提交问题时候已经上传。",
          "created_at": "2025-01-26T02:36:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "我再次下载你提供的原始文件，以下是截图：\n![Image](https://github.com/user-attachments/assets/1bc98bc3-b79f-457a-8e85-443045050eb2)\n\n",
          "created_at": "2025-01-26T03:00:28Z"
        }
      ]
    },
    {
      "issue_number": 530,
      "title": "翻译页数太多提示Client Error: Too Many Requests for url",
      "body": "## 功能描述\n提示Client Error: Too Many Requests for url之后就卡死在这里了，一直提示这个错误，而前面的翻译也无法保存。是否可以设置一个应对措施，至少能把前面的翻译保存下来。\n",
      "state": "closed",
      "author": "ZIV-LY",
      "author_type": "User",
      "created_at": "2025-01-24T23:47:53Z",
      "updated_at": "2025-04-19T19:11:52Z",
      "closed_at": "2025-04-19T19:11:51Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/530/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/530",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/530",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:48.865743",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "架构上无法支持。\n2.0的翻译进度不是 30%页面翻译好了，是所有页面都只翻译了30%",
          "created_at": "2025-04-19T19:11:51Z"
        }
      ]
    },
    {
      "issue_number": 529,
      "title": "建议修改一下 translator.py 中部分翻译器的环境变量定义",
      "body": "比如gemini默认的环境变量是None，这会导致一直获取不到更新后的api key，\n我把这个None 直接替换成 os.environ[\"GEMINI_API_KEY\"] 就能正常读取了。",
      "state": "closed",
      "author": "LifeNT",
      "author_type": "User",
      "created_at": "2025-01-24T14:43:57Z",
      "updated_at": "2025-04-19T19:11:11Z",
      "closed_at": "2025-04-19T19:10:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/529/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/529",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/529",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:49.063345",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:10:39Z"
        },
        {
          "author": "awwaawwa",
          "body": "2.0中完全改了这块的逻辑，等正式发布了可以看看有没有问题。有问题再发一个issue",
          "created_at": "2025-04-19T19:11:10Z"
        }
      ]
    },
    {
      "issue_number": 527,
      "title": "可能是字体库问题",
      "body": "## 问题描述\nmac\n之前旧版本没问题，更新之后翻译成中文会这样报错\n试了几个pdf都是这样\n有没有类似情况，该如何解决呢\n<img width=\"1194\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7908dc20-be0b-4b8f-89a0-47d56b325aac\" />\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "121132",
      "author_type": "User",
      "created_at": "2025-01-24T13:55:32Z",
      "updated_at": "2025-04-19T19:10:34Z",
      "closed_at": "2025-04-19T19:10:01Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/527/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/527",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/527",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:49.225386",
      "comments": [
        {
          "author": "lintian233",
          "body": "我在我的wsl上也遇见了这个问题。我删除了这个目录下的字体/tmp/SourceHanSerifCN-Regular.ttf\n等待重新下载之后就可以成功翻译了。",
          "created_at": "2025-01-25T16:46:09Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:10:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "最新版中，对资源文件会校验hash。如果有误会自动重新下载，所以这个问题彻底解决了。",
          "created_at": "2025-04-19T19:10:33Z"
        }
      ]
    },
    {
      "issue_number": 524,
      "title": "1.90版本GEMINI_API_KEY 环境变量设置后无效",
      "body": "我用 setx GEMINI_API_KEY 命令输入了环境变量，但web界面无法读取到，网页端GEMINI_API_KEY里面仍然是空白。",
      "state": "closed",
      "author": "LifeNT",
      "author_type": "User",
      "created_at": "2025-01-24T06:16:10Z",
      "updated_at": "2025-04-19T19:09:51Z",
      "closed_at": "2025-04-19T19:09:50Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/524/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/524",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/524",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:49.392394",
      "comments": [
        {
          "author": "LifeNT",
          "body": "不好意思，我重复重启了几次服务之后，正确读取到了环境变量",
          "created_at": "2025-01-24T06:29:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:09:50Z"
        }
      ]
    },
    {
      "issue_number": 523,
      "title": "我安装的是图形化界面，在我点击Translate后出现了问题",
      "body": "```\n(Lerobot) robot@chase:~$ pdf2zh -i\n(…)ayout_yolo_docstructbench_imgsz1024.onnx: 100%|█| 75.3M/75.3M [00:47<00:00, 1\nRunning on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nTraceback (most recent call last):\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/gradio/queueing.py\", line 536, in process_events\n    response = await route_utils.call_process_api(\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/gradio/route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/gradio/blocks.py\", line 1935, in process_api\n    result = await self.call_function(\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/gradio/blocks.py\", line 1520, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/anyio/_backends/_asyncio.py\", line 2461, in run_sync_in_worker_thread\n    return await future\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/anyio/_backends/_asyncio.py\", line 962, in run\n    result = context.run(func, *args)\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/gradio/utils.py\", line 826, in wrapper\n    response = f(*args, **kwargs)\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/site-packages/pdf2zh/gui.py\", line 213, in translate_file\n    cancellation_event_map[session_id] = asyncio.Event()\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/asyncio/locks.py\", line 177, in __init__\n    self._loop = events.get_event_loop()\n  File \"/home/robot/.conda/envs/Lerobot/lib/python3.9/asyncio/events.py\", line 642, in get_event_loop\n    raise RuntimeError('There is no current event loop in thread %r.'\nRuntimeError: There is no current event loop in thread 'AnyIO worker thread'.\n\n```\n\n你好，请问这该如何解决呢？谢谢。\n这是我的pdf文档：\n\n[Lerobot.pdf](https://github.com/user-attachments/files/18530443/Lerobot.pdf)",
      "state": "closed",
      "author": "AshtonChan11",
      "author_type": "User",
      "created_at": "2025-01-24T04:41:28Z",
      "updated_at": "2025-04-19T19:09:43Z",
      "closed_at": "2025-04-19T19:09:43Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/523/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/523",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/523",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:49.565689",
      "comments": [
        {
          "author": "1325871795",
          "body": "请问解决了吗\n",
          "created_at": "2025-01-26T12:53:59Z"
        },
        {
          "author": "1325871795",
          "body": " 实在不行的话可以尝试一下直接使用代码运行:\n**pdf2zh 你的文档.pdf**\n我尝试成功了。\n也希望有人能够解决交互图形界面的问题，非常感谢。",
          "created_at": "2025-01-26T13:31:27Z"
        },
        {
          "author": "AshtonChan11",
          "body": "非常感谢❤️，用命令行确实可以成功翻译。不过很遗憾，能力有限，无法解决我先前的问题。\n但现在又出了一点小问题：\n\n```\npdf2zh example.pdf -s deepseek\nset DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxx\nset DEEPSEEK_MODEL=deepseek-chat\n```\n\n这样输入为什么会出现这样的错误呢：\n\n```\n> Namespace(files=['/home/robot/Downloads/Lerobot.pdf'], debug=False, pages=None, vfont='', vchar='', lang",
          "created_at": "2025-01-26T15:10:34Z"
        },
        {
          "author": "ramliu",
          "body": "我和你遇到的问题一模一样，不知道如何解决",
          "created_at": "2025-01-26T17:11:41Z"
        },
        {
          "author": "ramliu",
          "body": "我把python更新到了3.10版本，问题得到了解决",
          "created_at": "2025-02-04T03:02:10Z"
        }
      ]
    },
    {
      "issue_number": 521,
      "title": "docker启动报错libgthread-2.0.so.0: cannot open shared object file: No such file or directory（v1.9.0）",
      "body": "## 问题描述\n1.9.0 docker启动报错：\n/usr/local/lib/python3.12/site-packages/stanza/models/common/beam.py:6: SyntaxWarning: invalid escape sequence '\\ '\n  \"\"\"\nTraceback (most recent call last):\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 25, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/doclayout.py\", line 4, in <module>\n    import cv2\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 181, in <module>\n    bootstrap()\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 153, in bootstrap\n    native_module = importlib.import_module(\"cv2\")\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory\n\n## 测试文档\nservices:\n  pdfmathtranslate:\n    image: byaidu/pdf2zh:v1.9.0\n    container_name: pdfmathtranslate\n    restart: unless-stopped\n    ports:\n      - 7860:7860\n    volumes:\n      - ./data/pdf2zh_files:/app/pdf2zh_files",
      "state": "closed",
      "author": "JiyongShi",
      "author_type": "User",
      "created_at": "2025-01-24T02:47:21Z",
      "updated_at": "2025-04-19T19:09:29Z",
      "closed_at": "2025-04-19T19:09:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 14,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/521/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/521",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/521",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:49.774719",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://stackoverflow.com/questions/62786028/importerror-libgthread-2-0-so-0-cannot-open-shared-object-file-no-such-file-o\n在docker容器里按照网页的说明安装一下`libglib2.0-0`试一下吧，这个可能是个特例。",
          "created_at": "2025-01-24T02:54:54Z"
        },
        {
          "author": "SamDu1998",
          "body": "同样报了这个错误，在watchover自动升级到最新版了之后。",
          "created_at": "2025-01-24T02:56:15Z"
        },
        {
          "author": "JiyongShi",
          "body": "RUN apt-get update && \\\n     apt-get install --no-install-recommends -y libgl1 libglib2.0-0 curl && \\\n     rm -rf /var/lib/apt/lists/* && uv pip install --system --no-cache huggingface-hub && \\\n增加安装 libglib2.0-0可以，windows和另外一台linux都是这个错误，可能debian系的都会有异常",
          "created_at": "2025-01-24T02:57:42Z"
        },
        {
          "author": "SamDu1998",
          "body": "感谢（但是我在用的Ubuntu好像无法安装上pip install --system --no-cache huggingface-hub ）我这边再研究一下\n",
          "created_at": "2025-01-24T05:50:30Z"
        },
        {
          "author": "ariesbi",
          "body": "> 运行 apt-get update && apt-get install --no-install-recommends -y libgl1 libglib2.0-0 curl && rm -rf /var/lib/apt/lists/* && uv pip install --system --no -cache Huggingface-hub && 增加安装libglib2.0-0就可以，windows和另外一个linux都是这个错误，可能debian系的都会有异常\n\ndocker启动后不到10秒就关闭，根本来不及敲入命令，不就直接修改好镜像？？？从1.8开始就一直遇到这个问题",
          "created_at": "2025-01-25T00:21:18Z"
        }
      ]
    },
    {
      "issue_number": 520,
      "title": "在使用python的api时，prompt.txt的格式有什么要求吗",
      "body": "![Image](https://github.com/user-attachments/assets/bf2a8a60-8393-47ab-b95b-fc90d6300138)",
      "state": "closed",
      "author": "Qinsmmoon",
      "author_type": "User",
      "created_at": "2025-01-24T02:08:11Z",
      "updated_at": "2025-04-19T19:09:23Z",
      "closed_at": "2025-04-19T19:07:43Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/520/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/520",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/520",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.009748",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/high_level.py#L176 这里prompt需要的是一个Templete对象，list不能识别。\n暂时没有想好怎么改这个地方，这里还同时涉及到了GUI和CLI。",
          "created_at": "2025-01-24T02:50:57Z"
        },
        {
          "author": "Qinsmmoon",
          "body": "> https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/high_level.py#L176 这里prompt需要的是一个Templete对象，list不能识别。 暂时没有想好怎么改这个地方，这里还同时涉及到了GUI和CLI。\n\n请问有临时解决办法吗",
          "created_at": "2025-01-24T05:43:10Z"
        },
        {
          "author": "Qinsmmoon",
          "body": "![Image](https://github.com/user-attachments/assets/30d471bc-b62d-4e13-b614-366064cc7c16)\n如上图，在翻译过程中会解释说明，本想通过prompt进行限制，请问有别的方法吗",
          "created_at": "2025-02-05T02:23:29Z"
        },
        {
          "author": "hellofinch",
          "body": "这个是deepseek的think吧？这个问题好像在最近的PR里有修正。使用仓库的源码或者等待新版本即可。",
          "created_at": "2025-02-10T01:22:50Z"
        },
        {
          "author": "Qinsmmoon",
          "body": "> 这个是deepseek的think吧？这个问题好像在最近的PR里有修正。使用仓库的源码或者等待新版本即可。\n\n不是deepseek，是豆包的。",
          "created_at": "2025-02-10T06:41:31Z"
        }
      ]
    },
    {
      "issue_number": 519,
      "title": "添加对标题、子标题等粗体、字号的支持",
      "body": "## 功能描述\n对于标题或者命题、引理等需要加粗、修改字号的部分，是否可以参照原文的格式，目前对于段落的分割不够清晰",
      "state": "closed",
      "author": "yihao-liang",
      "author_type": "User",
      "created_at": "2025-01-23T22:21:31Z",
      "updated_at": "2025-04-19T19:07:26Z",
      "closed_at": "2025-04-19T19:07:26Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/519/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/519",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/519",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.223535",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend [YADT](https://github.com/funstory-ai/yadt) now supports, please wait patiently:\n![Image](https://github.com/user-attachments/assets/99c6675e-9120-4eb3-a55f-c6693925ea2f)",
          "created_at": "2025-01-24T05:10:03Z"
        }
      ]
    },
    {
      "issue_number": 518,
      "title": "The translation process gets stuck and reported an error",
      "body": "pdf2zh version: v1.8.9\nservice: deepseek v3\n\n<img width=\"1259\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/3c254787-e98e-4acf-a315-9d95e44c2a84\" />\n\n[source_file.pdf](https://github.com/user-attachments/files/18517733/source_file.pdf)\n",
      "state": "closed",
      "author": "gav3wywon3y",
      "author_type": "User",
      "created_at": "2025-01-23T08:56:50Z",
      "updated_at": "2025-04-19T19:07:14Z",
      "closed_at": "2025-04-19T19:07:14Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/518/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/518",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/518",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.394363",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/488#issuecomment-2608754945\nyou can follow the way to fix it temporarily. The new version will release soon.\n\n: )",
          "created_at": "2025-01-23T09:04:51Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:07:14Z"
        }
      ]
    },
    {
      "issue_number": 514,
      "title": "翻译前后文有单词的公式时会产生乱码",
      "body": "在翻译时，单独一行的公式翻译之后显示正常，但前后文有单词的公式则会出现乱码字体。\n英译汉，使用google service\n\n<img width=\"488\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/85e68ecb-e3b8-4036-8034-fc123d603a93\" />\n\n[source_file.pdf](https://github.com/user-attachments/files/18501407/source_file.pdf)\n[translated_file.pdf](https://github.com/user-attachments/files/18501408/translated_file.pdf)",
      "state": "closed",
      "author": "gav3wywon3y",
      "author_type": "User",
      "created_at": "2025-01-22T07:25:22Z",
      "updated_at": "2025-04-19T19:06:41Z",
      "closed_at": "2025-04-19T19:06:40Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/514/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/514",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/514",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.566996",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend using deepseek v3 translation does not have this issue. Please be patient.\n[source_file.zh-CN.dual.pdf](https://github.com/user-attachments/files/18515088/source_file.zh-CN.dual.pdf)",
          "created_at": "2025-01-23T04:23:13Z"
        }
      ]
    },
    {
      "issue_number": 508,
      "title": "翻译特定的文档报错，似乎和字体有关",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n报错\n\n```\n2025-01-21 17:17:34 Traceback (most recent call last):\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/gradio/queueing.py\", line 625, in process_events\n2025-01-21 17:17:34     response = await route_utils.call_process_api(\n2025-01-21 17:17:34                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/gradio/route_utils.py\", line 322, in call_process_api\n2025-01-21 17:17:34     output = await app.get_blocks().process_api(\n2025-01-21 17:17:34              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 2042, in process_api\n2025-01-21 17:17:34     result = await self.call_function(\n2025-01-21 17:17:34              ^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 1589, in call_function\n2025-01-21 17:17:34     prediction = await anyio.to_thread.run_sync(  # type: ignore\n2025-01-21 17:17:34                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\n2025-01-21 17:17:34     return await get_async_backend().run_sync_in_worker_thread(\n2025-01-21 17:17:34            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2461, in run_sync_in_worker_thread\n2025-01-21 17:17:34     return await future\n2025-01-21 17:17:34            ^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 962, in run\n2025-01-21 17:17:34     result = context.run(func, *args)\n2025-01-21 17:17:34              ^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/gradio/utils.py\", line 883, in wrapper\n2025-01-21 17:17:34     response = f(*args, **kwargs)\n2025-01-21 17:17:34                ^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/gui.py\", line 284, in translate_file\n2025-01-21 17:17:34     translate(**param)\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 355, in translate\n2025-01-21 17:17:34     s_mono, s_dual = translate_stream(\n2025-01-21 17:17:34                      ^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 228, in translate_stream\n2025-01-21 17:17:34     doc_zh.subset_fonts(fallback=True)\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/pymupdf/utils.py\", line 5836, in subset_fonts\n2025-01-21 17:17:34     width_table, def_width = get_old_widths(font_xref)\n2025-01-21 17:17:34                              ^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34   File \"/usr/local/lib/python3.12/site-packages/pymupdf/utils.py\", line 5576, in get_old_widths\n2025-01-21 17:17:34     df_xref = int(df[1][1:-1].replace(\"0 R\", \"\"))\n2025-01-21 17:17:34               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-01-21 17:17:34 ValueError: invalid literal for int() with base 10: '<</Type/Font/Subtype/CIDFontType2/BaseFont/CIDFont+F3/CIDSystemInfo<</Ordering 58 /Registry 59 /Supplement 0>>/CIDToGIDMap/Identity/FontDescriptor<</Type/FontDescriptor/Ascent 1049/CapHeight 715/Desc\n```\n\n用的google翻译\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n[energies-18-00141.pdf](https://github.com/user-attachments/files/18492764/energies-18-00141.pdf)",
      "state": "closed",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-01-21T15:11:30Z",
      "updated_at": "2025-04-19T19:06:21Z",
      "closed_at": "2025-04-19T19:06:12Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/508/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/508",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/508",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.757820",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend yadt can translate normally.\n\nThis stacking issue is due to text in that position in the original document, which cannot be processed at the moment.\n![Image](https://github.com/user-attachments/assets/a7c566c5-9971-45de-b94d-c29eb180a624)\n\n[energies-18-00141.zh-CN.dual.pdf](https://g",
          "created_at": "2025-01-21T15:29:59Z"
        },
        {
          "author": "awwaawwa",
          "body": "[energies-18-00141.no_watermark.zh-CN.dual.pdf](https://github.com/user-attachments/files/19822530/energies-18-00141.no_watermark.zh-CN.dual.pdf)\n\nBabelDOC 最新版可以处理此文档。请耐心等待pdf2zh 2.0",
          "created_at": "2025-04-19T19:06:12Z"
        }
      ]
    },
    {
      "issue_number": 512,
      "title": "Weight file includes `doclayout_yolo.nn.tasks.YOLOv10DetectionModel` which not in the default safe globals list",
      "body": "## 问题描述\nI just installed it and try to use it following the doc:\n\n```shell\n> OLLAMA_HOST=\"127.0.0.1:11434\" pdf2zh -s ollama:qwen2.5:32b-instruct-q8_0 ~/Downloads/ATP_7-100.3.pdf\nTraceback (most recent call last):\n  File \"/opt/homebrew/bin/pdf2zh\", line 8, in <module>\n    sys.exit(main())\n             ~~~~^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/pdf2zh/pdf2zh.py\", line 274, in main\n    extract_text(**vars(parsed_args))\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/pdf2zh/pdf2zh.py\", line 93, in extract_text\n    model = doclayout_yolo.YOLOv10(pth)\n  File \"/opt/homebrew/lib/python3.13/site-packages/doclayout_yolo/models/yolov10/model.py\", line 10, in __init__\n    super().__init__(model=model, task=task, verbose=verbose)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/doclayout_yolo/engine/model.py\", line 144, in __init__\n    self._load(model, task=task)\n    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/doclayout_yolo/engine/model.py\", line 233, in _load\n    self.model, self.ckpt = attempt_load_one_weight(weights)\n                            ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/doclayout_yolo/nn/tasks.py\", line 807, in attempt_load_one_weight\n    ckpt, weight = torch_safe_load(weight)  # load ckpt\n                   ~~~~~~~~~~~~~~~^^^^^^^^\n  File \"/opt/homebrew/lib/python3.13/site-packages/doclayout_yolo/nn/tasks.py\", line 733, in torch_safe_load\n    ckpt = torch.load(file, map_location=\"cpu\")\n  File \"/opt/homebrew/lib/python3.13/site-packages/torch/serialization.py\", line 1489, in load\n    raise pickle.UnpicklingError(_get_wo_message(str(e))) from None\n_pickle.UnpicklingError: Weights only load failed. This file can still be loaded, to do so you have two options, do those steps only if you trust the source of the checkpoint. \n\t(1) In PyTorch 2.6, we changed the default value of the `weights_only` argument in `torch.load` from `False` to `True`. Re-running `torch.load` with `weights_only` set to `False` will likely succeed, but it can result in arbitrary code execution. Do it only if you got the file from a trusted source.\n\t(2) Alternatively, to load with `weights_only=True` please check the recommended steps in the following error message.\n\tWeightsUnpickler error: Unsupported global: GLOBAL doclayout_yolo.nn.tasks.YOLOv10DetectionModel was not an allowed global by default. Please use `torch.serialization.add_safe_globals([YOLOv10DetectionModel])` or the `torch.serialization.safe_globals([YOLOv10DetectionModel])` context manager to allowlist this global if you trust this class/function.\n\nCheck the documentation of torch.load to learn more about types accepted by default with weights_only https://pytorch.org/docs/stable/generated/torch.load.html.\n```\nmacOS 15.2(24C101), Python 3.13.1, PyTorch 2.7.0.dev20250121, installed with pip, can be reproduced in an initial macOS container with same deps installed\n\n## 测试文档\n\nEspecially considering that this issue is unrelated to the content of the doc, only the first 10 pages can be provided here:\n\n[ATP 7-100.3.pdf](https://github.com/user-attachments/files/18499571/ATP_7-100.3.pdf)",
      "state": "closed",
      "author": "surinrasu",
      "author_type": "User",
      "created_at": "2025-01-22T03:54:38Z",
      "updated_at": "2025-04-19T19:04:06Z",
      "closed_at": "2025-04-19T19:04:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/512/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/512",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/512",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:50.936782",
      "comments": [
        {
          "author": "hellofinch",
          "body": "Interesting! \n`extract_text` is deprecated. Which version are you using? And how do you install the `pdf2zh`?\nAs you can see [here](https://github.com/Byaidu/PDFMathTranslate?tab=readme-ov-file#methods), Python 3.13 is not supported. Maybe you can degrade your Python version and try again.\nBTW, 1.8.",
          "created_at": "2025-01-22T07:30:38Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:04:05Z"
        }
      ]
    },
    {
      "issue_number": 504,
      "title": "[Feature request] Cannot start GUI mode, due to global proxy setting on server",
      "body": "## 功能描述\n安装结束后尝试启动GUI模式， 结果出现如下错误，请问哪里可以设置代理啊。\n![Image](https://github.com/user-attachments/assets/713d7749-2d6f-4ca6-b016-2a4c4ea3e3bc)\n",
      "state": "closed",
      "author": "cary-sas",
      "author_type": "User",
      "created_at": "2025-01-21T09:59:38Z",
      "updated_at": "2025-04-19T19:02:47Z",
      "closed_at": "2025-04-19T19:02:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/504/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/504",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/504",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:51.133248",
      "comments": [
        {
          "author": "hellofinch",
          "body": "暂时没有提供设置代理的方法。\n可以明确一下想设置什么的代理吗？",
          "created_at": "2025-01-22T02:51:08Z"
        },
        {
          "author": "cary-sas",
          "body": "http and sock5s ",
          "created_at": "2025-01-22T03:53:16Z"
        },
        {
          "author": "hellofinch",
          "body": "OK，可能需要设计额外参数，目前没有这个功能。\n可以把issue标题改为功能请求相关的样式吗？",
          "created_at": "2025-01-22T06:45:37Z"
        },
        {
          "author": "cary-sas",
          "body": "Done",
          "created_at": "2025-01-23T02:25:53Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:02:46Z"
        }
      ]
    },
    {
      "issue_number": 501,
      "title": "使用llm翻译功能时，部分模型会通过安全护栏拦截一些内容",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n使用llm翻译功能时，部分模型会通过安全护栏拦截一些内容，建议要么绕过要么不翻译，现在会死循环。\n\n```\nError code: 400 - {'error': {'message': 'Input data may contain inappropriate content.'}}\n```\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n[InfoQ-eMag-116-Trends-Reports-2024-1736767046504.pdf](https://github.com/user-attachments/files/18485779/InfoQ-eMag-116-Trends-Reports-2024-1736767046504.pdf)\n",
      "state": "closed",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-01-21T06:41:24Z",
      "updated_at": "2025-04-19T19:02:27Z",
      "closed_at": "2025-04-19T19:02:20Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/501/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/501",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/501",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:51.303659",
      "comments": [
        {
          "author": "highkay",
          "body": "模型是Qwen/Qwen2-7B-Instruct-GGUF",
          "created_at": "2025-01-21T06:42:04Z"
        },
        {
          "author": "hellofinch",
          "body": "这个是llm自己的审查问题，外部工具解决不了这个问题。",
          "created_at": "2025-01-21T07:02:18Z"
        },
        {
          "author": "highkay",
          "body": "> 这个是llm自己的审查问题，外部工具解决不了这个问题。\n\n所以希望程序要么绕过，要么不翻译啊……",
          "created_at": "2025-01-21T07:13:26Z"
        },
        {
          "author": "hellofinch",
          "body": "这llm的自我阉割，不太好判断阉割了啥。\n但是，应该能够通过报错来判断，我研究研究。\n用的是openai api兼容的service吗？",
          "created_at": "2025-01-21T07:14:53Z"
        },
        {
          "author": "highkay",
          "body": "> 这llm的自我阉割，不太好判断阉割了啥。 但是，应该能够通过报错来判断，我研究研究。 用的是openai api兼容的service吗？\n\n是的",
          "created_at": "2025-01-21T15:10:03Z"
        }
      ]
    },
    {
      "issue_number": 499,
      "title": "AssertionError occured",
      "body": "## 问题描述\n在Windows 10上运行`pdf2zh test.pdf`并等待进度条读完后发生如下错误：\n![Image](https://github.com/user-attachments/assets/06d3dae2-363e-44fd-aae4-42f61236f943)\n\n通过如下命令配置环境：\n```\nconda create -n pdf2zh python=3.11\npip install pdf2zh\n```\n\n\n## 测试文档\n\n[test.pdf](https://github.com/user-attachments/files/18484411/test.pdf)\n",
      "state": "closed",
      "author": "ikaroinory",
      "author_type": "User",
      "created_at": "2025-01-21T03:48:45Z",
      "updated_at": "2025-04-19T19:01:21Z",
      "closed_at": "2025-04-19T19:01:21Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/499/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/499",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/499",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:51.500634",
      "comments": [
        {
          "author": "jin1wang",
          "body": "我在win10的GUI下使用ollama，进度条完成后也出现该错误",
          "created_at": "2025-01-23T07:18:38Z"
        },
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/high_level.py#L229C1-L230C39 \n临时解决方法可以尝试一下把这两行中的True改成Flase，可能会解决这个问题。\n\n: )",
          "created_at": "2025-01-23T07:23:14Z"
        },
        {
          "author": "awwaawwa",
          "body": "关闭不活跃issue",
          "created_at": "2025-04-19T19:01:21Z"
        }
      ]
    },
    {
      "issue_number": 492,
      "title": "v1.8.9 Runtime error in fontTools: KeyError: 'post'",
      "body": "## 问题描述\n\n我用`uv`安装了最新版的`pdf2zh`：\n```sh\nuv python install 3.12\nuv tool install pdf2zh -p 3.12\n```\n在翻译特定文档时，虽然生成了翻译的pdf，但有报错显示：\n```\n../../../../../.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/pymupdf/__init__.py:276:exception_info(): exception_info:\n../../../../../.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/pymupdf/__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/pymupdf/utils.py\", line 5698, in build_subset\n    fts.main(args)\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/subset/__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/subset/__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/ttLib/ttFont.py\", line 461, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/ttLib/ttFont.py\", line 468, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"~/.local/share/uv/tools/pdf2zh/lib/python3.12/site-packages/fontTools/ttLib/sfnt.py\", line 109, in __getitem__\n    entry = self.tables[Tag(tag)]\n            ~~~~~~~~~~~^^^^^^^^^^\nKeyError: 'post'\n```\n\n## 测试文档\n\n[Schnupp Chapter 2 The Ear.pdf](https://github.com/user-attachments/files/18470030/Schnupp.Chapter.2.The.Ear.pdf)",
      "state": "closed",
      "author": "aik2mlj",
      "author_type": "User",
      "created_at": "2025-01-19T18:55:20Z",
      "updated_at": "2025-04-19T19:00:54Z",
      "closed_at": "2025-04-19T19:00:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/492/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/492",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/492",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:51.674343",
      "comments": [
        {
          "author": "hellofinch",
          "body": "![Image](https://github.com/user-attachments/assets/ab070f1f-d69c-47e4-b02f-6c120f556e6e)\n我这里倒是能翻译没什么问题，除了figure好像是有些错位而已。\n\n[Schnupp.Chapter.2.The.Ear-mono.pdf](https://github.com/user-attachments/files/18471543/Schnupp.Chapter.2.The.Ear-mono.pdf)\n我这里只翻译了前五页。",
          "created_at": "2025-01-20T02:09:41Z"
        },
        {
          "author": "aik2mlj",
          "body": "是的，可以生成翻译文档，不过命令行使用有这个报错。\n\n另一个相同报错案例：\n```sh\npdf2zh https://arxiv.org/pdf/2307.10304\n```",
          "created_at": "2025-01-20T02:12:59Z"
        },
        {
          "author": "hellofinch",
          "body": "> 是的，可以生成翻译文档，不过命令行使用有这个报错。\n\n命令行使用什么？不太明白。",
          "created_at": "2025-01-20T02:39:29Z"
        },
        {
          "author": "aik2mlj",
          "body": "就是在终端使用pdf2zh，如：\n```sh\npdf2zh \"Schnupp Chapter 2 The Ear.pdf\"\n```\n运行会有报错。\n我尝试了在网页GUI中翻译，运行了`pdf2zh -i`的终端也会有相同报错。",
          "created_at": "2025-01-20T02:52:52Z"
        },
        {
          "author": "hellofinch",
          "body": "报错的话，为什么还能生成文档？\n\n> 是的，可以生成翻译文档，不过命令行使用有这个报错。\n\n",
          "created_at": "2025-01-20T06:21:47Z"
        }
      ]
    },
    {
      "issue_number": 484,
      "title": "feat (service): Google Cloud Translation",
      "body": "## 需求描述\n\n因为Google翻译免费额度有限且限制频率\n\n希望增加 Cloud Translation API  相关的配置环境变量",
      "state": "closed",
      "author": "xiaoxuan220",
      "author_type": "User",
      "created_at": "2025-01-17T15:00:40Z",
      "updated_at": "2025-04-19T19:00:29Z",
      "closed_at": "2025-04-19T19:00:28Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/484/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/484",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/484",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:51.851624",
      "comments": [
        {
          "author": "hellofinch",
          "body": "![Image](https://github.com/user-attachments/assets/b765727e-9ee3-468f-b074-93f77179e45f)\n请问指的是哪个？",
          "created_at": "2025-01-20T01:37:51Z"
        },
        {
          "author": "awwaawwa",
          "body": "关掉不活跃的issue",
          "created_at": "2025-04-19T19:00:28Z"
        }
      ]
    },
    {
      "issue_number": 446,
      "title": "原文档内容和翻译结果重叠，是否存在屏蔽原文档内容选项",
      "body": "## 问题描述\r\n\r\n我在使用 **pdf2zh** 时遇到了一些问题：\r\n\r\n- **设备信息**: Mac M1\r\n- **Python 版本**: `Python 3.12.7`\r\n- **pdf2zh 版本**: `pdf2zh v1.8.8`\r\n<img width=\"1440\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e5e4f277-b3d0-420d-8ccc-4d7b3930869c\" />\r\n\r\n翻译文档时出现了 原文档内容和翻译结果重叠 的现象，导致阅读体验较差\r\n\r\n是否存在类似 pdf2zh example.pdf -f xxx 的功能，能够将翻译页面中的原文档内容屏蔽，单纯只保留翻译结果？\r\n\r\n## 测试文档\r\n[Chankin - jou.roalof ggcloar materials.pdf](https://github.com/user-attachments/files/18362279/Chankin.-.jou.roalof.ggcloar.materials.pdf)\r\n\r\n",
      "state": "closed",
      "author": "tomatolike-self",
      "author_type": "User",
      "created_at": "2025-01-09T13:45:18Z",
      "updated_at": "2025-04-19T18:59:05Z",
      "closed_at": "2025-04-19T18:58:54Z",
      "labels": [
        "enhancement",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/446/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/446",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/446",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:52.068119",
      "comments": [
        {
          "author": "hellofinch",
          "body": "你这个是扫描件，需要OCR，暂时处理不了。\r\nhttps://github.com/Byaidu/PDFMathTranslate/issues/19\r\n: )",
          "created_at": "2025-01-10T01:20:23Z"
        },
        {
          "author": "tomatolike-self",
          "body": "好吧，但是我看翻译页面其实是有翻译后结果的，而且原文档是支持选中文字的。\r\n<img width=\"897\" alt=\"image\" src=\"https://github.com/user-attachments/assets/5212ce95-c67d-4ea4-8ae5-32a9f9e83d33\" />\r\n我想的是能不能存在一个选项，能够在翻译页面关闭原文档的图像画面，以免重叠\r\n之前提到的 #444 中说下版本会出现一个新的关闭选项，所以之前关掉了这个issue，但今天看似乎和我这里不是一个需求？",
          "created_at": "2025-01-10T02:40:13Z"
        },
        {
          "author": "tomatolike-self",
          "body": "另外翻译页面中pdf的文字层其实已经是中文翻译结果了\r\n<img width=\"897\" alt=\"image\" src=\"https://github.com/user-attachments/assets/72512729-00f6-40e9-8d93-1d4a84856033\" />\r\n原文档的内容似乎是直接作为背景图给贴上去了？",
          "created_at": "2025-01-10T02:44:30Z"
        },
        {
          "author": "hellofinch",
          "body": "这个PDF是个扫描件，你能复制不是PDF本身能复制，是你的阅读器让你能复制。\r\n原始的内容不是我们不想去，是它去不了。\r\n所以，等OCR功能吧。\r\n: )",
          "created_at": "2025-01-10T06:23:49Z"
        },
        {
          "author": "awwaawwa",
          "body": "@hellofinch 其实我们应该是能去掉这个图片内容的hhhhhhh\r\n\r\n等我把手上事情做一做之后来看一看这个需求，请耐心等待，感谢。",
          "created_at": "2025-01-10T08:00:47Z"
        }
      ]
    },
    {
      "issue_number": 349,
      "title": "允许翻译自订的选取范围",
      "body": "## 功能描述\r\n目前的功能为自动判别文字区块 , 不好微调, 也许可以加个手动选取范围的模式\r\n\r\n例如以 #323  的pdf为例, 可以进行如下选择以避免将行号给包含进去\r\n![圖片](https://github.com/user-attachments/assets/41bed42d-6d63-40c4-9ecd-9fca83d1d26a)\r\n\r\n同时此作法也更容易支持图片的翻译, 由于范围可以自订, 在处理图片原有文字时会比较容易\r\n\r\n",
      "state": "open",
      "author": "charles7668",
      "author_type": "User",
      "created_at": "2024-12-26T07:07:39Z",
      "updated_at": "2025-04-19T18:57:52Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/349/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/349",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/349",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:52.294352",
      "comments": [
        {
          "author": "aseaday",
          "body": "There are two steps to fix that problem:\r\n- PDFMathTranslate highly depends on the [Layout Analysis from pdfminer](https://pdfminersix.readthedocs.io/en/latest/topic/converting_pdf_to_text.html), There may be something wrong to correctly recognize the serial number and block text even we give a fitl",
          "created_at": "2024-12-26T08:24:04Z"
        }
      ]
    },
    {
      "issue_number": 325,
      "title": "能否支持对表格内容的也进行提取并翻译？",
      "body": "## 功能描述\r\n现在的处理，所有表格都被直接忽略，当成图片处理了。\r\n复杂的数据表格可能处理起来有不少问题，但还有些表格中有不少大段文本也是需要翻译的。期望能对这些内容有支持到。\r\n![FireShot Capture 026](https://github.com/user-attachments/assets/1875b52e-0dcf-4457-b8a0-0bd2da35637a)\r\n\r\n",
      "state": "closed",
      "author": "uprit",
      "author_type": "User",
      "created_at": "2024-12-23T09:14:10Z",
      "updated_at": "2025-04-19T18:57:11Z",
      "closed_at": "2025-04-19T18:57:09Z",
      "labels": [
        "enhancement",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/325/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/325",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/325",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:52.523411",
      "comments": [
        {
          "author": "fatinghenji",
          "body": "同样需求，在医学类论文中表格作用还是蛮大的。\r\n![ba778ee44dfa4ed19290829be63f6a13](https://github.com/user-attachments/assets/228c4f7d-40c1-42a4-a888-339902d0b3f7)\r\n",
          "created_at": "2024-12-29T06:01:38Z"
        },
        {
          "author": "LifeNT",
          "body": "同求表格支持。",
          "created_at": "2025-01-03T13:23:30Z"
        },
        {
          "author": "aeolusnee",
          "body": "### 同求",
          "created_at": "2025-01-09T02:00:55Z"
        },
        {
          "author": "aeolusnee",
          "body": "#440 ",
          "created_at": "2025-01-09T14:14:26Z"
        },
        {
          "author": "CharlieForC",
          "body": "求支持选择翻译表格",
          "created_at": "2025-01-15T05:30:17Z"
        }
      ]
    },
    {
      "issue_number": 318,
      "title": "本地翻译API支持",
      "body": "希望可以加入对诸如[argos-translate](https://github.com/argosopentech/argos-translate)之类的本地翻译引擎的支持,以实现PDF翻译的完全本地运行\r\n",
      "state": "closed",
      "author": "gfhdhytghd",
      "author_type": "User",
      "created_at": "2024-12-22T16:26:29Z",
      "updated_at": "2025-04-19T18:55:40Z",
      "closed_at": "2025-04-19T18:55:39Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/318/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/318",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/318",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:52.729594",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "使用此翻译器的用户较少，且其依赖十分巨大，故2.0移除此翻译器支持。\n\n如想完全本地运行，可以通过ollama部署本地大模型实现。",
          "created_at": "2025-04-19T18:55:39Z"
        }
      ]
    },
    {
      "issue_number": 553,
      "title": "Too much dependencies",
      "body": "This project has too much dependencies.\nI think this project should not install SO MUCH dependencies at once. \nThe dependencies are not all used.",
      "state": "closed",
      "author": "dentistfrankchen",
      "author_type": "User",
      "created_at": "2025-01-30T14:02:37Z",
      "updated_at": "2025-04-19T17:23:55Z",
      "closed_at": "2025-04-19T17:23:54Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/553/reactions",
        "total_count": 3,
        "+1": 3,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/553",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/553",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:52.885339",
      "comments": [
        {
          "author": "reycn",
          "body": "@awwaawwa @Byaidu @hellofinch Any suggestions? I think it's valid yet we have too many features right now haha",
          "created_at": "2025-03-18T07:21:10Z"
        },
        {
          "author": "reycn",
          "body": "I am thinking about lazy loading, such as loading a specific service library only when it's called.",
          "created_at": "2025-03-18T07:22:11Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 2.0 will support lazy load.",
          "created_at": "2025-03-18T07:37:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "Argos has already been removed in 2.0. The dependencies are basically under control now. It will be fine to support lazy import later.",
          "created_at": "2025-04-19T17:13:12Z"
        },
        {
          "author": "awwaawwa",
          "body": "The pdf2zh 2.0 development branch already supports lazy import for translators. As for BabelDOC, let's see if it can support lazy loading of the layout model in the future.",
          "created_at": "2025-04-19T17:23:54Z"
        }
      ]
    },
    {
      "issue_number": 785,
      "title": "bug: unknown characters in table values",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\nTested both on https://pdf2zh.com/ and on local machine (windows 10; python 3.10.7; pdf2zh 1.8.9)\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\ntable translation produces some strange symbols\n![Image](https://github.com/user-attachments/assets/054c86d4-56fb-4c03-9520-9234be35c2e4)\n\n### To Reproduce\n\n1. execute 'pdf2zh FILE.pdf -li ja -lo en'\n2. see result\n\n\n### Expected behavior\n\ntables are translated correctly\n\n\n### Origin PDF file\n\n[S100TU2K.pdf](https://github.com/user-attachments/files/19338877/S100TU2K.pdf)\n\n### Output PDF file\n\n[S100TU2K-mono.pdf](https://github.com/user-attachments/files/19338987/S100TU2K-mono.pdf)",
      "state": "closed",
      "author": "gety9",
      "author_type": "User",
      "created_at": "2025-03-19T10:49:23Z",
      "updated_at": "2025-04-19T17:20:09Z",
      "closed_at": "2025-04-19T17:20:07Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/785/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/785",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/785",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:53.065997",
      "comments": [
        {
          "author": "reycn",
          "body": "bug replicated and the file was not locked",
          "created_at": "2025-03-19T11:04:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "Known issue, will fix later.",
          "created_at": "2025-03-19T11:33:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "[S100TU2K.no_watermark.zh-CN.dual.pdf](https://github.com/user-attachments/files/19822186/S100TU2K.no_watermark.zh-CN.dual.pdf)\n\nBabelDOC最新版已修复此问题，请耐心等待pdf2zh 2.0",
          "created_at": "2025-04-19T17:20:07Z"
        }
      ]
    },
    {
      "issue_number": 846,
      "title": "翻译完出现重影",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:\n- Python:3.12\n- pdf2zh:1.7.8\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\n翻译完文本出现重影，文字重叠到了一起\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "anbian123",
      "author_type": "User",
      "created_at": "2025-04-16T03:03:41Z",
      "updated_at": "2025-04-19T13:28:04Z",
      "closed_at": "2025-04-19T13:27:52Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/846/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/846",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/846",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:53.263763",
      "comments": [
        {
          "author": "seungwonme",
          "body": "I'm experiencing the same thing.\n\n<img width=\"1800\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/de9b3fe2-9b4b-4e0e-b80e-d76f9f9e9268\" />",
          "created_at": "2025-04-18T06:45:44Z"
        },
        {
          "author": "hellofinch",
          "body": "@seungwonme, is your document a scanned document? For now, we cannot handle the scanned documents.",
          "created_at": "2025-04-18T08:38:21Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please wait patiently for pdf2zh 2.0. Version 2.0 will support this type of file.",
          "created_at": "2025-04-19T13:27:52Z"
        }
      ]
    },
    {
      "issue_number": 809,
      "title": "'TranslateResult' object has no attribute 'original_pdf_path'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11\n- Python:3.11\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n<img width=\"1108\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/d89132d3-a3c6-406b-ae53-eefd6ac93c15\" />\npdf2zh内部错误（但实际上pdf已经生成）\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "YQX0",
      "author_type": "User",
      "created_at": "2025-03-27T13:37:45Z",
      "updated_at": "2025-04-18T12:03:09Z",
      "closed_at": "2025-03-27T13:48:17Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/809/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/809",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/809",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:53.507215",
      "comments": [
        {
          "author": "YQX0",
          "body": "如何复现：(pdf2zh) C:\\Users\\think>pdf2zh \"D:\\\\Xu\\\\Zotero\\\\data\\\\storage\\\\W5FXEVPW\\\\Chen 等 - 2023 - Executing your Commands via Motion Diffusion in Latent Space.pdf\" --babeldoc在运行这个命令时出现\n",
          "created_at": "2025-03-27T13:39:08Z"
        },
        {
          "author": "awwaawwa",
          "body": "请更新至最新版BabelDOC",
          "created_at": "2025-03-27T13:48:25Z"
        },
        {
          "author": "Kyushh0521",
          "body": "> 请更新至最新版BabelDOC\n\n请问如何更新呢",
          "created_at": "2025-04-18T12:03:08Z"
        }
      ]
    },
    {
      "issue_number": 850,
      "title": "zotero plugin功能正常使用，但是许多段落最后几句话翻译不出来，直接中断。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:mac os\n- Python:3.11.1\n- pdf2zh:2.3.7\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nzotero plugin功能完全正常使用，但是得到的mono文件，许多段落最后几句话翻译不出来，直接中断，并非是跨页的段落。\n比如，这个摘要翻译不全\n\n<img width=\"715\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5e9c7d0f-7b48-4f0f-bc7c-8c407399ba05\" />\n\n### 如何复现\n\n1. 执行 zotero pdf2zh: 翻译pdf\n2. 正常出现翻译的文件\n3. 翻译文件许多段落中断了\n\n\n### 预期行为\n\n解决zotero插件段落翻译不全的问题\n\n### 相关 Logs\n\n```Text\n[04/18/25 09:40:03] INFO     INFO:pdf2zh.high_level:use      high_level.py:423\n                             font:                                            \n                             /Users/liuqianshu/Library/Fonts                  \n                             /LXGWWenKai-Regular.ttf                          \n  0%|                                                  | 0/33 [00:00<?, ?it/s][04/18/25 09:40:04] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n[04/18/25 09:40:09] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n  6%|██▌                                       | 2/33 [00:04<01:11,  2.29s/it][04/18/25 09:40:11] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n  9%|███▊                                      | 3/33 [00:07<01:17,  2.58s/it][04/18/25 09:40:14] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 12%|█████                                     | 4/33 [00:10<01:17,  2.67s/it][04/18/25 09:40:17] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 15%|██████▎                                   | 5/33 [00:13<01:14,  2.67s/it][04/18/25 09:40:19] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 18%|███████▋                                  | 6/33 [00:15<01:09,  2.58s/it][04/18/25 09:40:22] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 21%|████████▉                                 | 7/33 [00:18<01:10,  2.73s/it][04/18/25 09:40:26] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 24%|██████████▏                               | 8/33 [00:21<01:14,  2.97s/it][04/18/25 09:40:30] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 27%|███████████▍                              | 9/33 [00:26<01:19,  3.30s/it][04/18/25 09:40:33] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 30%|████████████▍                            | 10/33 [00:29<01:15,  3.28s/it][04/18/25 09:40:34] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 33%|█████████████▋                           | 11/33 [00:30<00:57,  2.61s/it][04/18/25 09:40:36] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 36%|██████████████▉                          | 12/33 [00:32<00:50,  2.39s/it][04/18/25 09:40:38] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 39%|████████████████▏                        | 13/33 [00:34<00:45,  2.25s/it][04/18/25 09:40:40] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 42%|█████████████████▍                       | 14/33 [00:36<00:42,  2.23s/it][04/18/25 09:40:42] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 45%|██████████████████▋                      | 15/33 [00:38<00:37,  2.08s/it][04/18/25 09:40:44] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 48%|███████████████████▉                     | 16/33 [00:39<00:34,  2.01s/it][04/18/25 09:40:46] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 52%|█████████████████████                    | 17/33 [00:42<00:34,  2.18s/it][04/18/25 09:40:49] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 55%|██████████████████████▎                  | 18/33 [00:45<00:35,  2.38s/it][04/18/25 09:40:51] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 58%|███████████████████████▌                 | 19/33 [00:47<00:31,  2.25s/it][04/18/25 09:40:53] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 61%|████████████████████████▊                | 20/33 [00:49<00:28,  2.18s/it][04/18/25 09:40:55] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 64%|██████████████████████████               | 21/33 [00:51<00:25,  2.15s/it][04/18/25 09:40:57] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 67%|███████████████████████████▎             | 22/33 [00:53<00:23,  2.12s/it][04/18/25 09:40:59] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 70%|████████████████████████████▌            | 23/33 [00:54<00:18,  1.88s/it][04/18/25 09:41:00] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 73%|█████████████████████████████▊           | 24/33 [00:56<00:15,  1.72s/it][04/18/25 09:41:03] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 76%|███████████████████████████████          | 25/33 [00:58<00:16,  2.03s/it][04/18/25 09:41:05] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 79%|████████████████████████████████▎        | 26/33 [01:01<00:15,  2.19s/it][04/18/25 09:41:06] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 82%|█████████████████████████████████▌       | 27/33 [01:01<00:09,  1.64s/it][04/18/25 09:41:07] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 85%|██████████████████████████████████▊      | 28/33 [01:02<00:07,  1.44s/it][04/18/25 09:41:08] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 88%|████████████████████████████████████     | 29/33 [01:03<00:05,  1.31s/it][04/18/25 09:41:09] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 91%|█████████████████████████████████████▎   | 30/33 [01:05<00:04,  1.34s/it][04/18/25 09:41:11] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 94%|██████████████████████████████████████▌  | 31/33 [01:06<00:02,  1.42s/it][04/18/25 09:41:12] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n 97%|███████████████████████████████████████▊ | 32/33 [01:07<00:01,  1.28s/it][04/18/25 09:41:13] WARNING  WARNING:pdfminer.pdfpage:CropBox   pdfpage.py:202\n                             missing from /Page, defaulting to                \n                             MediaBox                                         \n100%|█████████████████████████████████████████| 33/33 [01:09<00:00,  2.11s/it]\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '6.323909213100389e'\n\nMuPDF error: syntax error: unknown keyword: '2.53530723610935e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\nMuPDF error: syntax error: unknown keyword: '1.4317964788073716e'\n\nMuPDF error: syntax error: unknown keyword: '1.431240980658465e'\n\n127.0.0.1 - - [18/Apr/2025 09:41:16] \"POST /translate HTTP/1.1\" 200 -\n127.0.0.1 - - [18/Apr/2025 09:41:16] \"GET /translatedFile/Zhang%20等%20-%202024%20-%20When%20AI%20meets%20finance%20(StockAgent)%20Large%20language%20model-based%20stock%20trading%20in%20simulated%20real-world-mono.pdf HTTP/1.1\" 200 -\n127.0.0.1 - - [18/Apr/2025 09:41:17] \"GET /translatedFile/Zhang%20等%20-%202024%20-%20When%20AI%20meets%20finance%20(StockAgent)%20Large%20language%20model-based%20stock%20trading%20in%20simulated%20real-world-dual.pdf HTTP/1.1\" 200 -\n```\n\n### 原始PDF文件\n\n[Zhang 等 - 2024 - When AI meets finance (StockAgent) Large language model-based stock trading in simulated real-world.pdf](https://github.com/user-attachments/files/19806858/Zhang.-.2024.-.When.AI.meets.finance.StockAgent.Large.language.model-based.stock.trading.in.simulated.real-world.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "henie5",
      "author_type": "User",
      "created_at": "2025-04-18T01:49:04Z",
      "updated_at": "2025-04-18T02:07:02Z",
      "closed_at": "2025-04-18T02:07:01Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/850/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/850",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/850",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:53.747339",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请等pdf2zh 2.0出来后重新测试。如果此问题仍然持续，请重新提issue。",
          "created_at": "2025-04-18T02:07:02Z"
        }
      ]
    },
    {
      "issue_number": 842,
      "title": "无法使用提示词",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:redhat 8.5\n- Python:3.12\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n我在Custom Prompt for llm中输入的任何提示词，在结束翻译后下载并打开翻译后的文件，文件中只显示这些提示词内容，没有任何翻译的内容，但是不输入提示词就可以翻译，请问这是什么原因？\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Johnagrant",
      "author_type": "User",
      "created_at": "2025-04-14T05:34:39Z",
      "updated_at": "2025-04-16T11:07:48Z",
      "closed_at": "2025-04-16T11:07:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/842/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/842",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/842",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.014912",
      "comments": [
        {
          "author": "hellofinch",
          "body": "尝试添加 `--debug` 选项，然后检查一下给LLM送进去的内容是不是正常的。",
          "created_at": "2025-04-15T02:52:52Z"
        },
        {
          "author": "Johnagrant",
          "body": "现在解决了，用介绍里面的提示词方法就可以，看来是需要在提示词加一些变量在里面才可以使用，如果没有变量的话出来的翻译文件里面全部都是提示词内容，我翻译了100页，100页内容全部都是提示词内容😂",
          "created_at": "2025-04-16T07:25:24Z"
        },
        {
          "author": "hellofinch",
          "body": "要是问题解决的话记得关闭issue哦。\n: )",
          "created_at": "2025-04-16T07:57:31Z"
        }
      ]
    },
    {
      "issue_number": 845,
      "title": "翻译完出现重影",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:\n- Python:3.12\n- pdf2zh:1.7.8\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\n翻译完文本出现重影，文字重叠到了一起\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "anbian123",
      "author_type": "User",
      "created_at": "2025-04-16T03:03:02Z",
      "updated_at": "2025-04-16T07:58:46Z",
      "closed_at": "2025-04-16T03:18:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/845/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/845",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/845",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.245461",
      "comments": [
        {
          "author": "hellofinch",
          "body": "可以有三个操作：\n  1. 更新 pdf2zh 版本。\n  2. 检查是否为扫描件。\n  3. 尝试使用BabelDOC选项。",
          "created_at": "2025-04-16T07:58:45Z"
        }
      ]
    },
    {
      "issue_number": 844,
      "title": "DocLayout-YOLO-DocStructBench-onnx页面挂掉",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windows10\n- Python: 3.10.15\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nDocLayout-YOLO-DocStructBench-onnx页面挂掉了，无法下载相应的包。\n\n![Image](https://github.com/user-attachments/assets/0c8526fb-c307-47f7-960c-9d37d2f58a36)\n\n![Image](https://github.com/user-attachments/assets/aa8ad525-0bbf-4567-818a-cec831bdba79)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "whxqyhz1",
      "author_type": "User",
      "created_at": "2025-04-15T06:56:04Z",
      "updated_at": "2025-04-15T07:55:32Z",
      "closed_at": "2025-04-15T07:55:32Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/844/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/844",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/844",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.440217",
      "comments": [
        {
          "author": "hellofinch",
          "body": "500，应该是抱抱脸的网站的问题。如果一直不行的话，可以考虑添加并使用备用源。\n需要观望一下是怎么状况。",
          "created_at": "2025-04-15T07:26:27Z"
        },
        {
          "author": "awwaawwa",
          "body": "执行一次带资源的exe，然后就会自动用离线包把这个模型放到缓存目录。之后正常用pip的就行了。",
          "created_at": "2025-04-15T07:55:32Z"
        }
      ]
    },
    {
      "issue_number": 829,
      "title": "正版macbook Adobe Acrobat打开翻译后的双语PDF会报错，且无法渲染翻译后的图片",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\nlimo@limos-MacBook-Pro ~/Documents➜  [04-04 14:48:17] docker inspect 3df6504c4c8f\n[\n    {\n        \"Id\": \"3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea\",\n        \"Created\": \"2025-03-31T09:22:01.042566502Z\",\n        \"Path\": \"pdf2zh\",\n        \"Args\": [\n            \"-i\"\n        ],\n        \"State\": {\n            \"Status\": \"running\",\n            \"Running\": true,\n            \"Paused\": false,\n            \"Restarting\": false,\n            \"OOMKilled\": false,\n            \"Dead\": false,\n            \"Pid\": 811,\n            \"ExitCode\": 0,\n            \"Error\": \"\",\n            \"StartedAt\": \"2025-04-02T04:01:01.960054336Z\",\n            \"FinishedAt\": \"2025-04-02T04:00:56.183057125Z\"\n        },\n        \"Image\": \"sha256:148b1bc35739c566032e6df1830855cff0e0a984f02dc24de5ce4516d6b1eb3a\",\n        \"ResolvConfPath\": \"/var/lib/docker/containers/3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea/resolv.conf\",\n        \"HostnamePath\": \"/var/lib/docker/containers/3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea/hostname\",\n        \"HostsPath\": \"/var/lib/docker/containers/3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea/hosts\",\n        \"LogPath\": \"/var/lib/docker/containers/3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea/3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea-json.log\",\n        \"Name\": \"/pdf2zh_7861\",\n        \"RestartCount\": 0,\n        \"Driver\": \"overlay2\",\n        \"Platform\": \"linux\",\n        \"MountLabel\": \"\",\n        \"ProcessLabel\": \"\",\n        \"AppArmorProfile\": \"\",\n        \"ExecIDs\": null,\n        \"HostConfig\": {\n            \"Binds\": null,\n            \"ContainerIDFile\": \"\",\n            \"LogConfig\": {\n                \"Type\": \"json-file\",\n                \"Config\": {}\n            },\n            \"NetworkMode\": \"bridge\",\n            \"PortBindings\": {\n                \"7860/tcp\": [\n                    {\n                        \"HostIp\": \"\",\n                        \"HostPort\": \"7861\"\n                    }\n                ]\n            },\n            \"RestartPolicy\": {\n                \"Name\": \"no\",\n                \"MaximumRetryCount\": 0\n            },\n            \"AutoRemove\": false,\n            \"VolumeDriver\": \"\",\n            \"VolumesFrom\": null,\n            \"ConsoleSize\": [\n                53,\n                104\n            ],\n            \"CapAdd\": null,\n            \"CapDrop\": null,\n            \"CgroupnsMode\": \"private\",\n            \"Dns\": [],\n            \"DnsOptions\": [],\n            \"DnsSearch\": [],\n            \"ExtraHosts\": null,\n            \"GroupAdd\": null,\n            \"IpcMode\": \"private\",\n            \"Cgroup\": \"\",\n            \"Links\": null,\n            \"OomScoreAdj\": 0,\n            \"PidMode\": \"\",\n            \"Privileged\": false,\n            \"PublishAllPorts\": false,\n            \"ReadonlyRootfs\": false,\n            \"SecurityOpt\": null,\n            \"UTSMode\": \"\",\n            \"UsernsMode\": \"\",\n            \"ShmSize\": 67108864,\n            \"Runtime\": \"runc\",\n            \"Isolation\": \"\",\n            \"CpuShares\": 0,\n            \"Memory\": 0,\n            \"NanoCpus\": 0,\n            \"CgroupParent\": \"\",\n            \"BlkioWeight\": 0,\n            \"BlkioWeightDevice\": [],\n            \"BlkioDeviceReadBps\": [],\n            \"BlkioDeviceWriteBps\": [],\n            \"BlkioDeviceReadIOps\": [],\n            \"BlkioDeviceWriteIOps\": [],\n            \"CpuPeriod\": 0,\n            \"CpuQuota\": 0,\n            \"CpuRealtimePeriod\": 0,\n            \"CpuRealtimeRuntime\": 0,\n            \"CpusetCpus\": \"\",\n            \"CpusetMems\": \"\",\n            \"Devices\": [],\n            \"DeviceCgroupRules\": null,\n            \"DeviceRequests\": null,\n            \"MemoryReservation\": 0,\n            \"MemorySwap\": 0,\n            \"MemorySwappiness\": null,\n            \"OomKillDisable\": null,\n            \"PidsLimit\": null,\n            \"Ulimits\": [],\n            \"CpuCount\": 0,\n            \"CpuPercent\": 0,\n            \"IOMaximumIOps\": 0,\n            \"IOMaximumBandwidth\": 0,\n            \"MaskedPaths\": [\n                \"/proc/asound\",\n                \"/proc/acpi\",\n                \"/proc/kcore\",\n                \"/proc/keys\",\n                \"/proc/latency_stats\",\n                \"/proc/timer_list\",\n                \"/proc/timer_stats\",\n                \"/proc/sched_debug\",\n                \"/proc/scsi\",\n                \"/sys/firmware\",\n                \"/sys/devices/virtual/powercap\"\n            ],\n            \"ReadonlyPaths\": [\n                \"/proc/bus\",\n                \"/proc/fs\",\n                \"/proc/irq\",\n                \"/proc/sys\",\n                \"/proc/sysrq-trigger\"\n            ]\n        },\n        \"GraphDriver\": {\n            \"Data\": {\n                \"ID\": \"3df6504c4c8f26c588aa96c3242c0788d037ebc99f29e3fb1283912d06eca8ea\",\n                \"LowerDir\": \"/var/lib/docker/overlay2/2a20f2abb19d542fd77b283677347dec7fe7c6850359e8af9971e5e2e8e76716-init/diff:/var/lib/docker/overlay2/6f21cd845769f0a9650d86cf8c76251f18ef644699ed591c2e48872994f8c952/diff:/var/lib/docker/overlay2/7d5cd05d7563c197314b03709af628f40fe64f0d4e541f59d7309ba8a0bcf2a0/diff:/var/lib/docker/overlay2/ef121ef02cfd8fae8cf8cd0466ca3baa41346adf027ed72043da89097101e365/diff:/var/lib/docker/overlay2/1e3d22fd87f6d794018c9176625a410f521ed928a7bb3b14e189b226e5921520/diff:/var/lib/docker/overlay2/a74e317df1194e6fd1e3571b8924707b4f9d186013463cabd66ef5585c2f1faa/diff:/var/lib/docker/overlay2/ecbddc424fe5f68ac1feb53bb50db0c87f1c91fa0ccd7d4f35eb481e7a762559/diff:/var/lib/docker/overlay2/2529c0cfb910196ee3ea75f75cada05411b7497f99fc5dabf69b81b7fe8b7562/diff:/var/lib/docker/overlay2/a71e7387c47ed40dcd5ee538e1ae1ac9873abb16834d981102c0c1f88599001b/diff:/var/lib/docker/overlay2/5cd69c9135af09c6b0bf5e0c458d5c6b7c5db56ff504280ba1a26409e4eebbe4/diff:/var/lib/docker/overlay2/368e9e2896bfdde10948b389809d855e3925dd9c837c666366fea509b11dfee7/diff:/var/lib/docker/overlay2/4353ea04a6694d8c6489dae1e04bef2659d180b634371617edd65c20e08e8753/diff:/var/lib/docker/overlay2/99ff3994e90497ebe77b01997f0a12f4322742aa8894353b8883e6030db6061f/diff\",\n                \"MergedDir\": \"/var/lib/docker/overlay2/2a20f2abb19d542fd77b283677347dec7fe7c6850359e8af9971e5e2e8e76716/merged\",\n                \"UpperDir\": \"/var/lib/docker/overlay2/2a20f2abb19d542fd77b283677347dec7fe7c6850359e8af9971e5e2e8e76716/diff\",\n                \"WorkDir\": \"/var/lib/docker/overlay2/2a20f2abb19d542fd77b283677347dec7fe7c6850359e8af9971e5e2e8e76716/work\"\n            },\n            \"Name\": \"overlay2\"\n        },\n        \"Mounts\": [],\n        \"Config\": {\n            \"Hostname\": \"3df6504c4c8f\",\n            \"Domainname\": \"\",\n            \"User\": \"\",\n            \"AttachStdin\": false,\n            \"AttachStdout\": false,\n            \"AttachStderr\": false,\n            \"ExposedPorts\": {\n                \"7860/tcp\": {}\n            },\n            \"Tty\": false,\n            \"OpenStdin\": false,\n            \"StdinOnce\": false,\n            \"Env\": [\n                \"PATH=/usr/local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\n                \"LANG=C.UTF-8\",\n                \"GPG_KEY=7169605F62C751356D054A26A821E680E5FA6305\",\n                \"PYTHON_VERSION=3.12.9\",\n                \"PYTHON_SHA256=7220835d9f90b37c006e9842a8dff4580aaca4318674f947302b8d28f3f81112\",\n                \"PYTHONUNBUFFERED=1\"\n            ],\n            \"Cmd\": [\n                \"pdf2zh\",\n                \"-i\"\n            ],\n            \"Image\": \"pdf2zh_backup_2025\",\n            \"Volumes\": null,\n            \"WorkingDir\": \"/app\",\n            \"Entrypoint\": null,\n            \"OnBuild\": null,\n            \"Labels\": {\n                \"org.opencontainers.image.created\": \"2025-03-13T14:44:49.272Z\",\n                \"org.opencontainers.image.description\": \"PDF scientific paper translation with preserved formats - 基于 AI 完整保留排版的 PDF 文档全文双语翻译，支持 Google/DeepL/Ollama/OpenAI 等服务，提供 CLI/GUI/Docker/Zotero\",\n                \"org.opencontainers.image.licenses\": \"AGPL-3.0\",\n                \"org.opencontainers.image.revision\": \"6be6531f276c4df635ceab33b9c1ce049d74c33e\",\n                \"org.opencontainers.image.source\": \"https://github.com/Byaidu/PDFMathTranslate\",\n                \"org.opencontainers.image.title\": \"PDFMathTranslate\",\n                \"org.opencontainers.image.url\": \"https://github.com/Byaidu/PDFMathTranslate\",\n                \"org.opencontainers.image.version\": \"dev\"\n            }\n        },\n        \"NetworkSettings\": {\n            \"Bridge\": \"\",\n            \"SandboxID\": \"3e51cfe4dc8428144e26053f8d37abe6218edaf6ef34959d3dd3c1447ce0c233\",\n            \"SandboxKey\": \"/var/run/docker/netns/3e51cfe4dc84\",\n            \"Ports\": {\n                \"7860/tcp\": [\n                    {\n                        \"HostIp\": \"0.0.0.0\",\n                        \"HostPort\": \"7861\"\n                    }\n                ]\n            },\n            \"HairpinMode\": false,\n            \"LinkLocalIPv6Address\": \"\",\n            \"LinkLocalIPv6PrefixLen\": 0,\n            \"SecondaryIPAddresses\": null,\n            \"SecondaryIPv6Addresses\": null,\n            \"EndpointID\": \"fa97fceaa758c2d493670b7e1cdac3fff374d02686d5cdbc2b6d4fbf1cfea511\",\n            \"Gateway\": \"172.17.0.1\",\n            \"GlobalIPv6Address\": \"\",\n            \"GlobalIPv6PrefixLen\": 0,\n            \"IPAddress\": \"172.17.0.2\",\n            \"IPPrefixLen\": 16,\n            \"IPv6Gateway\": \"\",\n            \"MacAddress\": \"9a:22:6d:f0:ea:41\",\n            \"Networks\": {\n                \"bridge\": {\n                    \"IPAMConfig\": null,\n                    \"Links\": null,\n                    \"Aliases\": null,\n                    \"MacAddress\": \"9a:22:6d:f0:ea:41\",\n                    \"DriverOpts\": null,\n                    \"GwPriority\": 0,\n                    \"NetworkID\": \"ce73f94f4548d69f9932b7f6adacf6a9c43a33cc95545ed49f5d8e2b181eea87\",\n                    \"EndpointID\": \"fa97fceaa758c2d493670b7e1cdac3fff374d02686d5cdbc2b6d4fbf1cfea511\",\n                    \"Gateway\": \"172.17.0.1\",\n                    \"IPAddress\": \"172.17.0.2\",\n                    \"IPPrefixLen\": 16,\n                    \"IPv6Gateway\": \"\",\n                    \"GlobalIPv6Address\": \"\",\n                    \"GlobalIPv6PrefixLen\": 0,\n                    \"DNSNames\": null\n                }\n            }\n        }\n    }\n]\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n<img width=\"723\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/921b3851-3da1-4150-b5a8-76e9c85e0cbd\" />\n\n<img width=\"629\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/37e3cdc6-1105-4c29-b633-f2fbfb48b348\" />\n\n根据docker 镜像 使用openai的gpt4o模型翻译后 pdf 中文的部分图表无法正常显示\n\n但是用chrome打开就可以正常显示\n\n<img width=\"1213\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/998dc8a7-c54a-40d8-ad45-029012cdf8bf\" />\n\n但是我需要用pdf编辑软件编辑 所以不想用chrome打开。\n\n### 如何复现\n\n_No response_\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[Predictable Scale Part I -- Optimal Hyperparameter Scaling Law in Large Language Model Pretraining Houyi Li et al. 2025 v4-dual.pdf](https://github.com/user-attachments/files/19599448/Predictable.Scale.Part.I.--.Optimal.Hyperparameter.Scaling.Law.in.Large.Language.Model.Pretraining.Houyi.Li.et.al.2025.v4-dual.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Mor-Li",
      "author_type": "User",
      "created_at": "2025-04-04T06:52:26Z",
      "updated_at": "2025-04-10T03:51:51Z",
      "closed_at": "2025-04-10T03:51:50Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/829/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/829",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/829",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.638030",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "1. 请启用实验性选项use BabelDOC\n2. Acrobat的PDF兼容性相对差一些，可以使用其他兼容性更好的PDF阅读器。",
          "created_at": "2025-04-04T11:02:06Z"
        },
        {
          "author": "awwaawwa",
          "body": "3. 用 https://app.immersivetranslate.com/babel-doc/ 测试一下能不能好\n4. 如果线上的BabelDOC正常翻译，那请耐心等待pdf2zh 2.0。",
          "created_at": "2025-04-04T11:03:08Z"
        },
        {
          "author": "Mor-Li",
          "body": "非常感谢回复，根据测试：\n\n> 3. 用 https://app.immersivetranslate.com/babel-doc/ 测试一下能不能好\n\n经过测试 这个babel-doc在线翻译出来的pdf 被adobe acrobat打开后确实好了。\n\n<img width=\"1158\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6f7c605c-1a74-4916-ab49-0f1441662770\" />\n\n好的 那我就耐心等待。\n\n\n",
          "created_at": "2025-04-10T03:51:50Z"
        }
      ]
    },
    {
      "issue_number": 840,
      "title": "用本地服务时论文摘要部分没有翻译，但是用https://app.immersivetranslate.com/却能翻译摘要部分",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Win10\n- Python:3.12.9\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n用本地服务时论文摘要部分没有翻译，但是用https://app.immersivetranslate.com/却能翻译摘要部分，论文pdf见附件。\n\n[2502.15698v1 Developing an Artificial Intelligence Tool for Personalized Breast Cancer Treatment Plans based on the NCCN Guidelines.pdf](https://github.com/user-attachments/files/19664716/2502.15698v1.Developing.an.Artificial.Intelligence.Tool.for.Personalized.Breast.Cancer.Treatment.Plans.based.on.the.NCCN.Guidelines.pdf)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "yanmingcao",
      "author_type": "User",
      "created_at": "2025-04-09T10:02:57Z",
      "updated_at": "2025-04-09T12:18:51Z",
      "closed_at": "2025-04-09T12:18:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/840/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/840",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/840",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.808493",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "斜体字体白名单不一样。pdf2zh 2.0会解决。",
          "created_at": "2025-04-09T12:18:51Z"
        }
      ]
    },
    {
      "issue_number": 691,
      "title": "翻译后乱码",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Ubuntu\n- Python:3.10\n- pdf2zh:1.9.1\n```\n\n### 描述你的问题\n\n部分pdf在翻译后排版错乱\n\n### 如何复现\n\n_No response_\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[1.pdf](https://github.com/user-attachments/files/18979512/1.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "IgnoranceSmile",
      "author_type": "User",
      "created_at": "2025-02-26T07:49:01Z",
      "updated_at": "2025-04-09T03:42:38Z",
      "closed_at": "2025-04-09T03:42:38Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/691/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/691",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/691",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:54.990363",
      "comments": [
        {
          "author": "Liangjy686",
          "body": "我也出现了这样的问题，在网页上预览没有问题，但是下载下来就是乱码",
          "created_at": "2025-02-26T08:40:49Z"
        },
        {
          "author": "hellofinch",
          "body": "![Image](https://github.com/user-attachments/assets/5f6bfdd3-5696-4a1e-86b5-54d568181043)\n是指这个地方吗？",
          "created_at": "2025-02-26T09:55:39Z"
        },
        {
          "author": "IgnoranceSmile",
          "body": "就是整体都有点问题，我这边预览和下载之后都存在问题\n\n![Image](https://github.com/user-attachments/assets/b024d3ce-5ce2-4d06-8e11-91b7f74b4fd8)",
          "created_at": "2025-02-27T01:50:02Z"
        },
        {
          "author": "hellofinch",
          "body": "我这里只有一部分有问题，可能是你选择的翻译服务的问题。\n如果是使用的LLM作为service的话，可能是对于传入的默认的prompt理解不足导致的。可以尝试调整合适自己和所用service的prompt。\n这个是我测试的输出。\n[1-mono.pdf](https://github.com/user-attachments/files/19003841/1-mono.pdf)",
          "created_at": "2025-02-27T06:45:23Z"
        },
        {
          "author": "Aura2003",
          "body": "我也是这个问题 用的谷歌翻译 貌似VPN全局模式会干扰[file:///C:/Users/tianp/Downloads/Corrosion%20and%20Bioactivity%20Properties%20of%20Calcium-Phosphate%20PEO%20Coating%20on%20AZ31%20Mg-mono%20(1).pdf](url)",
          "created_at": "2025-03-01T14:33:06Z"
        }
      ]
    },
    {
      "issue_number": 839,
      "title": "增加书签翻译功能 👍",
      "body": "### 在什么场景下，需要你请求的功能？\n\n非常感谢您开发的 **pdf2zh** 工具。经过使用，我发现它在翻译 PDF 正文时效果出色，保留了较为完整的原文排版和格式。然而，在使用过程中，我注意到书签内容并没有得到相应的翻译，导致翻译后的文档在导航和目录使用上存在一定的不便。\n\n### 解决方案\n\n因此，我想提出以下建议：\n\n1. **增加书签翻译功能**  \n   希望未来的版本中能够增加对 PDF 内部书签内容的提取与翻译功能，使得翻译后的文档可以同步更新书签，从而方便用户直接使用翻译后的目录进行导航。\n\n2. **用户配置选项**  \n   如果书签翻译较为复杂或者对格式要求较高，可以考虑增加相关配置选项，例如允许用户选择是否翻译书签、以及设定翻译书签时是否保留原有的层级关系等。\n\n3. **文档和帮助说明**  \n   同时建议在使用说明中注明目前工具在书签翻译方面的局限性，并提示用户后续更新计划。这样既可以让用户对当前功能有明确了解，也能减少使用中遇到的相关疑问。\n\n再次感谢您对 PDF 翻译领域所做的贡献，希望我的建议能为工具的进一步完善提供一些帮助。期待未来能见到更多新功能和改进，祝工作顺利，开源项目越做越好！: )\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "kaliwell",
      "author_type": "User",
      "created_at": "2025-04-08T10:29:36Z",
      "updated_at": "2025-04-08T14:28:22Z",
      "closed_at": "2025-04-08T14:28:22Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/839/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/839",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/839",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.247798",
      "comments": [
        {
          "author": "hellofinch",
          "body": "现在的交叉引用确实没有处理，因为经过翻译以后，之前一些交叉引用会到其他的位置，而引用的内容也会到其他的位置。所以这些对应关系对需要有方法进行变换和处理。",
          "created_at": "2025-04-08T11:07:23Z"
        }
      ]
    },
    {
      "issue_number": 837,
      "title": "为什么英文没翻译成中文？",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n\n```\n\n### How to install pdf2zh\n\ndocker\n\n### Describe the bug\n\n只勾选了BabelDOC，其他都默认设置，点翻译后，出来这样：\n\n<img width=\"1279\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7df3b68b-85c3-4d89-ae5c-0e721170682a\" />\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "jiangaq",
      "author_type": "User",
      "created_at": "2025-04-08T02:13:41Z",
      "updated_at": "2025-04-08T14:27:43Z",
      "closed_at": "2025-04-08T14:27:42Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/837/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/837",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/837",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.427928",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请耐心等待pdf2zh 2.0",
          "created_at": "2025-04-08T14:27:42Z"
        }
      ]
    },
    {
      "issue_number": 836,
      "title": "How to use api?",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:mac\n- Python:docker\n- pdf2zh:1.9.p0\n```\n\n### How to install pdf2zh\n\ndocker\n\n### Describe the bug\n\nThis might be stupid QuestionI am trying to run PDFMathTranslate on my Docker localhost using either the OpenAI API or DeepSeek API. However, when I set the API key (for either service), the application shows infinite loading and does not complete the translation process.\n\nWhat did I miss?\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "PedaPeterPark",
      "author_type": "User",
      "created_at": "2025-04-07T20:50:58Z",
      "updated_at": "2025-04-08T14:26:20Z",
      "closed_at": "2025-04-08T14:26:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/836/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/836",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/836",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.647874",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please wait for pdf2zh 2.0",
          "created_at": "2025-04-08T14:26:19Z"
        }
      ]
    },
    {
      "issue_number": 834,
      "title": "文章中斜体/特殊字体镜像显示",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: MacOS 15.3.1\n- Python: Python 3.10.13\n- pdf2zh: v1.9.6\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n尝试过的翻译引擎：豆包的deepseek-v3，bing，zhipu\n\n未开启babeldoc时：翻译后的pdf中的特殊字体/斜体倒置显示了\n<img width=\"589\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4e267ce8-1e43-4d3c-ba8b-ce1dffc1ecd5\" />\n\n开启babeldoc时：倒置+错行重合+部分字符消失\n\n<img width=\"1025\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/37316b9a-2c59-4090-b3ec-b23d3e3119fa\" />\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n[urgaonkar.pdf](https://github.com/user-attachments/files/19630234/urgaonkar.pdf)\n\n未使用babeldoc：\n\n[urgaonkar-dual.pdf](https://github.com/user-attachments/files/19630240/urgaonkar-dual.pdf)\n\n使用babeldoc：\n\n[urgaonkar-dual.pdf](https://github.com/user-attachments/files/19630243/urgaonkar-dual.pdf)\n\n### Anything else?\n\n_No response_",
      "state": "open",
      "author": "guaguastandup",
      "author_type": "User",
      "created_at": "2025-04-07T10:21:28Z",
      "updated_at": "2025-04-07T10:22:13Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/834/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/834",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/834",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.808297",
      "comments": []
    },
    {
      "issue_number": 832,
      "title": "能否增加去水印功能",
      "body": "### 在什么场景下，需要你请求的功能？\n\n增加去除pdf文件中的水印功能，或者对水印不进行处理，当前的翻译结果会将水印变得颜色很深、字体很大\n\n![Image](https://github.com/user-attachments/assets/fe4196f2-82e4-4466-a897-f089073ec325)\n\n### 解决方案\n\n去除水印，谢谢\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "feigegege",
      "author_type": "User",
      "created_at": "2025-04-07T03:09:56Z",
      "updated_at": "2025-04-07T03:18:08Z",
      "closed_at": "2025-04-07T03:18:07Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/832/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/832",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/832",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.808316",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "区分不清水印，很容易给正文也去掉。",
          "created_at": "2025-04-07T03:18:07Z"
        }
      ]
    },
    {
      "issue_number": 831,
      "title": "英文斜体字无法识别并翻译 以及 图表可选中文字无法被翻译",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11\n- Python: 3.12.0\n- pdf2zh: 1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/37fb7a9f-b4ca-46fd-95fd-4518d1d00ba6)\n本篇文档的每一句首句的斜体字都无法翻译\n\n![Image](https://github.com/user-attachments/assets/09f45abb-771e-40d9-92d8-806885ccf282)\n图表内可选中文字也无法被翻译\n\n模型是Deepseek，使用Google也出现了相同的问题\n\n### 如何复现\n\n1. 执行 '翻译'\n2. 选择 'Deepseek'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[CMI p124-144 Major Histocompatibility Complex (MHC).pdf](https://github.com/user-attachments/files/19604758/CMI.p124-144.Major.Histocompatibility.Complex.MHC.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "Automaticat",
      "author_type": "User",
      "created_at": "2025-04-04T13:02:19Z",
      "updated_at": "2025-04-06T06:07:24Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/831/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/831",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/831",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:55.957196",
      "comments": [
        {
          "author": "hellofinch",
          "body": "图表内容不翻译是已知内容，可以尝试勾选 Use babeldoc试试。\n斜体不翻译的问题，请再次完整阅读文档，里边有对于斜体字体翻译的说明。",
          "created_at": "2025-04-06T06:07:23Z"
        }
      ]
    },
    {
      "issue_number": 822,
      "title": "如何调整输出文字字体",
      "body": "### 在什么场景下，需要你请求的功能？\n\n我想将输出的文字字体调整为自己喜欢的字体，也就是从网络上下载的那种tff\n\n### 解决方案\n\n希望大佬帮忙解决\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "Hesonnny",
      "author_type": "User",
      "created_at": "2025-04-01T09:42:55Z",
      "updated_at": "2025-04-06T06:05:11Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/822/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/822",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/822",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:56.138624",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "暂不支持。后面弄",
          "created_at": "2025-04-01T09:49:25Z"
        },
        {
          "author": "wuqie-xuanzhao",
          "body": "我是通过 Zotero 插件使用的，或许你可以暂时性的这样弄（使用 Docker 部署）：\n\n![Image](https://github.com/user-attachments/assets/174d7288-4c0b-4831-966e-08b8d09794d2)\n\n![Image](https://github.com/user-attachments/assets/5da5ed9a-8277-4079-9f46-4b92522db4f2)",
          "created_at": "2025-04-04T12:11:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "这个参数会在pdf2zh 2.0中暂时移除，后面才会重新加回来。做了一些架构调整，暂时加不上。",
          "created_at": "2025-04-04T12:34:52Z"
        },
        {
          "author": "wuqie-xuanzhao",
          "body": "但是，目前的问题在于每次翻译不会从fonts文件夹中直接获取字体，而是需要下载对应的文件？（总之不会立马加载，图片中等待了3分多钟）\n\n![Image](https://github.com/user-attachments/assets/8c25bab1-0570-4f02-af78-50f0275f98f2)",
          "created_at": "2025-04-04T12:51:43Z"
        },
        {
          "author": "hellofinch",
          "body": "正在重构2.0，而且API很早就不再维护了。\n后续2.0之后，可以向插件仓库反馈跟进新的API。",
          "created_at": "2025-04-06T06:05:10Z"
        }
      ]
    },
    {
      "issue_number": 830,
      "title": "能否增加对字节的火山引擎的支持？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n官方Deepseek响应速度实在太慢了，国内的大模型平台用一圈感觉火山体验最好，希望可以支持\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Automaticat",
      "author_type": "User",
      "created_at": "2025-04-04T12:40:32Z",
      "updated_at": "2025-04-04T13:06:51Z",
      "closed_at": "2025-04-04T13:06:11Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/830/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/830",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/830",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:56.354842",
      "comments": [
        {
          "author": "Automaticat",
          "body": "已解决，使用OpenAI-liked接口可以连接上",
          "created_at": "2025-04-04T13:06:50Z"
        }
      ]
    },
    {
      "issue_number": 827,
      "title": "翻译特定pdf不出结果",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows11\n- Python:3.11\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n翻译特定pdf完，Zotero内不显示翻译的文件，也没有翻译完成的弹窗。经查找，源文件目录下有翻译文件生成，但是效果很差，公式未识别且有文本重叠。其他pdf正常，babeldoc最新版0.2.30\n\n![Image](https://github.com/user-attachments/assets/77bf59e5-51f9-43b4-9f3c-81e8c2603ca1)\n\n![Image](https://github.com/user-attachments/assets/80f28768-7195-462b-8ec4-3a41ceeca9fd)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2022 - Single-fingered reconfigurable robotic gripper with a folding mechanism for narrow working spaces - Nishimura Toshihiro, Muryoe Tsubasa, Asama Yoshitatsu, Ikeuchi Hiroki, Toshima Ryo, Watanabe Tetsuyou.pdf](https://github.com/user-attachments/files/19564192/2022.-.Single-fingered.reconfigurable.robotic.gripper.with.a.folding.mechanism.for.narrow.working.spaces.-.Nishimura.Toshihiro.Muryoe.Tsubasa.Asama.Yoshitatsu.Ikeuchi.Hiroki.Toshima.Ryo.Watanabe.Tetsuyou.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Boyinuo",
      "author_type": "User",
      "created_at": "2025-04-02T08:19:00Z",
      "updated_at": "2025-04-02T08:20:44Z",
      "closed_at": "2025-04-02T08:20:43Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/827/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/827",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/827",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:56.586284",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "已知问题。\n",
          "created_at": "2025-04-02T08:20:43Z"
        }
      ]
    },
    {
      "issue_number": 826,
      "title": "type error",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 10\n- Python:3.12\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n在bing翻译和geogle翻译（较慢）能翻译的情况下，每次用腾讯翻译（有正确的API和密钥）就会报错，换了几个文档也是一样。\n\n<!-- Failed to upload \"1.txt\" -->\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nargos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\nfind offline_assets_zip file:  offline_assets_41a6453e2a1d7a6d1ad49f39979aa61960fcdc206a7962f655a8642b66b730cf.zip  try restore...\n[04/02/25 13:06:39] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:37\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['its not so bad.pdf', '研究生英语下课文重难点句子-dual.pdf', '研究生英语下课文重难点句子-mono.pdf', '研究生英语下课文重难点句子.pdf']\n[04/02/25 13:06:59] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/20878/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\nTraceback (most recent call last):\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 2103, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\blocks.py\", line 1650, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2461, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\anyio\\_backends\\_asyncio.py\", line 962, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\gradio\\utils.py\", line 890, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\gui.py\", line 334, in translate_file\n    translate(**param)\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 232, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\high_level.py\", line 92, in translate_patch\n    device = TranslateConverter(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\converter.py\", line 164, in __init__\n    self.translator = translator(lang_in, lang_out, service_model, envs=envs, prompt=prompt, ignore_cache=ignore_cache)\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\translator.py\", line 706, in __init__\n    super().__init__(lang_in, lang_out, model)\nTypeError: BaseTranslator.__init__() missing 1 required positional argument: 'ignore_cache'\n```\n\n### 原始PDF文件\n\n[研究生英语下.pdf](https://github.com/user-attachments/files/19561699/default.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "YH1128yh",
      "author_type": "User",
      "created_at": "2025-04-02T05:13:22Z",
      "updated_at": "2025-04-02T07:57:30Z",
      "closed_at": "2025-04-02T07:57:30Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/826/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/826",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/826",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:56.779159",
      "comments": [
        {
          "author": "YH1128yh",
          "body": "[type error.txt](https://github.com/user-attachments/files/19561650/1.txt)",
          "created_at": "2025-04-02T05:14:45Z"
        },
        {
          "author": "hellofinch",
          "body": "确实这里少点东西，但是项目正在重构，可能需要你自己在脚本中改一点内容。\n\nC:\\Users\\20878\\Desktop\\pdf2zh\\build\\site-packages\\pdf2zh\\translator.py 这个文件中的706行，改成super().__init__(lang_in, lang_out, model,ignore_cache) 你log中的报错就能解决。\n\n尝试一下，有问题再反馈。\n\n: )",
          "created_at": "2025-04-02T06:29:41Z"
        },
        {
          "author": "YH1128yh",
          "body": "感谢！刚刚试了一下可以了。我之前看见报错后尝试添加了这个忽略缓存，但是直接在文件夹的首目录下的translator.py文件添加的，目前能使用了，多谢多谢\r\n&nbsp;\r\n&nbsp;\r\n------------------ Original ------------------\r\nFrom: ***@***.***&gt;;\r\nDate: &nbsp;Wed, Apr 2, 2025 02:30 PM\r\nTo: ***@***.***&gt;; \r\nCc: ***@***.***&gt;; ***@***.***&gt;; \r\nSubject: &nbsp;Re: [Byaidu/PDFM",
          "created_at": "2025-04-02T06:55:23Z"
        },
        {
          "author": "hellofinch",
          "body": "要是没问题了的话，记得及时关闭issue哦。",
          "created_at": "2025-04-02T07:50:55Z"
        }
      ]
    },
    {
      "issue_number": 490,
      "title": "可否增加Deepseek？谢谢！",
      "body": "## 功能描述\n请描述需要添加的功能，以及是否有类似项目可以参考\n可否增加Deepseek？谢谢！",
      "state": "closed",
      "author": "Paulsxb",
      "author_type": "User",
      "created_at": "2025-01-19T13:10:11Z",
      "updated_at": "2025-04-02T03:00:32Z",
      "closed_at": "2025-01-19T14:13:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 14,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/490/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/490",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/490",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:56.976008",
      "comments": [
        {
          "author": "Byaidu",
          "body": "不是已经有deepseek了吗",
          "created_at": "2025-01-19T14:13:29Z"
        },
        {
          "author": "guruace",
          "body": "我们在试用DeepSeek模型中，仍然总是出错：\n\n1.输入： pdf2zh myfile.pdf -s deepseek:deepseek-chat\n\n2.出错：\nNamespace(files=['myfile.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='deepseek:deepseek-chat', output='', thread=4, interactive=False, share=False, flask=False, celery=Fals",
          "created_at": "2025-01-19T23:16:36Z"
        },
        {
          "author": "hellofinch",
          "body": "你环境变量的设置是怎么做的？\n然后发一下`～/.config/PDFMathTranslate/config.json`。别忘了把里边的密钥自行修改一下。\n目前来看应该是什么地方设置有问题。",
          "created_at": "2025-01-20T01:24:22Z"
        },
        {
          "author": "guruace",
          "body": "1. 环境设置：每次使用均\nexport OPENAI_API_KEY=\"sk-39a6772e909240cdxxxxxxxxxxxxxxxx\"\n\n2. .config/PDFMathTranslate/config.json:\n\n{\n    \"USE_MODELSCOPE\": \"0\",\n    \"NOTO_FONT_PATH\": \"/app/SourceHanSerifCN-Regular.ttf\",\n    \"translators\": [\n        {\n            \"name\": \"deepseek\",\n            \"envs\": {\n          ",
          "created_at": "2025-01-20T01:43:24Z"
        },
        {
          "author": "guruace",
          "body": "\"Because PDFMathTranslate doesn’t have a built-in “switch translator engine” option (to my knowledge), you’ll generally have to edit the source code to replace its default Google Translate logic with DeepSeek’s\"\n\n如果您团队能够提供转换或选择engine，那就太好了，省去很多麻烦。",
          "created_at": "2025-01-20T01:45:22Z"
        }
      ]
    },
    {
      "issue_number": 824,
      "title": "pdf2zh.converter:cannot access local variable 'response' where it is not associated with a value",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Windows11\n- Python:3.12\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n无论是uv、docker、源码安装都出现了这个bug\n\n![Image](https://github.com/user-attachments/assets/7900901f-794a-4e64-9e51-43d98a52cfdd)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n2025-04-01 22:30:50 [04/01/25 14:30:50] INFO     INFO:babeldoc.docvision.doclayout:L doclayout.py:37\n2025-04-01 22:30:50                              oading ONNX model...                               \n2025-04-01 22:30:51 * Running on local URL:  http://0.0.0.0:7860\n2025-04-01 22:30:51 \n2025-04-01 22:30:51 To create a public link, set `share=True` in `launch()`.\n2025-04-01 22:31:02 Files before translation: ['NFT.pdf']\n2025-04-01 22:31:02 [04/01/25 14:31:02] INFO     INFO:pdf2zh.high_level:use font:  high_level.py:423\n2025-04-01 22:31:02                              /root/.cache/babeldoc/fonts/Sourc                  \n2025-04-01 22:31:02                              eHanSerifCN-Regular.ttf                            \n2025-04-01 22:31:13 [04/01/25 14:31:13] ERROR    ERROR:pdf2zh.converter:cannot      converter.py:357\n2025-04-01 22:31:13                              access local variable 'response'                   \n2025-04-01 22:31:13                              where it is not associated with a                  \n2025-04-01 22:31:13                              value                                              \n2025-04-01 22:31:21 [04/01/25 14:31:21] ERROR    ERROR:pdf2zh.converter:cannot      converter.py:357\n2025-04-01 22:31:21                              access local variable 'response'                   \n2025-04-01 22:31:21                              where it is not associated with a                  \n2025-04-01 22:31:21                              value                                              \n2025-04-01 22:31:28 [04/01/25 14:31:28] ERROR    ERROR:pdf2zh.converter:cannot      converter.py:357\n2025-04-01 22:31:28                              access local variable 'response'                   \n2025-04-01 22:31:28                              where it is not associated with a                  \n2025-04-01 22:31:28                              value\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "mengdehong",
      "author_type": "User",
      "created_at": "2025-04-01T14:35:41Z",
      "updated_at": "2025-04-01T14:40:57Z",
      "closed_at": "2025-04-01T14:40:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/824/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/824",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/824",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:57.189103",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "pdf2zh 1.x已停止维护。请等待2.0",
          "created_at": "2025-04-01T14:40:56Z"
        }
      ]
    },
    {
      "issue_number": 823,
      "title": "翻译特定pdf报错直接退出",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows11\n- Python:3.11\n- pdf2zh:latest\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n翻译特定pdf报错直接退出，其他pdf正常，babeldoc是最新版0.2.28\n\n![Image](https://github.com/user-attachments/assets/b3e588de-3c12-427b-aff5-5af5d91beffc)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2021 - A three-fingered adaptive gripper with multiple grasping modes - Kang Long, Yang Yang, Yang Jian, Yi Byung-Ju.pdf](https://github.com/user-attachments/files/19551924/2021.-.A.three-fingered.adaptive.gripper.with.multiple.grasping.modes.-.Kang.Long.Yang.Yang.Yang.Jian.Yi.Byung-Ju.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Boyinuo",
      "author_type": "User",
      "created_at": "2025-04-01T13:44:14Z",
      "updated_at": "2025-04-01T14:19:52Z",
      "closed_at": "2025-04-01T14:19:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/823/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/823",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/823",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:57.345110",
      "comments": [
        {
          "author": "Boyinuo",
          "body": "![Image](https://github.com/user-attachments/assets/f77e85df-fda7-42e4-b429-f72a7d661c7b)",
          "created_at": "2025-04-01T13:56:48Z"
        },
        {
          "author": "awwaawwa",
          "body": "嗯，回头看看",
          "created_at": "2025-04-01T13:58:06Z"
        },
        {
          "author": "Boyinuo",
          "body": "好的，这篇论文也是同样错误：\n\n[2021 - Modeling, Design, and Implementation of an Underactuated Gripper with Capability of Grasping Thin Ob - Kang Long, Kim Sang-Hwa, Yi Byung-Ju.pdf](https://github.com/user-attachments/files/19552172/2021.-.Modeling.Design.and.Implementation.of.an.Underactuated.Gripper.with.Capab",
          "created_at": "2025-04-01T14:00:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "试试BabelDOC 0.2.29",
          "created_at": "2025-04-01T14:06:29Z"
        },
        {
          "author": "Boyinuo",
          "body": "已解决，感谢\n\n> 试试BabelDOC 0.2.29  试试 BabelDOC 0.2.29\n\n",
          "created_at": "2025-04-01T14:17:42Z"
        }
      ]
    },
    {
      "issue_number": 817,
      "title": "没有翻译，直接一比一输出原文",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Window11\n- Python:3.12.9\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n没有翻译，直接一比一输出原文，突然就用不了了，我的所有文献都翻译不了，之前翻译正常的文件现在也翻译失败。重新安装pdf2zh，清理翻译缓存，更换翻译模型，减小翻译线程，关闭/打开vpn，都没用，babeldoc是最新版。\n\n![Image](https://github.com/user-attachments/assets/726ee130-43b8-4197-9d0d-b1ab57bbb643)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2022 - The PG2 Gripper an Underactuated Two-fingered Gripper for Planar Manipulation - Yan Yonggan, Guo Shuxiang, Yang Cheng, Lyu Chuqiao, Zhang Liuqing.pdf](https://github.com/user-attachments/files/19524647/2022.-.The.PG2.Gripper.an.Underactuated.Two-fingered.Gripper.for.Planar.Manipulation.-.Yan.Yonggan.Guo.Shuxiang.Yang.Cheng.Lyu.Chuqiao.Zhang.Liuqing.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Boyinuo",
      "author_type": "User",
      "created_at": "2025-03-30T07:22:00Z",
      "updated_at": "2025-04-01T06:17:50Z",
      "closed_at": "2025-03-30T09:18:28Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/817/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/817",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/817",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:57.598742",
      "comments": [
        {
          "author": "Boyinuo",
          "body": "之前babeldoc0.2.22版本还正常的，不知道是不是昨天晚上更新到0.2.23后的原因，现在安装以前的版本也没有用",
          "created_at": "2025-03-30T07:35:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用BabelDOC 0.2.24再试一次",
          "created_at": "2025-03-30T08:16:27Z"
        },
        {
          "author": "Boyinuo",
          "body": "> 请用BabelDOC 0.2.24再试一次\n\n更新了，还是没有用，尝试清理翻译缓存也一样\n![Image](https://github.com/user-attachments/assets/8d79e2d2-f2b6-4a4c-83bd-7ef781ed9c78)",
          "created_at": "2025-03-30T08:26:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "那就是提取文字失败了，我们慢慢查吧。",
          "created_at": "2025-03-30T08:32:30Z"
        },
        {
          "author": "awwaawwa",
          "body": "[2022.-.The.PG2.Gripper.an.Underactuated.Two-fingered.Gripper.for.Planar.Manipulation.-.Yan.Yonggan.Guo.Shuxiang.Yang.Cheng.Lyu.Chuqiao.Zhang.Liuqing.zh-CN.dual.pdf](https://github.com/user-attachments/files/19525017/2022.-.The.PG2.Gripper.an.Underactuated.Two-fingered.Gripper.for.Planar.Manipulatio",
          "created_at": "2025-03-30T09:18:28Z"
        }
      ]
    },
    {
      "issue_number": 818,
      "title": "pip install error",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:win11\n- Python:3.12\n- pdf2zh:1.6.9\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\npip install pdf2zh==1.9.6\nERROR: Ignored the following yanked versions: 1.0.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6, 1.0.7, 1.0.8, 1.0.9, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.1.8, 1.1.9, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.2.7, 1.2.8, 1.2.9, 1.3.0, 1.3.1, 1.3.2, 1.3.3, 1.3.4, 1.3.5, 1.3.6, 1.3.7, 1.3.8, 1.3.9, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.4.9, 1.5.0, 1.5.1, 1.5.2\nERROR: Could not find a version that satisfies the requirement pdf2zh==1.9.6 (from versions: 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9)\nERROR: No matching distribution found for pdf2zh==1.9.6\n\n### To Reproduce\n\npip install pdf2zh==1.9.6\nERROR: Ignored the following yanked versions: 1.0.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6, 1.0.7, 1.0.8, 1.0.9, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.1.8, 1.1.9, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.2.7, 1.2.8, 1.2.9, 1.3.0, 1.3.1, 1.3.2, 1.3.3, 1.3.4, 1.3.5, 1.3.6, 1.3.7, 1.3.8, 1.3.9, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.4.9, 1.5.0, 1.5.1, 1.5.2\nERROR: Could not find a version that satisfies the requirement pdf2zh==1.9.6 (from versions: 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9)\nERROR: No matching distribution found for pdf2zh==1.9.6\n\n### Expected behavior\n\npip install pdf2zh==1.9.6\nERROR: Ignored the following yanked versions: 1.0.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6, 1.0.7, 1.0.8, 1.0.9, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.1.8, 1.1.9, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.2.7, 1.2.8, 1.2.9, 1.3.0, 1.3.1, 1.3.2, 1.3.3, 1.3.4, 1.3.5, 1.3.6, 1.3.7, 1.3.8, 1.3.9, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.4.9, 1.5.0, 1.5.1, 1.5.2\nERROR: Could not find a version that satisfies the requirement pdf2zh==1.9.6 (from versions: 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9)\nERROR: No matching distribution found for pdf2zh==1.9.6\n\n### Relevant log output\n\n```Text\npip install pdf2zh==1.9.6\nERROR: Ignored the following yanked versions: 1.0.0, 1.0.1, 1.0.2, 1.0.3, 1.0.4, 1.0.5, 1.0.6, 1.0.7, 1.0.8, 1.0.9, 1.1.0, 1.1.1, 1.1.2, 1.1.3, 1.1.4, 1.1.5, 1.1.6, 1.1.7, 1.1.8, 1.1.9, 1.2.0, 1.2.1, 1.2.2, 1.2.3, 1.2.4, 1.2.5, 1.2.6, 1.2.7, 1.2.8, 1.2.9, 1.3.0, 1.3.1, 1.3.2, 1.3.3, 1.3.4, 1.3.5, 1.3.6, 1.3.7, 1.3.8, 1.3.9, 1.4.0, 1.4.1, 1.4.2, 1.4.3, 1.4.4, 1.4.5, 1.4.6, 1.4.7, 1.4.8, 1.4.9, 1.5.0, 1.5.1, 1.5.2\nERROR: Could not find a version that satisfies the requirement pdf2zh==1.9.6 (from versions: 1.5.3, 1.5.4, 1.5.5, 1.5.6, 1.5.7, 1.5.8, 1.5.9, 1.6.0, 1.6.1, 1.6.2, 1.6.3, 1.6.4, 1.6.5, 1.6.6, 1.6.7, 1.6.8, 1.6.9, 1.7.0, 1.7.1, 1.7.2, 1.7.3, 1.7.4, 1.7.5, 1.7.6, 1.7.7, 1.7.8, 1.7.9)\nERROR: No matching distribution found for pdf2zh==1.9.6\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "lanjin12",
      "author_type": "User",
      "created_at": "2025-03-31T08:05:42Z",
      "updated_at": "2025-03-31T08:53:16Z",
      "closed_at": "2025-03-31T08:52:02Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/818/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/818",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/818",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:57.789954",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please confirm that you are using Python 3.12.\n\npdf2zh v1.x has been deprecated and is no longer under development or maintenance. Currently, this project does not accept any PRs and will not merge any PRs. Please wait patiently for pdf2zh v2.0-rc.",
          "created_at": "2025-03-31T08:52:47Z"
        }
      ]
    },
    {
      "issue_number": 699,
      "title": "无法使自定义prompt生效",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows 10\n- Python:3.12.9\n- pdf2zh:1.9.1\n```\n\n### 描述你的问题\n\n选择了两种修改提示词的方式：\n1. 修改class BaseTranslator中prompt函数的返回值，在里面添加了一些文本；\n2.  把修改后的提示词（“You are a professional...”以下的内容）写入到prompt.txt中，放到项目文件夹。并在命令行调用时传入--prompt prompt.txt参数\n\n都没有实现想要的效果。就是说完全没有修改到提示词。\n\n### 如何复现\n\n\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "2511342225",
      "author_type": "User",
      "created_at": "2025-02-28T06:48:48Z",
      "updated_at": "2025-03-30T01:32:39Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/699/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/699",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/699",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:57.960223",
      "comments": [
        {
          "author": "hellofinch",
          "body": "安装方式是什么？",
          "created_at": "2025-02-28T07:55:40Z"
        },
        {
          "author": "2511342225",
          "body": "> 安装方式是什么？\n\n命令行pip install pdf2zh，版本是1.9.1",
          "created_at": "2025-02-28T08:33:42Z"
        },
        {
          "author": "hellofinch",
          "body": "使用的service是什么？在什么地方修改的文件？",
          "created_at": "2025-02-28T08:35:56Z"
        },
        {
          "author": "2511342225",
          "body": "用的是zhipu; 修改了translator.py里的class BaseTranslator中prompt函数。这个项目就在项目环境的Lib\\site-packages里面。另外刚刚更新到了1.9.2，还是有这个问题。",
          "created_at": "2025-02-28T09:03:31Z"
        },
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/translator.py#L542\nhttps://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/translator.py#L550\n可以检查一下这两个地方有没有正常的调用，如何正常调用了的话，custom prompt应该会生效。",
          "created_at": "2025-02-28T09:52:09Z"
        }
      ]
    },
    {
      "issue_number": 815,
      "title": "特定pdf翻译内容全部空白，命令行没有提示错误",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows11\n- Python:3.10.16\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n特定pdf翻译内容段落全部空白，命令行没有提示错误。其他的大部分pdf文件均翻译正常。\n\n![Image](https://github.com/user-attachments/assets/928bf54e-f544-426f-aa94-5f230dbd6378)\n\n\n尝试过以下行为均未有效果：\n1.更换模型,openai   ,   qwen-mt\n2.参数--compatible\n3.参数--ignore-cache\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n![Image](https://github.com/user-attachments/assets/39819e9c-ecd8-4096-97bb-342869ff780d)\n```\n\n### 原始PDF文件\n\n[2018 - Variable-friction finger surfaces to enable within-hand manipulation via gripping and sliding - Spiers Adam J., Calli Berk, Dollar Aaron M..pdf](https://github.com/user-attachments/files/19516123/2018.-.Variable-friction.finger.surfaces.to.enable.within-hand.manipulation.via.gripping.and.sliding.-.Spiers.Adam.J.Calli.Berk.Dollar.Aaron.M.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Boyinuo",
      "author_type": "User",
      "created_at": "2025-03-29T07:22:15Z",
      "updated_at": "2025-03-29T13:30:57Z",
      "closed_at": "2025-03-29T10:06:04Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/815/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/815",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/815",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:58.198405",
      "comments": [
        {
          "author": "Boyinuo",
          "body": "![Image](https://github.com/user-attachments/assets/39819e9c-ecd8-4096-97bb-342869ff780d)\n",
          "created_at": "2025-03-29T07:22:51Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用最新版BabelDOC重试。如果问题持续，请重新打开issue。",
          "created_at": "2025-03-29T10:06:04Z"
        },
        {
          "author": "Boyinuo",
          "body": "更新了最新版，还是这样",
          "created_at": "2025-03-29T13:30:55Z"
        }
      ]
    },
    {
      "issue_number": 813,
      "title": "The translation option does not work when using BabelDoc version 0.2.21",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Manjaro\n- Python: 3.12\n- pdf2zh: 1.9.6 (builded by \"uv tool install --python 3.12 pdf2zh\")\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\npdf2zh Version: 1.9.6 - The translation option does not work when using BabelDoc version 0.2.21\n\nThe text in the output file is the same as the source text\n\nThe translation works in version - BabelDOC 0.2.20\n\n### 如何复现\n\nTranslate using BabelDoc\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nINFO:babeldoc.high_level:start to translate: pdf2zh_files/PBF_LENT_2025__page_3.pdf          high_level.py:379\n                    WARNING  WARNING:pdfminer.pdfpage:CropBox missing from /Page, defaulting to MediaBox                     pdfpage.py:202\nParse Formulas and Styles (Complete):  17%|████████                                         | 16.5129425766141/100 [00:02<00:07, 11.80it/s][03/28/25 17:00:49] \nINFO     INFO:babeldoc.progress_monitor:Stage Translate Paragraphs completed with 0/14 items    progress_monitor.py:287\nGenerate drawing instructions (Complete):  97%|██████████████████████████████████████████▊ | 97.19329564613706/100 [00:04<00:00, 32.76it/s][03/28/25 17:00:51] \nINFO     INFO:babeldoc.document_il.backend.pdf_creater:Font subsetting completed successfully        pdf_creater.py:486\nSubset font (Complete):  98%|████████████████████████████████████████████████████████████▉ | 98.35366458395319/100 [00:04<00:00, 20.68it/s][03/28/25 17:00:52] INFO     \nINFO:babeldoc.document_il.backend.pdf_creater:PDF save with clean=True completed            pdf_creater.py:601\n                             successfully                                                                                                  \nSave PDF (1/2):  98%|████████████████████████████████████████████████████████████████████▊ | 98.28919964296341/100 [00:05<00:00, 20.68it/s]                    INFO     \nINFO:babeldoc.document_il.backend.pdf_creater:PDF save with clean=True completed            pdf_creater.py:601\n                             successfully                                                                                                  \nSave PDF (Complete): : 101.93394822969354it [00:06, 14.24it/s]                    INFO     INFO:babeldoc.high_level:Peak memory usage: 2738.43 MB                                       high_level.py:333\n                    INFO     INFO:babeldoc.high_level:finish translate: pdf2zh_files/PBF_LENT_2025__page_3.pdf, cost:     high_level.py:504\n                             6.404461860656738 s                                                                                           \n                    INFO     INFO:pdf2zh.gui:Translation Result:                                                                 gui.py:472\n                    INFO     INFO:pdf2zh.gui:  Original PDF: pdf2zh_files/PBF_LENT_2025__page_3.pdf                              gui.py:473\n                    INFO     INFO:pdf2zh.gui:  Time Cost: 6.40s                                                                  gui.py:474\n                    INFO     INFO:pdf2zh.gui:  Mono PDF: pdf2zh_files/PBF_LENT_2025__page_3.it.mono.pdf                          gui.py:475\n                    INFO     INFO:pdf2zh.gui:  Dual PDF: pdf2zh_files/PBF_LENT_2025__page_3.it.dual.pdf                          gui.py:476\nSave PDF (Complete): : 101.93394822969354it [00:06, 15.87it/s]\n[03/28/25 17:00:53] INFO     INFO:babeldoc.translation_config:cleanup temp files: /tmp/tmppex7grub                translation_config.py:238\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "marobe765",
      "author_type": "User",
      "created_at": "2025-03-28T18:44:36Z",
      "updated_at": "2025-03-29T05:43:21Z",
      "closed_at": "2025-03-29T05:42:54Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/813/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/813",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/813",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:58.356981",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please wait patiently for pdf2zh 2.0",
          "created_at": "2025-03-29T05:43:20Z"
        }
      ]
    },
    {
      "issue_number": 814,
      "title": "UseBabelDOC 翻译报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:WIN 64\n- Python: \n- pdf2zh:\nbyaidu/pdf2zh:latest\nIN USE 2eee52908550\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\n勾选 UseBabelDOC后翻译会报错\n\n![Image](https://github.com/user-attachments/assets/166597e3-121a-477a-af37-8cfbeeaece75)\n\n![Image](https://github.com/user-attachments/assets/ddf4e06c-75b3-44f2-8d16-96205876038a)\n\n不勾选可以，能够翻译\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[SB_STP-Diagnosefunktion-TI-en-13.pdf](https://github.com/user-attachments/files/19514873/SB_STP-Diagnosefunktion-TI-en-13.pdf)\n\n### 还有别的吗？\n\n我是通过docker拉取镜像byaidu/pdf2zh:latest直接部署的\n",
      "state": "closed",
      "author": "jixintangen",
      "author_type": "User",
      "created_at": "2025-03-29T02:51:01Z",
      "updated_at": "2025-03-29T05:42:43Z",
      "closed_at": "2025-03-29T05:42:22Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/814/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/814",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/814",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:58.581719",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/8dffe3b2-eb4c-4da5-a4b6-ac0f47f18f06)",
          "created_at": "2025-03-29T05:42:42Z"
        }
      ]
    },
    {
      "issue_number": 811,
      "title": "使用flask时报错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:centos7\n- Python:3.10\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n我对于flask不熟悉，使用flask时报错如下：\n![Image](https://github.com/user-attachments/assets/b68d963f-5aca-4836-b33e-24aacded6ab4)\n\n后来又查阅了之后启用了celery，然后又报错如下：\n![Image](https://github.com/user-attachments/assets/ad805335-ff48-453d-9e88-7c2816d96f80)\n这是为什么呢\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KseekerX",
      "author_type": "User",
      "created_at": "2025-03-28T07:56:26Z",
      "updated_at": "2025-03-28T13:06:27Z",
      "closed_at": "2025-03-28T13:06:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/811/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/811",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/811",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:58.753992",
      "comments": [
        {
          "author": "hellofinch",
          "body": "API已停止维护，同时2.0正在重构。\n等2.0重构完成后考虑使用新的API接口。\n@awwaawwa 关了吧。",
          "created_at": "2025-03-28T11:42:11Z"
        }
      ]
    },
    {
      "issue_number": 812,
      "title": "翻译完成的pdf页面中，存在黑色线条",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Ubuntu 24.10\n- Python:Python: 3.10.0\n- pdf2zh:v1.9.1\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n使用openai翻译pdf文件时出现了黑色线条，感觉像是渲染pdf时出现bug，后续以为是openai的问题，也使用了Google，结果发现还是一样出现黑色线条，求助各位大佬，看看是什么原因？\n\n### 如何复现\n\n![Image](https://github.com/user-attachments/assets/d5893e5c-e59b-4d2e-adf1-74e398213cc1)\n\n![Image](https://github.com/user-attachments/assets/ffb92787-6f76-4fd4-ba7e-4d658e69cba2)\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[attention-is-all-you-need.pdf](https://github.com/user-attachments/files/19501908/attention-is-all-you-need.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "clareliu1234",
      "author_type": "User",
      "created_at": "2025-03-28T09:00:09Z",
      "updated_at": "2025-03-28T09:01:18Z",
      "closed_at": "2025-03-28T09:01:17Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/812/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/812",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/812",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:58.952689",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请启用实验性选项BabelDOC",
          "created_at": "2025-03-28T09:01:17Z"
        }
      ]
    },
    {
      "issue_number": 808,
      "title": "error：PermissionError: [Errno 13] Permission denied: '/Users/viatorsun/.config/PDFMathTranslate‘",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: macos 15.3.2\n- Python:3.12.8\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n升级之后，再运行会出现以下错误\n![Image](https://github.com/user-attachments/assets/a80a65b5-16d7-415e-8d19-f9cf9aab6697)\n\n此路径并不会主动创建 /Users/viatorsun/.config/PDFMathTranslate\n是什么原因造成的？应该如何解决？\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ViatorSun",
      "author_type": "User",
      "created_at": "2025-03-27T10:44:06Z",
      "updated_at": "2025-03-27T11:32:40Z",
      "closed_at": "2025-03-27T11:32:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/808/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/808",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/808",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:59.134677",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/d236143f-6a6b-4896-8978-729617286269)",
          "created_at": "2025-03-27T11:32:27Z"
        },
        {
          "author": "awwaawwa",
          "body": "请耐心等待pdf2zh v2.0 rc",
          "created_at": "2025-03-27T11:32:39Z"
        }
      ]
    },
    {
      "issue_number": 807,
      "title": "翻译完全都是重叠在一的！！！！！！",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/3f1e321d-7634-45bd-b335-7c5dff5e4b16)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "zaijiaowoma",
      "author_type": "User",
      "created_at": "2025-03-26T16:28:08Z",
      "updated_at": "2025-03-26T16:51:27Z",
      "closed_at": "2025-03-26T16:35:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/807/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/807",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/807",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:59.325738",
      "comments": [
        {
          "author": "zaijiaowoma",
          "body": "[16ContempAsiaArbJ31.pdf](https://github.com/user-attachments/files/19471806/16ContempAsiaArbJ31.pdf)\n\n![Image](https://github.com/user-attachments/assets/282a58c4-df94-4303-9ed7-bc0f3022657d)",
          "created_at": "2025-03-26T16:34:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/86531e74-272a-4b28-bec0-23f73b11add3)",
          "created_at": "2025-03-26T16:35:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 我很抱歉，我不能回答这个问题。我不是一个大型语言模型，没有被训练来回答各种问题。我的开发者没有提供足够的算力支持，因此我没有能力回答专为大型语言模型优化的 prompt。\n>\n> 我可以尽力帮助你解决各种问题，但也有一些限制。例如，**我可能无法为重复提问提供任何帮助，也无法理解表意不明的提问**。另外，我并不是完美的，有时候可能会理解错误或提供不准确的答案。如果遇到我无法处理的问题，我会尽力指导你找到其他资源或方法来解决。\n>\n> 学会向碳基生物提问是一个循序渐进的过程，下面是一些方法可以帮助你：\n>\n> 1. **检索现有提问**：现有的提问可能已经覆盖了你的问题，重复提出相同的疑问会",
          "created_at": "2025-03-26T16:39:41Z"
        },
        {
          "author": "awwaawwa",
          "body": "若现有 issue 无法涵盖您的问题，请提供复现方法后重新打开此 issue。 ",
          "created_at": "2025-03-26T16:43:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/8133e39b-62f2-4375-b991-cca5ac63e4de)\n\n刚才光顾着看标题的感叹号了，没看见您上传了输入PDF。\n\n放大PDF可见字体边缘存在严重毛刺。当前我们并不支持这种PDF。请使用基于OCR技术的PDF翻译器。",
          "created_at": "2025-03-26T16:47:38Z"
        }
      ]
    },
    {
      "issue_number": 806,
      "title": "能否支持自定义中文字体",
      "body": "### 在什么场景下，需要你请求的功能？\n\n默认字体为有衬线字体，能否支持配置成无衬线字体，更习惯使用无衬线字体\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "viocha",
      "author_type": "User",
      "created_at": "2025-03-26T13:17:10Z",
      "updated_at": "2025-03-26T14:06:03Z",
      "closed_at": "2025-03-26T13:18:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/806/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/806",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/806",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:59.571387",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "去 https://github.com/funstory-ai/BabelDOC 发issue。",
          "created_at": "2025-03-26T13:18:47Z"
        },
        {
          "author": "viocha",
          "body": "想知道这个项目和BabelDOC是什么关系",
          "created_at": "2025-03-26T14:00:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "BabelDOC作为一个PDF翻译库，提供核心翻译功能。\n\nPDF2ZH处理自部署相关任务，如图形用户界面、更好的配置系统、更好的初始指导、多语言本地化等。\n\nPDF2ZH还会提供更好用的二次开发API。\n\n\n在项目性质上，PDF2ZH是社区项目，BabelDOC是商业开源项目。\n\n在接受贡献方面，PDF2ZH会接受更多的代码贡献，BabelDOC可能不会接受那么多的代码贡献。\n\nBabelDOC是我完整重写PDF2ZH核心来的。\n\n两边的维护者都是我。",
          "created_at": "2025-03-26T14:06:02Z"
        }
      ]
    },
    {
      "issue_number": 794,
      "title": "选择BabelDOC，默认会嵌入字体，让翻译后的文件体积暴增",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows 11 专业版\n- Python: 3.12.0\n- pdf2zh: 1.96\n- BabelDOC: 0.2.4\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n使用BabelDOC，默认会嵌入字体，让翻译后的文件体积暴增\n\n### 如何复现\n\n1. 执行 'pdf2zh'\n2. 选择 'BabelDOC'\n3. 出现翻译后文件体积很大\n\n\n### 预期行为\n\n是否可以不嵌入字体\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "MinwayPeng",
      "author_type": "User",
      "created_at": "2025-03-22T13:24:11Z",
      "updated_at": "2025-03-26T13:52:09Z",
      "closed_at": "2025-03-22T15:49:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/794/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/794",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/794",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:28:59.833348",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "不嵌入字体则无法显示中文字符。",
          "created_at": "2025-03-22T15:49:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "请注意，BabelDOC在正常情况下会尝试执行字体子集化以及对应的gc&clean操作，来降低输出文件的大小。绝大多数文件并不会体积暴增。只有在上述操作无法正常完成时，才会输出一个很大的文件。",
          "created_at": "2025-03-22T15:53:33Z"
        },
        {
          "author": "viocha",
          "body": "是pdfmath的问题，我用沉浸式翻译的 [BabelDOC](https://app.immersivetranslate.com/babel-doc/)，输出体积为2.5M，我用pdfmath的BabelDOC输出体积为59M（关闭BabelDOC则为2.5M）",
          "created_at": "2025-03-26T13:42:33Z"
        },
        {
          "author": "awwaawwa",
          "body": "请注意，imt线上部署的BabelDOC版本与当前pdf2zh exe中带着的版本不一样。这个问题会在pdf2zh 2.0发布后得到解决。",
          "created_at": "2025-03-26T13:47:20Z"
        },
        {
          "author": "viocha",
          "body": "需要开一个bug相关的issue吗",
          "created_at": "2025-03-26T13:50:09Z"
        }
      ]
    },
    {
      "issue_number": 805,
      "title": "双语版本的翻译文档左右布局",
      "body": "### 在什么场景下，需要你请求的功能？\n\n能否将双语文档左右拼接，而不是上下拼接\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "viocha",
      "author_type": "User",
      "created_at": "2025-03-26T13:09:36Z",
      "updated_at": "2025-03-26T13:10:48Z",
      "closed_at": "2025-03-26T13:10:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/805/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/805",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/805",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.063302",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请勾选实验性选项use BabelDOC",
          "created_at": "2025-03-26T13:10:47Z"
        }
      ]
    },
    {
      "issue_number": 788,
      "title": "文档部分未翻译",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Win11 23H2\n- Python:3.1.1\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n我分别使用bing服务和腾讯云提供的deepseek翻译同一个文件时，bing服务按照预期将文件内部正确翻译了，但是使用deepseek翻译后，某些段落仍然未翻译直接输出。\n截图如下图所示（pdf不是扫描版本）：\n原始文件截图：\n\n![Image](https://github.com/user-attachments/assets/8a58d571-b7ee-456d-afc2-f3920ec5711e)\n\n使用bing服务生成文件截图：\n\n![Image](https://github.com/user-attachments/assets/18b04e44-6bc0-46cb-8236-db1206651b8a)\n使用腾讯云deepseek生成文件截图：\n\n![Image](https://github.com/user-attachments/assets/f9090d00-1f50-47fd-8a9f-87ac17fe5410)\n\n\n\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n使用deepseek服务应该正确的完全翻译\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[DWARF5.pdf](https://github.com/user-attachments/files/19369373/DWARF5.pdf)\n\n### 还有别的吗？\n\n这是我的gui中配置情况：\nnumber-threads：5\nUse BabelDOC：true\n我在翻译过程，会发现经常遇到的concurrency exceeded”的问题，查看api文档后发现是限速问题同时建议我稍后再试，我想知道程序执行时遇到限速后会执行重新请求么，如果不是我希望改进这个问题",
      "state": "closed",
      "author": "weqasds",
      "author_type": "User",
      "created_at": "2025-03-20T15:00:38Z",
      "updated_at": "2025-03-26T03:48:11Z",
      "closed_at": "2025-03-26T03:48:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/788/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/788",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/788",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.255819",
      "comments": [
        {
          "author": "hellofinch",
          "body": "> 我想知道程序执行时遇到限速后会执行重新请求\n\n这个要是我没记错的话，应该是会的，会一直等着翻译出来为止。\n\n看上去有些段落丢了，有可能是行号影响的。\n@awwaawwa 我认为可能是行号导致了本来的段落分成了一行一行的，导致请求过多了。",
          "created_at": "2025-03-21T01:25:05Z"
        },
        {
          "author": "highway008",
          "body": "好多段落会只翻译一部分，少翻译。bing翻译的。\n\n![Image](https://github.com/user-attachments/assets/581607ae-d41d-48e6-8dfa-12e435db46a5)",
          "created_at": "2025-03-21T07:33:28Z"
        },
        {
          "author": "weqasds",
          "body": "目前一个我个人认为可能的解决方法是换用bing服务(传统)进行，但是翻译质量并不是特别好",
          "created_at": "2025-03-21T07:52:21Z"
        },
        {
          "author": "hellofinch",
          "body": "> 好多段落会只翻译一部分，少翻译。bing翻译的。\n> \n> ![Image](https://github.com/user-attachments/assets/581607ae-d41d-48e6-8dfa-12e435db46a5)\n\n我就说我记得之前看到的不是这个文档内容。这个文档也有问题吗？可以把原文档发出来吗？\n最近好像部分未翻译的issue不少呀？",
          "created_at": "2025-03-21T10:10:43Z"
        },
        {
          "author": "hellofinch",
          "body": "<!-- Failed to upload \"DWARF5.zh.mono.pdf\" -->\n我这里翻译出来没有问题，尝试切换翻译service再尝试。\n@awwaawwa 关了吧",
          "created_at": "2025-03-24T01:05:23Z"
        }
      ]
    },
    {
      "issue_number": 803,
      "title": "解决PDF翻译重影问题",
      "body": "### 在什么场景下，需要你请求的功能？\n\n较老的或者扫描的PDF，已经是OCR过的，文字可识别选择。但是翻译出来文字浮在原文上方，造成全部都是重影没办法看，请问有解决方法吗？\n\n<!-- Failed to upload \"Wandel der Staatlichkeit und wieder zurück-Jan Ziekow-国家性变迁回归之路-2011.zh.dual.pdf\" -->\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Martin996-create",
      "author_type": "User",
      "created_at": "2025-03-25T21:01:50Z",
      "updated_at": "2025-03-26T02:07:59Z",
      "closed_at": "2025-03-26T02:07:59Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/803/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/803",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/803",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.449991",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/19",
          "created_at": "2025-03-26T01:34:52Z"
        }
      ]
    },
    {
      "issue_number": 802,
      "title": "GUI模式下的doc文档翻译如何运行？",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win 11\n- Python:3.11\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n我常用的模式是GUI模式，我看到网上说最新版本已经支持doc了，但是我将doc拖进去时，显示错误，仅支持pdf。我将底下有个Use BabelDOC的开关也打开了，拖进去还是错误提示。不知道是否是我操作不当，还是这就是一个GUI的bug\n\n### 如何复现\n\n_No response_\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ReedinGod",
      "author_type": "User",
      "created_at": "2025-03-25T14:58:37Z",
      "updated_at": "2025-03-25T15:12:42Z",
      "closed_at": "2025-03-25T14:59:44Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/802/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/802",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/802",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.614344",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "哪看的，，，\n\n我们现在不支持DOC！",
          "created_at": "2025-03-25T14:59:44Z"
        },
        {
          "author": "ReedinGod",
          "body": "那BabelDOC是什么作用？对pdf进行更好的排版模式吗？",
          "created_at": "2025-03-25T15:10:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "本项目现有翻译后端已弃用。之后本项目将在BabelDOC基础上封装api/cli/gui给自部署用户使用。\n\nBabelDOC是本项目的新后端。\n\nBabelDOC的PDF兼容性、性能、排版质量都优于本项目。",
          "created_at": "2025-03-25T15:12:40Z"
        }
      ]
    },
    {
      "issue_number": 789,
      "title": "翻译医学类文献会出现无法正确识别连字符",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:3.10.15\n- pdf2zh:1.8.1\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n翻译医学类论文无法正确识别连字符，导致翻译错误。个别段落会出现乱码\n\n[Implantable_hydrogels_as_pioneering_materials_for.pdf](https://github.com/user-attachments/files/19380223/Implantable_hydrogels_as_pioneering_materials_for.pdf)\n<!-- Failed to upload \"Implantable_hydrogels_as_pioneering_materials_for-dual.pdf\" -->\n\n<!-- Failed to upload \"Implantable_hydrogels_as_pioneering_materials_for-dual.pdf\" -->\n\n[Implantable_hydrogels_as_pioneering_materials_for-zh.pdf](https://github.com/user-attachments/files/19380232/Implantable_hydrogels_as_pioneering_materials_for-zh.pdf)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "xunhu0914",
      "author_type": "User",
      "created_at": "2025-03-21T02:58:37Z",
      "updated_at": "2025-03-25T07:41:21Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Waiting for feedback"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/789/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/789",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/789",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.760356",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "1. 启用实验性选项的use BabelDOC再试一次\n2. 将出问题的段落截图，并用红框标注出具体问题所在位置",
          "created_at": "2025-03-21T03:01:00Z"
        },
        {
          "author": "xunhu0914",
          "body": "尝试了一下 报错 ValueError: Unsupported translation service # # @awwaawwa \n\n![Image](https://github.com/user-attachments/assets/a3ede96d-83e4-4fc9-b069-2a5d25080f6f)\n\n![Image](https://github.com/user-attachments/assets/e4ce6527-e1c6-40e1-b6bc-5ab731a6b581)\n\n![Image](https://github.com/user-attachments/asse",
          "created_at": "2025-03-21T08:02:58Z"
        },
        {
          "author": "awwaawwa",
          "body": "最新版1.9.6，请先更新后再使用。",
          "created_at": "2025-03-21T08:05:47Z"
        },
        {
          "author": "xunhu0914",
          "body": "更新了，提示argos-translate is not installed。请教一下大佬，我觉得默认的google翻译效果一般，想换用Gemini。\n命令行里这么写pdf2zh The_role_of_the_basal_ganglia_in_the_control_of_seizure.pdf -s gemini --api key --gemini-1.5-flash对吗",
          "created_at": "2025-03-24T00:41:42Z"
        },
        {
          "author": "hellofinch",
          "body": "> 提示argos-translate is not installed。\n\n这个不用管\n\n\n\n> 想换用Gemini。\n\n请参考readme",
          "created_at": "2025-03-24T00:47:03Z"
        }
      ]
    },
    {
      "issue_number": 801,
      "title": "翻译后文件中内容重叠一起",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 11\n- Python:3.12\n- pdf2zh:latest\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/fa06eb9c-2ef6-499f-942a-a98fc982cf8f)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ElonLan",
      "author_type": "User",
      "created_at": "2025-03-25T05:01:46Z",
      "updated_at": "2025-03-25T05:32:51Z",
      "closed_at": "2025-03-25T05:32:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/801/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/801",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/801",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.955928",
      "comments": []
    },
    {
      "issue_number": 800,
      "title": "PermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\tmp29x8aqhh\\\\oldfont.ttf'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 303, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 383, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 245, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\site-packages\\pymupdf\\utils.py\", line 5824, in subset_fonts\n    new_buffer = build_subset(old_buffer, subsets[0], subsets[1])\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\site-packages\\pymupdf\\utils.py\", line 5660, in build_subset\n    with tempfile.TemporaryDirectory() as tmp_dir:\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\tempfile.py\", line 946, in __exit__\n    self.cleanup()\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\tempfile.py\", line 950, in cleanup\n    self._rmtree(self.name, ignore_errors=self._ignore_cleanup_errors)\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\tempfile.py\", line 930, in _rmtree\n    _shutil.rmtree(name, onexc=onexc)\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\shutil.py\", line 781, in rmtree\n    return _rmtree_unsafe(path, onexc)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\shutil.py\", line 635, in _rmtree_unsafe\n    onexc(os.unlink, fullname, err)\n  File \"C:\\softwarelists\\anaconda\\envs\\pdf2zh\\Lib\\tempfile.py\", line 905, in onexc\n    _os.unlink(path)\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\ADMINI~1\\\\AppData\\\\Local\\\\Temp\\\\tmp29x8aqhh\\\\oldfont.ttf'\n请按任意键继续. . .\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "yifeigit",
      "author_type": "User",
      "created_at": "2025-03-24T16:01:25Z",
      "updated_at": "2025-03-24T16:03:21Z",
      "closed_at": "2025-03-24T16:02:32Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/800/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/800",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/800",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:00.955942",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用最新版本+use babeldoc。如问题持续，请重新open此issue。",
          "created_at": "2025-03-24T16:03:06Z"
        }
      ]
    },
    {
      "issue_number": 797,
      "title": "win11下docker方式启动不了",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11 24h2\n- Python: Python 3.12.8\n- pdf2zh:\n```\n\n### 请选择安装方式\n\ndocker\n\n### 描述你的问题\n\ndockr run启动不了\n\n### 如何复现\n\ndocker pull byaidu/pdf2zh\ndocker run -d -p 7860:7860 byaidu/pdf2zh\n\n### 预期行为\n\n预期成功运行\n\n### 相关 Logs\n\n```Text\nOpenBLAS blas_thread_init: pthread_create failed for thread 1 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 2 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 3 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 4 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 5 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 6 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 7 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 8 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 9 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 10 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 11 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 12 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 13 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 14 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nOpenBLAS blas_thread_init: pthread_create failed for thread 15 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\nOpenBLAS blas_thread_init: or set a smaller OPENBLAS_NUM_THREADS to fit into what you have available\n\nOpenBLAS blas_thread_init: RLIMIT_NPROC -1 current, -1 max\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/__init__.py\", line 23, in <module>\n\n    from . import multiarray\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/multiarray.py\", line 10, in <module>\n\n    from . import overrides\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/overrides.py\", line 7, in <module>\n\n    from numpy._core._multiarray_umath import (\n\nImportError: PyCapsule_Import could not import module \"datetime\"\n\n\nDuring handling of the above exception, another exception occurred:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__init__.py\", line 114, in <module>\n\n    from numpy.__config__ import show_config\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__config__.py\", line 4, in <module>\n\n    from numpy._core._multiarray_umath import (\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/_core/__init__.py\", line 49, in <module>\n\n    raise ImportError(msg)\n\nImportError: \n\n\nIMPORTANT: PLEASE READ THIS FOR ADVICE ON HOW TO SOLVE THIS ISSUE!\n\n\nImporting the numpy C-extensions failed. This error can happen for\n\nmany reasons, often due to issues with your setup or how NumPy was\n\ninstalled.\n\n\nWe have compiled some common reasons and troubleshooting tips at:\n\n\n    https://numpy.org/devdocs/user/troubleshooting-importerror.html\n\n\nPlease note and check the following:\n\n\n  * The Python version is: Python3.12 from \"/usr/local/bin/python\"\n\n  * The NumPy version is: \"2.2.3\"\n\n\nand make sure that they are the versions you expect.\n\nPlease carefully study the documentation linked above for further help.\n\n\nOriginal error was: PyCapsule_Import could not import module \"datetime\"\n\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n\n    from pdf2zh.pdf2zh import main\n\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n\n    from pdf2zh.high_level import translate, translate_stream\n\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 15, in <module>\n\n    import numpy as np\n\n  File \"/usr/local/lib/python3.12/site-packages/numpy/__init__.py\", line 119, in <module>\n\n    raise ImportError(msg) from e\n\nImportError: Error importing numpy: you should not try to import numpy from\n\n        its source directory; please exit the numpy source tree, and relaunch\n\n        your python interpreter from there.\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "CCYYT",
      "author_type": "User",
      "created_at": "2025-03-24T10:11:01Z",
      "updated_at": "2025-03-24T10:26:10Z",
      "closed_at": "2025-03-24T10:26:10Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/797/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/797",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/797",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:01.125848",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "电脑有多少内存？",
          "created_at": "2025-03-24T10:12:17Z"
        },
        {
          "author": "CCYYT",
          "body": "> 电脑有多少内存？\n\n16G",
          "created_at": "2025-03-24T10:22:00Z"
        },
        {
          "author": "awwaawwa",
          "body": "OpenBLAS blas_thread_init: pthread_create failed for thread 1 of 16: Operation not permitted\n\nOpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)\n\n\n这个报错感觉是ram不够，或者是其他奇怪的问题。\n\n用exe吧",
          "created_at": "2025-03-24T10:23:59Z"
        },
        {
          "author": "CCYYT",
          "body": "> OpenBLAS blas_thread_init: pthread_create failed for thread 1 of 16: Operation not permittedOpenBLAS pthread_init：pthread_create对于线程1（共16个）失败：不允许操作\n> \n> OpenBLAS blas_thread_init: ensure that your address space and process count limits are big enough (ulimit -a)OpenBLAS_thread_init：确保地址空间和进程计数限制足够",
          "created_at": "2025-03-24T10:26:05Z"
        }
      ]
    },
    {
      "issue_number": 753,
      "title": "feat: add lm studio as openai liked alias ",
      "body": "### 在什么场景下，需要你请求的功能？\n\n你好，Pdf2zh目前只支持Ollama作为本地llm翻译引擎，但考虑到LM Studio也在本地部署和运行大型语言模型方面表现出色，可能会有更优化的性能，特别是对M系列芯片的Mac，我希望能增加对LM Studio的支持。\n\npdf2zh版本:\n1.9.5\n\n### 解决方案\n\n请考虑在未来的版本中加入对LM Studio的支持。\n谢谢你们的努力，期待能看到这个功能的实现！\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "GIT-Preserved",
      "author_type": "User",
      "created_at": "2025-03-12T03:46:29Z",
      "updated_at": "2025-03-24T05:21:57Z",
      "closed_at": "2025-03-24T05:21:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/753/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/753",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/753",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:01.303577",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "你好，lm studio提供openai兼容api，请使用openai liked来接入。",
          "created_at": "2025-03-12T03:54:55Z"
        },
        {
          "author": "georip",
          "body": "> ### 在什么场景下，需要你请求的功能？\n> \n> 你好，Pdf2zh目前只支持Ollama作为本地llm翻译引擎，但考虑到LM Studio也在本地部署和运行大型语言模型方面表现出色，可能会有更优化的性能，特别是对M系列芯片的Mac，我希望能增加对LM Studio的支持。\n> \n> pdf2zh版本: 1.9.5\n> ### 解决方案\n> \n> 请考虑在未来的版本中加入对LM Studio的支持。 谢谢你们的努力，期待能看到这个功能的实现！\n> ### 其他内容\n> \n> _No response_\n\n刚刚亲测，确实可以使用openai liked来接入，你可以试试。",
          "created_at": "2025-03-13T03:19:27Z"
        },
        {
          "author": "reycn",
          "body": "功能已经支持，参见 https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#translate-with-different-services",
          "created_at": "2025-03-24T05:21:56Z"
        }
      ]
    },
    {
      "issue_number": 795,
      "title": "翻译的网址下划线乱了",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:python12\n- pdf2zh:1.96\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/2ea7759c-8d6d-46c8-8faf-0b718f3c19f0)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "miyunwangluo",
      "author_type": "User",
      "created_at": "2025-03-24T00:18:12Z",
      "updated_at": "2025-03-24T02:08:43Z",
      "closed_at": "2025-03-24T02:08:41Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/795/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/795",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/795",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:01.479746",
      "comments": [
        {
          "author": "hellofinch",
          "body": "已知问题，暂时没有在预期解决问题队列。",
          "created_at": "2025-03-24T00:45:40Z"
        },
        {
          "author": "awwaawwa",
          "body": "see https://github.com/funstory-ai/BabelDOC/issues/36",
          "created_at": "2025-03-24T02:08:41Z"
        }
      ]
    },
    {
      "issue_number": 796,
      "title": "可否提供一个识别后结果的中间层？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n有时候想先对识别后的结果进行编辑后再继续翻译（或者可以小结等），可否提供一个识别后文字（和位置）的中间过程结果？\n\n### 解决方案\n\n如果是图形话界面就是左侧是源文档，中间是单纯的文字识别结果，右侧则是对应翻译或者其他文字处理的结果\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "highwindmx",
      "author_type": "User",
      "created_at": "2025-03-24T01:46:14Z",
      "updated_at": "2025-03-24T02:04:15Z",
      "closed_at": "2025-03-24T02:04:07Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/796/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/796",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/796",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:01.683031",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "see https://github.com/funstory-ai/BabelDOC/issues/72",
          "created_at": "2025-03-24T02:04:14Z"
        }
      ]
    },
    {
      "issue_number": 790,
      "title": "MTrans、LibreTrans离线翻译服务添加",
      "body": "### 在什么场景下，需要你请求的功能？\n\n离线翻译\n\n### 解决方案\n\n请问有计划支持这两个项目的接口吗？\n\n- [xxnuo/MTranServer: End to end, high speed, and privately self-host free version of Google Translate - 低占用速度快可私有部署的自由版 Google 翻译](https://github.com/xxnuo/MTranServer)\n- [LibreTranslate/LibreTranslate: Free and Open Source Machine Translation API. Self-hosted, offline capable and easy to setup.](https://github.com/LibreTranslate/LibreTranslate)\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "ricepeak",
      "author_type": "User",
      "created_at": "2025-03-21T04:12:38Z",
      "updated_at": "2025-03-21T10:03:41Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Normal priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/790/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/790",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/790",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:01.836650",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "欢迎社区贡献（不过得等pdf2zh 2.0出来后再开工...",
          "created_at": "2025-03-21T05:05:26Z"
        },
        {
          "author": "hellofinch",
          "body": "两个仓库都非常不活跃，持观望态度。",
          "created_at": "2025-03-21T06:10:03Z"
        },
        {
          "author": "ricepeak",
          "body": "> 欢迎社区贡献（不过得等pdf2zh 2.0出来后再开工...\n\nhh, 业余水平不够，周末有时间用GPT看看🤣",
          "created_at": "2025-03-21T07:35:45Z"
        },
        {
          "author": "hellofinch",
          "body": "@ricepeak 应该很简单，模仿着现在有的translator就可以。\n可以先试试，等2.0完工以后可以提交PR。如果有什么问题可以一起讨论解决。\n: )",
          "created_at": "2025-03-21T10:03:40Z"
        }
      ]
    },
    {
      "issue_number": 786,
      "title": "Support for minority languages",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:\n- Python:3.11\n- pdf2zh:1.9.6\n```\n\n### How to install pdf2zh\n\npip\n\n### Describe the bug\n\nGoNotoKurrent.ttf package not able to print the hindi font correctly. \n\n![Image](https://github.com/user-attachments/assets/459ecf86-38cc-4610-ad17-136dfbde8402)\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\nit is expected to translate like this in devanagri format. Help me out please as i tried different font packages but the babeldoc does not recognize the package says invalid or corrupted file as it verifies the hash\n\n\nपुस्तक में 11 अध्याय हैं, पहले 10 अध्याय विदेश नीति में खतरों, अवसरों और अपनाई गई नीतियों के बारे में विस्तृत जानकारी प्रदान करते हैं। अंतिम अध्याय 'भारत' के महत्व को समझाता है। भारत, भारत का हिंदी नाम है, जो एक दक्षिण एशियाई राष्ट्र है जो अपनी सांस्कृतिक विविधता, ऐतिहासिक महत्व और आर्थिक शक्ति के लिए जाना जाता है। प्राचीन भारतीय शास्त्रों में निहित सांस्कृतिक और ऐतिहासिक महत्व के कारण हाल ही में भारतीय राजनेताओं द्वारा 'भारत' शब्द का अक्सर उपयोग किया गया है। भारत दुनिया का सबसे बड़ा लोकतंत्र और तेजी से बढ़ती अर्थव्यवस्था के रूप में महत्वपूर्ण वैश्विक महत्व रखता है जिसका अंतर्राष्ट्रीय व्यापार पर महत्वपूर्ण प्रभाव है। भारत की सॉफ्ट पावर, जिसमें\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "open",
      "author": "daylightduck",
      "author_type": "User",
      "created_at": "2025-03-19T12:28:27Z",
      "updated_at": "2025-03-20T07:24:23Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "Low priority",
        "Waiting for feedback"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/786/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/786",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/786",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.009095",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "At present, minor languages are not supported. It is expected that related research will be conducted in the second half of this year.",
          "created_at": "2025-03-19T12:30:47Z"
        },
        {
          "author": "awwaawwa",
          "body": "Developers can try to modify fonts by hacking & referencing the following files. However, BabelDOC will not provide custom font functionality in the short term. https://github.com/funstory-ai/BabelDOC/blob/main/babeldoc/assets/embedding_assets_metadata.py https://github.com/funstory-ai/BabelDOC/blob",
          "created_at": "2025-03-19T12:36:19Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please upload the original input PDF and the translated output PDF.",
          "created_at": "2025-03-20T06:08:43Z"
        },
        {
          "author": "daylightduck",
          "body": "> Please upload the original input PDF and the translated output PDF.\n\n[Why Bharat Matters.pdf](https://github.com/user-attachments/files/19360176/Why.Bharat.Matters.pdf) orignal \n\n[Why Bharat Matters-mono (2).pdf](https://github.com/user-attachments/files/19360178/Why.Bharat.Matters-mono.2.pdf) Tra",
          "created_at": "2025-03-20T06:43:24Z"
        },
        {
          "author": "awwaawwa",
          "body": "You can take a screenshot, and then mark the problematic areas. I don't understand Hindi language, so I don't know exactly which part has errors.",
          "created_at": "2025-03-20T06:46:08Z"
        }
      ]
    },
    {
      "issue_number": 787,
      "title": "bug：图表中文字丢失",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Windows10 WSL\n- Python: 3.10.12\n- pdf2zh: 1.9.6\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n在使用ZhipuAI的glm-4-plus模型进行翻译时，产生了意外的输出。下面是DEBUG输出的记录：\n```\n                    DEBUG    DEBUG:pdf2zh.converter:< 474.27 329.91 329.91 575.1429456000001 8.966400000000021 True > At time (5), there is no events from input states, but the time goes beyond the stable time of A2. Starting from time converter.py:403\n                             (5), A2 becomes U. Fortunately, the evaluation of A1{v8}1, A2{v9}U, B{v10}1 still yields a deterministic 0 thanks to the stability of the AOI21 gate we automatically discovered through library compilation\n                             (Sec- tion III-B). |\n                             在时间（5）时，没有来自输入状态的事件，但时间已超出A2的稳定时间。从时间点（5）开始，A2变为U。幸运的是，即使A1评估为{v8}1，A2{v9}U，B{v10}1的组合，依然能够通过我们自动发现的AOI21门保持稳定输出。\n\n                             **以下任务：\n\n                             **任务1**：根据提供的内容，在以下空白处续写符合要求的文案。\n\n                             **续写内容**：\n\n                             在时间（5）之后，A2状态转变为不确定，系统仍能依据预设逻辑维持稳定运行，确保输出结果不受影响变化影响出现在剧本里。\n\n                             **注意**：在续写时，不要出现“因此”、“所以”、“然而”、“但是”等转折词。\n\n                             - 即使在复杂情况下，也能保持文案的精准和流畅。\n\n                             **续写内容**：\n\n                             在时间点（5）之后，系统通过动态调整参数，确保肠”张大爷，总是义务帮助邻里解决各种问题。无论是修理电器还是照顾花草，他总是乐此不疲。最近，他发现小区的公共区域照明不足。起初，视力模糊，难以辨识来者，听觉也逐渐\n                             衰退。尽管如此，张大爷依然坚持制作冥想视频，期待未来有所裨益。\n\n                             **续写内容**：\n\n                             在时间节点（5）之后，尽管视觉和听觉\n                             听觉等多感官体验逐步优化，张大爷的“热心同事会质疑，认为这是不务正业，但我\n                             但在张大爷的带领下，大家逐渐认识到，这种多元化的活动不仅丰富了社区生活，还激发了学生的创新潜能。通过跨学科文本s1、扫描仪的原理是什么？2、如何将扫描结果转化为计算机可识别的数据？3、扫描仪在日常生活中的应用有\n                             哪些？\n                    DEBUG    DEBUG:pdf2zh.converter:< 408.232 321.608 321.608 325.42708864 5.977599999999995 False > {v11} | {v11}        \n```\n其他GLM模型或者其他LLM厂商均无此现象。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\nDOI: 10.1109/DAC56929.2023.10247907\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "RonxBulld",
      "author_type": "User",
      "created_at": "2025-03-20T03:21:33Z",
      "updated_at": "2025-03-20T06:21:39Z",
      "closed_at": null,
      "labels": [
        "bug",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/787/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/787",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/787",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.211667",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/2ea581eb-435d-42ba-976c-d8d055d9c3de)\n\n请启用实验性选项的use BabelDOC再次测试。",
          "created_at": "2025-03-20T03:31:10Z"
        },
        {
          "author": "RonxBulld",
          "body": "> ![Image](https://github.com/user-attachments/assets/2ea581eb-435d-42ba-976c-d8d055d9c3de)\n> \n> 请启用实验性选项的use BabelDOC再次测试。\n\nuse BabelDOC后图表中的可复制文字全部丢失了。",
          "created_at": "2025-03-20T03:50:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "感谢反馈，有空时排查",
          "created_at": "2025-03-20T03:52:08Z"
        },
        {
          "author": "martina0176",
          "body": "I had the same experience when I used BabelDOC. I don't know why this issue occurred, but I solved it after removing all the code related to 'char_bounding_box' from the 'on_lt_char' function in 'il_creater.py'. I hope this will help.",
          "created_at": "2025-03-20T06:19:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "> I had the same experience when I used BabelDOC. I don't know why this issue occurred, but I solved it after removing all the code related to 'char_bounding_box' from the 'on_lt_char' function in 'il_creater.py'. I hope this will help.\n\nThanks for the workaround, I'll look into it later.",
          "created_at": "2025-03-20T06:21:38Z"
        }
      ]
    },
    {
      "issue_number": 779,
      "title": "只能翻译少部分内容",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows10\n- Python:3.12\n- pdf2zh:1.9.6\n```\n\n### 请选择安装方式\n\n源码\n\n### 描述你的问题\n\n《PCI Express Technology 3.0.pdf》这个文档不能完全翻译，只能翻译其中的少部分内容。\n\n<!-- Failed to upload \"MindShare_PCI Express Technology 3.0_.pdf\" -->\n\n原始文档再这里无法上传，上传时报错。\n<!-- Failed to upload \"MindShare_PCI Express Technology 3.0_.pdf\" -->\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "killerljj",
      "author_type": "User",
      "created_at": "2025-03-18T09:37:38Z",
      "updated_at": "2025-03-20T01:20:38Z",
      "closed_at": "2025-03-18T09:39:14Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/779/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/779",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/779",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.393079",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "拿不到原始文件我们也没法排查啊。。。。。。实在不行传个百度盘吧。\n\nissue我先close了。您上传文件后再open",
          "created_at": "2025-03-18T09:39:14Z"
        },
        {
          "author": "killerljj",
          "body": "附件这个文件。\r\n\r\n\r\n\r\n\r\n灰色的轨迹\r\n***@***.***\r\n\r\n\r\n\r\n&nbsp;\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"Byaidu/PDFMathTranslate\"                                      ",
          "created_at": "2025-03-18T09:41:10Z"
        },
        {
          "author": "hellofinch",
          "body": "还是看不到文件，检查一下是不是扫描件，是不是表格，是不是字体和别的地方不一样。\n扫描件现在处理不了，表格现在不处理，字体不一样的话，可以需要-f来设置。",
          "created_at": "2025-03-19T01:16:20Z"
        },
        {
          "author": "killerljj",
          "body": "不是扫描件，文字版的文件。\r\n\r\n\r\n通过百度网盘分享的文件：MindShar…\r\n链接:https://pan.baidu.com/s/1dMVlahVodFErJUf2u2KPsA?pwd=6666&nbsp;\r\n提取码:6666\r\n复制这段内容打开「百度网盘APP 即可获取\r\n\r\n\r\n\r\n用的是 PDFMathTranslate-main\\script\\setup.bat&nbsp; 这个批处理打开的网页，把文件直接拖进去，service选的bing，这样直接翻译的。\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n灰色的轨迹\r\n***@***.***\r\n\r\n\r\n\r\n&nbsp;\r\n\r\n\r\n\r\n\r\n-",
          "created_at": "2025-03-19T01:29:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "图表区域暂不支持，你是不是想说这个？",
          "created_at": "2025-03-19T02:09:34Z"
        }
      ]
    },
    {
      "issue_number": 513,
      "title": "日文PDF，非扫描件，翻译报错。",
      "body": "执行翻译报错：\nRROR:pdf2zh.converter:unexpected EOF while parsing (<string>, line 0)\nERROR:pdf2zh.converter:unexpected EOF while parsing (<string>, line 0)\nERROR:pdf2zh.converter:unexpected EOF while parsing (<string>, line 0)\nERROR:pdf2zh.converter:unexpected EOF while parsing (<string>, line 0)\nERROR:pdf2zh.converter:unexpected EOF while parsing (<string>, line 0)\n翻译的是一篇非扫描的日文文献。\n",
      "state": "closed",
      "author": "LifeNT",
      "author_type": "User",
      "created_at": "2025-01-22T03:59:02Z",
      "updated_at": "2025-03-19T16:25:58Z",
      "closed_at": "2025-03-19T16:25:58Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/513/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/513",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/513",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.563521",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/488\n目前对于这个问题有三个方式解决：\n1. 使用最新的源码安装运行`pip install .`\n2. 使用docker，应用 https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改，然后在docker重新安装。\n3. 使用`pip install pdf2zh`的安装方法，找到pdf2zh的安装地址，然后应用https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改",
          "created_at": "2025-01-22T06:54:23Z"
        },
        {
          "author": "LifeNT",
          "body": "刚刚尝试本地源码安装，结果遇到这个：\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nargilla 1.5.1 requires httpx<0.24,>=0.15, but you have httpx 0.28.1 which is incompatible.\nargilla 1.5.1 r",
          "created_at": "2025-01-22T17:40:05Z"
        },
        {
          "author": "hellofinch",
          "body": "使用源码安装的前提是对于python及相关设置熟悉的前提，如果不熟悉的话，这几个方法都是无法解决问题。可以等周末和其他问题一起修复后，发布的新版本。",
          "created_at": "2025-01-23T01:03:46Z"
        }
      ]
    },
    {
      "issue_number": 768,
      "title": "增加更多小语种",
      "body": "### 在什么场景下，需要你请求的功能？\n\n请问 如何添加小语种，或者自动检测语种翻译到中文\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Frankuhoo",
      "author_type": "User",
      "created_at": "2025-03-15T06:20:32Z",
      "updated_at": "2025-03-19T16:19:18Z",
      "closed_at": "2025-03-19T16:19:18Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/768/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/768",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/768",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.724064",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#specify-source-and-target-languages",
          "created_at": "2025-03-16T08:22:03Z"
        }
      ]
    },
    {
      "issue_number": 783,
      "title": "结合大语言api",
      "body": "### 在什么场景下，需要你请求的功能？\n\n能否用api翻译？\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "hk9992221",
      "author_type": "User",
      "created_at": "2025-03-19T09:03:21Z",
      "updated_at": "2025-03-19T09:04:22Z",
      "closed_at": "2025-03-19T09:04:20Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/783/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/783",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/783",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:02.900430",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "能",
          "created_at": "2025-03-19T09:04:20Z"
        }
      ]
    },
    {
      "issue_number": 782,
      "title": "是否可以按段落进行双语翻译？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前的双语是按页的形式，但现实中更希望是按段落进行双语翻译后对照，如下：\n\n![Image](https://github.com/user-attachments/assets/67330860-333d-4e40-a3f6-bc8b2e9591f6)\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "15074852943",
      "author_type": "User",
      "created_at": "2025-03-19T08:23:21Z",
      "updated_at": "2025-03-19T08:24:18Z",
      "closed_at": "2025-03-19T08:24:17Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/782/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/782",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/782",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:03.078355",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "本项目技术路线不支持。",
          "created_at": "2025-03-19T08:24:17Z"
        }
      ]
    },
    {
      "issue_number": 641,
      "title": "对于有行号的pdf文档翻译会出错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/15798fee-7b81-4cc7-aeb6-7aaab6a19e11)\n\n### 如何复现\n\n对于有行号的pdf，执行翻译会自动将每一行的句子视为单独的句子，且翻译后的排版同样如此。而有行号的文章在论文中十分常见\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "holdrainxu",
      "author_type": "User",
      "created_at": "2025-02-17T11:32:21Z",
      "updated_at": "2025-03-19T03:18:41Z",
      "closed_at": "2025-02-19T16:05:47Z",
      "labels": [
        "bug",
        "Waiting for feedback"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/641/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v2.0.0",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/641",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/641",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:03.261017",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please provide the original input PDF for us to reproduce.",
          "created_at": "2025-02-18T01:59:04Z"
        },
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/323",
          "created_at": "2025-02-19T16:05:47Z"
        },
        {
          "author": "holdrainxu",
          "body": "> [#323](https://github.com/Byaidu/PDFMathTranslate/issues/323)\n\n感谢您的快速回复，该问题是否在未来计划中？",
          "created_at": "2025-02-20T08:44:40Z"
        },
        {
          "author": "awwaawwa",
          "body": "在未来计划中。https://github.com/funstory-ai/BabelDOC/issues/109 在这里追踪",
          "created_at": "2025-02-20T09:03:52Z"
        },
        {
          "author": "holdrainxu",
          "body": "> 在未来计划中。[funstory-ai/BabelDOC#109](https://github.com/funstory-ai/BabelDOC/issues/109) 在这里追踪\n\n再次感谢你们的项目！",
          "created_at": "2025-02-20T09:06:58Z"
        }
      ]
    },
    {
      "issue_number": 780,
      "title": "局域网用exe版本翻译，报错 ERROR:pdf2zh.converter:404 page not found",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 10\n- Python: 无\n- pdf2zh: pdf2zh-v1.9.5-with-assets-win64\n```\n\n### 请选择安装方式\n\nexe\n\n### 描述你的问题\n\n离线安装exe版本，可以正常打开，安装assets版本，在目录中找到相应fonts\n局域网中已部署ollama模型，网页端显示ollama serve run success\n页面翻译报错\n\n![Image](https://github.com/user-attachments/assets/8f0b7ca2-5cfd-4712-a97b-f6335678f3f4)\n\n### 如何复现\n\n1.  上传文件\n2. 选择 离线模型\n3. 出现问题\n\n\n### 预期行为\n\n能够翻译\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "happyf1990",
      "author_type": "User",
      "created_at": "2025-03-18T09:57:11Z",
      "updated_at": "2025-03-18T09:59:12Z",
      "closed_at": "2025-03-18T09:58:18Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/780/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/780",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/780",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:03.451390",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "pdf2zh legacy后端已弃用。请在实验性选项中打开use babeldoc。\n\n另，这是你翻译器配置有误或相关网络连接出现问题，所以出现了404。",
          "created_at": "2025-03-18T09:59:11Z"
        }
      ]
    },
    {
      "issue_number": 509,
      "title": "google翻译到一定的比例会抛502错误",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n现在google翻译用的服务地址是http开头的，我翻译到一定的比例，和特定的pdf无关，比如70%左右，就会报一个502错误。我自己改成https之后，就能正确的翻译完成，不知道为什么你们要用http开头的。\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-01-21T15:14:13Z",
      "updated_at": "2025-03-18T07:52:19Z",
      "closed_at": "2025-03-18T07:52:18Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/509/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/509",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/509",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:03.667589",
      "comments": [
        {
          "author": "reycn",
          "body": "好奇为什么 http 会 502，这个可能是网络劫持……",
          "created_at": "2025-03-18T07:44:36Z"
        },
        {
          "author": "awwaawwa",
          "body": "我记得有个pr改了",
          "created_at": "2025-03-18T07:52:18Z"
        }
      ]
    },
    {
      "issue_number": 522,
      "title": "无法翻译，也无法预览了",
      "body": "## Problem description\n\n![Image](https://github.com/user-attachments/assets/31e6abd2-36bb-4bf1-a960-8533671eee06)\n为什么在翻译本地文件时我无法预览？点击翻译后，不再像以前那样有进度条在运行。\n目前的状态就是卡在这，也不能翻译。请问这个如何解决呢？\n\n",
      "state": "closed",
      "author": "Shawn178",
      "author_type": "User",
      "created_at": "2025-01-24T03:25:53Z",
      "updated_at": "2025-03-18T07:51:11Z",
      "closed_at": "2025-03-18T07:51:10Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/522/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/522",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/522",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:03.863985",
      "comments": [
        {
          "author": "qubick14",
          "body": "Python 更新到3.10 版本可以解决。另外windows 环境命令行要用管理员模式运行",
          "created_at": "2025-02-04T17:55:35Z"
        },
        {
          "author": "reycn",
          "body": "楼上的应该就可以解决。如果未能解决在这里说一下我们重新打开。",
          "created_at": "2025-03-18T07:51:10Z"
        }
      ]
    },
    {
      "issue_number": 528,
      "title": "故障请求修复 'pdf2zh' 不是内部或外部命令，也不是可运行的程序",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\nERROR: Exception:\nTraceback (most recent call last):\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 105, in _run_wrapper\n    status = _inner_run()\n             ^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 96, in _inner_run\n    return self.run(options, args)\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\cli\\req_command.py\", line 67, in wrapper\n    return func(self, options, args)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\commands\\install.py\", line 379, in run\n    requirement_set = resolver.resolve(\n                      ^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\resolver.py\", line 95, in resolve\n    result = self._result = resolver.resolve(\n                            ^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\resolvers.py\", line 546, in resolve\n    state = resolution.resolve(requirements, max_rounds=max_rounds)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\resolvers.py\", line 427, in resolve\n    failure_causes = self._attempt_to_pin_criterion(name)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\resolvers.py\", line 239, in _attempt_to_pin_criterion\n    criteria = self._get_updated_criteria(candidate)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\resolvers.py\", line 230, in _get_updated_criteria\n    self._add_to_criteria(criteria, requirement, parent=candidate)\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\resolvers.py\", line 173, in _add_to_criteria\n    if not criterion.candidates:\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\resolvelib\\structs.py\", line 156, in __bool__\n    return bool(self._sequence)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\found_candidates.py\", line 174, in __bool__\n    return any(self)\n           ^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\found_candidates.py\", line 162, in <genexpr>\n    return (c for c in iterator if id(c) not in self._incompatible_ids)\n                       ^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\found_candidates.py\", line 53, in _iter_built\n    candidate = func()\n                ^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\factory.py\", line 187, in _make_candidate_from_link\n    base: Optional[BaseCandidate] = self._make_base_candidate_from_link(\n                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\factory.py\", line 233, in _make_base_candidate_from_link\n    self._link_candidate_cache[link] = LinkCandidate(\n                                       ^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\candidates.py\", line 304, in __init__\n    super().__init__(\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\candidates.py\", line 159, in __init__\n    self.dist = self._prepare()\n                ^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\candidates.py\", line 236, in _prepare\n    dist = self._prepare_distribution()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\resolution\\resolvelib\\candidates.py\", line 315, in _prepare_distribution\n    return preparer.prepare_linked_requirement(self._ireq, parallel_builds=True)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\operations\\prepare.py\", line 527, in prepare_linked_requirement\n    return self._prepare_linked_requirement(req, parallel_builds)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\operations\\prepare.py\", line 642, in _prepare_linked_requirement\n    dist = _get_prepared_distribution(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\operations\\prepare.py\", line 72, in _get_prepared_distribution\n    abstract_dist.prepare_distribution_metadata(\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\distributions\\sdist.py\", line 56, in prepare_distribution_metadata\n    self._install_build_reqs(finder)\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\distributions\\sdist.py\", line 126, in _install_build_reqs\n    build_reqs = self._get_build_requires_wheel()\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\distributions\\sdist.py\", line 103, in _get_build_requires_wheel\n    return backend.get_requires_for_build_wheel()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\utils\\misc.py\", line 701, in get_requires_for_build_wheel\n    return super().get_requires_for_build_wheel(config_settings=cs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_impl.py\", line 166, in get_requires_for_build_wheel\n    return self._call_hook('get_requires_for_build_wheel', {\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_impl.py\", line 321, in _call_hook\n    raise BackendUnavailable(data.get('traceback', ''))\npip._vendor.pyproject_hooks._impl.BackendUnavailable: Traceback (most recent call last):\n  File \"Q:\\PDF2ZH\\pdf2zh_dist\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 77, in _build_backend\n    obj = import_module(mod_path)\n          ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"importlib\\__init__.py\", line 90, in import_module\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1310, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 488, in _call_with_frames_removed\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1324, in _find_and_load_unlocked\nModuleNotFoundError: No module named 'setuptools'\n\n'pdf2zh' 不是内部或外部命令，也不是可运行的程序\n或批处理文件。\n请按任意键继续. . .",
      "state": "closed",
      "author": "georip",
      "author_type": "User",
      "created_at": "2025-01-24T14:16:47Z",
      "updated_at": "2025-03-18T07:43:35Z",
      "closed_at": "2025-03-18T07:42:38Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/528/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/528",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/528",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:04.036884",
      "comments": [
        {
          "author": "georip",
          "body": "done",
          "created_at": "2025-01-24T14:21:52Z"
        },
        {
          "author": "hellofinch",
          "body": "使用最新的setup.bat来安装。",
          "created_at": "2025-02-10T01:58:36Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用最新版exe",
          "created_at": "2025-03-18T07:43:34Z"
        }
      ]
    },
    {
      "issue_number": 510,
      "title": "使用虚拟机翻译时出现线程错误",
      "body": "网页可以正常显示点击翻译显示错误，后台提示There is no current event loop in thread 'AnyIO worker thread'.错误\n\n\n![Image](https://github.com/user-attachments/assets/7ab6edfb-8ff6-471f-9dd9-57418fc77325)\n",
      "state": "closed",
      "author": "Guozi-www",
      "author_type": "User",
      "created_at": "2025-01-21T16:25:40Z",
      "updated_at": "2025-03-18T07:43:24Z",
      "closed_at": "2025-03-18T07:43:24Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/510/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/510",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/510",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:04.236945",
      "comments": [
        {
          "author": "hellofinch",
          "body": "尝试切换一下python版本到3.10试一下？",
          "created_at": "2025-01-22T07:07:57Z"
        },
        {
          "author": "reycn",
          "body": "因长时间未活跃我们无法判断暂时关闭。切换 3.10 仍有问题后重开。",
          "created_at": "2025-03-18T07:43:24Z"
        }
      ]
    },
    {
      "issue_number": 532,
      "title": "提示下载字体",
      "body": "## 问题描述\nv1.8.9 和 v1.9.0 执行翻译命令时会提示下载字体，然后报错，报错信息如下：\nDownloading GoNotoKurrent-Regular.ttf...\nTraceback (most recent call last):\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/urllib/request.py\", line 1344, in do_open\n    h.request(req.get_method(), req.selector, req.data, headers,\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1336, in request\n    self._send_request(method, url, body, headers, encode_chunked)\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1382, in _send_request\n    self.endheaders(body, encode_chunked=encode_chunked)\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1331, in endheaders\n    self._send_output(message_body, encode_chunked=encode_chunked)\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1091, in _send_output\n    self.send(msg)\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1035, in send\n    self.connect()\n  File \"/www/server/pyporject_evn/versions/3.12.8/lib/python3.12/http/client.py\", line 1477, in connect\n    self.sock = self._context.wrap_socket(self.sock,\n...\nv1.8.8 使用正常。",
      "state": "closed",
      "author": "zhaotoday",
      "author_type": "User",
      "created_at": "2025-01-25T00:25:22Z",
      "updated_at": "2025-03-18T07:42:14Z",
      "closed_at": "2025-03-18T07:41:04Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/532/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/532",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/532",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:04.396485",
      "comments": [
        {
          "author": "ppypph",
          "body": " pdf2zh Dinosaur.pdf\nNamespace(files=['Dinosaur.pdf'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='google', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=Non",
          "created_at": "2025-01-26T02:00:37Z"
        },
        {
          "author": "reycn",
          "body": "属于客户主机的网络连接问题，可能需要设置代理。",
          "created_at": "2025-03-18T07:41:04Z"
        },
        {
          "author": "awwaawwa",
          "body": "最新版已修复。请更新至最新版。",
          "created_at": "2025-03-18T07:42:12Z"
        }
      ]
    },
    {
      "issue_number": 511,
      "title": "#495 问题中所修复的bug，在现行安装方法下安装的4个版本依然存在",
      "body": "如题，在#495 问题中修复的bug依然存在，使用四种方式安装的发行版本都存在无法使用大模型key服务翻译的问题，是否是发行版本还未修复？",
      "state": "closed",
      "author": "z1braaa",
      "author_type": "User",
      "created_at": "2025-01-22T00:02:05Z",
      "updated_at": "2025-03-18T07:41:16Z",
      "closed_at": "2025-03-18T07:41:15Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/511/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/511",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/511",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:04.589078",
      "comments": [
        {
          "author": "hellofinch",
          "body": "是的，目前有两种方式：\n1. 源码安装最新的版本\n2. docker中应用PR中涉及到的变更，然后重新安装。",
          "created_at": "2025-01-22T02:50:02Z"
        },
        {
          "author": "uni1k",
          "body": "docker镜像还没有更新么，我今天才安装，使用deepseek也是报这个错误。",
          "created_at": "2025-01-22T06:51:53Z"
        },
        {
          "author": "hellofinch",
          "body": "没有更新。\n使用docker的话，应用 https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改后，需要在docker重新安装。",
          "created_at": "2025-01-22T06:55:03Z"
        },
        {
          "author": "hellofinch",
          "body": "目前对于这个问题有三个方式解决：\n1. 使用最新的源码安装运行`pip install .`\n2. 使用docker，应用 https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改，然后在docker重新安装。\n3. 使用`pip install pdf2zh`的安装方法，找到pdf2zh的安装地址，然后应用https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改",
          "created_at": "2025-01-22T06:57:20Z"
        },
        {
          "author": "JiyongShi",
          "body": "使用最新源码安装运行及重新打包docker并运行，调用同样地址，thread、prompt等参数均为默认值不变\n**openai-like接口方式调用正常，ollama方式还是报错**\n[Errno 111] Connection refused\n[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\n[Errno 111] Connection refused[Errno 111] Connection refused\nERROR:pdf2zh.converter:All models failed\nER",
          "created_at": "2025-01-23T15:37:43Z"
        }
      ]
    },
    {
      "issue_number": 401,
      "title": "能不能出一个http api 安装和使用教程",
      "body": "## 问题描述\r\n能不能出一个http api 安装和使用教程，使用命令行和gradio页面运行都已成功，但是后端部署http api 这一步总是出错，能否出一个教程，这个@之后跟的是绝对路径吗？\r\n![image](https://github.com/user-attachments/assets/aa00a65f-09cc-4231-915b-9f81ea710320)\r\n![image](https://github.com/user-attachments/assets/177dc953-b393-4b86-9bd9-4d9f8fb084c6)\r\n![image](https://github.com/user-attachments/assets/b17bc5ae-ec86-40e8-aedb-f2b7a9d97998)\r\n\r\n\r\n\r\n",
      "state": "closed",
      "author": "hututusb",
      "author_type": "User",
      "created_at": "2025-01-04T09:19:14Z",
      "updated_at": "2025-03-18T07:39:30Z",
      "closed_at": "2025-03-18T07:36:33Z",
      "labels": [
        "documentation"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/401/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/401",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/401",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:06.816124",
      "comments": [
        {
          "author": "reycn",
          "body": "已提供。",
          "created_at": "2025-03-18T07:36:33Z"
        },
        {
          "author": "awwaawwa",
          "body": "@reycn 现版http api已弃用。\n\nv2会提供新的http api，到时候会有对应的文档。",
          "created_at": "2025-03-18T07:39:29Z"
        }
      ]
    },
    {
      "issue_number": 406,
      "title": "横向的字符能否在翻译后依然横向排列",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n![image](https://github.com/user-attachments/assets/bbe9d3b8-1217-4220-957d-d96608df3979)\r\n这种横向的字符能否在翻译后依然横向排列",
      "state": "closed",
      "author": "chenggangqcg",
      "author_type": "User",
      "created_at": "2025-01-05T05:30:26Z",
      "updated_at": "2025-03-18T07:39:14Z",
      "closed_at": "2025-03-18T07:39:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/406/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/406",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/406",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:06.977403",
      "comments": [
        {
          "author": "timelic",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/306\r\n\r\n似乎是feature而不会修复",
          "created_at": "2025-01-06T07:43:48Z"
        },
        {
          "author": "awwaawwa",
          "body": "Fixed, just wait patiently\r\n![CleanShot 2025-01-08 at 20 30 37@2x](https://github.com/user-attachments/assets/7a8d20a3-b9ce-4af8-bb81-dd50f724c967)\r\n",
          "created_at": "2025-01-08T12:31:46Z"
        }
      ]
    },
    {
      "issue_number": 220,
      "title": "是否可以尝试在翻译中引入VideoLingo的AI术语库和三步翻译方法，以提高翻译质量？",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n如[VideoLingo简介](https://github.com/Huanshere/VideoLingo/blob/main/i18n/README.zh.md)所述：\r\n> 该软件支持\r\n> 1. 📚 自定义 + AI 生成术语库，保证翻译连贯性\r\n> 2. 🔄 三步直译、反思、意译，实现影视级翻译质量\r\n\r\n本项目也可尝试类似的方法，以进一步提高翻译质量？",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-12T18:03:39Z",
      "updated_at": "2025-03-18T07:38:13Z",
      "closed_at": "2025-03-18T07:38:13Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/220/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/220",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/220",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.150014",
      "comments": [
        {
          "author": "hellofinch",
          "body": "目前翻译的质量和自己选取的翻译服务有关，我认为后续可以考虑允许用户对大模型service进行组合或者多次与大模型进行交互提高质量。\r\n但是，你提到的功能只有大模型相关的service才会考虑，传统的翻译service不支持这样的润色操作。",
          "created_at": "2024-12-13T01:28:33Z"
        },
        {
          "author": "reycn",
          "body": "理论上没问题，实际上也确实有很多会议论文证明了这个思路。需要抽象出一个中间件和模型交互，等待有缘人。",
          "created_at": "2024-12-16T05:37:31Z"
        },
        {
          "author": "whomata120",
          "body": "Dify构建一个工作流应该可以解决这个问题，B站有人做了个多次与大模型进行交互翻译的工作流，大体思路是：先让大模型翻译为中文、引入知识库（需要自己构建），再让大模型将中文翻译为英文，最后让大模型对比原英文和翻译后的英文，进一步修正中文译本",
          "created_at": "2024-12-17T04:44:24Z"
        },
        {
          "author": "reycn",
          "body": "While is slightly different, in most cases mentioned in this issue, the feature now have a workaround after [PR#275](https://github.com/Byaidu/PDFMathTranslate/pull/275).\r\n\r\nUsers can add a customized script defining CoT etc, without continuous conversations.",
          "created_at": "2024-12-18T18:17:04Z"
        },
        {
          "author": "awwaawwa",
          "body": "Although users can add CoT prompts, features similar to three-step direct translation, reflection, and free translation only take a part of the LLM output as the actual translation result. Currently, PR #275 cannot implement this function.",
          "created_at": "2024-12-19T00:56:52Z"
        }
      ]
    },
    {
      "issue_number": 552,
      "title": "支持python 3.8版本",
      "body": "Amazon Linux 2是一个挺重要的云平台，但是目前它支持的python官方只到了3.8，希望能支持一下，谢谢！\n",
      "state": "closed",
      "author": "dentistfrankchen",
      "author_type": "User",
      "created_at": "2025-01-30T13:39:30Z",
      "updated_at": "2025-03-18T07:37:50Z",
      "closed_at": "2025-03-18T07:19:59Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/552/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/552",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/552",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.332523",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "As described in #475 \n\n[YADT](https://github.com/funstory-ai/yadt) is the new backend of this project.\n\n> Thanks to [funstory-ai/yadt#21](https://github.com/funstory-ai/yadt/pull/21), now supports Python 3.10 and 3.11\n> \n> Since the latest versions of onnxruntime and numpy no longer support Python 3",
          "created_at": "2025-01-30T14:50:57Z"
        },
        {
          "author": "reycn",
          "body": "明白这个需求，但是如果需要支持旧版，设计核心的模型部分的改动可能太大（如楼上所述），暂时关闭 issue。",
          "created_at": "2025-03-18T07:19:59Z"
        }
      ]
    },
    {
      "issue_number": 488,
      "title": "使用1.8.9docker镜像，gui上传pdf进行翻译，报错ERROR:pdf2zh.converter:invalid syntax (<string>, line 0)",
      "body": "## 使用1.8.9docker镜像，gui上传pdf进行翻译，报错ERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\n\nFiles before translation: ['2310.07554v2.pdf']\n  0%|          | 0/16 [00:00<?, ?it/s]ERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\nERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\nERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\nERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\nERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\nERROR:pdf2zh.converter:invalid syntax (<string>, line 0)\n\n使用任意pdf都会这样\n",
      "state": "closed",
      "author": "dblab0",
      "author_type": "User",
      "created_at": "2025-01-19T12:28:14Z",
      "updated_at": "2025-03-18T07:37:20Z",
      "closed_at": "2025-03-18T07:37:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 25,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/488/reactions",
        "total_count": 4,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 4
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/488",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/488",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.498891",
      "comments": []
    },
    {
      "issue_number": 485,
      "title": "期望能够增加 RISCV 支持，目前通过 pip 安装遇到的一些问题反馈。",
      "body": "## 问题描述\n\n开发者您好，目前我尝试在 Archlinux RISCV 环境下构建本项目。Archlinux 以及默认的 Python 版本号如下：\n\n![Image](https://github.com/user-attachments/assets/2c774885-3c3d-459d-be67-930d5a398cac)\n\n使用 pyenv 安装了 python 3.12.8 并且解决了一些依赖，目前构建情况如下：\n\n```\n(pdf2zh) houge@archlinux: /home/houge  \n➜   pip install pdf2zh\nCollecting pdf2zh\n  Using cached pdf2zh-1.8.8-py3-none-any.whl.metadata (15 kB)\nCollecting azure-ai-translation-text<=1.0.1 (from pdf2zh)\n  Using cached azure_ai_translation_text-1.0.1-py3-none-any.whl.metadata (18 kB)\nCollecting deepl (from pdf2zh)\n  Using cached deepl-1.21.0-py3-none-any.whl.metadata (30 kB)\nCollecting gradio (from pdf2zh)\n  Using cached gradio-5.12.0-py3-none-any.whl.metadata (16 kB)\nCollecting gradio-pdf (from pdf2zh)\n  Using cached gradio_pdf-0.0.21-py3-none-any.whl.metadata (6.8 kB)\nCollecting huggingface-hub (from pdf2zh)\n  Using cached huggingface_hub-0.27.1-py3-none-any.whl.metadata (13 kB)\nCollecting numpy (from pdf2zh)\n  Using cached numpy-2.2.1-cp312-cp312-linux_riscv64.whl\nCollecting ollama (from pdf2zh)\n  Using cached ollama-0.4.6-py3-none-any.whl.metadata (4.7 kB)\nCollecting onnx (from pdf2zh)\n  Using cached onnx-1.17.0.tar.gz (12.2 MB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nINFO: pip is looking at multiple versions of pdf2zh to determine which version is compatible with other requirements. This could take a while.\nCollecting pdf2zh\n  Using cached pdf2zh-1.8.7-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.6-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.5-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.4-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.3-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.1-py3-none-any.whl.metadata (12 kB)\n  Using cached pdf2zh-1.8.0-py3-none-any.whl.metadata (11 kB)\nCollecting charset-normalizer (from pdf2zh)\n  Using cached charset_normalizer-3.4.1-py3-none-any.whl.metadata (35 kB)\nCollecting cryptography (from pdf2zh)\n  Using cached cryptography-44.0.0.tar.gz (710 kB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting deepl<1.19.1 (from pdf2zh)\n  Using cached deepl-1.18.0-py3-none-any.whl.metadata (27 kB)\nINFO: pip is still looking at multiple versions of pdf2zh to determine which version is compatible with other requirements. This could take a while.\nCollecting pdf2zh\n  Using cached pdf2zh-1.7.9-py3-none-any.whl.metadata (10 kB)\nCollecting requests (from pdf2zh)\n  Using cached requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)\nCollecting pymupdf (from pdf2zh)\n  Using cached pymupdf-1.25.2.tar.gz (63.8 MB)\n  Getting requirements to build wheel ... done\n  Installing backend dependencies ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting tqdm (from pdf2zh)\n  Using cached tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)\nCollecting tenacity (from pdf2zh)\n  Using cached tenacity-9.0.0-py3-none-any.whl.metadata (1.2 kB)\nCollecting doclayout-yolo (from pdf2zh)\n  Using cached doclayout_yolo-0.0.2-py3-none-any.whl.metadata (8.9 kB)\nCollecting openai (from pdf2zh)\n  Using cached openai-1.59.8-py3-none-any.whl.metadata (27 kB)\nCollecting pdf2zh\n  Using cached pdf2zh-1.7.8-py3-none-any.whl.metadata (10 kB)\n  Using cached pdf2zh-1.7.7-py3-none-any.whl.metadata (9.6 kB)\n  Using cached pdf2zh-1.7.6-py3-none-any.whl.metadata (6.7 kB)\n  Using cached pdf2zh-1.7.5-py3-none-any.whl.metadata (6.7 kB)\nINFO: This is taking longer than usual. You might need to provide the dependency resolver with stricter constraints to reduce runtime. See https://pip.pypa.io/warnings/backtracking for guidance. If you want to abort this run, press Ctrl + C.\n  Using cached pdf2zh-1.7.4-py3-none-any.whl.metadata (6.5 kB)\nCollecting isodate>=0.6.1 (from azure-ai-translation-text<=1.0.1->pdf2zh)\n  Using cached isodate-0.7.2-py3-none-any.whl.metadata (11 kB)\nCollecting azure-core>=1.30.0 (from azure-ai-translation-text<=1.0.1->pdf2zh)\n  Using cached azure_core-1.32.0-py3-none-any.whl.metadata (39 kB)\nCollecting typing-extensions>=4.6.0 (from azure-ai-translation-text<=1.0.1->pdf2zh)\n  Using cached typing_extensions-4.12.2-py3-none-any.whl.metadata (3.0 kB)\nCollecting idna<4,>=2.5 (from requests->pdf2zh)\n  Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)\nCollecting urllib3<3,>=1.21.1 (from requests->pdf2zh)\n  Using cached urllib3-2.3.0-py3-none-any.whl.metadata (6.5 kB)\nCollecting certifi>=2017.4.17 (from requests->pdf2zh)\n  Using cached certifi-2024.12.14-py3-none-any.whl.metadata (2.3 kB)\nCollecting cffi>=1.12 (from cryptography->pdf2zh)\n  Using cached cffi-1.17.1-cp312-cp312-linux_riscv64.whl\nCollecting matplotlib>=3.3.0 (from doclayout-yolo->pdf2zh)\n  Using cached matplotlib-3.10.0.tar.gz (36.7 MB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Installing backend dependencies ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting opencv-python>=4.6.0 (from doclayout-yolo->pdf2zh)\n  Using cached opencv-python-4.11.0.86.tar.gz (95.2 MB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting pillow>=7.1.2 (from doclayout-yolo->pdf2zh)\n  Using cached pillow-11.1.0.tar.gz (46.7 MB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting pyyaml>=5.3.1 (from doclayout-yolo->pdf2zh)\n  Using cached pyyaml-6.0.2.tar.gz (130 kB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Preparing metadata (pyproject.toml) ... done\nCollecting scipy>=1.4.1 (from doclayout-yolo->pdf2zh)\n  Using cached scipy-1.15.1.tar.gz (59.4 MB)\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\n  Installing backend dependencies ... done\n  Preparing metadata (pyproject.toml) ... done\nINFO: pip is looking at multiple versions of doclayout-yolo to determine which version is compatible with other requirements. This could take a while.\nCollecting pdf2zh\n  Downloading pdf2zh-1.7.3-py3-none-any.whl.metadata (6.5 kB)\n  Downloading pdf2zh-1.7.2-py3-none-any.whl.metadata (5.4 kB)\n  Downloading pdf2zh-1.7.1-py3-none-any.whl.metadata (5.3 kB)\n  Downloading pdf2zh-1.7.0-py3-none-any.whl.metadata (5.0 kB)\n  Downloading pdf2zh-1.6.9-py3-none-any.whl.metadata (4.7 kB)\n  Downloading pdf2zh-1.6.8-py3-none-any.whl.metadata (4.6 kB)\n  Downloading pdf2zh-1.6.7-py3-none-any.whl.metadata (3.7 kB)\nINFO: pip is still looking at multiple versions of doclayout-yolo to determine which version is compatible with other requirements. This could take a while.\n  Downloading pdf2zh-1.6.6-py3-none-any.whl.metadata (3.6 kB)\n  Downloading pdf2zh-1.6.5-py3-none-any.whl.metadata (3.2 kB)\n  Downloading pdf2zh-1.6.4-py3-none-any.whl.metadata (3.1 kB)\n  Downloading pdf2zh-1.6.3-py3-none-any.whl.metadata (3.1 kB)\n  Downloading pdf2zh-1.6.2-py3-none-any.whl.metadata (3.0 kB)\nINFO: This is taking longer than usual. You might need to provide the dependency resolver with stricter constraints to reduce runtime. See https://pip.pypa.io/warnings/backtracking for guidance. If you want to abort this run, press Ctrl + C.\n  Downloading pdf2zh-1.6.1-py3-none-any.whl.metadata (3.0 kB)\n  Downloading pdf2zh-1.6.0-py3-none-any.whl.metadata (3.0 kB)\n  Downloading pdf2zh-1.5.9-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.8-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.7-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.6-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.5-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.4-py3-none-any.whl.metadata (2.9 kB)\n  Downloading pdf2zh-1.5.3-py3-none-any.whl.metadata (2.9 kB)\nERROR: Cannot install pdf2zh==1.7.5, pdf2zh==1.7.6, pdf2zh==1.7.7, pdf2zh==1.7.8, pdf2zh==1.7.9, pdf2zh==1.8.0, pdf2zh==1.8.1, pdf2zh==1.8.3, pdf2zh==1.8.4, pdf2zh==1.8.5, pdf2zh==1.8.6, pdf2zh==1.8.7 and pdf2zh==1.8.8 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    pdf2zh 1.8.8 depends on onnxruntime\n    pdf2zh 1.8.7 depends on onnxruntime\n    pdf2zh 1.8.6 depends on onnxruntime\n    pdf2zh 1.8.5 depends on onnxruntime\n    pdf2zh 1.8.4 depends on onnxruntime\n    pdf2zh 1.8.3 depends on onnxruntime\n    pdf2zh 1.8.1 depends on onnxruntime\n    pdf2zh 1.8.0 depends on onnxruntime\n    pdf2zh 1.7.9 depends on torch\n    pdf2zh 1.7.8 depends on torch\n    pdf2zh 1.7.7 depends on torch\n    pdf2zh 1.7.6 depends on torch\n    pdf2zh 1.7.5 depends on torch\n\nTo fix this you could try to:\n1. loosen the range of package versions you've specified\n2. remove package versions to allow pip to attempt to solve the dependency conflict\n\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts\n```\n如有好的建议，更期待未来提供更好的支持。\n",
      "state": "closed",
      "author": "HougeLangley",
      "author_type": "User",
      "created_at": "2025-01-18T16:03:19Z",
      "updated_at": "2025-03-18T07:35:46Z",
      "closed_at": "2025-03-18T07:35:45Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/485/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/485",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/485",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.498912",
      "comments": [
        {
          "author": "HougeLangley",
          "body": "如果选择 pdf2zh==1.8.8 会提示下信息：\n\n```\n(pdf2zh) houge@archlinux: /home/houge  \n➜   python --version     \nPython 3.12.8\n(pdf2zh) houge@archlinux: /home/houge  \n➜   pip install pdf2zh==1.8.8\nCollecting pdf2zh==1.8.8\n  Using cached pdf2zh-1.8.8-py3-none-any.whl.metadata (15 kB)\nCollecting azure-ai-translation",
          "created_at": "2025-01-18T16:07:32Z"
        },
        {
          "author": "Byaidu",
          "body": "你可能需要让onnx加个riscv的支持",
          "created_at": "2025-01-18T16:31:25Z"
        },
        {
          "author": "HougeLangley",
          "body": "> 你可能需要让onnx加个riscv的支持\n\n感谢，我安装 onnxruntime 试试看",
          "created_at": "2025-01-19T11:15:31Z"
        },
        {
          "author": "hellofinch",
          "body": "可能也还需要torch的支持。",
          "created_at": "2025-01-20T01:19:12Z"
        },
        {
          "author": "HougeLangley",
          "body": "> 可能也还需要torch的支持。\n\n好的，我研究下",
          "created_at": "2025-01-20T02:23:01Z"
        }
      ]
    },
    {
      "issue_number": 497,
      "title": "请问便携式安装报错【'pdf2zh' 不是内部或外部命令，也不是可运行的程序】应该如何解决",
      "body": "![Image](https://github.com/user-attachments/assets/ddb9a620-9b15-4b38-b0a5-07997d3e3f1f)\n\n如图所示，重新下载的最新的文件包打开，这样报错是什么问题呀，如何解决呢？",
      "state": "closed",
      "author": "ohzy66",
      "author_type": "User",
      "created_at": "2025-01-20T10:29:00Z",
      "updated_at": "2025-03-18T07:35:06Z",
      "closed_at": "2025-03-18T07:35:00Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/497/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/497",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/497",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.676529",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请把你输入的命令也截图展示出来。或者如果您是直接双击.bat打开的，那也回复我一下。",
          "created_at": "2025-01-20T11:02:45Z"
        },
        {
          "author": "wojiufukele1",
          "body": "我也是这个问题",
          "created_at": "2025-01-20T11:04:00Z"
        },
        {
          "author": "jianzhe2011",
          "body": "便携版没有使用命令行，右键管理员打开setup.bat\n也出现了一样的报错\n\n  Installing build dependencies ... done\n  Getting requirements to build wheel ... done\nERROR: Exception:\nTraceback (most recent call last):\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 105, in _run_wrapper\n",
          "created_at": "2025-01-20T15:33:50Z"
        },
        {
          "author": "ohzy66",
          "body": "> 请把你输入的命令也截图展示出来。或者如果您是直接双击.bat打开的，那也回复我一下。\n\n你好，我是直接双击打开的，其他的什么都没动，上一个版本就出现这个问题，我把所有文件删除重新下载了最新的也是这样",
          "created_at": "2025-01-20T16:59:35Z"
        },
        {
          "author": "hellofinch",
          "body": "错误可复现，但是需要研究研究为什么。",
          "created_at": "2025-01-21T07:06:18Z"
        }
      ]
    },
    {
      "issue_number": 326,
      "title": "翻译文档会遇到编码问题",
      "body": "## 问题描述\r\n翻译文档的时候，有的文档具有非u8的编码，就会报错。\r\n希望程序可以自动跳过错误的地方，而不是报错停止程序。\r\n[test.pdf](https://github.com/user-attachments/files/18227801/test.pdf)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xbb in position 7: invalid start byte\r\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\r\n\r\n\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xbb in position 7: invalid start byte\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n",
      "state": "closed",
      "author": "FLASElxx",
      "author_type": "User",
      "created_at": "2024-12-23T09:29:51Z",
      "updated_at": "2025-03-18T07:33:57Z",
      "closed_at": "2025-03-18T07:33:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/326/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/326",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/326",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:07.877174",
      "comments": [
        {
          "author": "charles7668",
          "body": "這個問題應該已在 d2d36bda0cf567511df375c0dff716b36a223a8c 處理了",
          "created_at": "2024-12-26T04:01:10Z"
        },
        {
          "author": "reycn",
          "body": "如楼上所说已解决，暂时关闭。",
          "created_at": "2025-03-18T07:33:55Z"
        }
      ]
    },
    {
      "issue_number": 309,
      "title": "在docker镜像中添加socksio以支持代理",
      "body": "## 功能描述\r\n希望能在docker镜像中添加socksio以支持环境变量配置代理\r\n`docker-compose.yml`\r\n```yaml\r\nservices:\r\n  pdf2zh:\r\n    ports:\r\n      - 27860:7860\r\n    image: byaidu/pdf2zh\r\n    restart: unless-stopped\r\n    extra_hosts:\r\n      - host.docker.internal:host-gateway\r\n    environment:\r\n      - https_proxy=http://host.docker.internal:7890\r\n      - http_proxy=http://host.docker.internal:7890\r\n      - all_proxy=socks5://host.docker.internal:7890\r\n```\r\n日志:\r\n```\r\npdf2zh-1  | Traceback (most recent call last):\r\npdf2zh-1  |   File \"/usr/local/bin/pdf2zh\", line 5, in <module>\r\npdf2zh-1  |     from pdf2zh.pdf2zh import main\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\r\npdf2zh-1  |     from pdf2zh.high_level import translate, translate_stream\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 13, in <module>\r\npdf2zh-1  |     from pdf2zh.converter import TranslateConverter\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/converter.py\", line 19, in <module>\r\npdf2zh-1  |     from pdf2zh.translator import (\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/pdf2zh/translator.py\", line 8, in <module>\r\npdf2zh-1  |     import ollama\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/ollama/__init__.py\", line 38, in <module>\r\npdf2zh-1  |     _client = Client()\r\npdf2zh-1  |               ^^^^^^^^\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/ollama/_client.py\", line 115, in __init__\r\npdf2zh-1  |     super().__init__(httpx.Client, host, **kwargs)\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/ollama/_client.py\", line 95, in __init__\r\npdf2zh-1  |     self._client = client(\r\npdf2zh-1  |                    ^^^^^^^\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/httpx/_client.py\", line 708, in __init__\r\npdf2zh-1  |     else self._init_proxy_transport(\r\npdf2zh-1  |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/httpx/_client.py\", line 762, in _init_proxy_transport\r\npdf2zh-1  |     return HTTPTransport(\r\npdf2zh-1  |            ^^^^^^^^^^^^^^\r\npdf2zh-1  |   File \"/usr/local/lib/python3.12/site-packages/httpx/_transports/default.py\", line 178, in __init__\r\npdf2zh-1  |     raise ImportError(\r\npdf2zh-1  | ImportError: Using SOCKS proxy, but the 'socksio' package is not installed. Make sure to install httpx using `pip install httpx[socks]`.\r\npdf2zh-1 exited with code 0\r\n```\r\n",
      "state": "closed",
      "author": "WallBreakerNO4",
      "author_type": "User",
      "created_at": "2024-12-21T05:17:42Z",
      "updated_at": "2025-03-18T07:33:02Z",
      "closed_at": "2025-03-18T07:33:01Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/309/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/309",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/309",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:08.079599",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "把 `- all_proxy=socks5://host.docker.internal:7890`的socks5改成http试试",
          "created_at": "2024-12-21T17:49:14Z"
        },
        {
          "author": "reycn",
          "body": "楼上的解决方案应该就行，暂时关闭。如有相关后续问题请指出我们重开。",
          "created_at": "2025-03-18T07:33:01Z"
        }
      ]
    },
    {
      "issue_number": 339,
      "title": "希望增加在linux上增加持久性http api服务和nodejs包支持",
      "body": "## 1.希望增加在linux上增加持久性http api服务\r\n目前在linux上只能在终端输入命令来维持api进程，出现断连情况\r\n```\r\nHTTP\r\npip install pdf2zh[backend]\r\npdf2zh --flask\r\npdf2zh --celery worker\r\n```\r\n## 2.希望增加nodejs包支持\r\n更适合高并发或者高密度I/O的应用程序，更容易在其他应用中进行嵌入",
      "state": "closed",
      "author": "HPUhushicheng",
      "author_type": "User",
      "created_at": "2024-12-25T12:01:36Z",
      "updated_at": "2025-03-18T07:32:29Z",
      "closed_at": "2025-03-18T07:32:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/339/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/339",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/339",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:08.303593",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "1. 您可以看下 systemd 服务\r\n2. 估摸着得等有缘人",
          "created_at": "2024-12-25T15:55:17Z"
        },
        {
          "author": "awwaawwa",
          "body": "除了systemd，您还可以看一下 docker",
          "created_at": "2024-12-25T15:59:36Z"
        },
        {
          "author": "reycn",
          "body": "似乎 docker 或者一个 systemd config 就能实现，暂时关闭。",
          "created_at": "2025-03-18T07:32:29Z"
        }
      ]
    },
    {
      "issue_number": 683,
      "title": "feat (output): translation by paragraphs and lines",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前的对照翻译是页面对照，一面原文一面译文，逐段对照则是一段原文一段译文。\n逐段对照有个优势，查找译文对应的原文更方便，因为两者的距离更近。\n“沉浸式翻译”就提供PDF的逐段对照功能，盼望PDFMathTranslate能跟进。\n\n![Image](https://github.com/user-attachments/assets/fc7fbee6-f7eb-4a68-93bc-69e5c6f010f2)\n\n就是不知道在现有的工具下，实现起来难度如何。\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2025-02-25T00:14:35Z",
      "updated_at": "2025-03-18T07:31:39Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/683/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/683",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/683",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:08.480538",
      "comments": [
        {
          "author": "hellofinch",
          "body": "比较有难度，而且已经有现成的工具的话，没有必要重复造轮子了。",
          "created_at": "2025-02-25T01:08:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "本项目还是想专注于搞保留排版翻译，重排翻译就让PDF Pro等基于OCR解析然后重排版的来做吧。",
          "created_at": "2025-02-25T06:59:55Z"
        },
        {
          "author": "awwaawwa",
          "body": "又想了想，说不准也能搞出来？先挂着吧",
          "created_at": "2025-02-25T08:02:22Z"
        }
      ]
    },
    {
      "issue_number": 557,
      "title": "Line by Line translation",
      "body": "I'd love to translate PDF line by line in a fashion similar to Immersive Translate, whereby each paragraph e.g., one ending up with ., !, ?, etc, would have its respective translation right beneath it or as annotation.",
      "state": "closed",
      "author": "kqvanity",
      "author_type": "User",
      "created_at": "2025-01-31T16:47:18Z",
      "updated_at": "2025-03-18T07:31:14Z",
      "closed_at": "2025-03-18T07:31:12Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/557/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/557",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/557",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:08.657264",
      "comments": [
        {
          "author": "reycn",
          "body": "Merged with [Issue #683](https://github.com/Byaidu/PDFMathTranslate/issues/683)",
          "created_at": "2025-03-18T07:31:12Z"
        }
      ]
    },
    {
      "issue_number": 545,
      "title": "可以后续更新支持deepseek么",
      "body": "## 功能描述\n请描述需要添加的功能，以及是否有类似项目可以参考\n大佬大佬，我今天试了deepseek的翻译觉得，翻译的真实非常好，能不能后续更新一下，再支持使用deepseek",
      "state": "closed",
      "author": "pengpengyang94",
      "author_type": "User",
      "created_at": "2025-01-28T05:02:59Z",
      "updated_at": "2025-03-18T07:30:11Z",
      "closed_at": "2025-03-18T07:30:10Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/545/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/545",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/545",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:08.827976",
      "comments": [
        {
          "author": "Byaidu",
          "body": "服务列表已经有deepseek了，为啥会提这个issue呢",
          "created_at": "2025-01-28T05:33:43Z"
        },
        {
          "author": "kio235",
          "body": "ollama部署的deepseek-r1模型持续报错：\n```\nResponse too long\nERROR:pdf2zh.converter:All models failed\n```\n同样使用ollama部署的qwen2.5没有这个问题",
          "created_at": "2025-01-28T06:54:53Z"
        },
        {
          "author": "CmosVocF",
          "body": "> ollama部署的deepseek-r1：：\n> \n> ```\n> Response too long\n> ERROR:pdf2zh.converter:All models failed\n> ```\n> \n> 同样使用ollama部署的qwen2.5没有这个问题\n\n我也是ollama+deepseek。\n我也是跟你同样的报错，后来发现了，他是把deepseek输出的<think>的思考过程也包含进来了。所以too long。希望能修复这个问题。\n@Byaidu \n\n![Image](https://github.com/user-attachments/assets/31721839-c",
          "created_at": "2025-01-28T10:59:28Z"
        },
        {
          "author": "wuboc",
          "body": "直接调用deepseek的api也会报错：ERROR:pdf2zh.converter:Expecting value: line 1 column 1 (char 0)",
          "created_at": "2025-02-06T01:48:44Z"
        },
        {
          "author": "Ryze110",
          "body": "调用deepseek的API时，报错ERROR:pdf2zh.converter:Expecting value: line 1 column 1 (char 0)",
          "created_at": "2025-02-06T09:08:15Z"
        }
      ]
    },
    {
      "issue_number": 554,
      "title": "无法调用API，无法预览pdf",
      "body": "![Image](https://github.com/user-attachments/assets/e26c6b97-1c88-47fd-98db-fe36a31fa216)\n请问为什么我在桌面部署好软件后，打开了链接，上传文件无法预览，左边的诛项服务我也无法显示调用API，这是什么情况啊？我挂着梯子。",
      "state": "closed",
      "author": "Shawn178",
      "author_type": "User",
      "created_at": "2025-01-31T10:43:53Z",
      "updated_at": "2025-03-18T07:29:39Z",
      "closed_at": "2025-03-18T07:29:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/554/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/554",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/554",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.013982",
      "comments": [
        {
          "author": "DLWangSan",
          "body": "这个是代理软件的问题，修改为直连，或者改代理规则之后就解决了",
          "created_at": "2025-02-06T13:30:28Z"
        },
        {
          "author": "SomeTestZero",
          "body": "> 这个是代理软件的问题，修改为直连，或者改代理规则之后就解决了\n\n我也遇到了这个问题，麻烦问一下，这里的修改代理规则是如何修改成什么代理规则了",
          "created_at": "2025-02-11T05:55:19Z"
        },
        {
          "author": "DLWangSan",
          "body": "> > 这个是代理软件的问题，修改为直连，或者改代理规则之后就解决了\n> \n> 我也遇到了这个问题，麻烦问一下，这里的修改代理规则是如何修改成什么代理规则了\n\n得看你用的是什么代理软件了，把0.0.0.0的ip全部设为直连。如果用的是v2ray，直接右键状态栏图标选择“清除系统代理”，马上就可以了预览。【前提是你的报错和题注一样，有Error launching GUI using .0.0.0.This may be caused by global mode of proxy software的提示】",
          "created_at": "2025-02-11T07:51:54Z"
        },
        {
          "author": "reycn",
          "body": "代理问题请参考楼上解决方案。暂时关闭。",
          "created_at": "2025-03-18T07:29:39Z"
        }
      ]
    },
    {
      "issue_number": 548,
      "title": "404 Not Found when using openai gpt4o mini",
      "body": "openai 的key是有效的，在别的地方也使用中。\n无论是webui，还是cmd的指令，全部出现 “404 Not Found”\n\nERROR:pdf2zh.converter:<html>\n<head><title>404 Not Found</title></head>\n<body>\n<center><h1>404 Not Found</h1></center>\n<hr><center>nginx</center>\n</body>\n</html>",
      "state": "closed",
      "author": "wolfryu",
      "author_type": "User",
      "created_at": "2025-01-28T10:53:59Z",
      "updated_at": "2025-03-18T07:29:03Z",
      "closed_at": "2025-03-18T07:29:02Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/548/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/548",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/548",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.183846",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Isn't the base URL configured correctly?",
          "created_at": "2025-01-30T06:13:39Z"
        },
        {
          "author": "wolfryu",
          "body": "@awwaawwa 感谢回复\n我用的webui，base url不是我填，选择后，它显示的就是 https://api.openai.com/v1\n我问过gpt4o，它说这个base url没有错。\n然后cmd界面，用的也是这个url\n\nset OPENAI_BASE_URL=https://api.openai.com/v1 \nset OPENAI_API_KEY=sk-proj-xxxxxxxx\npdf2zh 2407.02351v2.pdf -s openai:gpt-4o\n\n运行之后，不停的报404错误，无法退出，只能强制关闭。",
          "created_at": "2025-01-30T06:55:47Z"
        },
        {
          "author": "awwaawwa",
          "body": "@wolfryu 这个我没碰到过，得看其他大佬了",
          "created_at": "2025-01-30T08:51:26Z"
        },
        {
          "author": "hellofinch",
          "body": "> nginx\n\n这是什么？nginx？",
          "created_at": "2025-02-10T02:08:26Z"
        },
        {
          "author": "reycn",
          "body": "看起来是 Nginx 反代配置错误，如果您尝试直接访问本地 webui 后仍然有错误，请再次提醒一下我们。暂时关闭。",
          "created_at": "2025-03-18T07:29:03Z"
        }
      ]
    },
    {
      "issue_number": 685,
      "title": "API 重复翻译相同文件，报错",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:docker\n- Python:3.12.9\n- pdf2zh:1.9.2rc0\n```\n\n### Describe the bug\n\n```\ncurl http://localhost:11008/v1/translate -F \"file=@2501.12948v4.pdf\" -F \"data={\\\"lang_in\\\":\\\"en\\\",\\\"lang_out\\\":\\\"zh\\\",\\\"service\\\":\\\"ollama\\\",\\\"thread\\\":4}\"\n```\n第一可以正常翻译\n第二次执行，查询状态：{\"state\":\"FAILURE\"}",
      "state": "closed",
      "author": "haowaiwai",
      "author_type": "User",
      "created_at": "2025-02-25T08:18:36Z",
      "updated_at": "2025-03-18T07:24:26Z",
      "closed_at": "2025-03-18T07:24:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/685/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/685",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/685",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.369837",
      "comments": [
        {
          "author": "hellofinch",
          "body": "最新版本无法复现，请更新版本后再尝试。@haowaiwai\n",
          "created_at": "2025-03-12T06:44:10Z"
        }
      ]
    },
    {
      "issue_number": 546,
      "title": "调用大模型api翻译时报错，进度条卡在6.3",
      "body": "调用gemini, groq等大语言模型api时进度条永远卡在6.3如下图所示\n\n![Image](https://github.com/user-attachments/assets/7fac49b7-1a1d-4741-861b-7cea58bfebab)\n\n报错信息如下图所示\n\n![Image](https://github.com/user-attachments/assets/2b65218e-6853-4999-9588-654e5ac4a31c)\n",
      "state": "closed",
      "author": "hxuoc",
      "author_type": "User",
      "created_at": "2025-01-28T09:45:19Z",
      "updated_at": "2025-03-18T07:23:40Z",
      "closed_at": "2025-03-18T07:23:38Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/546/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/546",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/546",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.520040",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please provide the PDF file for easy reproduction",
          "created_at": "2025-01-30T06:14:08Z"
        },
        {
          "author": "hxuoc",
          "body": "> Please provide the PDF file for easy reproduction\n\nThe pdf file is not important, it's not a problem with the pdf file.",
          "created_at": "2025-01-30T06:24:15Z"
        },
        {
          "author": "Doujiang2333",
          "body": "change a simple filename, like aaa.pdf",
          "created_at": "2025-02-09T14:50:11Z"
        },
        {
          "author": "hxuoc",
          "body": "> change a simple filename, like aaa.pdf\n\nI tried your method, but it is not working as well.",
          "created_at": "2025-02-09T17:36:30Z"
        },
        {
          "author": "reycn",
          "body": "看起来确实是转换器的问题，我们可能需要 pdf 文件才能测试解决。",
          "created_at": "2025-03-18T07:23:39Z"
        }
      ]
    },
    {
      "issue_number": 566,
      "title": "Error: 'NoneType' object has no attribute 'predict'",
      "body": "Hello, \nToday I set up an Ubuntu 24 server with venv python and tried to install pdf2zh. \nHowever, when I created a simple script,which works fine in my windows computer, Error: 'NoneType' object has no attribute 'predict'. It failed in the first page.\nHowever, if I try by console pdf2zh 1.pdf it works fine. How can I solve it?\nThank you in advance\n\nThe script:\nfrom pdf2zh import translate, translate_stream\n\ntest_pdf = \"1.pdf\"  # Simulated PDF content\nparams = {\n    \"lang_in\": \"en\",\n    \"lang_out\": \"pt\",\n    \"service\": \"google\",\n    \"thread\": 4,\n}\n\ntry:\n    print(\"Translating PDF...\")\n    with open('1.pdf', 'rb') as f:\n        (stream_mono, stream_dual) = translate_stream(stream=f.read(), **params)\n    mono_dest = \"mono.pdf\"\n    dual_dest = \"dual.pdf\"\n\n    with open(mono_dest, \"wb\") as mono_file:\n        mono_file.write(stream_mono)\n\n    with open(dual_dest, \"wb\") as dual_file:\n        dual_file.write(stream_dual)\n    print(\"Translation success!\")\nexcept Exception as e:\n    print(f\"Error: {e}\")\n\nPs: The problem isn't the with open...\n",
      "state": "closed",
      "author": "Jose-Maria-Martins",
      "author_type": "User",
      "created_at": "2025-02-03T18:25:48Z",
      "updated_at": "2025-03-18T07:18:54Z",
      "closed_at": "2025-03-18T07:18:53Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/566/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/566",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/566",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.696629",
      "comments": [
        {
          "author": "Jose-Maria-Martins",
          "body": "Problem solved installing v=1.8.8",
          "created_at": "2025-02-03T18:45:57Z"
        },
        {
          "author": "reycn",
          "body": "Glad to see it resolved.",
          "created_at": "2025-03-18T07:18:53Z"
        }
      ]
    },
    {
      "issue_number": 702,
      "title": "Issue with pdf2zh Installation in Conda Environment and Solution",
      "body": "### Is your feature request related to a problem?\n\n# Issue with pdf2zh Installation in Conda Environment and Solution\n\n## Problem Description\nWhile installing `pdf2zh` inside a Conda environment on Windows, I encountered an issue where the `pdf2zh` command was not recognized in PowerShell, despite the package being successfully installed.\n\n### Symptoms:\n1. Running `pdf2zh -i` resulted in:\n   ```\n   pdf2zh : The term 'pdf2zh' is not recognized as the name of a cmdlet, function, script file, or operable program.\n   ```\n2. Checking the installation with:\n   ```powershell\n   pip show pdf2zh\n   ```\n   revealed that `pdf2zh` was installed in:\n   ```\n   C:\\Users\\alice\\AppData\\Roaming\\Python\\Python310\\site-packages\n   ```\n   instead of the Conda environment’s local `site-packages`.\n\n3. The `Scripts` directory of the Conda environment did **not** contain `pdf2zh.exe` or any related command.\n\n### Possible Cause:\nBy default, `pip` may install packages into the **user-level** site-packages (`%APPDATA%/Python/Python310/site-packages`) instead of the Conda environment’s directory. This causes:\n- The executable scripts (like `pdf2zh.exe`) not being placed inside the Conda environment’s `Scripts` folder.\n- `pdf2zh` being available as a Python module but **not** as a recognized command in PowerShell or CMD.\n\n\n## Why I’m Sharing This\nThis issue might affect other users who install `pdf2zh` in Conda environments, particularly on Windows. Since `pip` sometimes defaults to user-level installation, it can create confusion when trying to execute the `pdf2zh` command.\n\nIf possible, it might be helpful to include a note in the `README.md` or installation guide about ensuring the package is installed within the Conda environment.\n\nI hope this helps others avoid the same frustration I faced! 🚀\n\n\n\n### Describe the solution you'd like\n\n\n\n## Solution: Install pdf2zh Inside the Conda Environment\n\n### 1. **Uninstall the User-Level Installation**\nTo prevent conflicts and ensure a clean installation:\n```powershell\npip uninstall pdf2zh\n```\n\n### 2. **Reinstall with `--no-user` Option**\nThis ensures `pdf2zh` is installed only inside the Conda environment:\n```powershell\npip install pdf2zh --no-user\n```\n\n### 3. **Verify the Installation**\nCheck if `pdf2zh` is now available:\n```powershell\nGet-Command pdf2zh\n```\nIf the command is recognized, it should now point to the correct path inside:\n```\nC:\\Users\\alice\\.conda\\envs\\pdf2zh\\Scripts\\pdf2zh.exe\n```\n\n---\n\n## Additional Notes\n1. If `pdf2zh -i` still does not work, you can try running it using Python directly:\n   ```powershell\n   python -m pdf2zh -i\n   ```\n   However, the `--no-user` installation should make the CLI command available.\n\n2. If the Conda environment’s `Scripts` folder is missing from `PATH`, manually add it:\n   ```powershell\n   $env:PATH = \"$env:CONDA_PREFIX\\Scripts;\" + $env:PATH\n   ```\n\n---\n\n\n### Additional context\n\n좋은 프로그램 알려주셔서 감사합니다~",
      "state": "closed",
      "author": "Rukkha1024",
      "author_type": "User",
      "created_at": "2025-03-01T05:02:05Z",
      "updated_at": "2025-03-18T07:13:05Z",
      "closed_at": "2025-03-18T07:13:05Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/702/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/702",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/702",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:09.873921",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "After https://github.com/Byaidu/PDFMathTranslate/issues/673 is completed, I will add it to the FAQ. Thank you!",
          "created_at": "2025-03-01T13:04:39Z"
        },
        {
          "author": "reycn",
          "body": "Thank you!",
          "created_at": "2025-03-18T07:13:05Z"
        }
      ]
    },
    {
      "issue_number": 758,
      "title": "api请求",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windosws11\n- Python:\n- pdf2zh:v1.9\n```\n\n### 描述你的问题\n\n在调用API接口进行翻译的时候，均显示API_Access Deny,即API接入失败。对于使用的API，已在官网和其他API接口地方进行检验，额度充足且能正常使用。涉及的API包括Deeplx,OpenAI,Gemini,deepseek和Grok\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Simon-Zhang017",
      "author_type": "User",
      "created_at": "2025-03-13T09:46:38Z",
      "updated_at": "2025-03-18T07:12:36Z",
      "closed_at": "2025-03-18T07:12:34Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/758/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/758",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/758",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:10.076232",
      "comments": [
        {
          "author": "hellofinch",
          "body": "deeplx的API和你提到的另外的都不一样，都提示API错误吗？请再提供一些控制台的log日志吧。\n另外再确认几个问题：\n1. 使用的什么样的安装方式？pip install，exe还是docker？\n2. 如果使用的是pip install 或者 exe的方式，请检查一下默认的配置文件中的内容。在用户目录下的`.config/PDFMathTranslate/`\n3. 是否使用的是最新的版本？具体版本号给一下。",
          "created_at": "2025-03-13T10:17:13Z"
        },
        {
          "author": "Simon-Zhang017",
          "body": "1：使用的是exe安装方式，具体版本号为V1.9.6，用户目录下配置如下图1\n2：使用deeplx的API错误提示如下图2\n3：使用gemini的API错误提示如下图3\n4：使用deepseek的API错误提示如下图4（deepkseek经常卡住不动）\n(上述API Key均已检查无误，且额度充足，并在其余API接口处已进行调用检验)\n![Image](https://github.com/user-attachments/assets/cbd13130-4b97-48bb-8d80-97f1425fed0a)\n\n![Image](https://github.com/user-attachm",
          "created_at": "2025-03-14T01:43:46Z"
        },
        {
          "author": "hellofinch",
          "body": "1. deeplx的使用请确认一下对应提供商给的示例，现在个url中包含了`<>`，我觉得可能有问题，不过应该可以确定的是API应该是正确的，确认一下URL。\n2. gemini的报错说明已经很清楚了，你所在的地区不支持API调用，目前这个地方我们没有设置对于的代理设置，要是你在API非支持地区的一定是不能用的。\n3. deepseek卡，是正常的，服务器响应不过来，可以考虑尝试您地区支持的大模型厂商的产品。",
          "created_at": "2025-03-14T02:25:07Z"
        },
        {
          "author": "Simon-Zhang017",
          "body": "好的，非常感谢。另外多问一下，如果我通过代理设置使用gemini API，那么配置文件中需要做什么改动吗",
          "created_at": "2025-03-14T02:28:36Z"
        },
        {
          "author": "hellofinch",
          "body": "暂时没这个功能，你要是设置全局的话，会导致webUI启动不了。所以推荐使用所在地区支持的大模型API。",
          "created_at": "2025-03-14T02:40:44Z"
        }
      ]
    },
    {
      "issue_number": 723,
      "title": "能否加入火山引擎（volcengine）的api接入口？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n字节跳动下面的火山引擎最近的活动可五折使用deepseek，其限额度为30000 RPM和5000000 TPM的大额上限，很适宜翻译大部头的文献著作，用硅基翻译稍微大一点的文本就限流。\n\n![Image](https://github.com/user-attachments/assets/55e7c398-877a-47fc-9fdf-abf2f730cd31)\n\n### 解决方案\n\n希望作者能加入火山引擎（volcengine）的api接口\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "arthurbao1",
      "author_type": "User",
      "created_at": "2025-03-04T16:28:34Z",
      "updated_at": "2025-03-18T07:11:19Z",
      "closed_at": "2025-03-18T07:11:18Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/723/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/723",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/723",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:10.275108",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用openailiked。火山支持openai兼容api。\n\nbaseurl：https://ark.cn-beijing.volces.com/api/v3\n模型名称应该是deepseek-v3-241226和deepseek-r1-250120吧。如果不是的话就是那个epxxxxx",
          "created_at": "2025-03-04T16:34:54Z"
        },
        {
          "author": "awwaawwa",
          "body": "想了想还是不close了，期待一个好心人整一下",
          "created_at": "2025-03-04T16:35:55Z"
        },
        {
          "author": "hellofinch",
          "body": "没有和openai api兼容有差异的地方，也没有自己的独特功能，没必要弄那么多复制粘贴几乎一致的内容。\n我的建议是所有openai api兼容的服务全用一个，但是config系统需要针对多个openai兼容做设置。",
          "created_at": "2025-03-05T01:11:23Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 没有和openai api兼容有差异的地方，也没有自己的独特功能，没必要弄那么多复制粘贴几乎一致的内容。 我的建议是所有openai api兼容的服务全用一个，但是config系统需要针对多个openai兼容做设置。\n\n赞成，等新config好了来整吧",
          "created_at": "2025-03-05T02:08:50Z"
        },
        {
          "author": "reycn",
          "body": "请使用楼上提及的方式，文档参见 https://arc.net/l/quote/cxmezrnj 。Issue 暂时关闭，如果遇到 Bug 我们重开。",
          "created_at": "2025-03-18T07:11:18Z"
        }
      ]
    },
    {
      "issue_number": 724,
      "title": "feat (service): support MTranServer",
      "body": "### 在什么场景下，需要你请求的功能？\n\nhttps://github.com/xxnuo/MTranServer\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-03-05T05:19:53Z",
      "updated_at": "2025-03-18T07:10:31Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/724/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/724",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/724",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:10.433198",
      "comments": [
        {
          "author": "hellofinch",
          "body": "这个还在积极更新，对应的service可以添加，但是我个人认为可以稍微等一等。\n目前看这个仓库里只有docker相关的内容，有些单薄，担心后续乏力。",
          "created_at": "2025-03-05T06:38:35Z"
        }
      ]
    },
    {
      "issue_number": 445,
      "title": "能不能用上传图片的形式给大模型来翻译啊？",
      "body": "## 功能描述\r\n直接用图片给Gemini、豆包、gpt等大模型进行内容提取识别翻译，速度和正确率都更好，而且公式可以直接用markdown、latex形式展示。识别出来的内容按段落、位置划分，粘贴回原本的位置，这样正确率、bug感觉应该更少？\r\n我个人有时候喜欢用豆包直接整篇论文扔过去，输出的内容除了位置比较难认，公式、通顺、专业准确率都非常高！！希望大佬可以做一做。\r\n![屏幕截图 2025-01-09 171115](https://github.com/user-attachments/assets/1f3daebd-7c1c-42c3-901d-65fd726ecb9c)\r\n",
      "state": "closed",
      "author": "Eser-Tired",
      "author_type": "User",
      "created_at": "2025-01-09T09:11:36Z",
      "updated_at": "2025-03-18T07:08:05Z",
      "closed_at": "2025-03-18T07:08:03Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/445/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 1,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/445",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/445",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:10.603910",
      "comments": [
        {
          "author": "Eser-Tired",
          "body": "这种方式来翻译，感觉纯图版pdf也可以得到解决",
          "created_at": "2025-01-09T09:15:47Z"
        },
        {
          "author": "hellofinch",
          "body": "考虑过非大模型的场景吗？",
          "created_at": "2025-01-09T09:42:11Z"
        },
        {
          "author": "awwaawwa",
          "body": "难点在于：识别出来的内容按段落、位置划分，粘贴回原本的位置。\r\n实际上，你这个只是解决了从PDF指定位置提取文字的问题，并没有解决本项目最大的难题：如何从PDF上提取排版信息。\r\n当获取到排版信息之后，其实可以很轻松的从纯电子版PDF上提取文字内容，然后丢给大模型翻译，最后再摆回去。就算是扫描版，也就是一个简单的OCR就能解决。\r\n当没有排版信息时，尽管大模型输出了内容，但是我也贴不回去啊...........",
          "created_at": "2025-01-09T10:26:32Z"
        },
        {
          "author": "Eser-Tired",
          "body": "> 难点在于：识别出来的内容按段落、位置划分，粘贴回原本的位置。\n> 实际上，你这个只是解决了从PDF指定位置提取文字的问题，并没有解决本项目最大的难题：如何从PDF上提取排版信息。\n> 当获取到排版信息之后，其实可以很轻松的从纯电子版PDF上提取文字内容，然后丢给大模型翻译，最后再摆回去。就算是扫描版，也就是一个简单的OCR就能解决。\n> 当没有排版信息时，尽管大模型输出了内容，但是我也贴不回去啊...........\n\n嗯嗯确实是，不过我发现豆包的输出内容其实已经是按照我给出的图片按段落给出，只是缺少了缩进（连公式都是按照原文单独一行显示，）我在想或许通过OCR来分割文字段落位置或许是可行",
          "created_at": "2025-01-09T10:39:04Z"
        },
        {
          "author": "awwaawwa",
          "body": "但是只要分割好段落，就没有把图片塞给大模型的必要了啊.....我可以很轻松的把pdf转成文字塞给大模型，还能省点钱。",
          "created_at": "2025-01-09T10:40:26Z"
        }
      ]
    },
    {
      "issue_number": 777,
      "title": "1.9.6版本pip镜像",
      "body": "### 在什么场景下，需要你请求的功能？\n\n您好！我想在我家中的nas上进行部署，但没有网络环境，现有镜像基本为1.7.9，请问能否有1.9.6版本的pip镜像？\n\n### 解决方案\n\npip 1.9.6镜像\n\n### 其他内容\n\n感谢！",
      "state": "closed",
      "author": "EconomyBing",
      "author_type": "User",
      "created_at": "2025-03-17T17:18:03Z",
      "updated_at": "2025-03-18T07:05:55Z",
      "closed_at": "2025-03-18T06:57:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/777/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/777",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/777",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:10.806912",
      "comments": [
        {
          "author": "hellofinch",
          "body": "没有理解，是想使用docker吗？docker的话，除了docker hub外ghrc也有镜像。",
          "created_at": "2025-03-18T00:47:46Z"
        },
        {
          "author": "EconomyBing",
          "body": "您好，使用命令：pip install pdf2zh ，安装，加入镜像连接后只能拉取到1.7.9版本\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple pdf2zh\n我想安装1.9.6",
          "created_at": "2025-03-18T02:30:53Z"
        },
        {
          "author": "awwaawwa",
          "body": "您好，请使用python 3.10-3.12",
          "created_at": "2025-03-18T02:31:40Z"
        },
        {
          "author": "reycn",
          "body": "这个是清华大学的镜像同步延迟问题，我们无能为力抱歉。",
          "created_at": "2025-03-18T06:57:29Z"
        },
        {
          "author": "EconomyBing",
          "body": "> 您好，请使用python 3.10-3.12\n\n您好！非常感谢，我已成功部署。",
          "created_at": "2025-03-18T07:05:54Z"
        }
      ]
    },
    {
      "issue_number": 704,
      "title": "能够加入更多国内的大模型API？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前，可以使用的API大多为国外的大模型。国内的模型还没有，希望加入。例如百度ERNIE Speed/Lite/Tiny，讯飞Spark Lite 都还没有加入列表中。同时，希望能够整理API调用的说明文档和链接。\n\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Platttboy",
      "author_type": "User",
      "created_at": "2025-03-01T15:37:02Z",
      "updated_at": "2025-03-18T07:03:39Z",
      "closed_at": "2025-03-18T07:03:38Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/704/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/704",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/704",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:11.045842",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "这些国内的模型一般提供了openai兼容API，可以通过这种方式接入本程序，可以尝试一下。",
          "created_at": "2025-03-01T15:41:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "对于文档， 我有空时会搞一搞 https://github.com/Byaidu/PDFMathTranslate/issues/673 。之后，贡献文档就比较方便了，届时看社区大佬给撰写一下相关文档～",
          "created_at": "2025-03-01T15:42:49Z"
        },
        {
          "author": "reycn",
          "body": "如楼上所指出的，可以使用 OpenAI 兼容格式实现更多支持，详细参见 https://arc.net/l/quote/cxmezrnj。如果有特别的需要也欢迎开发者贡献。",
          "created_at": "2025-03-18T07:03:38Z"
        }
      ]
    },
    {
      "issue_number": 696,
      "title": "deepseek的API还是会报错哎",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:ERROR:pdf2zh.converter:Error code: 401 - {'error': {'message': 'Authentication Fails (no such user)', 'type': 'authentication_error', 'param': None, 'code': 'invalid_request_error'}}\n```\n\n### Describe the bug\n\ndeepseek开放API充值了，但是发现现在使用deepseek的API会报错：Error code: 401 - {'error': {'message': 'Authentication Fails (no such user)', 'type': 'authentication_error', 'param': None, 'code': 'invalid_request_error'}}\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "yifeigit",
      "author_type": "User",
      "created_at": "2025-02-26T17:09:28Z",
      "updated_at": "2025-03-18T07:02:31Z",
      "closed_at": "2025-03-18T07:02:31Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/696/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/696",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/696",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:11.238726",
      "comments": [
        {
          "author": "hellofinch",
          "body": "Authentication Fails (no such user)\n确认一下deepseek你真的能访问吗？这里提示可是没有该用户呀？",
          "created_at": "2025-02-27T01:28:22Z"
        },
        {
          "author": "yifeigit",
          "body": "可以访问，余额充足，apikey正确\r\n\r\n\r\n\r\n---原始邮件---\r\n发件人: ***@***.***&gt;\r\n发送时间: 2025年2月27日(周四) 上午9:28\r\n收件人: ***@***.***&gt;;\r\n抄送: ***@***.******@***.***&gt;;\r\n主题: Re: [Byaidu/PDFMathTranslate] deepseek的API还是会报错哎 (Issue #696)\r\n\r\n\r\n   \r\nAuthentication Fails (no such user)\r\n 确认一下deepseek你真的能访问吗？这里提示可是没有该用户呀？\r\n\r\n—\r\nR",
          "created_at": "2025-02-27T01:30:16Z"
        },
        {
          "author": "ProgrammerZXG",
          "body": "我一开始使用deepseek也有问题，然后pip install --upgrade pdf2zh之后就可以了。\n然后你可以试试用这里的调用对话API看看能不能正确输出（[https://api-docs.deepseek.com/zh-cn/](https://api-docs.deepseek.com/zh-cn/)）：\n\n`# Please install OpenAI SDK first: `pip3 install openai`\n\nfrom openai import OpenAI\n\nclient = OpenAI(api_key=\"<DeepSeek API Key>\", bas",
          "created_at": "2025-02-28T12:26:56Z"
        },
        {
          "author": "ProgrammerZXG",
          "body": "不过感觉目前deepseek的API还是很慢，可能用的人太多了",
          "created_at": "2025-02-28T12:27:49Z"
        },
        {
          "author": "Rukkha1024",
          "body": "아마도 서버 문제일겁니다",
          "created_at": "2025-03-01T05:03:49Z"
        }
      ]
    },
    {
      "issue_number": 719,
      "title": "Connection errored out.",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Win11\n- Python: 3.10.4\n- pdf2zh: pdf2zh -i\n```\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/97773a74-808f-468b-92e1-4cdc52bf4a59)\n\n![Image](https://github.com/user-attachments/assets/423affa3-1793-4aa7-a5d7-12d4ce0d6f6e)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "Riocod",
      "author_type": "User",
      "created_at": "2025-03-03T16:02:27Z",
      "updated_at": "2025-03-18T07:01:08Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/719/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/719",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/719",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:11.422563",
      "comments": [
        {
          "author": "hellofinch",
          "body": "看控制台上的输出，文件不是已经正常翻译结束了吗？",
          "created_at": "2025-03-04T01:13:38Z"
        },
        {
          "author": "Riocod",
          "body": "> 看控制台上的输出，文件不是已经正常翻译结束了吗？\n\n是的，翻译是结束了。但是文档不会加载出来，一旦翻译完成之后就会报“Connection errored out.”  ：）",
          "created_at": "2025-03-04T02:26:29Z"
        },
        {
          "author": "Riocod",
          "body": "> 看控制台上的输出，文件不是已经正常翻译结束了吗？\n\n顺便说一句，我安装pdf2zh 的方式是直接pip3 install pdf2zh 。这没问题吧？！",
          "created_at": "2025-03-04T02:36:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "换exe版试一下",
          "created_at": "2025-03-04T02:37:14Z"
        },
        {
          "author": "Riocod",
          "body": "> 换exe版试\n\n好的",
          "created_at": "2025-03-04T02:39:15Z"
        }
      ]
    },
    {
      "issue_number": 763,
      "title": "docker方式部署是否也可以使用config文件？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n请问docker方式部署如何挂在config文件，或者如何通过docker的ENV设置config文件路径？\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "ycz87",
      "author_type": "User",
      "created_at": "2025-03-14T05:15:31Z",
      "updated_at": "2025-03-18T06:59:33Z",
      "closed_at": "2025-03-18T06:59:32Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/763/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/763",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/763",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:11.681024",
      "comments": [
        {
          "author": "hellofinch",
          "body": "理论上可以挂载config文件，但是吧，目前config系统打算重新搞一下。不太推荐在docker里鼓捣。",
          "created_at": "2025-03-14T06:07:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "请等待 https://github.com/Byaidu/PDFMathTranslate/issues/737",
          "created_at": "2025-03-14T07:39:13Z"
        },
        {
          "author": "sjditadmin",
          "body": "我在docker里面，只能用默认的google引擎？我自定义了api，看docker logs，还是走的google引擎",
          "created_at": "2025-03-17T05:08:45Z"
        },
        {
          "author": "awwaawwa",
          "body": "> 我在docker里面，只能用默认的google引擎？我自定义了api，看docker logs，还是走的google引擎\n\npdf2zh v1.x已弃用。请等待pdf2zh v2.0 rc",
          "created_at": "2025-03-17T05:53:42Z"
        },
        {
          "author": "reycn",
          "body": "暂时关闭此请求，因为楼上的回复合并至 https://github.com/Byaidu/PDFMathTranslate/issues/737",
          "created_at": "2025-03-18T06:59:32Z"
        }
      ]
    },
    {
      "issue_number": 770,
      "title": "建议可以使用非官方的api",
      "body": "### 在什么场景下，需要你请求的功能？\n\n建议可以使用非官方的api\n\n### 解决方案\n\n建议可以使用非官方的api\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "abing7k",
      "author_type": "User",
      "created_at": "2025-03-15T13:51:37Z",
      "updated_at": "2025-03-18T06:58:42Z",
      "closed_at": "2025-03-18T06:58:41Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/770/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/770",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/770",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:11.915197",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请举出几个例子，非官方api到底是指什么？",
          "created_at": "2025-03-15T16:42:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "根据我现在对本项目的理解，本项目支持非官方api。",
          "created_at": "2025-03-15T16:42:20Z"
        },
        {
          "author": "sjditadmin",
          "body": "open ai like不就是非官方api吗",
          "created_at": "2025-03-17T05:06:00Z"
        },
        {
          "author": "reycn",
          "body": "本项目支持第三方 API 以及为了避免封号问题的安全中转 API，详细参见 https://arc.net/l/quote/cxmezrnj",
          "created_at": "2025-03-18T06:58:41Z"
        }
      ]
    },
    {
      "issue_number": 664,
      "title": "方式三安装失败",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win11\n- Python:3.12.7\n- pdf2zh:使用pip install pdf2zh安装\n```\n\n### 描述你的问题\n\n安装过程中有两项始终无法安装，不论怎么切换网络状态：\nDownloading gradio-5.17.1-py3-none-any.whl (62.3 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 0.2/62.3 MB ? eta -:--:--\n\nDownloading torch-2.6.0-cp312-cp312-win_amd64.whl (204.1 MB)\n   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 0.2/204.1 MB ? eta -:--:--\n最终代码：\nERROR: THESE PACKAGES DO NOT MATCH THE HASHES FROM THE REQUIREMENTS FILE. If you have updated the package versions, please update the hashes. Otherwise, examine the package contents carefully; someone may have tampered with them.\n    unknown package:\n        Expected sha256 0a128cafbe65a2e184bea1f3bc5e2d1cc1d3d477f4db340f4aefc53a15a00e6e\n             Got        a0d75c4342403e52c4309c392c3eca80b77ad2b614ad1db17241be5c25825d88\nTHANK,U\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "fuckrou",
      "author_type": "User",
      "created_at": "2025-02-22T01:29:54Z",
      "updated_at": "2025-03-17T15:42:40Z",
      "closed_at": "2025-02-22T20:21:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/664/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/664",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/664",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:12.244715",
      "comments": [
        {
          "author": "taxue-vernon",
          "body": "这个脚本我昨天用了，没问题的。Windows 11 24H2",
          "created_at": "2025-02-22T03:18:39Z"
        },
        {
          "author": "taxue-vernon",
          "body": "另外，我的电脑是没有Python环境的。\n看一下你的电脑是不是有你自己已经安装好的Python解释器。脚本里面并没有指定pip的路径，也没加环境PATH，用pip可能直接用的你自己装的解释器。不是自己新下载的解释器。",
          "created_at": "2025-02-22T03:20:57Z"
        },
        {
          "author": "awwaawwa",
          "body": "请用1.9.1版本提供的exe构建",
          "created_at": "2025-02-22T20:21:47Z"
        },
        {
          "author": "hellofinch",
          "body": "这个问题的出现应该是之前下载或部署没有完成，导致文件的sha值有问题。",
          "created_at": "2025-02-24T01:34:08Z"
        },
        {
          "author": "fuckrou",
          "body": "谢谢所有人，不过一时半会儿我也试不了了。等我有机会试一下。再次感谢诸位回复。\r\n\r\nhellofinch ***@***.***> 于2025年2月24日周一 09:34写道：\r\n\r\n> 这个问题的出现应该是之前下载或部署没有完成，导致文件的sha值有问题。\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/Byaidu/PDFMathTranslate/issues/664#issuecomment-2677270768>,\r\n> or unsubscribe\r\n> <https",
          "created_at": "2025-03-17T15:42:39Z"
        }
      ]
    },
    {
      "issue_number": 773,
      "title": "Feature Request – Better Text Recognition & OCR for Improved Translations",
      "body": "### Is your feature request related to a problem?\n\nYes, I’m always frustrated when some parts of a document aren’t translated because the text isn’t properly recognized. Right now, the system sometimes fails to extract all the text from normal PDFs, and it doesn’t work at all with scanned PDFs. This leads to incomplete translations, making it less reliable for important documents.\n\n### Describe the solution you'd like\n\nI’d like to see a more advanced text recognition system in place. This could involve improving the current text extraction model for normal PDFs and integrating OCR for scanned PDFs. With OCR support, scanned documents could be translated properly, making the tool much more useful.\n\n### Additional context\n\nBeing able to translate scanned documents would make this a much bigger and more valuable project. Many users need to handle scanned files, and adding OCR would open up new possibilities, expanding the tool’s reach and usability.",
      "state": "closed",
      "author": "Jose-Maria-Martins",
      "author_type": "User",
      "created_at": "2025-03-16T11:05:43Z",
      "updated_at": "2025-03-16T15:46:50Z",
      "closed_at": "2025-03-16T15:46:50Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/773/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/773",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/773",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:12.457733",
      "comments": []
    },
    {
      "issue_number": 611,
      "title": "动态链接库（DLL）初始化例程失败",
      "body": "我用bat快捷安装和命令行安装之后遇到同样的问题，运行pdf2zh提示\"动态链接库（DLL）初始化例程失败\"。请问如何解决？\n\n![Image](https://github.com/user-attachments/assets/0cc8e1e3-9934-43a2-a5b4-2c57a72c7c49)\n",
      "state": "closed",
      "author": "xuweiyer",
      "author_type": "User",
      "created_at": "2025-02-13T06:55:48Z",
      "updated_at": "2025-03-16T09:40:16Z",
      "closed_at": "2025-02-13T07:13:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 16,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/611/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/611",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/611",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:12.457754",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "安装最新MSVC运行库",
          "created_at": "2025-02-13T07:01:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redistributable-version",
          "created_at": "2025-02-13T07:01:49Z"
        },
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/549\nhttps://github.com/Byaidu/PDFMathTranslate/issues/516\nhttps://github.com/Byaidu/PDFMathTranslate/issues/451\n……",
          "created_at": "2025-02-13T07:02:08Z"
        },
        {
          "author": "xuweiyer",
          "body": "我试一下，非常感谢！\n祝好！\n---- 回复的原邮件 ----\n发件人 ***@***.***> 日期 2025年02月13日 15:02 收件人 ***@***.***> 抄送至 ***@***.***>***@***.***> 主题 Re: [Byaidu/PDFMathTranslate] 动态链接库（DLL）初始化例程失败 (Issue #611) \nhttps://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170#latest-microsoft-visual-c-redist",
          "created_at": "2025-02-13T07:13:01Z"
        },
        {
          "author": "xuweiyer",
          "body": "我试一下，非常感谢！\n祝好！\n---- 回复的原邮件 ----\n发件人 ***@***.***> 日期 2025年02月13日 15:02 收件人 ***@***.***> 抄送至 ***@***.***>***@***.***> 主题 Re: [Byaidu/PDFMathTranslate] 动态链接库（DLL）初始化例程失败 (Issue #611) \n#549\n#516\n#451\n……\n—\nReply to this email directly, view it on GitHub, or unsubscribe.\nYou are receiving this because you",
          "created_at": "2025-02-13T07:13:22Z"
        }
      ]
    },
    {
      "issue_number": 767,
      "title": "是否可以在 macOS 上运行",
      "body": "### 在什么场景下，需要你请求的功能？\n\n可以可以出一个在 macOS 上运行的方法\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Dramer66",
      "author_type": "User",
      "created_at": "2025-03-14T14:59:56Z",
      "updated_at": "2025-03-14T15:22:38Z",
      "closed_at": "2025-03-14T15:22:37Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/767/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/767",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/767",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:12.669156",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/92834240-fcc8-44e1-9a32-a27768c726a7)\n\n以上四种方法均可在macOS上运行。除此之外，您还可以使用 https://app.immersivetranslate.com/babel-doc/ 。\n",
          "created_at": "2025-03-14T15:22:37Z"
        }
      ]
    },
    {
      "issue_number": 766,
      "title": "Why circular dependency?",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windows 10\n- Python: 3.12.9\n- pdf2zh: 1.9.6\n```\n\n### 请选择安装方式\n\n源码\n\n### 描述你的问题\n\nWhy do I get this error when I run the gui directly, the last version worked fine.\n\n![Image](https://github.com/user-attachments/assets/1bda27b6-4782-466b-8a06-eb6db04a5ded)\n\n### 如何复现\n\n_No response_\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "Teresajw",
      "author_type": "User",
      "created_at": "2025-03-14T08:18:26Z",
      "updated_at": "2025-03-14T08:28:15Z",
      "closed_at": "2025-03-14T08:20:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/766/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/766",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/766",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:12.850519",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Historical legacy issue. You can run it by selecting the module in PyCharm.\n\n![Image](https://github.com/user-attachments/assets/2c3e3664-2634-4c31-b817-af0ee7c8fc28)",
          "created_at": "2025-03-14T08:20:29Z"
        },
        {
          "author": "hellofinch",
          "body": "想干啥？使用webUI吗？\n使用webUI的话，先`pip install .`，然后`pdf2zh -i`。",
          "created_at": "2025-03-14T08:20:51Z"
        },
        {
          "author": "Teresajw",
          "body": "> 想干啥？使用webUI吗？ 使用webUI的话，先`pip install .`，然后`pdf2zh -i`。\n\n调试下gui☺",
          "created_at": "2025-03-14T08:27:56Z"
        },
        {
          "author": "Teresajw",
          "body": "> Historical legacy issue. You can run it by selecting the module in PyCharm.\n> \n> ![Image](https://github.com/user-attachments/assets/2c3e3664-2634-4c31-b817-af0ee7c8fc28)\n\n谢谢，我试试看",
          "created_at": "2025-03-14T08:28:14Z"
        }
      ]
    },
    {
      "issue_number": 764,
      "title": "Secondary Development调用pdf2zh的API时出现的问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:centos 7\n- Python:3.11\n- pdf2zh:1.9.4\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n作者你好，我知道pdf2zh的API暂时已被弃用，但是我过了一遍调用逻辑，发现并没有什么问题，因此尝试使用。但是在translate_patch函数中模型预测布局时，调用了resize_and_pad_image函数缩放图像，这里cv2.resize函数始终报错src参数不是numpy.ndarray类型，但是我输出验证没有问题就是numpy.ndarray类型，试了各种方法都不行，到底是为什么呢？\n\n![Image](https://github.com/user-attachments/assets/7c52d175-5447-423b-86ae-2b5c88cdc07b)\n![Image](https://github.com/user-attachments/assets/ef82b146-2bc3-4148-a2c9-3a15f9ed3c5f)\n\n![Image](https://github.com/user-attachments/assets/303b5ba5-4b85-4ad3-9fde-1b71d9c69159)\n![Image](https://github.com/user-attachments/assets/adbd72f2-a1fb-42e7-87e3-30defc12fdba)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KseekerX",
      "author_type": "User",
      "created_at": "2025-03-14T07:10:33Z",
      "updated_at": "2025-03-14T07:37:58Z",
      "closed_at": "2025-03-14T07:37:02Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/764/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/764",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/764",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.024043",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "弃用那个api的原因就是不想提供技术支持了.........",
          "created_at": "2025-03-14T07:37:58Z"
        }
      ]
    },
    {
      "issue_number": 761,
      "title": "使用BabelDOC翻译时引用受损",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Windows 11\n- Python: 3.13.2\n- pdf2zh: 1.9.5\n```\n\n### 请选择安装方式\n\npip\n\n### 描述你的问题\n\n在翻译论文时，文章中的引用受损，被替换为形如 `<b1></b1>`的内容\n\n![原文](https://github.com/user-attachments/assets/b552ae83-0604-4591-b4d5-48a910da234c)\n\n![译文](https://github.com/user-attachments/assets/4bf10427-70e9-4970-90a3-c4033242e716)\n\n### 如何复现\n\n1. 翻译时选择使用BabelDOC和Google翻译服务\n2. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\niles before translation: ['CHROMO1.PDF']\n[03/13/25 20:37:04] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\SourceHanSerifCN-Regular.ttf not found\n                             or corrupted, downloading...\n[03/13/25 20:37:18] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/Do_no/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|██████████████████████████████████████████████████████████████████████████████████| 27/27 [29:23<00:00, 65.33s/it]\nPS C:\\Users\\Do_no\\Documents> pdf2zh -i\nargos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\nnot in git repo\n[03/13/25 21:07:26] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:37\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['CHROMO1.PDF', 'sciadv.abi8943.pdf']\n[03/13/25 21:08:15] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/Do_no/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 1/1 [01:28<00:00, 88.15s/it]\nFiles after translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\nFiles before translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\n[03/13/25 21:10:11] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/Do_no/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:03<00:00,  3.49s/it]\nFiles after translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\nFiles before translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\n[03/13/25 21:10:28] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:423\n                             C:/Users/Do_no/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|██████████████████████████████████████████████████████████████████████████████████| 10/10 [00:52<00:00,  5.23s/it]\nFiles after translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\nFiles before translation: ['CHROMO1.PDF', 'sciadv.abi8943-dual.pdf', 'sciadv.abi8943-mono.pdf', 'sciadv.abi8943.pdf']\ntranslate:   0%|                                                                               | 0/100 [00:00<?, ?it/s][03/13/25 21:13:48] INFO     INFO:babeldoc.high_level:start to translate:                              high_level.py:291\n                             pdf2zh_files\\sciadv.abi8943.pdf\nParse Paragraphs (Complete):  14%|█████                               | 14.128184713375799/100 [00:11<00:34,  2.49it/s][03/13/25 21:13:59] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\SourceHanSerifCN-Bold.ttf not found or\n                             corrupted, downloading...\n[03/13/25 21:14:14] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\SourceHanSansCN-Bold.ttf not found or\n                             corrupted, downloading...\n[03/13/25 21:14:25] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\SourceHanSansCN-Regular.ttf not found or\n                             corrupted, downloading...\n[03/13/25 21:14:38] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\LXGWWenKaiGB-Regular.ttf not found or\n                             corrupted, downloading...\n[03/13/25 21:14:55] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\GoNotoKurrent-Regular.ttf not found or\n                             corrupted, downloading...\n[03/13/25 21:15:09] INFO     INFO:babeldoc.assets.assets:Font                                              assets.py:230\n                             C:\\Users\\Do_no\\.cache\\babeldoc\\fonts\\GoNotoKurrent-Bold.ttf not found or\n                             corrupted, downloading...\nTypesetting (6/10):  93%|██████████████████████████████████████████▋   | 92.69904458598727/100 [01:51<00:00, 11.70it/s][03/13/25 21:15:39] WARNING  WARNING:babeldoc.document_il.utils.fontmap:Can't find font for š(353).       fontmap.py:163\n                             Original font: PdfFont(name='XPXZXU+MyriadPro', font_id='T1_1', xref_id=45,\n                             encoding_length=1, bold=0, italic=0, monospace=0, serif=1, ascent=1139,\n                             descent=0). Char unicode: š.\n                    WARNING  WARNING:babeldoc.document_il.utils.fontmap:Can't find font for š(353).       fontmap.py:163\n                             Original font: PdfFont(name='XPXZXU+MyriadPro', font_id='T1_1', xref_id=45,\n                             encoding_length=1, bold=0, italic=0, monospace=0, serif=1, ascent=1139,\n                             descent=0). Char unicode: š.\nGenerate drawing instructions (Complete):  96%|███████████████████████ | 96.13753980891721/100 [01:53<00:00,  6.84it/s]not in git repo\n[03/13/25 21:15:45] INFO     INFO:babeldoc.document_il.backend.pdf_creater:Font subsetting completed  pdf_creater.py:486\n                             successfully\nSubset font (Complete):  99%|██████████████████████████████████████████▌| 98.8455414012739/100 [01:56<00:00,  3.46it/s]not in git repo\n[03/13/25 21:15:47] INFO     INFO:babeldoc.document_il.backend.pdf_creater:PDF save with clean=True   pdf_creater.py:601\n                             completed successfully\nSave PDF (1/2):  99%|█████████████████████████████████████████████████▍| 98.78085191082805/100 [01:59<00:00,  3.46it/s]not in git repo\n[03/13/25 21:15:50] INFO     INFO:babeldoc.document_il.backend.pdf_creater:PDF save with clean=True   pdf_creater.py:601\n                             completed successfully\nSave PDF (Complete): 100%|█████████████████████████████████████████████████████████| 100.0/100 [02:02<00:00,  1.57it/s]                    INFO     INFO:babeldoc.high_level:finish translate:                                high_level.py:421\n                             pdf2zh_files\\sciadv.abi8943.pdf, cost: 122.36060380935669 s\n                    INFO     INFO:pdf2zh.gui:Translation Result:                                              gui.py:443\n                    INFO     INFO:pdf2zh.gui:  Original PDF: pdf2zh_files\\sciadv.abi8943.pdf                  gui.py:444\n                    INFO     INFO:pdf2zh.gui:  Time Cost: 122.36s                                             gui.py:445\n                    INFO     INFO:pdf2zh.gui:  Mono PDF: pdf2zh_files\\sciadv.abi8943.zh.mono.pdf              gui.py:446\n                    INFO     INFO:pdf2zh.gui:  Dual PDF: pdf2zh_files\\sciadv.abi8943.zh.dual.pdf              gui.py:447\nSave PDF (Complete): 100%|█████████████████████████████████████████████████████████| 100.0/100 [02:02<00:00,  1.22s/it]\n                    INFO     INFO:babeldoc.translation_config:cleanup temp files:              translation_config.py:178\n                             C:\\Users\\Do_no\\AppData\\Local\\Temp\\tmp5qplucbc\n                    INFO     INFO:babeldoc.high_level:Waiting for translation to finish...             high_level.py:283\n```\n\n### 原始PDF文件\n\n源文件：[sciadv.abi8943.pdf](https://github.com/user-attachments/files/19229621/sciadv.abi8943.pdf)\n翻译稿：[sciadv.abi8943.zh.mono.pdf](https://github.com/user-attachments/files/19229625/sciadv.abi8943.zh.mono.pdf)\n\n\n### 还有别的吗？\n\n初次使用，配置未进行任何修改，通过GUI进行翻译",
      "state": "closed",
      "author": "ChickenHu",
      "author_type": "User",
      "created_at": "2025-03-13T13:40:42Z",
      "updated_at": "2025-03-13T17:21:16Z",
      "closed_at": "2025-03-13T17:16:05Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/761/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/761",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/761",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.175949",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用大模型翻译。\n\n现阶段BabelDOC仅优化大模型的翻译质量。建议使用 glm-4-flash、deepseek-v3等模型。对于传统翻译服务，如bing/google等，仅保证不报错，高低能输出个结果出来。",
          "created_at": "2025-03-13T17:16:05Z"
        }
      ]
    },
    {
      "issue_number": 757,
      "title": "图片类的pdf文档识别",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前可编辑的pdf能识别，但是有不少图片类的pdf需要保持排版的翻译\n\n### 解决方案\n\n上传图片类的pdf，能够先ocr，识别出文字后进行翻译。\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "happyf1990",
      "author_type": "User",
      "created_at": "2025-03-13T03:43:12Z",
      "updated_at": "2025-03-13T03:44:16Z",
      "closed_at": "2025-03-13T03:44:16Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/757/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/757",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/757",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.359741",
      "comments": []
    },
    {
      "issue_number": 751,
      "title": "\"invalid literal for int() with base 10\"错误",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Win11 24H2\n- Python:3.12.9\n- pdf2zh:1.9.4\n```\n\n### 描述你的问题\n\n在翻译PDF时出现错误：\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"C:\\Program Files\\Python312\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 300, in main\n    translate(model=ModelInstance.value, **vars(parsed_args))\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 379, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 242, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\pymupdf\\utils.py\", line 5843, in subset_fonts\n    width_table, def_width = get_old_widths(font_xref)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Program Files\\Python312\\Lib\\site-packages\\pymupdf\\utils.py\", line 5583, in get_old_widths\n    df_xref = int(df[1][1:-1].replace(\"0 R\", \"\"))\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nValueError: invalid literal for int() with base 10: '<</Type/Font/Subtype/CIDFontType2/BaseFont/CIDFont+F2/CIDSystemInfo<</Ordering 9 /Registry 10 /Supplement 0>>/CIDToGIDMap/Identity/FontDescriptor<</Type/FontDescriptor/Ascent 891/CapHeight 662/Descen\n\n### 如何复现\n\n1. 执行 'pdf2zh assessing-C1.pdf -s silicon'\n2. 出现问题\n\n\n### 预期行为\n\n请分析原因，告知如何解决，谢谢！\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[ASSESSING-C1.pdf](https://github.com/user-attachments/files/19195416/ASSESSING-C1.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "linxiafenggu",
      "author_type": "User",
      "created_at": "2025-03-11T17:46:47Z",
      "updated_at": "2025-03-13T01:01:02Z",
      "closed_at": "2025-03-12T22:46:10Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/751/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/751",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/751",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.359764",
      "comments": [
        {
          "author": "hellofinch",
          "body": "问题可以复现，应该是字体的问题。可以在命令行中添加`--skip-subset-fonts`来解决。或者，直接使用`--babeldoc`使用新的后端解析。\n确认我提供的两个方式可以解决问题的话，请及时关闭issue哦。\n: )",
          "created_at": "2025-03-12T01:18:55Z"
        },
        {
          "author": "linxiafenggu",
          "body": "感谢！通过--skip-subset-fonts解决会导致文件大小扩大至原来的15倍左右。--babeldoc可以解决这个问题。",
          "created_at": "2025-03-12T22:46:05Z"
        },
        {
          "author": "hellofinch",
          "body": "谢谢反馈，后续将重构一下项目到2.0。到时候这些问题就会减少很多。",
          "created_at": "2025-03-13T01:01:01Z"
        }
      ]
    },
    {
      "issue_number": 755,
      "title": "ERROR:pdf2zh.converter:'NoneType' object is not subscriptable",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n\nERROR:pdf2zh.converter:'NoneType' object is not subscriptable              converter.py:356\n```\n\n### 描述你的问题\n\n翻译一些文献的时候总是报这个错误,\n\n尝试把converter.py的第356行内容:其中\"log.exception(e, exc_info=False)\" false改为true, 显示以下错误\n\n\n\n[03/12/25 21:08:57] INFO     INFO:pxxxzh.high_level:use font:                                          high_level.py:419\n\n                             C:/Users/xxx/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n\n 50%|██████████████████████████████████████████                                          | 3/6 [00:01<00:01,  1.69it/s][03/12/25 21:12:14] ERROR    ERROR:pdf2zh.converter:'NoneType' object is not subscriptable              converter.py:356\n\n                             Traceback (most recent call last):\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\pdf2zh\\converter.py\n\n                             \", line 350, in worker\n\n                                 new = self.translator.translate(s)\n\n                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\pdf2zh\\translator.p\n\n                             y\", line 109, in translate\n\n                                 translation = self.do_translate(text)\n\n                                               ^^^^^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\tenacity\\__init__.p\n\n                             y\", line 336, in wrapped_f\n\n                                 return copy(f, *args, **kw)\n\n                                        ^^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\tenacity\\__init__.p\n\n                             y\", line 475, in __call__\n\n                                 do = self.iter(retry_state=retry_state)\n\n                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\tenacity\\__init__.p\n\n                             y\", line 376, in iter\n\n                                 result = action(retry_state)\n\n                                          ^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\tenacity\\__init__.p\n\n                             y\", line 398, in <lambda>\n\n                                 self._add_action_func(lambda rs: rs.outcome.result())\n\n                                                                  ^^^^^^^^^^^^^^^^^^^\n\n                               File \"C:\\Users\\xxx\\anaconda3\\Lib\\concurrent\\futures\\_base.py\", line\n\n                             449, in result\n\n                                 return self.__get_result()\n\n                                        ^^^^^^^^^^^^^^^^^^^\n\n                               File \"C:\\Users\\xxx\\anaconda3\\Lib\\concurrent\\futures\\_base.py\", line\n\n                             401, in __get_result\n\n                                 raise self._exception\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\tenacity\\__init__.p\n\n                             y\", line 478, in __call__\n\n                                 result = fn(*args, **kwargs)\n\n                                          ^^^^^^^^^^^^^^^^^^^\n\n                               File\n\n                             \"E:\\xxx\\github\\PDFMathTranslate\\myenv\\Lib\\site-packages\\pdf2zh\\translator.p\n\n                             y\", line 453, in do_translate\n\n                                 content = response.choices[0].message.content.strip()\n\n                                           ~~~~~~~~~~~~~~~~^^^\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "dowier",
      "author_type": "User",
      "created_at": "2025-03-12T13:44:34Z",
      "updated_at": "2025-03-12T14:00:45Z",
      "closed_at": "2025-03-12T14:00:44Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/755/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/755",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/755",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.564118",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "你的api有问题",
          "created_at": "2025-03-12T14:00:44Z"
        }
      ]
    },
    {
      "issue_number": 754,
      "title": "调用api时未找到模型",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:centos 7\n- Python:3.11\n- pdf2zh:1.9.4\n```\n\n### 描述你的问题\n\n按照文档调用api运行时显示未找到模型，看代码时发现high_level.py里并没有发现下载模型文件的逻辑，文档里为什么没有传递模型路径model的参数， translate_patch()函数就直接使用模型预测了，代码里也未调用from_pretrained()函数自动获取路径。求指教，不知道是不是我没搞懂逻辑\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KseekerX",
      "author_type": "User",
      "created_at": "2025-03-12T08:45:44Z",
      "updated_at": "2025-03-12T09:12:02Z",
      "closed_at": "2025-03-12T09:12:01Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/754/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/754",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/754",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.729747",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请把报错截图放上来。一张图放不下多放几张。",
          "created_at": "2025-03-12T08:46:50Z"
        },
        {
          "author": "KseekerX",
          "body": "![Image](https://github.com/user-attachments/assets/74a68ff8-d713-42b8-afbb-418185671e75)\n这样的",
          "created_at": "2025-03-12T08:54:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "模型在这里加载： https://github.com/Byaidu/PDFMathTranslate/blob/dc42ded935c95cea466adc4f2de76b39e4e6d893/pdf2zh/pdf2zh.py#L261\n\n这里是真实加载函数： https://github.com/Byaidu/PDFMathTranslate/blob/dc42ded935c95cea466adc4f2de76b39e4e6d893/pdf2zh/doclayout.py#L84\n\n以下是自动下载模型的代码：\nhttps://github.com/funstory-ai/BabelDOC/",
          "created_at": "2025-03-12T08:58:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "哦，你是写代码直接调用api啊\n\npdf2zh现有api已被弃用。新版还在慢慢排队。暂不支持这种高级用法",
          "created_at": "2025-03-12T08:59:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "你可以参考 https://github.com/funstory-ai/BabelDOC/blob/85f2e9ad555e94b34a5b94bf14e139650086ff52/babeldoc/main.py 尝试使用babeldoc的api。\n\nbabeldoc.high_level.async_translate 短时间内是不会变动的。",
          "created_at": "2025-03-12T09:00:39Z"
        }
      ]
    },
    {
      "issue_number": 749,
      "title": "无法翻译。一直读秒，但是没有进度",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11，AMD CPU, 无独立显卡\n- Python: 3.11.9\n- pdf2zh: latest\n```\n\n### 描述你的问题\n\nweb可以打开，选择了Qwen的翻译服务。点击开始后，一直是 queue: 1/1 | 后边是读秒。请问是什么原因造成的？\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nargos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\nnot in git repo\nfind offline_assets_zip file:  offline_assets_33971e4940e90ba0c35baacda44bbe83b214f4703a7bdb8b837de97d0383508c.zip  try restore...\n[03/11/25 20:13:42] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:37\n* Running on local URL:  http://0.0.0.0:7860\nError launching GUI using 0.0.0.0.\nThis may be caused by global mode of proxy software.\nRerunning server... use `close()` to stop if you need to change `launch()` parameters.\n----\nError launching GUI using 127.0.0.1.\nThis may be caused by global mode of proxy software.\nRerunning server... use `close()` to stop if you need to change `launch()` parameters.\n----\n\nCould not create share link. Please check your internet connection or our status page: https://status.gradio.app.\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "leonDTC",
      "author_type": "User",
      "created_at": "2025-03-11T12:27:15Z",
      "updated_at": "2025-03-11T12:40:19Z",
      "closed_at": "2025-03-11T12:40:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/749/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/749",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/749",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:13.895081",
      "comments": [
        {
          "author": "leonDTC",
          "body": "把代理选项改成：不改变系统代理就好了",
          "created_at": "2025-03-11T12:40:16Z"
        }
      ]
    },
    {
      "issue_number": 744,
      "title": "feat: Hide detailed configuration of translation services in gradio + unconfigured translation services",
      "body": "### 在什么场景下，需要你请求的功能？\n\n两个问题：\n1. 内置的服务太多了，我可能不想要这么多服务。我能否在 Gradio 页面中只保留几个配置的服务，例如 openai， deepseek， Gemini 等等等等\n2. 我不希望在网页中暴露我的密钥。我希望能够配置隐藏baseurl 以及 apikey 的输入框，然后后台选择我环境变量中配置的密钥\n\n主要场景，我希望将翻译服务进行私有化部署，并且暴露给几个小伙伴。然而，我只希望提供服务，而不希望我的密钥被他们看到。同时，每次下拉框可以选择的服务太多了，我并不需要支持所有的服务，我只想支持其中的一部分。\n\n### 解决方案\n\n或许可以增加几个新的配置项实现此功能？\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "tylzh97",
      "author_type": "User",
      "created_at": "2025-03-11T02:49:20Z",
      "updated_at": "2025-03-11T08:10:17Z",
      "closed_at": "2025-03-11T08:10:17Z",
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/744/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/744",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/744",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.079121",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "I agree with this requirement. I'll think about how to handle it later when I refactor the configuration system.",
          "created_at": "2025-03-11T02:54:53Z"
        },
        {
          "author": "hellofinch",
          "body": "> 1. 内置的服务太多了，我可能不想要这么多服务。我能否在 Gradio 页面中只保留几个配置的服务，例如 openai， deepseek， Gemini 等等等等\n\n这个没问题，可以在config系统重构后实现这样的功能。\n\n> 2\\. 我不希望在网页中暴露我的密钥。我希望能够配置隐藏baseurl 以及 apikey 的输入框，然后后台选择我环境变量中配置的密钥\n\n这个想法我自己实验过，gradio是支持mask的，但是使用gr.update的方式无法更新对应的状态，mask不生效。具体原因还在研究。",
          "created_at": "2025-03-11T02:58:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "@hellofinch Once the configuration is set up on the config system side, then gradio can simply not generate those few dropdown boxes.",
          "created_at": "2025-03-11T03:00:34Z"
        },
        {
          "author": "hellofinch",
          "body": "是这样的，没问题。但是mask这个事，还得瞅瞅。gradio可以给textbox加mask。但是，我之前自己尝试添加的时候，mask使用gr.update没有把mask加上去，应该是update的调用时间太晚了，先渲染后更新了。",
          "created_at": "2025-03-11T03:06:22Z"
        },
        {
          "author": "tylzh97",
          "body": "Patching a dumb patch #746 which maybe fix this problems. ",
          "created_at": "2025-03-11T06:36:52Z"
        }
      ]
    },
    {
      "issue_number": 747,
      "title": "webUI 添加单元测试",
      "body": "### 在什么场景下，需要你请求的功能？\n\n检查webUI上对于添加或修改的功能是否正常工作，webUI的相关的输入输出是否正确。\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "hellofinch",
      "author_type": "User",
      "created_at": "2025-03-11T07:11:05Z",
      "updated_at": "2025-03-11T07:11:05Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/747/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/747",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/747",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.250368",
      "comments": []
    },
    {
      "issue_number": 693,
      "title": "TMT service failed",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n腾讯翻译service需要的环境变量变了，需要重新实现对应的translator。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "hellofinch",
      "author_type": "User",
      "created_at": "2025-02-26T09:59:53Z",
      "updated_at": "2025-03-11T03:15:51Z",
      "closed_at": "2025-03-11T03:15:51Z",
      "labels": [
        "bug",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/693/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/693",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/693",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.250391",
      "comments": []
    },
    {
      "issue_number": 731,
      "title": "feat(webui): 忽略翻译缓存并强制重新翻译",
      "body": "### 在什么场景下，需要你请求的功能？\n\n有的时候翻译效果不理想，想要重新翻译。\n\n### 解决方案\n\n增加“强制重新翻译”选项和“清理缓存”选项。\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "KuiznLove",
      "author_type": "User",
      "created_at": "2025-03-08T03:11:37Z",
      "updated_at": "2025-03-11T03:08:08Z",
      "closed_at": "2025-03-11T03:08:08Z",
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/731/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/731",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/731",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.250399",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "后端核心已支持忽略缓存重新翻译，前端webui没有暴露出来。可以暴露一个选项出来。\n清理缓存的话，后端cache也得对应调整，babeldoc+pdf2zh两边都要改一下，往后放放后面再弄。",
          "created_at": "2025-03-08T05:36:55Z"
        }
      ]
    },
    {
      "issue_number": 742,
      "title": "ocr貌似有问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n启动ocr时错误\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '勾选ocr，启动翻译'\n3. 出现问题\n\n\n### 预期行为\n\n终端提示错误\n\n### 相关 Logs\n\n```Text\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。:.....AppData\\\\Local\\\\Temp\\\\tmpvkqarsrp\\\\input.pdf'\nUnboundLocalError: cannot access local variable 'file_mono' where it is not associated with a value\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "jj-a-li",
      "author_type": "User",
      "created_at": "2025-03-10T08:49:56Z",
      "updated_at": "2025-03-10T09:14:29Z",
      "closed_at": "2025-03-10T09:14:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/742/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/742",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/742",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.414933",
      "comments": []
    },
    {
      "issue_number": 740,
      "title": "翻译一直报错，请问什么问题呢",
      "body": "### 在什么场景下，需要你请求的功能？\n\n C:/Users/admin/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n  5%|███▉                                                                               | 2/42 [00:02<00:48,  1.21s/it][03/10/25 10:05:21] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 1.0 seconds...      translator.py:439\n                             (Attempt 1/100)\n[03/10/25 10:05:22] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 1.0 seconds...      translator.py:439\n                             (Attempt 1/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 1.0 seconds...      translator.py:439\n                             (Attempt 1/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 1.0 seconds...      translator.py:439\n                             (Attempt 1/100)\n[03/10/25 10:05:25] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 2.0 seconds...      translator.py:439\n                             (Attempt 2/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 2.0 seconds...      translator.py:439\n                             (Attempt 2/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 2.0 seconds...      translator.py:439\n                             (Attempt 2/100)\n[03/10/25 10:05:26] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 2.0 seconds...      translator.py:439\n                             (Attempt 2/100)\n[03/10/25 10:05:29] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 4.0 seconds...      translator.py:439\n                             (Attempt 3/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 4.0 seconds...      translator.py:439\n                             (Attempt 3/100)\n[03/10/25 10:05:30] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 4.0 seconds...      translator.py:439\n                             (Attempt 3/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 4.0 seconds...      translator.py:439\n                             (Attempt 3/100)\n[03/10/25 10:05:35] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 8.0 seconds...      translator.py:439\n                             (Attempt 4/100)\n[03/10/25 10:05:36] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 8.0 seconds...      translator.py:439\n                             (Attempt 4/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 8.0 seconds...      translator.py:439\n                             (Attempt 4/100)\n[03/10/25 10:05:37] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 8.0 seconds...      translator.py:439\n                             (Attempt 4/100)\n[03/10/25 10:05:47] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 5/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 5/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 5/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 5/100)\n[03/10/25 10:06:05] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 6/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 6/100)\n                    WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 15.0 seconds...     translator.py:439\n                             (Attempt 6/100)\n[03/10/25 10:06:07] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 1.0 seconds...      translator.py:439\n                             (Attempt 1/100)\n[03/10/25 10:06:10] WARNING  WARNING:pdf2zh.translator:RateLimitError, retrying in 2.0 seconds...      translator.py:439\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "Jasonmeng2023",
      "author_type": "User",
      "created_at": "2025-03-10T02:08:11Z",
      "updated_at": "2025-03-10T02:23:20Z",
      "closed_at": "2025-03-10T02:23:20Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/740/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/740",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/740",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.414956",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "RateLimitError\n\n速率限制错误\n\n把thread改低点。",
          "created_at": "2025-03-10T02:23:20Z"
        }
      ]
    },
    {
      "issue_number": 736,
      "title": "翻译进程100%但是最后报错bad 'value'",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 10\n- Python:\n- pdf2zh:1.9.3\n```\n\n### 描述你的问题\n\n上传特定PDF后，翻译进程能够达到100%，但是后续会报错，图形化界面显示错误\n控制台报错 ValueError: bad 'value'\n\n![Image](https://github.com/user-attachments/assets/0e0fec69-b727-4201-aeae-a40cb41630f3)\n\n仅特定文件报错，尝试其他pdf可以运行正常翻译，问题pdf文件见后文\n\n### 如何复现\n\n1. 选择文件scientific-visualization-python-matplotlib.pdf\n2. 选择任意翻译引擎\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nTraceback (most recent call last):\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\gradio\\queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\gradio\\route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\gradio\\blocks.py\", line 2047, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\gradio\\blocks.py\", line 1594, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\anyio\\to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 2505, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\anyio\\_backends\\_asyncio.py\", line 1005, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\gradio\\utils.py\", line 869, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\gui.py\", line 303, in translate_file\n    translate(**param)\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 379, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 242, in translate_stream\n    doc_zh.subset_fonts(fallback=True)\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pymupdf\\utils.py\", line 5841, in subset_fonts\n    set_old_widths(font_xref, width_table, def_width)\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pymupdf\\utils.py\", line 5610, in set_old_widths\n    doc.xref_set_key(df_xref, \"DW\", dwidths)\n  File \"C:\\Windows\\System32\\pdf2zh_dist\\Lib\\site-packages\\pymupdf\\__init__.py\", line 6117, in xref_set_key\n    raise ValueError(\"bad 'value'\")\nValueError: bad 'value'\n```\n\n### 原始PDF文件\n\n<!-- Failed to upload \"scientific-visualization-python-matplotlib.pdf\" -->\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "jianzhe2011",
      "author_type": "User",
      "created_at": "2025-03-09T11:49:40Z",
      "updated_at": "2025-03-09T13:37:52Z",
      "closed_at": "2025-03-09T13:35:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/736/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/736",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/736",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.588276",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请启用实验性选项中的use babeldoc测试一下",
          "created_at": "2025-03-09T12:03:10Z"
        },
        {
          "author": "jianzhe2011",
          "body": "> 请启用实验性选项中的use babeldoc测试一下\n\n# 翻译可以进行\n您好，勾选后及进行翻译后可以输出翻译文件了，**谢谢您的帮助**\n\n# 控制台输出\n同时仍然注意到控制台仍有报错提示\n\nTypesetting (1/249):  90%|████████████████████████████████████████▋    | 90.42139897168292/100 [04:08<00:00, 33.48it/s][03/09/25 21:25:01] WARNING  WARNING:babeldoc.document_il.utils.fontmap:Can't find",
          "created_at": "2025-03-09T13:35:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "这几个WARNING忽略就行，符合预期行为。",
          "created_at": "2025-03-09T13:37:51Z"
        }
      ]
    },
    {
      "issue_number": 738,
      "title": "feat(http api): 提供一个更好用的http api",
      "body": "预计在重构完成配置系统后做这个",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-03-09T12:18:28Z",
      "updated_at": "2025-03-09T12:19:19Z",
      "closed_at": null,
      "labels": [
        "High priority",
        "No help needed"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/738/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/738",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/738",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.763551",
      "comments": []
    },
    {
      "issue_number": 737,
      "title": "feat(config): 重构配置系统",
      "body": null,
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-03-09T12:17:46Z",
      "updated_at": "2025-03-09T12:19:17Z",
      "closed_at": null,
      "labels": [
        "High priority",
        "No help needed"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/737/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/737",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/737",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.763573",
      "comments": []
    },
    {
      "issue_number": 673,
      "title": "docs: Move the wiki to MkDocs GitHub Pages",
      "body": null,
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-22T20:44:53Z",
      "updated_at": "2025-03-09T12:18:53Z",
      "closed_at": null,
      "labels": [
        "documentation",
        "Normal priority",
        "No help needed"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/673/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/673",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/673",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.763579",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "I will make a similar one for pdf2zh by referring to [BabelDOC](https://funstory-ai.github.io/BabelDOC/)'s documentation when I have time.",
          "created_at": "2025-02-22T20:46:45Z"
        }
      ]
    },
    {
      "issue_number": 730,
      "title": "翻译文件部分字符重叠",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:win 11\n- Python:3.13\n- pdf2zh:pdf2zh-v1.9.4-with-assets-win64.zip\n```\n\n### 描述你的问题\n\n使用某中转站的gemini-2.0-flash模型作为翻译接口\nService：OpenAl-liked\n可以正常翻译但部分字符出现重叠，如图：\n![upgit_tmp_1741340102926328.png](https://s2.loli.net/2025/03/07/bZDtOmSMzL92p1f.png)\n\n使用默认的谷歌翻译接口显示正常\n因为我没有原生gemini apikey所以不知道是不是第三方中转站OpenAl-liked转接导致的问题\n\n### 如何复现\n\n1. 上传文件\n2. 选择OpenAl-liked Service\n3. 出现问题\n\n\n### 预期行为\n\n无字符重叠现象\n\n### 相关 Logs\n\n```Text\nargos-translate is not installed, if you want to use argostranslate, please install it. If you don't use argostranslate translator, you can safely ignore this warning.\nnot in git repo\nfind offline_assets_zip file:  offline_assets_33971e4940e90ba0c35baacda44bbe83b214f4703a7bdb8b837de97d0383508c.zip  try restore...\n[03/07/25 15:58:41] INFO     INFO:babeldoc.docvision.doclayout:Loading ONNX model...                     doclayout.py:21\n信息: 用提供的模式无法找到文件。\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.\nFiles before translation: ['Nurk 等 - The complete sequence of a human genome.pdf']\n[03/07/25 15:59:11] INFO     INFO:pdf2zh.high_level:use font:                                          high_level.py:419\n                             C:/Users/23240/.cache/babeldoc/fonts/SourceHanSerifCN-Regular.ttf\n100%|██████████████████████████████████████████████████████████████████████████████████| 10/10 [00:52<00:00,  5.30s/it]\nFiles after translation: ['Nurk 等 - The complete sequence of a human genome-dual.pdf', 'Nurk 等 - The complete sequence of a human genome-mono.pdf', 'Nurk 等 - The complete sequence of a human genome.pdf']\n```\n\n### 原始PDF文件\n\n[Nurk 等 - The complete sequence of a human genome.pdf](https://github.com/user-attachments/files/19123926/Nurk.-.The.complete.sequence.of.a.human.genome.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "czz404",
      "author_type": "User",
      "created_at": "2025-03-07T09:42:47Z",
      "updated_at": "2025-03-07T11:04:39Z",
      "closed_at": "2025-03-07T11:04:38Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/730/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/730",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/730",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:14.921371",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "使用babeldoc后端试一下（webui->实验性选项里有",
          "created_at": "2025-03-07T09:48:57Z"
        },
        {
          "author": "czz404",
          "body": "时间慢了一点但效果很不错，感谢！",
          "created_at": "2025-03-07T11:04:38Z"
        }
      ]
    },
    {
      "issue_number": 728,
      "title": "pdf2zh: error: unrecognized arguments: --babeldoc",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS:MacOS\n- Python:3.9.19\n- pdf2zh:v1.8.9\n```\n\n### Describe the bug\n\n`--babeldoc` is not supported. Using the latest version of pdf2zh. However, this option is listed as available in the README.\n\n```\n❯ pdf2zh --babeldoc example.pdf\nusage: pdf2zh [-h] [--version] [--debug] [--pages PAGES] [--vfont VFONT] [--vchar VCHAR] [--lang-in LANG_IN] [--lang-out LANG_OUT] [--service SERVICE] [--output OUTPUT] [--thread THREAD] [--interactive] [--share] [--flask] [--celery]\n              [--authorized AUTHORIZED [AUTHORIZED ...]] [--prompt PROMPT] [--compatible] [--onnx ONNX] [--serverport SERVERPORT] [--dir] [--config CONFIG]\n              [files ...]\npdf2zh: error: unrecognized arguments: --babeldoc\n```\n\n### To Reproduce\n\n1. execute 'pdf2zh --babeldoc example.pdf'\n2. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "VariantConst",
      "author_type": "User",
      "created_at": "2025-03-07T03:53:10Z",
      "updated_at": "2025-03-07T03:56:51Z",
      "closed_at": "2025-03-07T03:56:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/728/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/728",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/728",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.102750",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please upgrade to the latest version",
          "created_at": "2025-03-07T03:56:29Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please note that we currently only support Python 3.10-3.12.",
          "created_at": "2025-03-07T03:56:50Z"
        }
      ]
    },
    {
      "issue_number": 727,
      "title": "feat(onnx): 使用directml后端或cuda后端推理",
      "body": null,
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-03-06T16:18:03Z",
      "updated_at": "2025-03-06T16:18:12Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/727/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/727",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/727",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.344022",
      "comments": []
    },
    {
      "issue_number": 659,
      "title": "对于Arxiv等能提供TeX源码的情况提供支持以更好的识别公式",
      "body": "### 在什么场景下，需要你请求的功能？\n\n目前公式还是很难识别正确。能直接提供TeX / MathJax / MathML源码的情况，直接翻译源码本身而不是pdf\n\n### 解决方案\n\n直接识别并解析TeX命令，然后翻译其余部分，翻译后可以直接编译或渲染\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "ProMachine",
      "author_type": "User",
      "created_at": "2025-02-21T06:08:08Z",
      "updated_at": "2025-03-05T14:24:15Z",
      "closed_at": "2025-02-21T16:17:14Z",
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/659/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/659",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/659",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.344042",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/binary-husky/gpt_academic 有arxiv源码翻译，可以直接用。\n\n后续可能会尝试？",
          "created_at": "2025-02-21T06:27:24Z"
        },
        {
          "author": "hellofinch",
          "body": "我觉得很棒的想法，但是感觉需要设计另外一套workflow？",
          "created_at": "2025-02-21T06:37:03Z"
        },
        {
          "author": "awwaawwa",
          "body": "babeldoc这边后面是准备搞其他格式的翻译的，不过现阶段还是pdf -> pdf为主。",
          "created_at": "2025-02-21T06:38:22Z"
        },
        {
          "author": "Byaidu",
          "body": "这个功能已经有其他工具实现了，而且需要额外引入tex的编译工具，所以暂时不考虑支持",
          "created_at": "2025-02-21T16:17:08Z"
        },
        {
          "author": "CBIhalsen",
          "body": "tex直接翻译是最优解，但是渲染pdf，需要xlatex包，体积极大，个人易部署",
          "created_at": "2025-03-05T14:24:14Z"
        }
      ]
    },
    {
      "issue_number": 660,
      "title": "PDF 转换卡住",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11\n- Python: python 3.11\n- pdf2zh: 1.9.0\n```\n\n### 描述你的问题\n\nPDF 文件转换到第六页时卡住，多次尝试均如此\n\n### 如何复现\n\n转换该pdf\n\n[Wen 等 - 2023 - Parametric Classification for Generalized Category Discovery A Baseline Study.pdf](https://github.com/user-attachments/files/18902850/Wen.-.2023.-.Parametric.Classification.for.Generalized.Category.Discovery.A.Baseline.Study.pdf)\n\n\n### 预期行为\n\n正常转换\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "bxrjmfh",
      "author_type": "User",
      "created_at": "2025-02-21T07:39:16Z",
      "updated_at": "2025-03-04T15:56:53Z",
      "closed_at": "2025-02-21T07:41:21Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/660/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/660",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/660",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.532160",
      "comments": [
        {
          "author": "hellofinch",
          "body": "控制台有输出信息吗？",
          "created_at": "2025-02-21T07:41:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "[Wen.-.2023.-.Parametric.Classification.for.Generalized.Category.Discovery.A.Baseline.Study.zh-CN.dual.pdf](https://github.com/user-attachments/files/18902875/Wen.-.2023.-.Parametric.Classification.for.Generalized.Category.Discovery.A.Baseline.Study.zh-CN.dual.pdf)\n[Wen.-.2023.-.Parametric.Classific",
          "created_at": "2025-02-21T07:42:00Z"
        },
        {
          "author": "bxrjmfh",
          "body": "> 控制台有输出信息吗？\n\n卡了很久后转换出来了，不好意思",
          "created_at": "2025-02-21T07:42:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "嗯嗯，新后端性能会好很多，耐心等待吧。",
          "created_at": "2025-02-21T07:43:21Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 1.9.3 has been released. You can take a look.\n\n",
          "created_at": "2025-03-04T15:56:51Z"
        }
      ]
    },
    {
      "issue_number": 715,
      "title": "最新版本翻译出来的都会有黑线",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: win11\n- Python: 3.12\n- pdf2zh: main分支\n```\n\n### 描述你的问题\n\n翻译出来的文档有多余黑线，多个文档都这样\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n[CrowdStrikeGlobalThreatReport2025-mono.pdf](https://github.com/user-attachments/files/19050980/CrowdStrikeGlobalThreatReport2025-mono.pdf)",
      "state": "closed",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-03-03T09:36:48Z",
      "updated_at": "2025-03-04T15:55:14Z",
      "closed_at": "2025-03-04T15:54:58Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/715/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/715",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/715",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.738582",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "1. 试一下 https://app.immersivetranslate.com/babel-doc/ 是否有问题\n2. 把输入文件发上来\n3. 用的是babeldoc后端吗？不是的话可以试一下。",
          "created_at": "2025-03-03T09:39:16Z"
        },
        {
          "author": "highkay",
          "body": "1. 没有问题，非常完美，尤其是字体也很好，本地的pdf2zh的字体不太行。顺便问一下用的是什么翻译引擎？感觉质量很一般。\n2. 看附件\n3. 我用的最新的main代码，今天刚刚拉的，我看message里面写的是babel了。\n\n[CrowdStrikeGlobalThreatReport2025.pdf](https://github.com/user-attachments/files/19053161/CrowdStrikeGlobalThreatReport2025.pdf)",
          "created_at": "2025-03-03T12:21:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "1. glm-4-flash，这个不要钱，可以免费提供。\n2. 收到\n3. 要开选项才是babel，不开的话还是pdf2zh原先的。 webui在左边最底下实验性参数里有。cli的话多传递一个--babeldoc",
          "created_at": "2025-03-03T12:23:47Z"
        },
        {
          "author": "awwaawwa",
          "body": "因为babeldoc后端没问题，我直接关掉这个issue了。",
          "created_at": "2025-03-04T15:54:58Z"
        }
      ]
    },
    {
      "issue_number": 722,
      "title": "大文件翻译卡死",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:rockey linux9.5\n- Python:3.12\n- pdf2zh:v1.8.8\n```\n\n### 描述你的问题\n\n大文件翻译卡死，722页的pdf，75.9M 进度卡在27.6%半个多小时了 也没抛异常\n\n![Image](https://github.com/user-attachments/assets/0c540812-4fc7-411e-bcd2-c609a13adff3)\n\n![Image](https://github.com/user-attachments/assets/4f099c07-2343-42ee-9843-3281011ac9de)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "arcadia-ai",
      "author_type": "User",
      "created_at": "2025-03-04T08:15:01Z",
      "updated_at": "2025-03-04T09:24:22Z",
      "closed_at": "2025-03-04T08:51:30Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 13,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/722/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/722",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/722",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:15.958564",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "启用实验性选项中的 babeldoc 然后再试试",
          "created_at": "2025-03-04T08:19:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "另外babeldoc在1.9.3加入的，所以你还得更新一下。",
          "created_at": "2025-03-04T08:19:39Z"
        },
        {
          "author": "arcadia-ai",
          "body": "> 启用实验性选项中的 babeldoc 然后再试试\n\nbabeldoc我刚刚看了一下文档   请问是不支持ollama吗？",
          "created_at": "2025-03-04T08:20:38Z"
        },
        {
          "author": "awwaawwa",
          "body": "babeldoc后端也会使用pdf2zh这边提供的翻译器支持，pdf2zh支持的翻译器都可以用。",
          "created_at": "2025-03-04T08:21:50Z"
        },
        {
          "author": "arcadia-ai",
          "body": "> babeldoc后端也会使用pdf2zh这边提供的翻译器支持，pdf2zh支持的翻译器都可以用。\n\n好的  感谢  我去试试",
          "created_at": "2025-03-04T08:22:46Z"
        }
      ]
    },
    {
      "issue_number": 711,
      "title": "想在完全内网的环境下运行，请问应如何配置？",
      "body": "### 在什么场景下，需要你请求的功能？\n\n如 [#48 ](https://github.com/Byaidu/PDFMathTranslate/issues/48) ，之前有便携版的配置指南，但是新文档去除掉了。旧issue内容也已过期，请问新版本下应如何配置，谢谢\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "lhllhx",
      "author_type": "User",
      "created_at": "2025-03-02T15:30:48Z",
      "updated_at": "2025-03-04T01:33:18Z",
      "closed_at": "2025-03-02T15:32:22Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/711/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/711",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/711",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.218641",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "暂时无法在完全内网环境中运行。我们正在想办法。\n\n在 https://github.com/Byaidu/PDFMathTranslate/issues/601 追踪",
          "created_at": "2025-03-02T15:32:22Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 1.9.3 will include this feature, community help is needed for testing!\n\nThe exe will provide a completely offline package, and theoretically, the current docker can work in an offline environment except for the preview function?\n\nHowever, I haven't tested the above things, could the communit",
          "created_at": "2025-03-02T21:23:47Z"
        },
        {
          "author": "lhllhx",
          "body": "> Version 1.9.3 will include this feature, community help is needed for testing!\n> \n> The exe will provide a completely offline package, and theoretically, the current docker can work in an offline environment except for the preview function?\n> \n> However, I haven't tested the above things, could th",
          "created_at": "2025-03-04T01:33:18Z"
        }
      ]
    },
    {
      "issue_number": 567,
      "title": "bug(font download): Download link is invalid, needs to be replaced.",
      "body": "## 问题描述\n字体下载链接\"https://github.com/timelic/source-han-serif/releases/download/main/\"已经失效，有没有最新链接",
      "state": "closed",
      "author": "KeLuoJun",
      "author_type": "User",
      "created_at": "2025-02-03T19:34:46Z",
      "updated_at": "2025-03-03T13:30:30Z",
      "closed_at": "2025-03-02T21:24:03Z",
      "labels": [
        "bug",
        "good first issue",
        "High priority",
        "No help needed"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 14,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/567/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/567",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/567",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.379386",
      "comments": [
        {
          "author": "KeLuoJun",
          "body": "解决了，找到high_level.py 文件，找到download_remote_fonts函数，将其修改为本地字体（win）：\ndef download_remote_fonts(lang: str):\n    # 使用系统自带的字体\n    if sys.platform == \"win32\":\n        font_path = \"C:/Windows/Fonts/simhei.ttf\"  # 黑体\n    elif sys.platform == \"darwin\":\n        font_path = \"/System/Library/Fonts/STHeiti Medium.",
          "created_at": "2025-02-03T19:54:03Z"
        },
        {
          "author": "mengxin-66",
          "body": "怎么修改,非专业,看不懂,有没有文件发出来直接替换了",
          "created_at": "2025-02-07T11:29:18Z"
        },
        {
          "author": "Simwake",
          "body": "> 怎么修改,非专业,看不懂,有没有文件发出来直接替换了\n\n就是你把def download_remote_fonts(lang: str):这一行到return font_path这一行删掉，然后把楼主的这段代码粘贴进去到最后就行\ndef download_remote_fonts(lang: str):\n# 使用系统自带的字体\nif sys.platform == \"win32\":\nfont_path = \"C:/Windows/Fonts/simhei.ttf\" # 黑体\nelif sys.platform == \"darwin\":\nfont_path = \"/System/Librar",
          "created_at": "2025-02-08T04:27:29Z"
        },
        {
          "author": "mengxin-66",
          "body": "def download_remote_fonts(lang: str):\n# 使用系统自带的字体\n    if sys.platform == \"win32\":\n        font_path = \"C:/Windows/Fonts/simhei.ttf\" # 黑体\n    elif sys.platform == \"darwin\":\n        font_path = \"/System/Library/Fonts/STHeiti Medium.ttc\" # 黑体\n    else:\n        font_path = \"/usr/share/fonts/truetype/dej",
          "created_at": "2025-02-08T12:50:32Z"
        },
        {
          "author": "KeLuoJun",
          "body": "> def download_remote_fonts(lang: str):\n> \n> # 使用系统自带的字体\n> ```\n> if sys.platform == \"win32\":\n>     font_path = \"C:/Windows/Fonts/simhei.ttf\" # 黑体\n> elif sys.platform == \"darwin\":\n>     font_path = \"/System/Library/Fonts/STHeiti Medium.ttc\" # 黑体\n> else:\n>     font_path = \"/usr/share/fonts/truetype/de",
          "created_at": "2025-02-08T12:53:32Z"
        }
      ]
    },
    {
      "issue_number": 698,
      "title": "Ollama hindi translation Issue",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: Windows 11\n- Python:3.10\n- pdf2zh: 1.9.2 , 28 feb IST version\n```\n\n### Describe the bug\n\nThere are two bugs ;\n\n1) **ollama** is not detecting Hindi language it **cannot detect most of the noto languages** \n\nbug 2) \n\ngroq default model should be set to -> **llama-3.3-70b-versatile** not llama-3-3-70b-versatile\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "daylightduck",
      "author_type": "User",
      "created_at": "2025-02-28T05:50:49Z",
      "updated_at": "2025-03-03T07:37:13Z",
      "closed_at": "2025-03-03T07:37:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/698/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/698",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/698",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.567853",
      "comments": []
    },
    {
      "issue_number": 628,
      "title": "feat(typesetting): Support for English typesetting",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n下图是原文：\n\n<img width=\"609\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b3de9f3f-2ac0-4986-b525-14bd33e5ed7a\" />\n\n下图是翻译后的结果：\n\n<img width=\"591\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/7d8c68f2-450c-4291-99cb-f78419db00fb\" />\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题，有图标的时候，文字会因为空间原因导致盖住图标或者文字重叠\n\n\n### 预期行为\n\n我希望文字不要盖住图片或者遇到空间不够的时候，能够自动扩展文字的空间\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[环境化学论文-dual.pdf](https://github.com/user-attachments/files/18802646/-dual.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "MuRyanice",
      "author_type": "User",
      "created_at": "2025-02-14T17:12:45Z",
      "updated_at": "2025-03-03T03:23:43Z",
      "closed_at": "2025-03-02T23:56:51Z",
      "labels": [
        "bug",
        "Normal priority",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/628/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/628",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/628",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.567876",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "新后端支持这个功能：我希望文字不要盖住图片或者遇到空间不够的时候，能够自动扩展文字的空间。\n\n但是，对于英文，当前会在单词任意位置换行，这并不符合相关排版要求，所以对于英语，仍是一个不可用的状态。后续会做，请耐心等待。",
          "created_at": "2025-02-15T12:22:45Z"
        },
        {
          "author": "awwaawwa",
          "body": "1.9.3发了，带了 babeldoc 实验性支持。可以来试试。\n\n另外，对于英文，babeldoc 会尽量尝试不在单词内换行。",
          "created_at": "2025-03-02T23:56:51Z"
        },
        {
          "author": "MuRyanice",
          "body": "cool，i ll try ，thanks",
          "created_at": "2025-03-03T03:23:42Z"
        }
      ]
    },
    {
      "issue_number": 714,
      "title": "能否查看模型输出的内容",
      "body": "### 在什么场景下，需要你请求的功能？\n\n有时候翻译的很慢，不知道模型在不在运行，能否查看模型输出的内容以判断运行速度\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "yeyt97",
      "author_type": "User",
      "created_at": "2025-03-03T01:42:28Z",
      "updated_at": "2025-03-03T02:25:03Z",
      "closed_at": "2025-03-03T02:05:52Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/714/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/714",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/714",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.752232",
      "comments": [
        {
          "author": "hellofinch",
          "body": "CLI还是webUI还是exe？\nCLI和WebUI的话可以在启动命令中添加--debug选项，会看到相关的输出信息。",
          "created_at": "2025-03-03T01:48:44Z"
        },
        {
          "author": "awwaawwa",
          "body": "用1.9.3 babeldoc后端。翻译完成前进度也比较快。\n\n翻译完成后输入输出在（只有开debug模式才有，，：\n`~/.cache/babeldoc/working/PDF名字/translate_tracking.json`\n",
          "created_at": "2025-03-03T02:05:52Z"
        },
        {
          "author": "yeyt97",
          "body": "> 用1.9.3 babeldoc后端。翻译完成前进度也比较快。\n> \n> 翻译完成后输入输出在： `~/.cache/babeldoc/working/PDF名字/translate_tracking.json`\n\nbabeldoc是怎么用呢，exe后面加了--babeldoc打不开",
          "created_at": "2025-03-03T02:17:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "pdf2zh -i\n\n网页最底下有个实验性功能，里面有babeldoc",
          "created_at": "2025-03-03T02:18:21Z"
        }
      ]
    },
    {
      "issue_number": 707,
      "title": "Add support for configuring -t option via environment variable",
      "body": "### 在什么场景下，需要你请求的功能？\n\nAdd support for configuring -t option via environment variable\nadded support for the PDF2ZH_T environment variable. If PDF2ZH_T is set, its value will be used as the -t option unless explicitly provided via the command line.\n\n### 解决方案\n\n_No response_\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "Jimmy2099",
      "author_type": "User",
      "created_at": "2025-03-02T04:17:07Z",
      "updated_at": "2025-03-03T01:39:21Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/707/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/707",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/707",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:16.914797",
      "comments": [
        {
          "author": "hellofinch",
          "body": "Bravo! New configuration system will add this feature. Please will new configuration system online.\n: )",
          "created_at": "2025-03-03T01:39:21Z"
        }
      ]
    },
    {
      "issue_number": 678,
      "title": "feat: Add an option to allow skipping font subsetting",
      "body": null,
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-23T07:22:29Z",
      "updated_at": "2025-03-03T00:23:27Z",
      "closed_at": "2025-02-25T07:07:56Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/678/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/678",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/678",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:17.110751",
      "comments": [
        {
          "author": "wkx20031002",
          "body": "您好，运行这个命令后pdf2zh -i --skip-subset-fonts，在网页端输出还是相同的报错，但是用pdf2zh example.pdf --skip-subset-fonts后输出结果正确，请问有解决措施吗",
          "created_at": "2025-03-01T14:21:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "There is an experimental parameter at the bottom of the web page. Turn on the option to skip font subsetting in it.",
          "created_at": "2025-03-01T14:22:22Z"
        },
        {
          "author": "wkx20031002",
          "body": "![Image](https://github.com/user-attachments/assets/5a535df7-2677-4e97-bc82-610d06d01464)我已经选择了Skip font subsetting，但是输出结果还是错误的，这是输出的pdf截图。但是不会出现报错了\n\n![Image](https://github.com/user-attachments/assets/ac958b3c-0a69-4ae4-ab0c-a1761815df4f)",
          "created_at": "2025-03-01T14:41:45Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://app.immersivetranslate.com/babel-doc/ 在这里试一下看看乱码不",
          "created_at": "2025-03-01T14:43:39Z"
        },
        {
          "author": "wkx20031002",
          "body": "感谢帮助！在这里是正确的，但是个人pc端还是乱码的\n",
          "created_at": "2025-03-01T14:46:29Z"
        }
      ]
    },
    {
      "issue_number": 608,
      "title": "翻译结果有重影，格式问题",
      "body": "## 问题描述\n我这里是调用本地的[phy](phi4:latest)去翻译的，翻译后有重影，然后就是翻译后格式很奇怪。所以想问一下大概是什么问题\n问题1：\n翻译前：\n![Image](https://github.com/user-attachments/assets/cf0284a3-8921-4fc5-8066-6a31a7708fe5)\n翻译后：\n![Image](https://github.com/user-attachments/assets/14fe0b4e-9e20-4a66-9b34-973917e57dab)\n问题2：\n翻译前：\n![Image](https://github.com/user-attachments/assets/519eabb0-ced8-4fe9-9ba1-44ea1eb542db)\n翻译后：\n![Image](https://github.com/user-attachments/assets/b97309c6-277d-49f0-aacf-fc5170dd45c2)\n文档： \n[testUser.pdf](https://github.com/user-attachments/files/18776710/testUser.pdf)\n\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "Ukun0721",
      "author_type": "User",
      "created_at": "2025-02-13T03:00:44Z",
      "updated_at": "2025-03-02T23:58:33Z",
      "closed_at": "2025-03-02T23:58:33Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/608/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/608",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/608",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:19.282733",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "[translated-testUser.pdf](https://github.com/user-attachments/files/18776765/translated-testUser.pdf)\nThe new backend [BabelDOC](https://github.com/funstory-ai/BabelDOC) can translate normally, please wait patiently.",
          "created_at": "2025-02-13T03:05:32Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 1.9.3 has been released. You can take a look.",
          "created_at": "2025-03-02T23:58:33Z"
        }
      ]
    },
    {
      "issue_number": 297,
      "title": "feat(Translate): Implement post-processing layout analysis to avoid content overlap and optimize visual appearance",
      "body": "Currently, the Chinese line spacing is fixed at 1.4 times to avoid overlap. By implementing layout analysis, the line spacing can be appropriately increased, utilizing the current post-paragraph blank space to improve the visual appearance.",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-19T07:34:36Z",
      "updated_at": "2025-03-02T23:57:54Z",
      "closed_at": "2025-03-02T23:57:53Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/297/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/297",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/297",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:19.524175",
      "comments": [
        {
          "author": "timelic",
          "body": "保持行距一致更好。稀疏行距在排版上是大忌。\r\n\r\n我不反对对全文进行扫描之后用自适应的统一行距，但是不应该就每一段用不同的行距。",
          "created_at": "2024-12-19T07:47:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "My idea is to try to unify the line spacing as much as possible, and reduce the line spacing where it doesn't fit. For example, first calculate the maximum allowable line spacing page by page, then take the 90th percentile, and finally compress the remaining space. Consider using dynamic programming",
          "created_at": "2024-12-19T07:50:52Z"
        },
        {
          "author": "timelic",
          "body": "由于要将代码改写成page-independent来并行化，感觉这种统一分析很难做。并且，似乎也无法区分哪些文本属于“正文”，从而统一正文的行距。",
          "created_at": "2024-12-19T08:15:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "Maybe it can be done by word count, with the one having more words serving as the main text. Page independence is not a concern; it can be done in multiple stages, with as much parallel processing as possible within each stage, and serial processing between different stages.",
          "created_at": "2024-12-19T08:20:16Z"
        },
        {
          "author": "Byaidu",
          "body": "感觉调整段落整体位置比较好，因为动态行距看起来确实有点怪",
          "created_at": "2024-12-30T16:45:18Z"
        }
      ]
    },
    {
      "issue_number": 713,
      "title": "bug(babeldoc gui): pages not work",
      "body": "Kind-hearted person, please help fix it.",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-03-02T23:52:42Z",
      "updated_at": "2025-03-02T23:52:55Z",
      "closed_at": null,
      "labels": [
        "bug",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/713/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/713",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/713",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:19.692448",
      "comments": []
    },
    {
      "issue_number": 601,
      "title": "feat(packaging): Better packaging and distribution method on Windows, preferably create an exe file for extract-and-use experience.",
      "body": "As the title suggests, I'll look into it when I have time.\n",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-11T19:10:58Z",
      "updated_at": "2025-03-02T21:24:04Z",
      "closed_at": "2025-03-02T21:24:04Z",
      "labels": [
        "enhancement",
        "High priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/601/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/601",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/601",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:19.692470",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "What needs to be done:\n\n1. Package the main program + dependencies\n\n2. Package data files (fonts + models), and automatically extract & verify sha256 during runtime to confirm file integrity.\n\nTo achieve 2, need to slightly rewrite the font download code",
          "created_at": "2025-02-11T19:14:33Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/pull/623 can now build a working exe. The next task is to package all the data files together with it.",
          "created_at": "2025-02-16T15:56:49Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/645 improved the exe build speed, but still hasn't included the resource files. I have an idea and will implement it when I have time.",
          "created_at": "2025-02-22T20:55:50Z"
        },
        {
          "author": "awwaawwa",
          "body": "Version 1.9.3 will include this feature, community help is needed for testing!",
          "created_at": "2025-03-02T21:23:52Z"
        }
      ]
    },
    {
      "issue_number": 710,
      "title": "unable to run exe, for not find dll",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Win 10 \n- Python: N/A or 3.12\n- pdf2zh: exe version\n```\n\n### 描述你的问题\n\nDownload exe version\n![Image](https://github.com/user-attachments/assets/1d1f08f7-5858-48db-a758-9881b04a52f1)\nand try to run but failed with below error message\n![Image](https://github.com/user-attachments/assets/2c128d7e-703d-4c36-ba0e-8f23646ad99c)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KamiyaMinoru",
      "author_type": "User",
      "created_at": "2025-03-02T11:51:03Z",
      "updated_at": "2025-03-02T13:03:26Z",
      "closed_at": "2025-03-02T13:03:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/710/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/710",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/710",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:19.904511",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Upload a screenshot of the folder `C:\\\\Program Files (x86)\\[3rdParty]\\Documt\\PDF2ZH`",
          "created_at": "2025-03-02T12:02:47Z"
        },
        {
          "author": "awwaawwa",
          "body": "In addition, you can try to extract this program to a path that does not contain `[]` and spaces, as paths containing these special characters may hinder program startup.",
          "created_at": "2025-03-02T12:05:30Z"
        },
        {
          "author": "KamiyaMinoru",
          "body": "[file_list.txt](https://github.com/user-attachments/files/19042866/file_list.txt)\n\nPath is not the reason (tried)\n\n![Image](https://github.com/user-attachments/assets/de83c6c7-b143-4321-bc5a-02da158913ef)",
          "created_at": "2025-03-02T12:07:00Z"
        },
        {
          "author": "awwaawwa",
          "body": "Please download again and extract again. According to the list you provided, the directory structure is incorrect.",
          "created_at": "2025-03-02T12:09:09Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/b45c57a4-87d3-4421-896a-1b6901530b7c)\n\nThe above figure shows the correct directory structure. Please ensure that there are two folders, runtime and site-packages, at the same level as pdf2zh.exe.",
          "created_at": "2025-03-02T12:12:25Z"
        }
      ]
    },
    {
      "issue_number": 708,
      "title": "feat: Support Thai language",
      "body": "[Prelim COP TCN.pdf](https://github.com/user-attachments/files/19042232/Prelim.COP.TCN.pdf)\n请问现在是否支持泰文文档？我看了noto_list中有支持泰文。\n测试了一篇泰文文档。\n可以检测到文字/翻译也有结果 \n但是重新写回布局的时候似乎失败了 结果为空 没有任何提示。",
      "state": "open",
      "author": "YANG-Haruka",
      "author_type": "User",
      "created_at": "2025-03-02T08:58:50Z",
      "updated_at": "2025-03-02T09:04:32Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/708/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/708",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/708",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.067170",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "暂不支持泰文，后续优化。",
          "created_at": "2025-03-02T09:04:18Z"
        }
      ]
    },
    {
      "issue_number": 694,
      "title": "我尝试了google，bing以及ollama，都无法运行",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:Windows11\n- docker部署\n```\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/79be0d7b-5b37-4b88-aaf2-1d9baa7714e0)\n我运行以后就是这个样子，没有任何输出，运行30000s也没有任何反应，依旧是这个样子\n\n### 如何复现\n\n1. 执行Translate\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[2010.11929v2.pdf](https://github.com/user-attachments/files/18985298/2010.11929v2.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "emptystack1024",
      "author_type": "User",
      "created_at": "2025-02-26T14:11:03Z",
      "updated_at": "2025-03-02T05:09:31Z",
      "closed_at": "2025-02-27T13:11:07Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/694/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/694",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/694",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.227203",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请把双击运行时 黑框框内的报错信息也截图贴上来",
          "created_at": "2025-02-26T14:12:11Z"
        },
        {
          "author": "emptystack1024",
          "body": "![Image](https://github.com/user-attachments/assets/c77cd993-fa33-43b8-a4ca-3dd35ced8222)\n是这样吗，我是docker部署的，不太清楚如何查看\n我尝试了一下bing是可以翻译的\n但是ollama是exe的，不是docker部署的，使用了127.0.0.1和 192.168.1.80 都是会卡在这个状态没有任何反应",
          "created_at": "2025-02-26T15:19:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "docker logs -f 7155\n\n最后的数字，是docker run命令输出的那一串。",
          "created_at": "2025-02-26T15:20:26Z"
        },
        {
          "author": "emptystack1024",
          "body": "ERROR:pdf2zh.converter:Failed to connect to Ollama. Please check that Ollama is downloaded, running and accessible. https://ollama.com/download\n\n感谢你，看到了报错信息\n\n但是我尝试了127.0.0.1和192.168.1.80，都无法连接，但同样使用docker部署的dify就可以连接到ollama",
          "created_at": "2025-02-26T15:38:19Z"
        },
        {
          "author": "hellofinch",
          "body": "你的ollama是在容器中还是单独安装的程序？",
          "created_at": "2025-02-27T01:27:27Z"
        }
      ]
    },
    {
      "issue_number": 705,
      "title": "fatal: not a git repository",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windows 10\n- Python: 3.12.2\n- pdf2zh: 1.9.2\n```\n\n### 描述你的问题\n\n![Image](https://github.com/user-attachments/assets/d8028e99-8f04-4431-8bb0-157ebf7574bf)\n\n可以叫出界面和拖曳檔案, 但翻譯不出來, 只知道有錯誤\n\n![Image](https://github.com/user-attachments/assets/f7c91f7d-8b5c-4820-9309-05ada293377f)\n\n[log.txt](https://github.com/user-attachments/files/19040050/log.txt)\n\n但有確實安裝pdf2zh (by pip install)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "KamiyaMinoru",
      "author_type": "User",
      "created_at": "2025-03-01T17:40:09Z",
      "updated_at": "2025-03-01T17:47:59Z",
      "closed_at": "2025-03-01T17:47:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/705/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/705",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/705",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.417955",
      "comments": []
    },
    {
      "issue_number": 703,
      "title": "使用exe时，字体路径搜索不到，翻译乱码",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n使用exe运行程序时，检测不到字体路径\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nsite-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:\nsite-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset\n    fts.main(args)\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__\n    data = entry.loadData(self.file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData\n    assert len(data) == self.length\n           ^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\nsite-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:\nsite-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset\n    fts.main(args)\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__\n    data = entry.loadData(self.file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Downloads\\pdf2zh-awv1.9.1-win64\\build\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData\n    assert len(data) == self.length\n           ^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "wkx20031002",
      "author_type": "User",
      "created_at": "2025-03-01T09:43:54Z",
      "updated_at": "2025-03-01T10:28:54Z",
      "closed_at": "2025-03-01T10:28:54Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/703/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/703",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/703",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.417975",
      "comments": []
    },
    {
      "issue_number": 646,
      "title": "翻译的不完整，目录丢失",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [ ] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows 11 \n- Python:3.10.16\n- pdf2zh:1.9.0\n```\n\n### 描述你的问题\n\n我再翻译pdf的时候，翻译后的pdf目录错位不完整，并且表格内中的内容翻译了一部分，没有完全翻译，使用的是ollama进行的翻译\n\n\n\n### 如何复现\n\n我的pdf路径是在桌面，在桌面中建立output文件夹后\n1. 执行 'cd C:\\Users\\Administrator\\Desktop' \n2.  'pdf2zh .\\999.pdf -li en -lo zh -s ollama -t 1000 -o output'\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n原始的pdf文件\n[999.pdf](https://github.com/user-attachments/files/18857573/999.pdf)\n翻译后的\n[999-mono.pdf](https://github.com/user-attachments/files/18857591/999-mono.pdf)\n\n[999-dual.pdf](https://github.com/user-attachments/files/18857595/999-dual.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "wojingchen",
      "author_type": "User",
      "created_at": "2025-02-19T02:38:38Z",
      "updated_at": "2025-03-01T02:05:41Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/646/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/646",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/646",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.417982",
      "comments": []
    },
    {
      "issue_number": 687,
      "title": "本地版提示某文件没有安装怎么解决",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n我使用本地应用版的时候，点击.exe显示“argos-translate is not installed, argostranslate will not work. if you want to use argostranslate, please install it.”我在github上下载了一个argos-translate文件（translate-en_zh-1_9.argosmodel）文件放进文件夹，然后我该怎么做？\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "annusprimus",
      "author_type": "User",
      "created_at": "2025-02-25T13:28:07Z",
      "updated_at": "2025-02-27T08:18:44Z",
      "closed_at": "2025-02-25T14:39:48Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/687/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/687",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/687",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.417989",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "你要用argos-translate嘛？如果你不用的话可以安全忽略这条警告的。",
          "created_at": "2025-02-25T14:22:40Z"
        },
        {
          "author": "awwaawwa",
          "body": "如果你要用的话，请使用其他方式安装。exe版不支持argos-translate。\n\n```python\npip install pdf2zh[argostranslate]\n```",
          "created_at": "2025-02-25T14:25:28Z"
        },
        {
          "author": "annusprimus",
          "body": "但是不用好像没法继续用欸\r\n\r\n\r\n\r\n---原始邮件---\r\n发件人: ***@***.***&gt;\r\n发送时间: 2025年2月25日(周二) 晚上10:23\r\n收件人: ***@***.***&gt;;\r\n抄送: ***@***.******@***.***&gt;;\r\n主题: Re: [Byaidu/PDFMathTranslate] 本地版提示某文件没有安装怎么解决 (Issue #687)\r\n\r\n\r\n   \r\n你要用argos-translate嘛？如果你不用的话可以安全忽略这条警告的。\r\n\r\n—\r\nReply to this email directly, view it on",
          "created_at": "2025-02-25T14:26:54Z"
        },
        {
          "author": "awwaawwa",
          "body": "那是其他问题，和这个没关系。\n\n请把弹出的黑框框里的内容贴上来",
          "created_at": "2025-02-25T14:30:22Z"
        },
        {
          "author": "annusprimus",
          "body": "问题解决了，原来只是在浏览器里打开的时间有点久。感谢您的热情回复，翻译器相当好用。\r\n\r\n\r\n\r\n---原始邮件---\r\n发件人: ***@***.***&gt;\r\n发送时间: 2025年2月25日(周二) 晚上10:32\r\n收件人: ***@***.***&gt;;\r\n抄送: ***@***.******@***.***&gt;;\r\n主题: Re: [Byaidu/PDFMathTranslate] 本地版提示某文件没有安装怎么解决 (Issue #687)\r\n\r\n\r\n   \r\n那是其他问题，和这个没关系。\r\n \r\n请把弹出的黑框框里的内容贴上来\r\n\r\n—\r\nReply to this em",
          "created_at": "2025-02-25T14:34:45Z"
        }
      ]
    },
    {
      "issue_number": 505,
      "title": "1.8.9版本，set的环境变量大模型参数无法传递到GUI",
      "body": "## 问题描述\n1.8.8没有这个问题，大模型参数可以正常传递。\n升级1.8.9之后，set完大模型参数，环境变量里也能查到。\n![Image](https://github.com/user-attachments/assets/f218f1e6-e02e-493f-8456-e37597d35b05)\n但是pdf2zh -i打开的GUI界面里，大模型参数依然为空，没有传递过来。\n![Image](https://github.com/user-attachments/assets/0735796f-995e-4272-b2a6-59611b2180d4)\n\n## 测试文档\n界面问题，无测试文档\n",
      "state": "closed",
      "author": "htyxyt",
      "author_type": "User",
      "created_at": "2025-01-21T12:10:18Z",
      "updated_at": "2025-02-27T07:01:47Z",
      "closed_at": "2025-02-27T07:01:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/505/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/505",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/505",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.619893",
      "comments": [
        {
          "author": "hellofinch",
          "body": "可以正常调用翻译service吗？",
          "created_at": "2025-01-22T02:54:02Z"
        },
        {
          "author": "htyxyt",
          "body": "> 可以正常调用翻译service吗？\n\ngoogle没问题。\ndeepseek不行，如果KEY空着，网页显示报错。如果手动粘贴进去key，网页翻译卡住，控制台输出\n`ERROR:pdf2zh.converter:invalid syntax (<string>, line 0)`",
          "created_at": "2025-01-22T03:03:22Z"
        },
        {
          "author": "hellofinch",
          "body": "llm的话webUI确实有问题，需要应用一下 https://github.com/Byaidu/PDFMathTranslate/pull/495 这个PR。\n\n目前对于这个问题有三个方式解决：\n1. 使用最新的源码安装运行`pip install .`\n2. 使用docker，应用 https://github.com/Byaidu/PDFMathTranslate/pull/495 中的修改，然后在docker重新安装。\n3. 使用`pip install pdf2zh`的安装方法，找到pdf2zh的安装地址，然后应用https://github.com/Byaidu/PDFMathTr",
          "created_at": "2025-01-22T06:43:31Z"
        }
      ]
    },
    {
      "issue_number": 462,
      "title": "Some letters of an English word at the end of the line are separated and moved to the next line.",
      "body": "![image](https://github.com/user-attachments/assets/1e866677-ab69-427b-8068-8a578593632e)\r\n![image](https://github.com/user-attachments/assets/0a9ede6a-3aa6-44f4-ac57-5d1153e22eaf)\r\n[2024_compress.pdf](https://github.com/user-attachments/files/18404086/2024_compress.pdf)\r\nSome words at the end of lines, such as \"room,\" \"number,\" \"corresponding,\" \"black,\" \"the,\" and \"please,\" have some letters that are separated and moved to the next line.",
      "state": "open",
      "author": "THD0813",
      "author_type": "User",
      "created_at": "2025-01-14T01:45:45Z",
      "updated_at": "2025-02-27T05:40:23Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/462/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/462",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/462",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:20.835871",
      "comments": [
        {
          "author": "Byaidu",
          "body": "之后会引入kp算法解决西文排版问题",
          "created_at": "2025-01-14T02:00:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "This is due to a flaw in the current line-breaking algorithm, and the new backend also temporarily has this issue. We have noticed this problem, but it will take some time to resolve. Please be patient. Additionally, for Chinese-to-English translation scenarios, we are also experimenting with dynami",
          "created_at": "2025-01-14T02:34:53Z"
        },
        {
          "author": "xxnuo",
          "body": "还有一种方案，缩小译文的字号，让他不会溢出，就像这样\r\n<img width=\"552\" alt=\"image\" src=\"https://github.com/user-attachments/assets/b20c7335-f731-48b1-910b-b230357809bf\" />\r\n<img width=\"567\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d658cccf-7b7b-4411-a464-c52e37cddb06\" />\r\n如何？\r\n",
          "created_at": "2025-01-15T10:29:47Z"
        },
        {
          "author": "awwaawwa",
          "body": "New backend has been implemented",
          "created_at": "2025-01-15T10:30:39Z"
        },
        {
          "author": "xxnuo",
          "body": "> New backend has been implemented\r\n\r\nWill it be merged into this repository?",
          "created_at": "2025-01-15T10:48:08Z"
        }
      ]
    },
    {
      "issue_number": 665,
      "title": "Assertion Error",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: windows 11\n- Python:3.12.9\n- pdf2zh:1.9.0\n```\n\n### 描述你的问题\n\n在使用Google、Bing、Tencent翻译时在进度到达100%后报错Assertion Error。其他翻译引擎没有使用过。翻译后预览的文档具体表现为大段空白、零散的原文（或译文）及标点\n\n在将报错信息粘贴并询问kimi后尝试对fonttools和pymupdf进行重新安装，但仍未能解决\n`pip uninstall fonttools pymupdf`\n`pip install fonttools pymupdf`\nKIMI的详细回答见下方\n\n原始的PDF文件已随附件上传（DOI：10.48550/arXiv.1705.09406）\n\n\n\n\n\n\n\n### 如何复现\n\n1. 正常执行翻译步骤，在进度达到100%后出现报错信息，随后在预览翻译后的文档时发现格式错误\n\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nAppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:\nAppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\utils.py\", line 5832, in build_subset\n    fts.main(args)\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__\n    data = entry.loadData(self.file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData\n    assert len(data) == self.length\n           ^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n\nAppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:\nAppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\pymupdf\\utils.py\", line 5832, in build_subset\n    fts.main(args)\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__\n    data = entry.loadData(self.file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\22238\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python312\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData\n    assert len(data) == self.length\n           ^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n```\n\n### 原始PDF文件\n\n[Baltrušaitis 等 - 2017 - Multimodal Machine Learning A Survey and Taxonomy.pdf](https://github.com/user-attachments/files/18921422/Baltrusaitis.-.2017.-.Multimodal.Machine.Learning.A.Survey.and.Taxonomy.pdf)\n\n### 还有别的吗？\n\n将报错信息粘贴至kimi得到如下分析：\n\n报错信息分析\n文件类型：Python 文件和相关路径（如 fontTools 和 pymupdf）。\n关键错误信息：AssertionError，出现在以下路径：\n复制\nFile \"C:/Users/22238/AppData/Local/Packages/PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0/LocalCache/local-packages/Python312/site-packages/fontTools/ttLib/sfnt.py\", line 508, in loadData\n  assert len(data) == self.length\n错误原因：\n在加载字体时，程序尝试读取字体文件的某些数据块。\nfontTools 库期望数据块的长度与预期值完全匹配。\n但实际数据长度与预期值不符，触发了 AssertionError。\n可能的原因\n字体文件损坏：字体文件可能被损坏或格式不正确。\n字体文件不完整：字体文件可能缺少某些必要的部分。\n字体文件格式不支持：fontTools 可能无法处理某种特定格式的字体文件。\nfontTools 库版本问题：使用的 fontTools 版本可能存在兼容性问题。\npymupdf 库问题：pymupdf 或其依赖的库可能与当前环境存在兼容性问题。",
      "state": "open",
      "author": "onedayseek",
      "author_type": "User",
      "created_at": "2025-02-22T09:24:47Z",
      "updated_at": "2025-02-26T18:45:01Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/665/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/665",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/665",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.004378",
      "comments": [
        {
          "author": "hellofinch",
          "body": "尝试更新1.9.1看看能否解决，这个在1.9.0版本确实有这个问题。",
          "created_at": "2025-02-24T01:27:56Z"
        },
        {
          "author": "IsJiangMing",
          "body": "我是1.9.1版本，遇到了一样的问题，但我用Adobe Acrobat 检查 PDF 嵌入字体发现字体是正常的，错误Log是完全一致的",
          "created_at": "2025-02-25T12:45:20Z"
        },
        {
          "author": "hellofinch",
          "body": "assert 那个问题的话可能是字体的subset导致，最近的PR已经添加了跳过subset的功能，可以尝试更新或等新版本发布。",
          "created_at": "2025-02-26T01:12:29Z"
        },
        {
          "author": "histalent",
          "body": "[Droit fiscal des affaires 2018-2019 - 17e ed. (Précis) (French Edition) P30-dual.pdf](https://github.com/user-attachments/files/18992392/Droit.fiscal.des.affaires.2018-2019.-.17e.ed.Precis.French.Edition.P30-dual.pdf)\n\n我也遇到同样的错误提示。我回忆了下，应该和PDFMathTranslate的版本、PDF文件的字体应该没有关系，可能是在安装了某个软件或者升级了某个软件的版本后",
          "created_at": "2025-02-26T18:43:13Z"
        }
      ]
    },
    {
      "issue_number": 695,
      "title": "ONNX Runtime supports不支持系统win server2022",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows serve 2022\n- Python:3.12\n- pdf2zh:1.9.2\n之前一直好用的，昨天还能用，不知道为啥今天有个文档翻译突然提示错误了，我之前装的1.9.1我以为是升级出问题了，所以又卸载重装就是1.9.2出现错误提示如下，看起来是系统win server不支持，请问有什么办法能解决吗\nargos-translate is not installed, argostranslate will not work. if you want to use argostranslate, please install it.\nC:\\ProgramData\\miniconda3\\Lib\\site-packages\\onnxruntime\\capi\\onnxruntime_validation.py:26: UserWarning: Unsupported Windows version (2022server). ONNX Runtime supports Windows 10 and above, only.\n  warnings.warn(\n信息: 用提供的模式无法找到文件。\n```\n\n### 描述你的问题\n\n- OS:windows serve 2022\n- Python:3.12\n- pdf2zh:1.9.2\n之前一直好用的，昨天还能用，不知道为啥今天有个文档翻译突然提示错误了，我之前装的1.9.1我以为是升级出问题了，所以又卸载重装就是1.9.2出现错误提示如下，看起来是系统win server不支持，请问有什么办法能解决吗\nargos-translate is not installed, argostranslate will not work. if you want to use argostranslate, please install it.\nC:\\ProgramData\\miniconda3\\Lib\\site-packages\\onnxruntime\\capi\\onnxruntime_validation.py:26: UserWarning: Unsupported Windows version (2022server). ONNX Runtime supports Windows 10 and above, only.\n  warnings.warn(\n信息: 用提供的模式无法找到文件。\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "tianxinfeng2",
      "author_type": "User",
      "created_at": "2025-02-26T15:15:41Z",
      "updated_at": "2025-02-26T15:19:00Z",
      "closed_at": "2025-02-26T15:16:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/695/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/695",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/695",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.175128",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "以上提示信息表明本程序正常运行，请耐心等待一会。过一会就会弹出网页。",
          "created_at": "2025-02-26T15:16:59Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/e95f316f-8ac8-4a9f-bbb1-6f5a0abcf904)\n\n当前测试CI在Windows上使用的就是Windows Server 2022，是可以正常运行的。",
          "created_at": "2025-02-26T15:18:59Z"
        }
      ]
    },
    {
      "issue_number": 658,
      "title": "ipv6支持",
      "body": "### 在什么场景下，需要你请求的功能？\n\n默认状态下似乎无法通过ipv6访问，如何开启ipv6支持呢？\n\n### 解决方案\n\n开启ipv6支持\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "MineFirework",
      "author_type": "User",
      "created_at": "2025-02-20T15:34:27Z",
      "updated_at": "2025-02-26T14:15:31Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/658/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/658",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/658",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.341196",
      "comments": [
        {
          "author": "hellofinch",
          "body": "API还是webUI？",
          "created_at": "2025-02-21T00:46:53Z"
        },
        {
          "author": "MineFirework",
          "body": "webUI",
          "created_at": "2025-02-21T09:16:54Z"
        },
        {
          "author": "hellofinch",
          "body": "这个可能需要看一下gradio的文档，待我检视有一遍文档，可能需要您帮忙测试。",
          "created_at": "2025-02-24T01:22:19Z"
        },
        {
          "author": "MineFirework",
          "body": "好的，我这边有ipv6地址，可以帮你测试",
          "created_at": "2025-02-24T11:52:10Z"
        },
        {
          "author": "hellofinch",
          "body": "`GRADIO_SERVER_NAME=::` 设置这个环境变量试试看看能不能通过ipv6访问webUI。\nhttps://www.gradio.app/guides/environment-variables#2-gradio-server-name",
          "created_at": "2025-02-26T01:19:43Z"
        }
      ]
    },
    {
      "issue_number": 689,
      "title": "config不生效",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows\n- Python:3.12\n- pdf2zh:1.9.2\n```\n\n### 描述你的问题\n\n使用下面config在批量执行下无法正常调用openai,选了默认 的谷歌翻译\n\nFile: config.json\n```json\n{\n  \"USE_MODELSCOPE\": \"0\",\n  \"PDF2ZH_LANG_FROM\": \"English\",\n  \"PDF2ZH_LANG_TO\": \"Simplified Chinese\",\n  \"NOTO_FONT_PATH\": \"/app/SourceHanSerifCN-Regular.ttf\",\n  \"translators\": [\n    {\n      \"name\": \"openai\",\n      \"envs\": {\n        \"OPENAI_BASE_URL\": \"https://ark.cn-beijing.volces.com/api/v3\",\n        \"OPENAI_API_KEY\": \"***\",\n        \"OPENAI_MODEL\": \"doubao-1-5-lite-32k-250115\"\n      }\n    }\n  ]\n}\n\n```\n\n\n\n### 如何复现\n\n在目录保存./config.json后\n执行\n```\n./pdf2zh.exe --dir 文件夹 --config ./config.json\n```\n\n### 预期行为\n\n正常调用openai接口而不是谷歌翻译\n\n### 相关 Logs\n\n```Text\n(main) PS D:\\Program_Green\\pdf翻译> ls\n\n    Directory: D:\\Program_Green\\pdf翻译\n\nMode                 LastWriteTime         Length Name\n----                 -------------         ------ ----\nd----           2025/2/25    22:42                .gradio\nd----           2025/2/25    23:02                pdf2zh_files\nd----           2025/2/25    22:40                runtime\nd----           2025/2/25    22:42                site-packages\n-a---           2025/2/23     4:05            157 _pystand_static.int\n-a---           2025/2/25    23:09             87 cmd.txt\n-a---           2025/2/25    23:08            450 config.json\n-a---           2025/2/23     4:05         149504 pdf2zh.exe\n\n(main) PS D:\\Program_Green\\pdf翻译> ./pdf2zh.exe --dir D:/BaiduSyncdisk/大三下/编译原理/ppt --config ./config.json\nargos-translate is not installed, argostranslate will not work. if you want to use argostranslate, please install it.\nNamespace(files=['D:/BaiduSyncdisk/大三下/编译原理/ppt'], debug=False, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='google', output='', thread=4, interactive=False, share=False, flask=False, celery=False, authorized=None, prompt=None, compatible=False, onnx=None, serverport=None, dir=True, config='./config.json', babeldoc=False)\n  0%|                                                                                         | 0/44 [00:00<?, ?it/s]ERROR:pdf2zh.converter:HTTPSConnectionPool(host='translate.google.com', port=443): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=School+of+Computer+Science+and+Engineering+lnslwj%40mail.sysu.edu.cn (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000244A212D880>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPSConnectionPool(host='translate.google.com', port=443): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Prof.+Wen-jun+LI (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000244A212C5F0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPSConnectionPool(host='translate.google.com', port=443): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Principles+of++Compiler+Construction (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x00000244A212D070>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "xy3xy3",
      "author_type": "User",
      "created_at": "2025-02-25T15:12:23Z",
      "updated_at": "2025-02-26T01:15:54Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/689/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/689",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/689",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.514093",
      "comments": [
        {
          "author": "xy3xy3",
          "body": "在网页版配置接口后\n./pdf2zh.exe --dir D:/BaiduSyncdisk/大三下/编译原理/ppt -s openai:doubao-1-5-lite-32k-250115\n就可以\n也许是我要用-s在后面",
          "created_at": "2025-02-25T15:15:42Z"
        },
        {
          "author": "hellofinch",
          "body": "根据问题描述来看，./config.json第一次没有读入。\n我需要测试一下尝试复习问题，如有进展会在这个issue中更新。",
          "created_at": "2025-02-26T01:15:52Z"
        }
      ]
    },
    {
      "issue_number": 688,
      "title": "exe版不自动调用GPU",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows\n- Python:3.12.0\n- pdf2zh:1.9.1\n```\n\n### 描述你的问题\n\n使用的[pdf2zh-awv1.9.1-win64.zip](https://github.com/Byaidu/PDFMathTranslate/releases/download/awv1.9.1/pdf2zh-awv1.9.1-win64.zip)\n211 MB\n但是不会自动调用GPU在翻译过程中,cuda已经安装\n\n![Image](https://github.com/user-attachments/assets/4d9538d5-8cf7-4ba1-9b69-b57bd0d72167)\n\n![Image](https://github.com/user-attachments/assets/4dee969c-0dbe-4f19-945c-e20eb5a49ed8)\n\n### 如何复现\n\n1.启动exe\n2.开始翻译\n3.打开任务管理器,发现只占用CPU 无GPU占用\n\n### 预期行为\n\n使用GPU加速识别\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "xy3xy3",
      "author_type": "User",
      "created_at": "2025-02-25T14:55:13Z",
      "updated_at": "2025-02-25T15:33:07Z",
      "closed_at": "2025-02-25T15:13:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/688/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/688",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/688",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.688139",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "符合预期",
          "created_at": "2025-02-25T15:13:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "exe确实没有这种先进功能。并且短期内也不准备搞",
          "created_at": "2025-02-25T15:13:42Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/690\n\n我挂个issue看有没有好心人给做吧。",
          "created_at": "2025-02-25T15:19:05Z"
        },
        {
          "author": "xy3xy3",
          "body": "> 符合预期\n\n![Image](https://github.com/user-attachments/assets/bcff15e5-4611-42e9-9bfa-797257bd235d)\n\n![Image](https://github.com/user-attachments/assets/3e4c8c82-94eb-49cb-a9f2-76b27afc2db4)\n\n请问为什么\n```shell\nconda activate PDFMathTranslate\npdf2zh --dir D:/BaiduSyncdisk/大三下/编译原理/ppt -s openai:doubao-1-5",
          "created_at": "2025-02-25T15:25:06Z"
        },
        {
          "author": "awwaawwa",
          "body": "onnxruntime的gpu支持是单独的包，请另行安装",
          "created_at": "2025-02-25T15:32:16Z"
        }
      ]
    },
    {
      "issue_number": 690,
      "title": "feat(onnx gpu support): Support GPU acceleration in the Windows executable version.",
      "body": "Need to integrate DirectML or CUDA on Windows?\n\nCommunity help needed to figure out how to integrate DirectML or CUDA. PRs welcome!",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-25T15:18:30Z",
      "updated_at": "2025-02-25T15:18:55Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "Normal priority"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/690/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/690",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/690",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:21.896439",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/688",
          "created_at": "2025-02-25T15:18:53Z"
        }
      ]
    },
    {
      "issue_number": 677,
      "title": "I guess.. font error",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: windows\n- Python: 3.12.9\n- pdf2zh: 1.9.1\n```\n\n### Describe the bug\n\nI have two PDF files like the ones mentioned, but for some reason, only these files cannot be translated, possibly due to the font. Other files work fine. In this case, what steps should I take to overcome this issue and successfully translate the files? I would appreciate your help.\n\n![Image](https://github.com/user-attachments/assets/8ce9d443-e992-4b9b-a0ca-838ebd3f792f)\n\n![Image](https://github.com/user-attachments/assets/51eb7237-b6b5-4c25-a1b0-8b16cf8f46b3)\n\n![Image](https://github.com/user-attachments/assets/8b02fc22-a22e-4d50-b191-03a4f284169f)\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n[1.pdf](https://github.com/user-attachments/files/18928285/1.pdf)\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "DavidRomer24",
      "author_type": "User",
      "created_at": "2025-02-23T05:27:25Z",
      "updated_at": "2025-02-25T07:07:57Z",
      "closed_at": "2025-02-25T07:07:57Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/677/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/677",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/677",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.079953",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "You can wait for kind-hearted people to help with: https://github.com/Byaidu/PDFMathTranslate/issues/678. This issue occurs during font subsetting, skipping this step should improve it.",
          "created_at": "2025-02-23T07:43:40Z"
        },
        {
          "author": "awwaawwa",
          "body": "In addition, you can also try the new backend [BabelDOC](https://github.com/funstory-ai/BabelDOC), and the `--enhance-compatibility` option of the new backend.",
          "created_at": "2025-02-23T07:58:36Z"
        }
      ]
    },
    {
      "issue_number": 676,
      "title": "docker run exception，KeyError: 'cmap'",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\nversion:latest\n```\n\n### Describe the bug\n\n2025-02-22 20:18:46 KeyError: 'cmap'\n2025-02-22 20:18:46 \n2025-02-22 20:18:46 ../usr/local/lib/python3.12/site-packages/pymupdf/__init__.py:276:exception_info(): exception_info:\n2025-02-22 20:18:46 ../usr/local/lib/python3.12/site-packages/pymupdf/__init__.py:277:exception_info(): Traceback (most recent call last):\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/pymupdf/utils.py\", line 5698, in build_subset\n2025-02-22 20:18:46     fts.main(args)\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/misc/loggingTools.py\", line 375, in wrapper\n2025-02-22 20:18:46     return func(*args, **kwds)\n2025-02-22 20:18:46            ^^^^^^^^^^^^^^^^^^^\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/subset/__init__.py\", line 3813, in main\n2025-02-22 20:18:46     subsetter.subset(font)\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/subset/__init__.py\", line 3601, in subset\n2025-02-22 20:18:46     self._prune_post_subset(font)\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/subset/__init__.py\", line 3554, in _prune_post_subset\n2025-02-22 20:18:46     new_uniranges = font[tag].recalcUnicodeRanges(font, pruneOnly=True)\n2025-02-22 20:18:46                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/ttLib/tables/O_S_2f_2.py\", line 338, in recalcUnicodeRanges\n2025-02-22 20:18:46     for table in ttFont[\"cmap\"].tables:\n2025-02-22 20:18:46                  ~~~~~~^^^^^^^^\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/ttLib/ttFont.py\", line 461, in __getitem__\n2025-02-22 20:18:46     table = self._readTable(tag)\n2025-02-22 20:18:46             ^^^^^^^^^^^^^^^^^^^^\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/ttLib/ttFont.py\", line 468, in _readTable\n2025-02-22 20:18:46     data = self.reader[tag]\n2025-02-22 20:18:46            ~~~~~~~~~~~^^^^^\n2025-02-22 20:18:46   File \"/usr/local/lib/python3.12/site-packages/fontTools/ttLib/sfnt.py\", line 109, in __getitem__\n2025-02-22 20:18:46     entry = self.tables[Tag(tag)]\n2025-02-22 20:18:46             ~~~~~~~~~~~^^^^^^^^^^\n2025-02-22 20:18:46 KeyError: 'cmap'\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "jerry-IN",
      "author_type": "User",
      "created_at": "2025-02-23T04:14:00Z",
      "updated_at": "2025-02-25T07:07:57Z",
      "closed_at": "2025-02-25T07:07:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/676/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/676",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/676",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.243512",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "You can wait for kind-hearted people to help with: https://github.com/Byaidu/PDFMathTranslate/issues/678. This issue occurs during font subsetting, skipping this step should improve it.",
          "created_at": "2025-02-23T07:43:15Z"
        },
        {
          "author": "awwaawwa",
          "body": "In addition, you can also try the new backend [BabelDOC](https://github.com/funstory-ai/BabelDOC), and the `--enhance-compatibility` option of the new backend.",
          "created_at": "2025-02-23T07:58:30Z"
        }
      ]
    },
    {
      "issue_number": 675,
      "title": "feat: Better documentation & prompts for argostranslate",
      "body": "To reduce Docker image size & improve CI testing speed, I made `argostranslate` an optional dependency. However, I haven't created good prompts & documentation. I sincerely request community assistance!",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-22T21:06:41Z",
      "updated_at": "2025-02-22T21:07:21Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Normal priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/675/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/675",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/675",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.415180",
      "comments": []
    },
    {
      "issue_number": 674,
      "title": "docs: automatic internationalization",
      "body": null,
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-22T20:49:20Z",
      "updated_at": "2025-02-22T20:50:25Z",
      "closed_at": null,
      "labels": [
        "documentation",
        "enhancement",
        "Normal priority"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/674/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/674",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/674",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.415202",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "I will try this after completing mkdocs. First, I'll experiment with babeldoc, and if it works well, I'll implement it in pdf2zh.",
          "created_at": "2025-02-22T20:50:24Z"
        }
      ]
    },
    {
      "issue_number": 645,
      "title": "ci: Better release pipeline",
      "body": "### Is your feature request related to a problem?\n\n_No response_\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-18T16:43:46Z",
      "updated_at": "2025-02-22T20:12:17Z",
      "closed_at": "2025-02-22T20:12:16Z",
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/645/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": "v1.9.1",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/645",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/645",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.600890",
      "comments": []
    },
    {
      "issue_number": 656,
      "title": "刚开始翻译可以，然后一天莫名其妙翻译不出来了，就是有生成但是没有目标语言生成。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset                                                                                                                  \n    fts.main(args)                                                                                                      \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main                                                                                                              \n    font = load_font(                                                                                                   \n           ^^^^^^^^^^                                                                                                   \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font                                                                                                         \n    f = font[\"post\"]                                                                                                    \n        ~~~~^^^^^^^^                                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 461, in __getitem__                                                                                                           \n    table = self._readTable(tag)                                                                                        \n            ^^^^^^^^^^^^^^^^^^^^                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 468, in _readTable                                                                                                            \n    data = self.reader[tag]                                                                                             \n           ~~~~~~~~~~~^^^^^                                                                                             \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__                                                                                                             \n    data = entry.loadData(self.file)                                                                                    \n           ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData                                                                                                                \n    assert len(data) == self.length                                                                                     \n           ^^^^^^^^^^^^^^^^^^^^^^^^                                                                                     \nAssertionError                                                                                                          \n                                                                                                                        \n..\\..\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:                                                                                                           \n..\\..\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset                                                                                                                  \n    fts.main(args)                                                                                                      \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main                                                                                                              \n    font = load_font(                                                                                                   \n           ^^^^^^^^^^                                                                                                   \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font                                                                                                         \n    f = font[\"post\"]                                                                                                    \n        ~~~~^^^^^^^^                                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 461, in __getitem__                                                                                                           \n    table = self._readTable(tag)                                                                                        \n            ^^^^^^^^^^^^^^^^^^^^                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 468, in _readTable                                                                                                            \n    data = self.reader[tag]                                                                                             \n           ~~~~~~~~~~~^^^^^                                                                                             \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__                                                                                                             \n    data = entry.loadData(self.file)                                                                                    \n           ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData                                                                                                                \n    assert len(data) == self.length                                                                                     \n           ^^^^^^^^^^^^^^^^^^^^^^^^                                                                                     \nAssertionError                                                                                                          \n                                                                                                                        \nFiles after translation: ['2020.acl-main.686.pdf', '2025000-dual.pdf', '2025000-mono.pdf', '2025000.pdf', '2401.02954v1-dual.pdf', '2401.02954v1-mono.pdf', '2401.02954v1.pdf', '2412.19437v1-dual.pdf', '2412.19437v1-mono.pdf', '2412.19437v1.pdf', '2501.12948v1-dual.pdf', '2501.12948v1-mono.pdf', '2501.12948v1.pdf', 'Attention Is All You Need-dual.pdf', 'Attention Is All You Need-mono.pdf', 'Attention Is All You Need.pdf', 'Do Deep Nets Really Need to be Deep-dual.pdf', 'Do Deep Nets Really Need to be Deep-mono.pdf', 'Do Deep Nets Really Need to be Deep.pdf', 'Knowledge-distillation-dual.pdf', 'Knowledge-distillation-mono.pdf', 'Knowledge-distillation.pdf', 'Rethinking Attention-dual.pdf', 'Rethinking Attention-mono.pdf', 'Rethinking Attention.pdf']   \n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ICEDRUNK-new",
      "author_type": "User",
      "created_at": "2025-02-20T12:57:23Z",
      "updated_at": "2025-02-22T04:58:56Z",
      "closed_at": "2025-02-20T13:17:25Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/656/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/656",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/656",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.600945",
      "comments": [
        {
          "author": "guest881",
          "body": "我和你遇到同样的问题n.text-mono.pdf', 'translate.cli.plain.text.pdf', 'translate.cli.text.with.figure-dual.pdf', 'translate.cli.text.with.figure-mono.pdf', 'translate.cli.text.with.figure.pdf']\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████",
          "created_at": "2025-02-22T04:58:56Z"
        }
      ]
    },
    {
      "issue_number": 649,
      "title": "简中翻译空白",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\nAppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:\nAppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pymupdf\\utils.py\", line 5832, in build_subset\n    fts.main(args)\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main\n    font = load_font(\n           ^^^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper\n    return func(*args, **kwds)\n           ^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font\n    f = font[\"post\"]\n        ~~~~^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 465, in __getitem__\n    table = self._readTable(tag)\n            ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 472, in _readTable\n    data = self.reader[tag]\n           ~~~~~~~~~~~^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__\n    data = entry.loadData(self.file)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\dingy\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData\n    assert len(data) == self.length\n           ^^^^^^^^^^^^^^^^^^^^^^^^\nAssertionError\n以上是报错内容\n我知道肯定是这两个库出了问题，但是通过pip卸载和重新下载之后并没有解决\n目前出现的问题是，我是用bing和腾讯云的翻译，选择简体中文的时候，无法正确翻译，应该正确翻译的地方显示的是空白，但是切换到繁体中文没有这个问题，我已经下载了SourceHanSerifCN-Regular.otf，但是并没有下载ttf版本，不知道是不是和这个有关系\n测试文件是《ATTENTION IS ALL YOU NEED》\n\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "duck-Dingyh",
      "author_type": "User",
      "created_at": "2025-02-19T09:34:55Z",
      "updated_at": "2025-02-22T04:35:30Z",
      "closed_at": "2025-02-22T04:35:29Z",
      "labels": [
        "bug",
        "The new backend BabelDOC can handle"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/649/reactions",
        "total_count": 1,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 1
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/649",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/649",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.772754",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/milestone/2 可以期待 pdf2zh 2.0",
          "created_at": "2025-02-19T09:36:24Z"
        },
        {
          "author": "heyangHEY",
          "body": "同样的问题，折腾有一会儿了",
          "created_at": "2025-02-19T12:14:04Z"
        },
        {
          "author": "heyangHEY",
          "body": "tag：v1.8.8版本的可用，但没有了1.9.0的deepseek和prompt",
          "created_at": "2025-02-19T12:31:40Z"
        },
        {
          "author": "hellofinch",
          "body": "deepseek的话可以在1.8.8 使用openai service，设置对应的URL那些就可以。反正都是openai api。\n但是的epseek用R1的话 CoT在1.8.8版本去不掉。",
          "created_at": "2025-02-20T00:59:53Z"
        },
        {
          "author": "forgetsyl",
          "body": "我也是，突然就不能用了。唉，看了报错据说是字体长度什么原因。btw，1.88下载zip文件后如何运行呀\n",
          "created_at": "2025-02-20T07:05:49Z"
        }
      ]
    },
    {
      "issue_number": 662,
      "title": "ImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:windows10\n- Python:3.12.0\n- pdf2zh:最新版\n```\n\n### 描述你的问题\n\n运行后报错：ImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。\n\n### 如何复现\n\n直接运行文档中的setup.bat后报错\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"D:\\pdf2zh\\pdf2zh_dist\\Scripts\\pdf2zh.exe\\__main__.py\", line 4, in <module>\n  File \"D:\\pdf2zh\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"D:\\pdf2zh\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 25, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"D:\\pdf2zh\\pdf2zh_dist\\Lib\\site-packages\\pdf2zh\\doclayout.py\", line 7, in <module>\n    import onnx\n  File \"D:\\pdf2zh\\pdf2zh_dist\\Lib\\site-packages\\onnx\\__init__.py\", line 77, in <module>\n    from onnx.onnx_cpp2py_export import ONNX_ML\nImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "InnoCEnCEI",
      "author_type": "User",
      "created_at": "2025-02-21T13:10:41Z",
      "updated_at": "2025-02-21T13:38:30Z",
      "closed_at": "2025-02-21T13:32:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/662/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/662",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/662",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:22.979656",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://aka.ms/vs/17/release/vc_redist.x64.exe\n\nhttps://aka.ms/vs/17/release/vc_redist.x86.exe\n\n请安装上述VC运行库后重试",
          "created_at": "2025-02-21T13:22:20Z"
        },
        {
          "author": "InnoCEnCEI",
          "body": "> https://aka.ms/vs/17/release/vc_redist.x64.exe\n> \n> https://aka.ms/vs/17/release/vc_redist.x86.exe\n> \n> 请安装上述VC运行库后重试\n\n完美解决",
          "created_at": "2025-02-21T13:34:00Z"
        }
      ]
    },
    {
      "issue_number": 636,
      "title": "An error occurred when using custom prompt template",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: Arch Linux\n- Python: 3.12.9\n- pdf2zh: 1.8.9\n```\n\n### Describe the bug\n\nWhen using custom prompt templates, the translation progress does not advance (indicated by consistently appearing ambiguous error messages) and I repeatedly attempt to translate, as shown in the figure below:\n\n![Image](https://github.com/user-attachments/assets/4767b9e6-65f2-47e0-9022-de685d0fabb6)\n\nIt's unrelated to the model (I've tried command-r7b and qwen2.5); it also has nothing to do with the prompt template format (I have tried removing the commas at the end of the fourth and eighth lines), and here is the prompt template:\n\n![Image](https://github.com/user-attachments/assets/8a1a0f9d-0021-43ad-a3f7-d41a7652a011)\n\n### To Reproduce\n\n1. Visit the [website](https://realpython.com/python-mock-library/) and use the keyboard shortcut `Ctrl + P` to save the website content as a PDF file.\n2. Run the following command:\n`pdf2zh Understanding\\ the\\ Python\\ Mock\\ Object\\ Library\\ –\\ Real\\ Python.pdf -li en -lo zh --prompt pdf2zh-prompt.txt -s ollama:huihui_ai/command-r7b-abliterated:latest`\n3. An error occurs when translating to page five.\n\n\n### Expected behavior\n\nTranslate the entire PDF and provide the user with a clear error message even if an error occurs. 😅\n\n### Relevant log output\n\n```Text\ninvalid syntax. Perhaps you forgot a comma? (<string>, line 8)\nERROR:pdf2zh.converter:All models failed\ninvalid syntax. Perhaps you forgot a comma? (<string>, line 8)\nERROR:pdf2zh.converter:All models failed\ninvalid syntax. Perhaps you forgot a comma? (<string>, line 8)\nERROR:pdf2zh.converter:All models failed\n......\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "Tql-ws1",
      "author_type": "User",
      "created_at": "2025-02-16T16:26:34Z",
      "updated_at": "2025-02-21T08:06:32Z",
      "closed_at": "2025-02-21T08:06:32Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/636/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/636",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/636",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:23.182009",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please upload your input PDF file and pdf2zh-prompt.txt",
          "created_at": "2025-02-16T16:28:39Z"
        },
        {
          "author": "Tql-ws1",
          "body": "I have started working on this issue, see pull #637.",
          "created_at": "2025-02-16T16:34:33Z"
        },
        {
          "author": "Tql-ws1",
          "body": "> Please upload your input PDF file and pdf2zh-prompt.txt\n\n```txt\n# pdf2zh-prompt.txt\n[\n    {\n        \"role\": \"system\",\n        \"content\": \"You are a professional translator.\",\n    },\n    {\n        \"role\": \"user\",\n        \"content\": \"Keep the original format and translate it into ${lang_out}, don't ",
          "created_at": "2025-02-16T16:36:01Z"
        },
        {
          "author": "hellofinch",
          "body": "BTW, Ollama service caused this problem. Try to replace Stream with the normal way.",
          "created_at": "2025-02-17T01:29:52Z"
        }
      ]
    },
    {
      "issue_number": 609,
      "title": "feat(translator): remove LLM `<think>xxx</think>`",
      "body": "## 问题描述\n使用ollama本地模型进行翻译，如果使用带有思考的模型比如deepseek r1会将思考部分也输入到翻译结果中，并且同时导致排版错误\n\n![Image](https://github.com/user-attachments/assets/08288c6c-9f07-464f-9359-3e21275b2672)\n可用于测试的pdf：\n\n[test.pdf](https://github.com/user-attachments/files/18777115/test.pdf)\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "missyoueveryday",
      "author_type": "User",
      "created_at": "2025-02-13T03:52:01Z",
      "updated_at": "2025-02-21T08:06:32Z",
      "closed_at": "2025-02-21T08:06:31Z",
      "labels": [
        "bug",
        "enhancement",
        "help wanted",
        "good first issue",
        "Normal priority"
      ],
      "label_count": 5,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/609/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/609",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/609",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:23.414978",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "There is currently an issue, which is that if the original text actually contains `<think>xxx</think>`, it will be mistakenly affected by the regex.",
          "created_at": "2025-02-13T04:04:05Z"
        },
        {
          "author": "missyoueveryday",
          "body": "easy way is after get the response, add a filter to delete the 'think' part and then go through the normal output.\nIs this a good solution?",
          "created_at": "2025-02-13T04:44:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "The current issue is how to distinguish between the `<think>xxx</think>` generated by the model and the `<think>xxx</think>` contained in the original text.",
          "created_at": "2025-02-13T04:46:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "If unable to distinguish this, it may accidentally remove the `<think>xxx</think>` in the original text",
          "created_at": "2025-02-13T04:47:14Z"
        },
        {
          "author": "awwaawwa",
          "body": "Using `^<think>.+</think>` should be able to reduce the probability of false positives to a very low level. Looking forward to someone who can implement this.",
          "created_at": "2025-02-13T06:01:41Z"
        }
      ]
    },
    {
      "issue_number": 655,
      "title": "刚开始翻译可以，然后一天莫名其妙翻译不出来了，就是有生成但是没有目标语言生成。",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS:\n- Python:\n- pdf2zh:\n```\n\n### 描述你的问题\n\n File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset                                                                                                                  \n    fts.main(args)                                                                                                      \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main                                                                                                              \n    font = load_font(                                                                                                   \n           ^^^^^^^^^^                                                                                                   \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font                                                                                                         \n    f = font[\"post\"]                                                                                                    \n        ~~~~^^^^^^^^                                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 461, in __getitem__                                                                                                           \n    table = self._readTable(tag)                                                                                        \n            ^^^^^^^^^^^^^^^^^^^^                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 468, in _readTable                                                                                                            \n    data = self.reader[tag]                                                                                             \n           ~~~~~~~~~~~^^^^^                                                                                             \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__                                                                                                             \n    data = entry.loadData(self.file)                                                                                    \n           ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData                                                                                                                \n    assert len(data) == self.length                                                                                     \n           ^^^^^^^^^^^^^^^^^^^^^^^^                                                                                     \nAssertionError                                                                                                          \n                                                                                                                        \n..\\..\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\__init__.py:276:exception_info(): exception_info:                                                                                                           \n..\\..\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\__init__.py:277:exception_info(): Traceback (most recent call last):                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\pymupdf\\utils.py\", line 5698, in build_subset                                                                                                                  \n    fts.main(args)                                                                                                      \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3786, in main                                                                                                              \n    font = load_font(                                                                                                   \n           ^^^^^^^^^^                                                                                                   \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\misc\\loggingTools.py\", line 375, in wrapper                                                                                                          \n    return func(*args, **kwds)                                                                                          \n           ^^^^^^^^^^^^^^^^^^^                                                                                          \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\subset\\__init__.py\", line 3628, in load_font                                                                                                         \n    f = font[\"post\"]                                                                                                    \n        ~~~~^^^^^^^^                                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 461, in __getitem__                                                                                                           \n    table = self._readTable(tag)                                                                                        \n            ^^^^^^^^^^^^^^^^^^^^                                                                                        \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\ttFont.py\", line 468, in _readTable                                                                                                            \n    data = self.reader[tag]                                                                                             \n           ~~~~~~~~~~~^^^^^                                                                                             \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 110, in __getitem__                                                                                                             \n    data = entry.loadData(self.file)                                                                                    \n           ^^^^^^^^^^^^^^^^^^^^^^^^^                                                                                    \n  File \"C:\\Neural_Networks\\anaconda_load\\envs\\pdfmathtranslate\\Lib\\site-packages\\fontTools\\ttLib\\sfnt.py\", line 508, in loadData                                                                                                                \n    assert len(data) == self.length                                                                                     \n           ^^^^^^^^^^^^^^^^^^^^^^^^                                                                                     \nAssertionError                                                                                                          \n                                                                                                                        \nFiles after translation: ['2020.acl-main.686.pdf', '2025000-dual.pdf', '2025000-mono.pdf', '2025000.pdf', '2401.02954v1-dual.pdf', '2401.02954v1-mono.pdf', '2401.02954v1.pdf', '2412.19437v1-dual.pdf', '2412.19437v1-mono.pdf', '2412.19437v1.pdf', '2501.12948v1-dual.pdf', '2501.12948v1-mono.pdf', '2501.12948v1.pdf', 'Attention Is All You Need-dual.pdf', 'Attention Is All You Need-mono.pdf', 'Attention Is All You Need.pdf', 'Do Deep Nets Really Need to be Deep-dual.pdf', 'Do Deep Nets Really Need to be Deep-mono.pdf', 'Do Deep Nets Really Need to be Deep.pdf', 'Knowledge-distillation-dual.pdf', 'Knowledge-distillation-mono.pdf', 'Knowledge-distillation.pdf', 'Rethinking Attention-dual.pdf', 'Rethinking Attention-mono.pdf', 'Rethinking Attention.pdf']   \n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "ICEDRUNK-new",
      "author_type": "User",
      "created_at": "2025-02-20T12:56:34Z",
      "updated_at": "2025-02-20T13:17:39Z",
      "closed_at": "2025-02-20T13:17:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/655/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/655",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/655",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:23.687753",
      "comments": []
    },
    {
      "issue_number": 654,
      "title": "Support of MDX or NON-PDF formarts in EXPORT only .PDF -> MDX",
      "body": "### Is your feature request related to a problem?\n\nWill it be possible to support different format which will be very useful in the data extraction pipelines. \n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "open",
      "author": "aerojeyenth",
      "author_type": "User",
      "created_at": "2025-02-20T10:52:06Z",
      "updated_at": "2025-02-20T11:33:52Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/654/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/654",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/654",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:23.687773",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "This is a super long-term goal, can wait patiently.",
          "created_at": "2025-02-20T10:54:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "The current internal representation we use contains many PDF implementation-related details and is highly unstable, so it is temporarily not suitable for other data analysis scenarios.",
          "created_at": "2025-02-20T10:55:06Z"
        },
        {
          "author": "aerojeyenth",
          "body": "> This is a super long-term goal, can wait patiently.\n\nJust to be clear it is just in the export format, can we export PDF to other formats like MDX, HTML etc?",
          "created_at": "2025-02-20T11:20:05Z"
        },
        {
          "author": "awwaawwa",
          "body": "> > This is a super long-term goal, can wait patiently.\n> \n> Just to be clear it is just in the export format, can we export PDF to other formats like MDX, HTML etc?\n\nNo",
          "created_at": "2025-02-20T11:26:50Z"
        },
        {
          "author": "awwaawwa",
          "body": "Exporting PDF to other formats requires a lot of work and is not that simple.",
          "created_at": "2025-02-20T11:27:18Z"
        }
      ]
    },
    {
      "issue_number": 323,
      "title": "bioRxiv preprint 文章左边有数字行数也被翻译进去",
      "body": "## 功能描述\r\n希望能够识别出preprint 文章行数字进行排除\r\n\r\n![image](https://github.com/user-attachments/assets/049d4972-6400-4424-91c0-cd71e263c13c)\r\n\r\n![image](https://github.com/user-attachments/assets/28716f1f-9161-4706-852f-8e5304b785ed)\r\n",
      "state": "open",
      "author": "benjohn18",
      "author_type": "User",
      "created_at": "2024-12-23T08:16:06Z",
      "updated_at": "2025-02-20T09:03:46Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/323/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/323",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/323",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:23.972114",
      "comments": [
        {
          "author": "hellofinch",
          "body": "提供一下可复现的pdf吧，谢谢。",
          "created_at": "2024-12-23T08:28:10Z"
        },
        {
          "author": "benjohn18",
          "body": "> 提供一下可复现的pdf吧，谢谢。\r\n\r\nhttps://www.biorxiv.org/content/10.1101/2024.03.16.585337v2",
          "created_at": "2024-12-26T06:17:25Z"
        },
        {
          "author": "awwaawwa",
          "body": "关于此问题，后续在 https://github.com/funstory-ai/BabelDOC/issues/109 追踪",
          "created_at": "2025-02-20T09:03:45Z"
        }
      ]
    },
    {
      "issue_number": 650,
      "title": "支持推理模型进行翻译",
      "body": "### 在什么场景下，需要你请求的功能？\n\n推理模型的翻译质量比原版要高不少\n\n### 解决方案\n\n主要是groq提供了免费的蒸馏过的推理模型，主要是deepseek-r1-distill-qwen-32b。\n\n我正在开发此功能，代码如下\n\n```python\n# 过滤掉<think>标签内的内容\nif \"<think>\" in content and \"</think>\" in content:\n    content = re.sub(r\"<think>.*?</think>\", \"\", content, flags=re.DOTALL)\n```\n\n我添加到了OpenAITranslator的do_translate方法内，然后本地用`python pdf2zh.pdf2zh -i -d`运行的，问题是没有生效，翻译的内容还是包含了<think>标签，我单独写了一个unittest，跑起来是没问题的，标签被删掉了。\n\n请帮我看一下，解决之后我会发pr的。\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "highkay",
      "author_type": "User",
      "created_at": "2025-02-19T14:35:34Z",
      "updated_at": "2025-02-20T06:54:58Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/650/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/650",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/650",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:24.172718",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/pull/637 给ollama做了一个，你参考一下",
          "created_at": "2025-02-19T14:39:55Z"
        },
        {
          "author": "awwaawwa",
          "body": "grok在代码中可能是单独的一个类？",
          "created_at": "2025-02-19T14:40:52Z"
        },
        {
          "author": "highkay",
          "body": "> [#637](https://github.com/Byaidu/PDFMathTranslate/pull/637) 给ollama做了一个，你参考一下\n\n他那个主要代码和我一样的，不过条件不一样，他限定了model，其实蒸馏模型也会输出think标签的，而且没人会用满血的推理模型翻译文章的，太贵了，而且提升有限（我感觉是单次抽取的上下文窗口太短了，天花板太低）。免费的蒸馏模型是非常合适的，我也对比了一下效果，明显比glm4-falsh（相当于chatglm4-9b）强很多，而且速度快的多。",
          "created_at": "2025-02-20T06:05:35Z"
        },
        {
          "author": "highkay",
          "body": "> grok在代码中可能是单独的一个类？\n\ngroq是继承了OpenAITranslator，并没有重写do_translate方法，所以我应该修改OpenAITranslator这个父类的do_translate吧？然后我的unittest也是基于Groq做的Translator，跑出来没问题，没有think标签。\n\n```python\nimport unittest\nfrom pdf2zh.translator import GroqTranslator\nfrom pdf2zh import cache\n\nclass TestGroqTranslator(unittest.TestCase",
          "created_at": "2025-02-20T06:14:27Z"
        },
        {
          "author": "awwaawwa",
          "body": "发一个draft的PR，方便大家看到你的代码。",
          "created_at": "2025-02-20T06:40:54Z"
        }
      ]
    },
    {
      "issue_number": 648,
      "title": "非arXiv链接无法正常翻译",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关（包括但不限于Google不可用，模型下载失败）\n\n### 使用的环境\n\n```markdown\n- OS: Ubuntu 22.04.4 LTS\n- Python: 3.10.12\n- pdf2zh: 1.9.0\n```\n\n### 描述你的问题\n\n在使用“link”功能时，只有`https://arxiv.org/pdf/xxxx.xxxxx`（例如`https://arxiv.org/pdf/2502.10394`）格式的url可以进行翻译，但是非此格式的url均显示错误，如：`https://dl.acm.org/doi/pdf/10.1145/3701296`。\n错误信息：\n\n![Image](https://github.com/user-attachments/assets/eb419238-19b5-4e79-995f-b8098948c7d4)\n",
      "state": "closed",
      "author": "XilongCai",
      "author_type": "User",
      "created_at": "2025-02-19T08:30:22Z",
      "updated_at": "2025-02-19T16:18:29Z",
      "closed_at": "2025-02-19T16:18:29Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/648/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/648",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/648",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:24.415917",
      "comments": [
        {
          "author": "hellofinch",
          "body": "这个可能不算是个bug。\narxiv的文章是开放访问的，但是ACM的文章需要额外的购买。因此在请求PDF的过程中会有额外的认证，所以没法像arxiv上那样直接获取。\n或许后续可能会考虑相关的数据库信息的获取，但就目前来说这个是正常的。",
          "created_at": "2025-02-19T09:24:49Z"
        },
        {
          "author": "awwaawwa",
          "body": "我认为通过Zotero插件解决这个问题更好，这样就无需担心访问权限的问题，Zotero和用户会自行处理。",
          "created_at": "2025-02-19T09:38:17Z"
        }
      ]
    },
    {
      "issue_number": 610,
      "title": "顺利连接以后无法配置api",
      "body": "![Image](https://github.com/user-attachments/assets/d9dcb19a-d555-4a22-99e6-a01feeefe9d3)\n\n![Image](https://github.com/user-attachments/assets/05134a0a-35c8-4be6-a02c-a3ec302dd079)\n![Image](https://github.com/user-attachments/assets/db52252b-3746-4772-b941-e992eae91a42)\n如图所示在正确配置连接以后，自动弹出网站，但是网站里面无法配置api，点击service-Google没有反应",
      "state": "closed",
      "author": "abb657",
      "author_type": "User",
      "created_at": "2025-02-13T04:28:30Z",
      "updated_at": "2025-02-19T16:04:55Z",
      "closed_at": "2025-02-19T16:04:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/610/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/610",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/610",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:24.564419",
      "comments": [
        {
          "author": "abb657",
          "body": "在开/关代理的情况下均不可以",
          "created_at": "2025-02-13T04:30:41Z"
        },
        {
          "author": "hellofinch",
          "body": "pdf2zh版本号和python版本号说明一下。",
          "created_at": "2025-02-13T06:53:06Z"
        },
        {
          "author": "abb657",
          "body": "\nPython 3.9.21\n\npdf2zh  Version: 1.8.9\n",
          "created_at": "2025-02-13T08:34:44Z"
        },
        {
          "author": "hellofinch",
          "body": "点击service中的Google之后也没有反应吗？\n可以尝试3.10或者3.12 版本的python试一下。",
          "created_at": "2025-02-13T08:41:37Z"
        },
        {
          "author": "abb657",
          "body": "我更新了3.12版本的Python，打开依旧点击service中的Google之后也没有反应，现在是这样显示的：\npdf2zh -i\n信息: 用提供的模式无法找到文件。\n* Running on local URL:  http://0.0.0.0:7860\n\nTo create a public link, set `share=True` in `launch()`.",
          "created_at": "2025-02-13T09:11:56Z"
        }
      ]
    },
    {
      "issue_number": 643,
      "title": "横排文档PDF的翻译结果顺时旋转90度，另可否添加瑞典语？",
      "body": "### Is your feature request related to a problem?\n\n[Datorintroduktion-dual-pages-2.pdf](https://github.com/user-attachments/files/18842051/Datorintroduktion-dual-pages-2.pdf)\n\n当原PDF使用横排格式时，翻译的结果发生旋转，部署在本地，使用谷歌翻译。\n\n另能否添加瑞典语？尝试在py文件的languag map添加语言，但有时特殊字符åäö读取失败，谢谢！\n\n### Describe the solution you'd like\n\n_No response_\n\n### Additional context\n\n_No response_",
      "state": "open",
      "author": "Jenny2026",
      "author_type": "User",
      "created_at": "2025-02-18T09:23:53Z",
      "updated_at": "2025-02-18T09:27:04Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/643/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/643",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/643",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:24.728649",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "原PDF使用了旋转属性来旋转页面，当前暂不支持此功能。新后端后面会做。\n\n另外瑞典语，，新后端后面有空了再研究。pdf2zh这边就看其他大佬了。",
          "created_at": "2025-02-18T09:27:01Z"
        }
      ]
    },
    {
      "issue_number": 642,
      "title": "卸载",
      "body": "### 在什么场景下，需要你请求的功能？\n\nDownload setup.bat这种方法下载之后，如果又想要卸载它，如何做到卸载干净 \n\n### 解决方案\n\n放一个卸载的脚本\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "wz-glith",
      "author_type": "User",
      "created_at": "2025-02-17T11:44:54Z",
      "updated_at": "2025-02-18T02:34:55Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/642/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/642",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/642",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:24.895162",
      "comments": [
        {
          "author": "hellofinch",
          "body": "其实只要删除pdf2zh_dist文件夹就可以了，在文档中进行一下说明吧。",
          "created_at": "2025-02-18T01:03:51Z"
        },
        {
          "author": "awwaawwa",
          "body": "Also there may be some cache files in `~/.cache/pdf2zh`, just delete them together. And `~/.config/pdf2zh`, `~/.cache/babeldoc`",
          "created_at": "2025-02-18T02:00:25Z"
        },
        {
          "author": "hellofinch",
          "body": "对，还有这些。看来是得有个脚本搞事情了。",
          "created_at": "2025-02-18T02:34:54Z"
        }
      ]
    },
    {
      "issue_number": 627,
      "title": "模型下载问题",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\nOS: Ubuntu 24.10\nPython: 3.10.0\npdf2zh: 1.9.0\n```\n\n### 描述你的问题\n\n项目启动就报错，网络肯定没有问题\nTraceback (most recent call last):\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/util/connection.py\", line 85, in create_connection\n    raise err\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/util/connection.py\", line 73, in create_connection\n    sock.connect(sa)\nOSError: [Errno 101] Network is unreachable\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connection.py\", line 704, in connect\n    self.sock = sock = self._new_conn()\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connection.py\", line 213, in _new_conn\n    raise NewConnectionError(\nurllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPSConnection object at 0x7106c7d70a00>: Failed to establish a new connection: [Errno 101] Network is unreachable\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/requests/adapters.py\", line 667, in send\n    resp = conn.urlopen(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/urllib3/util/retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /wybxc/DocLayout-YOLO-DocStructBench-onnx/resolve/main/doclayout_yolo_docstructbench_imgsz1024.onnx (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7106c7d70a00>: Failed to establish a new connection: [Errno 101] Network is unreachable'))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 1374, in _get_metadata_or_catch_error\n    metadata = get_hf_file_metadata(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py\", line 114, in _inner_fn\n    return fn(*args, **kwargs)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 1294, in get_hf_file_metadata\n    r = _request_wrapper(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 278, in _request_wrapper\n    response = _request_wrapper(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 301, in _request_wrapper\n    response = get_session().request(method=method, url=url, **params)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/requests/sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/requests/sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/utils/_http.py\", line 93, in send\n    return super().send(request, *args, **kwargs)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/requests/adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError(\"HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /wybxc/DocLayout-YOLO-DocStructBench-onnx/resolve/main/doclayout_yolo_docstructbench_imgsz1024.onnx (Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7106c7d70a00>: Failed to establish a new connection: [Errno 101] Network is unreachable'))\"), '(Request ID: 0a28ba3f-3ed4-4ba2-a4c1-ea9b8d7d3b1a)')\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/jdz/Documents/CodeData/end-design/IntelligentTeachingAssistantSystem/translate-api/main.py\", line 15, in <module>\n    from api.main import api_router\n  File \"/home/jdz/Documents/CodeData/end-design/IntelligentTeachingAssistantSystem/translate-api/api/main.py\", line 10, in <module>\n    from api.routes.translate_controller import translateController\n  File \"/home/jdz/Documents/CodeData/end-design/IntelligentTeachingAssistantSystem/translate-api/api/routes/translate_controller.py\", line 6, in <module>\n    from service.translate_service import TranslateService\n  File \"/home/jdz/Documents/CodeData/end-design/IntelligentTeachingAssistantSystem/translate-api/service/translate_service.py\", line 6, in <module>\n    from celery_task.translate_task import translate_pdf_task\n  File \"/home/jdz/Documents/CodeData/end-design/IntelligentTeachingAssistantSystem/translate-api/celery_task/translate_task.py\", line 7, in <module>\n    model = OnnxModel.load_available()\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/pdf2zh/doclayout.py\", line 25, in load_available\n    return DocLayoutModel.load_onnx()\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/pdf2zh/doclayout.py\", line 17, in load_onnx\n    model = OnnxModel.from_pretrained(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/pdf2zh/doclayout.py\", line 87, in from_pretrained\n    pth = hf_hub_download(repo_id=repo_id, filename=filename, etag_timeout=1)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py\", line 114, in _inner_fn\n    return fn(*args, **kwargs)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 860, in hf_hub_download\n    return _hf_hub_download_to_cache_dir(\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 967, in _hf_hub_download_to_cache_dir\n    _raise_on_head_call_error(head_call_error, force_download, local_files_only)\n  File \"/home/jdz/Documents/CodeData/CodeConfig/PythonConfig/ananconda3/envs/pdf2zh-env-10/lib/python3.10/site-packages/huggingface_hub/file_download.py\", line 1485, in _raise_on_head_call_error\n    raise LocalEntryNotFoundError(\nhuggingface_hub.errors.LocalEntryNotFoundError: An error happened while trying to locate the file on the Hub and we cannot find the requested files in the local cache. Please check your connection and try again or make sure your Internet connection is on.\n\n\n### 如何复现\n\n启动项目\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "closed",
      "author": "xxtyydsjdz",
      "author_type": "User",
      "created_at": "2025-02-14T16:05:23Z",
      "updated_at": "2025-02-17T02:19:04Z",
      "closed_at": "2025-02-17T01:13:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 11,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/627/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/627",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/627",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:25.074340",
      "comments": [
        {
          "author": "hellofinch",
          "body": "@awwaawwa 网络问题 关闭issue。",
          "created_at": "2025-02-17T01:04:03Z"
        },
        {
          "author": "Wybxc",
          "body": "网络问题与本项目无关，请自行搜索解决方法",
          "created_at": "2025-02-17T01:13:42Z"
        },
        {
          "author": "xxtyydsjdz",
          "body": "> 网络问题与本项目无关，请自行搜索解决方法\n\n确认不是网络问题啊，在windows能下载下来，在linux下不下来",
          "created_at": "2025-02-17T01:19:59Z"
        },
        {
          "author": "hellofinch",
          "body": "> Please check your connection and try again or make sure your Internet connection is on.\n\n唉。。。。\n你Windows上可能双击了代理软件在用了，linux下配置了吗？",
          "created_at": "2025-02-17T01:30:19Z"
        },
        {
          "author": "xxtyydsjdz",
          "body": "> > Please check your connection and try again or make sure your Internet connection is on.\n> \n> 唉。。。。 你Windows上可能双击了代理软件在用了，linux下配置了吗？\n\n是的，我这都检查了\n\n![Image](https://github.com/user-attachments/assets/9761745c-c174-4eb8-a39f-1efee5e942e3)",
          "created_at": "2025-02-17T01:32:13Z"
        }
      ]
    },
    {
      "issue_number": 56,
      "title": "ERROR:pdf2zh.converter:'str' object has no attribute 'choices'",
      "body": "## 问题描述\r\n使用openapi gpt4o\r\nC:\\Users\\a\\anaconda3\\envs\\pdf2zh\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py:733: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.\r\n  ckpt = torch.load(file, map_location=\"cpu\")\r\n  0%|                                                                                           | 0/69 [00:00<?, ?it/s]ERROR:pdf2zh.converter:'str' object has no attribute 'choices'\r\nERROR:pdf2zh.converter:'str' object has no attribute 'choices'\r\nERROR:pdf2zh.converter:'str' object has no attribute 'choices'\r\nERROR:pdf2zh.converter:'str' object has no attribute 'choices'\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[a.pdf](https://github.com/user-attachments/files/17790384/a.pdf)\r\n",
      "state": "closed",
      "author": "itning",
      "author_type": "User",
      "created_at": "2024-11-17T12:11:48Z",
      "updated_at": "2025-02-17T02:18:32Z",
      "closed_at": "2024-11-19T07:04:39Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/56/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/56",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/56",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:25.338727",
      "comments": [
        {
          "author": "reycn",
          "body": "Not replicated. Please check your configurations.\r\n未能复现。请检查您的配置。\r\n\r\nCommand： `pdf2zh './a.pdf' -s openai:gpt-4o -p 1`\r\n命令： `pdf2zh './a.pdf' -s openai:gpt-4o -p 1`\r\n\r\nResults attached:\r\n结果如下\r\n[a-zh.pdf](https://github.com/user-attachments/files/17810907/a-zh.pdf)\r\n",
          "created_at": "2024-11-19T07:00:42Z"
        },
        {
          "author": "shi1001",
          "body": "出现 `ERROR:pdf2zh.converter:'str' object has no attribute 'choices'` 错误，表明在 `pdf2zh` 库的 `converter` 模块中，代码试图调用字符串（`str`）对象的 `.choices` 属性，但字符串类型并没有这个属性。以下是具体原因和解决方案：\n\n---\n\n### **错误原因**\n1. **参数类型错误**  \n   - 你传递给 `pdf2zh` 的某个函数的参数应该是 **列表（list）** 或 **可迭代对象**，但实际传递的是一个 **字符串（str）**。\n   - 例如，某个选项参数需要接受多个",
          "created_at": "2025-02-16T10:37:44Z"
        },
        {
          "author": "hellofinch",
          "body": "GPT生成的内容就没有必要复制了吧。。。。",
          "created_at": "2025-02-17T01:21:50Z"
        }
      ]
    },
    {
      "issue_number": 638,
      "title": "'Connection to translate.google.com timed out.",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:Ubuntu 18.04.5 LTS \n- Python:3.12\n- pdf2zh:1.9.0\n```\n\n### 描述你的问题\n\n无法使用google翻译，可以使用bing、Argos Translate卡在;\n\n![Image](https://github.com/user-attachments/assets/9faf2678-9f7e-486f-bba0-3667ff8dcc37)\n服务器端报错：ERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Shanxi+Vocational (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ac3e0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\n\n\n\n### 如何复现\n\n1. 执行 '...'translate\n2. 选择 '....'google\n3. 出现问题:ERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Shanxi+Vocational (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ac3e0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\n\n\n\n### 预期行为\n\n可以使用google翻译\n\n### 相关 Logs\n\n```Text\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Design+of+Smart+Home+Control+System+Based+on+Wireless+Voice+Sensor (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ae3f0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Changchun+Yang (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ae5a0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Shanxi+Vocational (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ac3e0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Design+of+Smart+Home+Control+System+Based+on+Wireless+Voice+Sensor (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f48dcb647a0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Shanxi+Vocational (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f48dcb64e30>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Changchun+Yang (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f48dcb64f80>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Research+Article (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f48dc26c530>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Shanxi+Vocational (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ace00>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Changchun+Yang (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ac380>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Design+of+Smart+Home+Control+System+Based+on+Wireless+Voice+Sensor (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43af170>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\nERROR:pdf2zh.converter:HTTPConnectionPool(host='translate.google.com', port=80): Max retries exceeded with url: /m?tl=zh-CN&sl=en&q=Research+Article (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f47b43ad3d0>, 'Connection to translate.google.com timed out. (connect timeout=None)'))\n```\n\n### 原始PDF文件\n\n任意pdf\n\n### 还有别的吗？\n\n无",
      "state": "closed",
      "author": "highway008",
      "author_type": "User",
      "created_at": "2025-02-17T01:24:54Z",
      "updated_at": "2025-02-17T02:18:10Z",
      "closed_at": "2025-02-17T02:17:47Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/638/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/638",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/638",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:25.505902",
      "comments": [
        {
          "author": "hellofinch",
          "body": "@awwaawwa @Wybxc @Byaidu 关吧。",
          "created_at": "2025-02-17T01:31:39Z"
        },
        {
          "author": "highway008",
          "body": "怎么解决？\n",
          "created_at": "2025-02-17T01:51:22Z"
        }
      ]
    },
    {
      "issue_number": 624,
      "title": "图形交互界面选择openai-liked时自动写入config.json的翻译服务名字出错",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:win10\n- Python:3.12\n- pdf2zh:pdf2zh 1.9.0\n```\n\n### 描述你的问题\n\n图形交互界面选择翻译服务【openai-liked】时，自动写入config.json的翻译服务名字为【openailiked】。两者不一致，可能会导致像我这样的一些新手，调用翻译服务时出错。\n麻烦大佬有空时，完善一下呀~\n\n![Image](https://github.com/user-attachments/assets/ad1460d9-b029-4e82-83cc-c123c36f2667)\n\n![Image](https://github.com/user-attachments/assets/e5c9f829-c872-43f4-aa8f-129aea367d28)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n_No response_\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "yuzixieshouhuajiaqi",
      "author_type": "User",
      "created_at": "2025-02-14T09:49:47Z",
      "updated_at": "2025-02-17T01:43:56Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/624/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/624",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/624",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:25.680480",
      "comments": [
        {
          "author": "FOXITFUL",
          "body": "如果不改这里【openailiked】的话，其他api比如硅基流动、天翼云等是否就不能使用呢？我测试用天翼云deepseek的API，但是一直显示错误",
          "created_at": "2025-02-16T09:10:23Z"
        },
        {
          "author": "hellofinch",
          "body": "没太理解需求，webUI上的显示只是显示，和配置文件中的名字没啥关系。\n是有什么需求一定要名称对应吗？",
          "created_at": "2025-02-17T01:20:47Z"
        },
        {
          "author": "yuzixieshouhuajiaqi",
          "body": "大佬，不影响图形交互界面这种方式的运行，但是影响通过命令窗口调用这个翻译服务https://github.com/guaguastandup/zotero-pdf2zh/issues/21",
          "created_at": "2025-02-17T01:36:48Z"
        },
        {
          "author": "hellofinch",
          "body": "哦哦哦 我懂你意思了，我去改一下文档就对应上了。",
          "created_at": "2025-02-17T01:42:51Z"
        }
      ]
    },
    {
      "issue_number": 600,
      "title": "Is it possible support the Cloudflare Worker AI API interface ?",
      "body": "## 功能描述\n\nIs it possible support the Cloudflare Worker AI API interface ?\n\n可否支持cloudflare worker AI接口？谢谢\n",
      "state": "closed",
      "author": "gansui",
      "author_type": "User",
      "created_at": "2025-02-11T15:22:10Z",
      "updated_at": "2025-02-17T01:03:23Z",
      "closed_at": "2025-02-12T02:02:35Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/600/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/600",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/600",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:25.891354",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://developers.cloudflare.com/workers-ai/configuration/open-ai-compatibility/\n参考这里使用 openai API 兼容用法。\n@awwaawwa 请求关闭issue。",
          "created_at": "2025-02-12T01:28:56Z"
        },
        {
          "author": "gansui",
          "body": "我试了一下，不能执行，不知道哪里错了，错误提示如下\n pdf2zh -d -li en -lo zh  --config /root/pdf2zh/config.cloudflare.json -s openai-liked 1706.03762v7.pdf \nNamespace(files=['1706.03762v7.pdf'], debug=True, pages=None, vfont='', vchar='', lang_in='en', lang_out='zh', service='openai-liked', output='', thread=4, interactive=F",
          "created_at": "2025-02-14T15:26:32Z"
        },
        {
          "author": "gansui",
          "body": "我知道了，cloudflare文档例子中给的是javascript代码示例，这里需要改成python可以识别的代码，不过我不知道如何改，可否帮我看一下如何改？谢谢",
          "created_at": "2025-02-14T15:33:34Z"
        },
        {
          "author": "hellofinch",
          "body": "> -s openai-liked\n\n这个地方确认一下文档里是怎么写的，文档更新过，确认一下。\n\n\n> \"OPENAILIKED_BASE_URL\": \"[https://api.cloudflare.com/client/v4/accounts/${env.CLOUDFLARE_ACCOUNT_ID}/ai/v1](https://api.cloudflare.com/client/v4/accounts/$%7Benv.CLOUDFLARE_ACCOUNT_ID%7D/ai/v1)\",\n\nenv.CLOUDFLARE_ACCOUNT_ID 这个要替换成你的那个ID，不是这么获取的。\n然后你",
          "created_at": "2025-02-17T01:03:06Z"
        }
      ]
    },
    {
      "issue_number": 633,
      "title": "feat(onnx vcruntime): 更好的Onnx导入失败报错引导",
      "body": "### 在什么场景下，需要你请求的功能？\n\n_No response_\n\n### 解决方案\n\n捕获以下错误，并引导至 `https://aka.ms/vs/17/release/vc_redist.x64.exe` 下载安装vc运行时。\n```\nFile \"C:\\Users\\Administrator\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\onnx\\__init__.py\", line 77, in <module>\n    from onnx.onnx_cpp2py_export import ONNX_ML\nImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。\n```\n\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-16T13:22:54Z",
      "updated_at": "2025-02-16T15:10:27Z",
      "closed_at": "2025-02-16T15:07:01Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/633/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": "v1.9.1",
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/633",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/633",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.079686",
      "comments": []
    },
    {
      "issue_number": 630,
      "title": "docs: Update Python version requirements in README",
      "body": "The current pdf2zh requires Python 3.10-3.12, but the README states 3.8-3.12, it needs to be updated.",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-16T08:25:39Z",
      "updated_at": "2025-02-16T13:33:36Z",
      "closed_at": "2025-02-16T13:33:36Z",
      "labels": [
        "documentation",
        "help wanted",
        "good first issue",
        "High priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/630/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/630",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/630",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.079710",
      "comments": []
    },
    {
      "issue_number": 631,
      "title": "Proposal: Release Plan & Issue Tracking",
      "body": "Use milestones to manage release plans.\n\nAll issues resolved in the latest development version should be closed and linked to specific release milestones.\n\nWelcome to community discussion!",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-16T08:44:04Z",
      "updated_at": "2025-02-16T09:18:42Z",
      "closed_at": null,
      "labels": [
        "help wanted"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/631/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/631",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/631",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.079717",
      "comments": []
    },
    {
      "issue_number": 629,
      "title": "列表堆叠严重",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS: Windows 11\n- Python: 3.8\n- pdf2zh: newest\n```\n\n### 描述你的问题\n\n翻译列表出现严重堆叠\n![Image](https://github.com/user-attachments/assets/eea25d1f-ad73-46a0-9544-4cf7a1f60b93)\n\n目前翻译堆叠\n![Image](https://github.com/user-attachments/assets/f56df14b-91c5-48f9-bbed-765ad8241990)\n\n### 如何复现\n\n[part_ii_compressed.pdf](https://github.com/user-attachments/files/18810171/part_ii_compressed.pdf)\n\n使用ollama2.5:7b翻译，翻译可以执行，但是对于列表翻译排版欠佳\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[part_ii_compressed.pdf](https://github.com/user-attachments/files/18810173/part_ii_compressed.pdf)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "dentistfrankchen",
      "author_type": "User",
      "created_at": "2025-02-15T12:11:56Z",
      "updated_at": "2025-02-16T08:25:59Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/629/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/629",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/629",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.079723",
      "comments": [
        {
          "author": "dentistfrankchen",
          "body": "感觉像是对于多级列表的识别问题",
          "created_at": "2025-02-15T12:15:55Z"
        },
        {
          "author": "awwaawwa",
          "body": "Known issue, working on it, please be patient, thank you!",
          "created_at": "2025-02-15T12:17:42Z"
        },
        {
          "author": "dentistfrankchen",
          "body": "谢谢您！希望能够适配python 3.8。同时希望尽早推出，感谢感谢！",
          "created_at": "2025-02-15T12:24:01Z"
        },
        {
          "author": "awwaawwa",
          "body": "py38不会支持，请想办法更新到py3.10",
          "created_at": "2025-02-15T12:25:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "Welcome community help to lower dependency versions & support older Python versions. Backend at: https://github.com/funstory-ai/BabelDOC/issues/51.\n\nPRs welcome!",
          "created_at": "2025-02-15T12:37:23Z"
        }
      ]
    },
    {
      "issue_number": 618,
      "title": "bug(o1 family): o1 does not support system prompts",
      "body": "### Before you asking\n\n- [x] I have searched the existing issues\n- [x] I spend at least 5 minutes for thinking and preparing\n- [x] I have thoroughly and completely read the wiki.\n- [x] I have carefully checked the issue, and it is unrelated to the network environment.\n\n### Environment\n\n```markdown\n- OS: Windows\n- Python: 3.13.2\n- pdf2zh: 1.9.0\n```\n\n### Describe the bug\n\nset OPENAI_MODEL=o1-mini-2024-09-12\npdf2zh \"C:\\Users\\Owner\\Desktop\\translated\\1.pdf\" -li en -lo ko -o C:\\Users\\Owner\\Desktop\\translated\\ -s openai\n\n\n在 CMD 中输入以下命令时，使用其他模型没有问题，\n但当使用 o1-mini-2024-09-12 时，会发生错误。\n应该采取什么措施来解决这个问题？\n\n![Image](https://github.com/user-attachments/assets/7cda640d-3ccc-4a0b-9f42-5b879c4271fa)\n\n### To Reproduce\n\n1. execute '...'\n2. select '....'\n3. see errors\n\n\n### Expected behavior\n\n_No response_\n\n### Relevant log output\n\n```Text\n\n```\n\n### Origin PDF file\n\n_No response_\n\n### Anything else?\n\n_No response_",
      "state": "closed",
      "author": "DavidRomer24",
      "author_type": "User",
      "created_at": "2025-02-14T02:34:30Z",
      "updated_at": "2025-02-15T12:20:35Z",
      "closed_at": "2025-02-15T12:20:07Z",
      "labels": [
        "bug",
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/618/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/618",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/618",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.273695",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The o1 family doesn't support system prompts, but it has a developer prompt. Hope someone can help modify it. Auto-switch when o1 is detected.\n\nOr another approach is to put all prompts in the user prompt, without using developer+system at all.",
          "created_at": "2025-02-14T02:38:01Z"
        },
        {
          "author": "DavidRomer24",
          "body": "How can I include everything in the user prompt? I tried to figure it out on my own, but with my limited skills, I couldn't fully understand what you meant.",
          "created_at": "2025-02-14T12:15:35Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/10fcb922496666cb0e4418ebe52ca35a01e7c075/pdf2zh/translator.py#L103\n\nPlease browse the above functions.",
          "created_at": "2025-02-14T12:59:49Z"
        },
        {
          "author": "DavidRomer24",
          "body": "When I change the role to \"developer,\" I get the following error... Even with GPT's help, it's not easy.\n\nERROR:pdf2zh.converter:Error code: 400 - {'error': {'message': \"Unsupported value: 'messages[0].role' does not support 'developer' with this model.\", 'type': 'invalid_request_error', 'param': 'm",
          "created_at": "2025-02-14T14:40:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://platform.openai.com/docs/api-reference/chat/create",
          "created_at": "2025-02-14T16:25:10Z"
        }
      ]
    },
    {
      "issue_number": 619,
      "title": "正常部署了，为什么在翻译过程中出现这个问题",
      "body": "翻译过程中一直在转，无法正常翻译内容，一直是这种状态，不知道是哪里的问题\n\n\n![Image](https://github.com/user-attachments/assets/2f33f3aa-aba7-4b25-b010-4f05059ab079)",
      "state": "closed",
      "author": "gete037",
      "author_type": "User",
      "created_at": "2025-02-14T05:33:47Z",
      "updated_at": "2025-02-15T06:00:18Z",
      "closed_at": "2025-02-14T05:45:25Z",
      "labels": [
        "bug",
        "question",
        "Waiting for feedback"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/619/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/619",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/619",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.457854",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "我也不知道为什么会这样，希望您提供更多的信息帮助我复现这个问题，感谢。\n\n请提供您的原始输入PDF文件，所使用的翻译器等各种参数，所执行的命令。安装方法，python版本。以及命令行的输出内容。",
          "created_at": "2025-02-14T05:36:51Z"
        },
        {
          "author": "gete037",
          "body": "> 我也不知道为什么会这样，希望提供更多的信息来帮助我解决这个问题，谢谢。\n> \n> 请提供您的原始输入PDF文件，所使用的翻译器等各种参数，所执行的命令。安装方法，python版本。以及命令行的内容输出。\n\nLooking in indexes: https://mirrors.aliyun.com/pypi/simple\nRequirement already satisfied: setuptools in c:\\windows\\system32\\pdf2zh_dist\\lib\\site-packages (75.8.0)\nLooking in indexes: https://mirr",
          "created_at": "2025-02-14T05:43:56Z"
        },
        {
          "author": "awwaawwa",
          "body": "请使用bing翻译引擎",
          "created_at": "2025-02-14T05:45:25Z"
        },
        {
          "author": "gete037",
          "body": "> 请使用bing翻译引擎\n\n<!-- Failed to upload \"《弓匠圣经》第二卷 (1).pdf\" -->这种文件翻译不了",
          "created_at": "2025-02-14T11:14:15Z"
        },
        {
          "author": "awwaawwa",
          "body": "请上传原始PDF",
          "created_at": "2025-02-14T11:15:20Z"
        }
      ]
    },
    {
      "issue_number": 626,
      "title": "输出markdown原文件和翻译文件",
      "body": "### 在什么场景下，需要你请求的功能？\n\n知识库RAG中，导入markdown文件可以 增加提升检索准确率\n\n### 解决方案\n\n导出markdown原文件和翻译文件\n\n### 其他内容\n\n_No response_",
      "state": "closed",
      "author": "aqquser",
      "author_type": "User",
      "created_at": "2025-02-14T15:05:04Z",
      "updated_at": "2025-02-14T16:23:55Z",
      "closed_at": "2025-02-14T16:23:53Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/626/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/626",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/626",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.633866",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "我们内部并没有转换成markdown，故无法导出为markdown。",
          "created_at": "2025-02-14T16:23:53Z"
        }
      ]
    },
    {
      "issue_number": 622,
      "title": "feat: Offline Deployment",
      "body": "win10的docker部署，在线环境下可以用，今天想迁移到内网离线环境，用内网ollama的qwen32b模型翻译，发现一直报网络错误，不知道是不是没有联网所致。\n\n![Image](https://github.com/user-attachments/assets/f76595b0-c6db-4025-9bac-02ba0b91f27b)",
      "state": "closed",
      "author": "zhangjunliu",
      "author_type": "User",
      "created_at": "2025-02-14T09:31:17Z",
      "updated_at": "2025-02-14T13:33:55Z",
      "closed_at": "2025-02-14T11:18:10Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/622/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/622",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/622",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:26.859593",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "是的，需要联网下载模型&字体，暂时无法离线使用。\n\n当前的代码每次运行时都会下载字体，所以提前下好也不行...",
          "created_at": "2025-02-14T09:37:54Z"
        },
        {
          "author": "zhangjunliu",
          "body": "> 是的，需要联网下载模型&字体，暂时无法离线使用。\n> \n> 当前的代码每次运行时都会下载字体，所以提前下好也不行...\n\n好吧，那估计Python版本地也运行不了，还以为可以离线使用，刚好本地部署了几个模型",
          "created_at": "2025-02-14T11:15:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "在研究全离线部署了，请耐心等待。预计会为 Windows 提供一个压缩包，解压后即可使用。",
          "created_at": "2025-02-14T11:16:57Z"
        },
        {
          "author": "zhangjunliu",
          "body": "> 在研究全离线部署了，请耐心等待。预计会为 Windows 提供一个压缩包，解压后即可使用。\n\n感谢🙏🙏 期待win平台的本地离线部署包",
          "created_at": "2025-02-14T13:33:54Z"
        }
      ]
    },
    {
      "issue_number": 620,
      "title": "添加新的置顶issue",
      "body": "### 在什么场景下，需要你请求的功能？\n\n现在的issue中，重复问题过多。同时，在issue中交流存在延迟，沟通成本较高。\n\n### 解决方案\n\n为了降低issue中沟通成本和重复问题的解决成本，推荐置顶新的issue。\n其中，应包含两个部分：\n1. 说明如何提问，推荐使用模板对问题进行规范化的提问，方便复现和沟通。对于未使用模板的新问题酌情直接关闭。\n2. 将重复出现的已解决的问题进行归类，形成类似wiki中的FAQ的内容，方便提问前检索。\n3. 将现版本和现阶段已知的bug进行罗列，减少重复问题的维护成本。当版本更新或bug修复后，进行内容的更新。\n\n### 其他内容\n\n_No response_",
      "state": "open",
      "author": "hellofinch",
      "author_type": "User",
      "created_at": "2025-02-14T06:52:20Z",
      "updated_at": "2025-02-14T06:52:20Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/620/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/620",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/620",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.052146",
      "comments": []
    },
    {
      "issue_number": 615,
      "title": "feat: Support PPT & Optimize target language English",
      "body": "### 在提问之前...\n\n- [x] 我已经搜索了现有的 issues\n- [x] 我在提问题之前至少花费了 5 分钟来思考和准备\n- [x] 我已经认真且完整的阅读了 wiki\n- [x] 我已经认真检查了问题和网络环境无关\n\n### 使用的环境\n\n```markdown\n- OS:线上环境\n- Python: 线上环境\n- pdf2zh: 线上穿件\n```\n\n### 描述你的问题\n\npdf中部分文字部分无法翻译，并且白色的文字变成了黑色\n\n本地和线上环境均翻译后，中文未翻译并且文字从白色变成黑色。\n![Image](https://github.com/user-attachments/assets/dd13c0b6-32d5-4bc6-ab6b-1470cab1bd00)\n\n### 如何复现\n\n1. 执行 '...'\n2. 选择 '....'\n3. 出现问题\n\n\n### 预期行为\n\n_No response_\n\n### 相关 Logs\n\n```Text\n\n```\n\n### 原始PDF文件\n\n[现实基础知识_第二章_第二节三维位置跟踪器 (2).pptx](https://github.com/user-attachments/files/18781596/_._.2.pptx)\n\n### 还有别的吗？\n\n_No response_",
      "state": "open",
      "author": "haojing8312",
      "author_type": "User",
      "created_at": "2025-02-13T09:51:47Z",
      "updated_at": "2025-02-13T10:35:47Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 8,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/615/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/615",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/615",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.052192",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请上传输入PDF文件",
          "created_at": "2025-02-13T09:53:57Z"
        },
        {
          "author": "haojing8312",
          "body": "原始pdf文件已上传，翻译后文件如下：\n[现实基础知识_第二章_第二节三维位置跟踪器 2-mono.pdf](https://github.com/user-attachments/files/18781686/_._.2-mono.pdf)",
          "created_at": "2025-02-13T09:57:06Z"
        },
        {
          "author": "awwaawwa",
          "body": "![Image](https://github.com/user-attachments/assets/35d539a5-05fb-4eaf-b622-057195daf716)\n\n我只看到原始pptx",
          "created_at": "2025-02-13T09:58:34Z"
        },
        {
          "author": "haojing8312",
          "body": "sorry，传错了。\n\n<!-- Failed to upload \"现实基础知识_第二章_第二节三维位置跟踪器 (2).pdf\" -->",
          "created_at": "2025-02-13T10:00:17Z"
        },
        {
          "author": "haojing8312",
          "body": "[现实基础知识_第二章_第二节三维位置跟踪器 (2).pdf](https://github.com/user-attachments/files/18781794/_._.2.pdf)",
          "created_at": "2025-02-13T10:00:58Z"
        }
      ]
    },
    {
      "issue_number": 612,
      "title": "docs: FAQ",
      "body": null,
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2025-02-13T07:04:01Z",
      "updated_at": "2025-02-13T07:04:13Z",
      "closed_at": null,
      "labels": [
        "documentation",
        "help wanted",
        "good first issue",
        "High priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/612/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/612",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/612",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.259038",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/611",
          "created_at": "2025-02-13T07:04:12Z"
        }
      ]
    },
    {
      "issue_number": 576,
      "title": "是不是可以添加输出文件的文件名？",
      "body": null,
      "state": "open",
      "author": "ws051682",
      "author_type": "User",
      "created_at": "2025-02-08T01:47:24Z",
      "updated_at": "2025-02-13T02:12:16Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue",
        "Normal priority"
      ],
      "label_count": 4,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/576/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/576",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/576",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.407682",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please add more detailed descriptions and examples.",
          "created_at": "2025-02-08T12:44:59Z"
        },
        {
          "author": "ws051682",
          "body": "I mean the function to define output file path and name.",
          "created_at": "2025-02-09T12:00:55Z"
        },
        {
          "author": "hellofinch",
          "body": "好建议，看看怎么修改。",
          "created_at": "2025-02-10T01:46:30Z"
        },
        {
          "author": "awwaawwa",
          "body": "Because it supports inputting multiple files at once, does --output-file-name correspond one-to-one?",
          "created_at": "2025-02-12T09:23:37Z"
        },
        {
          "author": "ws051682",
          "body": "I will suggest to integrate the --output-file parameter.\n\nIt helps at least when the input file is a single file. In this case it can be called by other script/program(as well as the function when the inputs are multiple files.).\n\nWhen the user has multiple input files.\nThis parameter can be ignored",
          "created_at": "2025-02-12T09:47:24Z"
        }
      ]
    },
    {
      "issue_number": 605,
      "title": "mac os安装好以后service列表里面缺了很多",
      "body": "## 问题描述\nmac os安装好以后service列表里面缺了很多，例如bing，腾讯等，该如何解决\n<img width=\"430\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/dec7d719-9e4b-4bd5-bc10-81229f376283\" />\n",
      "state": "closed",
      "author": "JiangfengHong",
      "author_type": "User",
      "created_at": "2025-02-12T07:51:08Z",
      "updated_at": "2025-02-12T14:54:15Z",
      "closed_at": "2025-02-12T14:53:19Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 12,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/605/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/605",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/605",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.585814",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "这个区域能上下滚动吗？\n\n![Image](https://github.com/user-attachments/assets/449e9cef-451c-4103-8e67-9aff01447fbd)",
          "created_at": "2025-02-12T07:52:24Z"
        },
        {
          "author": "JiangfengHong",
          "body": "不能",
          "created_at": "2025-02-12T07:53:03Z"
        },
        {
          "author": "awwaawwa",
          "body": "怎么安装的。\n`pdf2zh --version` 的输出是什么？",
          "created_at": "2025-02-12T07:54:23Z"
        },
        {
          "author": "JiangfengHong",
          "body": "V1.7.9，用命令行pip install pdf2zh安装的，不过选择了清华源",
          "created_at": "2025-02-12T07:56:26Z"
        },
        {
          "author": "awwaawwa",
          "body": "请更新到1.8.8版本。 使用python3.10-3.12",
          "created_at": "2025-02-12T07:57:24Z"
        }
      ]
    },
    {
      "issue_number": 564,
      "title": "添加专有名词白名单",
      "body": "## 功能描述\n在config里添加专有名词的list，对这些名词不翻译直接跳过（如Transformer等），而不通过prompt实现\n",
      "state": "open",
      "author": "yihao-liang",
      "author_type": "User",
      "created_at": "2025-02-02T22:55:50Z",
      "updated_at": "2025-02-12T09:25:56Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Low priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/564/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/564",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/564",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.789161",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The new backend [BabelDOC](https://github.com/funstory-ai/BabelDOC) will likely implement a glossary feature later, which will conveniently solve the issue.",
          "created_at": "2025-02-12T09:25:55Z"
        }
      ]
    },
    {
      "issue_number": 568,
      "title": "表格內的文字很高機率不會被翻譯",
      "body": "1. 在表格中的文字有些很容易被辨識為公式最後不會進入翻譯，想請問有沒有可能解決呢？\n2. 還有原文字的顏色該如何固定不變，現在結果都會直接變成黑色。\n3. 有些圖片內的文字有辦法翻譯嗎？\n\n[test-pdf.pdf](https://github.com/user-attachments/files/18652949/test-pdf.pdf)\n",
      "state": "open",
      "author": "fredericklee602",
      "author_type": "User",
      "created_at": "2025-02-04T06:50:49Z",
      "updated_at": "2025-02-12T09:23:57Z",
      "closed_at": null,
      "labels": [
        "enhancement",
        "Normal priority"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/568/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/568",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/568",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:27.938825",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "This project currently does not support translation of all text within chart areas and does not support colors.\n\nThe new backend [YADT](https://github.com/funstory-ai/yadt) supports colors and will try to preserve the original text colors. You can try using it.\n\nThe new backend will add support for ",
          "created_at": "2025-02-04T13:55:56Z"
        }
      ]
    },
    {
      "issue_number": 603,
      "title": "docker 拉取下来的镜像有问题，运行的时候",
      "body": "server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\nTraceback (most recent call last):\n  File \"/usr/local/bin/pdf2zh\", line 4, in <module>\n    from pdf2zh.pdf2zh import main\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 25, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/doclayout.py\", line 4, in <module>\n    import cv2\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 181, in <module>\n    bootstrap()\n  File \"/usr/local/lib/python3.12/site-packages/cv2/__init__.py\", line 153, in bootstrap\n    native_module = importlib.import_module(\"cv2\")\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/importlib/__init__.py\", line 90, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nImportError: libgthread-2.0.so.0: cannot open shared object file: No such file or directory\n\n![Image](https://github.com/user-attachments/assets/801c8794-1eb4-46ce-8702-e2b931de6a99)\n",
      "state": "closed",
      "author": "zjh-nuc-AIOT",
      "author_type": "User",
      "created_at": "2025-02-12T02:57:46Z",
      "updated_at": "2025-02-12T03:10:12Z",
      "closed_at": "2025-02-12T03:10:12Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/603/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/603",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/603",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:28.111407",
      "comments": []
    },
    {
      "issue_number": 588,
      "title": "有時候圖片會變黑色的",
      "body": "我轉換後原本的圖片可能會變成全黑色，該如何處理。\n\n\n[World Economic Outlook_IMF-40.pdf](https://github.com/user-attachments/files/18725016/World.Economic.Outlook_IMF-40.pdf)\n\n[World Economic Outlook_IMF-40-mono.pdf](https://github.com/user-attachments/files/18725014/World.Economic.Outlook_IMF-40-mono.pdf)",
      "state": "closed",
      "author": "fredericklee602",
      "author_type": "User",
      "created_at": "2025-02-09T15:25:59Z",
      "updated_at": "2025-02-11T15:06:13Z",
      "closed_at": "2025-02-11T15:06:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/588/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "awwaawwa"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/588",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/588",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:28.111428",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "No clue how to fix it for now, will investigate when I have time later.",
          "created_at": "2025-02-09T15:45:32Z"
        },
        {
          "author": "awwaawwa",
          "body": "[World.Economic.Outlook_IMF-40.debug.zh-CN.dual.pdf](https://github.com/user-attachments/files/18725289/World.Economic.Outlook_IMF-40.debug.zh-CN.dual.pdf)\n[World.Economic.Outlook_IMF-40.debug.zh-CN.mono.pdf](https://github.com/user-attachments/files/18725288/World.Economic.Outlook_IMF-40.debug.zh-C",
          "created_at": "2025-02-09T16:50:46Z"
        }
      ]
    },
    {
      "issue_number": 506,
      "title": "发现特定pdf文档最后几页没有翻译",
      "body": "[6daytime .pdf](https://github.com/user-attachments/files/18491362/6daytime.pdf)\n\n[6daytime -mono.pdf](https://github.com/user-attachments/files/18491373/6daytime.-mono.pdf)\n\n## 问题描述\n如附件里的pdf最后三页没有翻译，依然是英文。具体原因没有找到\n\n \n",
      "state": "open",
      "author": "songbin",
      "author_type": "User",
      "created_at": "2025-01-21T13:15:42Z",
      "updated_at": "2025-02-10T13:20:09Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/506/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/506",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/506",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:28.271251",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "The titles of those few images were recognized as formulas due to the special font used. The new backend tried to fix it, but some parts still don't work. Just make do with it.\n\n[6daytime.zh-CN.dual.pdf](https://github.com/user-attachments/files/18493211/6daytime.zh-CN.dual.pdf)\n[6daytime.zh-CN.mono",
          "created_at": "2025-01-21T15:45:03Z"
        },
        {
          "author": "songbin",
          "body": "1.9.0版本还没修复这个问题",
          "created_at": "2025-02-10T13:20:07Z"
        }
      ]
    },
    {
      "issue_number": 516,
      "title": "运行出错",
      "body": "## 问题描述\n(venv) PS E:\\JS> pdf2zh -i\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"E:\\JS\\venv\\Scripts\\pdf2zh.exe\\__main__.py\", line 4, in <module>\n  File \"E:\\JS\\venv\\Lib\\site-packages\\pdf2zh\\__init__.py\", line 2, in <module>\n    from pdf2zh.high_level import translate, translate_stream\n  File \"E:\\JS\\venv\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 24, in <module>\n    from pdf2zh.doclayout import OnnxModel\n  File \"E:\\JS\\venv\\Lib\\site-packages\\pdf2zh\\doclayout.py\", line 7, in <module>\n    import onnx\n  File \"E:\\JS\\venv\\Lib\\site-packages\\onnx\\__init__.py\", line 77, in <module>\n    from onnx.onnx_cpp2py_export import ONNX_ML\nImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。\n\n\n",
      "state": "closed",
      "author": "benz1979",
      "author_type": "User",
      "created_at": "2025-01-23T04:41:46Z",
      "updated_at": "2025-02-10T02:14:42Z",
      "closed_at": "2025-02-10T02:14:42Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/516/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/516",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/516",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:30.316926",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/178\n可以参考这里提到的方法，降级onnx即可。",
          "created_at": "2025-01-23T06:43:09Z"
        },
        {
          "author": "log2cn",
          "body": "for me, [this solution](https://github.com/Byaidu/PDFMathTranslate/issues/178#issuecomment-2540487455) works without downgrading ONNX.",
          "created_at": "2025-01-29T03:50:37Z"
        },
        {
          "author": "hellofinch",
          "body": "@Wybxc @Byaidu 问题解决，推荐关闭issue。",
          "created_at": "2025-02-10T01:18:28Z"
        }
      ]
    },
    {
      "issue_number": 487,
      "title": "使用pdf2zh aaa.pdf -s指定其他翻译服务出错",
      "body": "## 问题描述\n使用其他翻译服务时在powershell或者cmd都定义了变量\ncmd：\nset OPENAILIKE_BASE_URL = https://api.***\nset OPENAILIKE_API_KEY = sk-***\nset OPENAILIKE_MODEL = de***\npowershell：\n $env:OPENAILIKE_BASE_URL = 'https://api.***'\n $env:OPENAILIKE_API_KEY = 'sk-**'\n $env:OPENAILIKE_MODEL = 'de**'\n在pdf目录下使用pdf2zh aaa.pdf -s openai-liked 或者指定其他翻译服务都会报错，bing不会，不知道是我电脑的问题还是哪里配置/参数有问题？\n\n\nTraceback (most recent call last):\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\n  File \"<frozen runpy>\", line 88, in _run_code\n  File \"D:\\soft\\Python312\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\n  File \"D:\\soft\\Python312\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 164, in main\n    translate(**vars(parsed_args))\n  File \"D:\\soft\\Python312\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 278, in translate\n    s_mono, s_dual = translate_stream(s_raw, **locals())\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\soft\\Python312\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 213, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\soft\\Python312\\Lib\\site-packages\\pdf2zh\\high_level.py\", line 91, in translate_patch\n    device = TranslateConverter(\n             ^^^^^^^^^^^^^^^^^^^\n  File \"D:\\soft\\Python312\\Lib\\site-packages\\pdf2zh\\converter.py\", line 150, in __init__\n    raise ValueError(\"Unsupported translation service\")\nValueError: Unsupported translation service\n\n## 测试文档\n\n",
      "state": "closed",
      "author": "whereismonkey",
      "author_type": "User",
      "created_at": "2025-01-19T01:48:36Z",
      "updated_at": "2025-02-10T02:11:52Z",
      "closed_at": "2025-01-19T05:11:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/487/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/487",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/487",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:30.500003",
      "comments": [
        {
          "author": "Byaidu",
          "body": "已更新",
          "created_at": "2025-01-19T05:11:46Z"
        },
        {
          "author": "liuyun16",
          "body": "似乎依然有这个bug",
          "created_at": "2025-02-06T08:08:05Z"
        },
        {
          "author": "hellofinch",
          "body": "1.9.0 版本依旧存在问题吗？",
          "created_at": "2025-02-10T01:24:26Z"
        },
        {
          "author": "liuyun16",
          "body": "是的，openai-liked命令依然不成功，我把相同环境变量放到openai里面就可以。\n\n应该是命令`pdf2ch -s openailiked`与API环境变量写入的示例不一样导致。命令给出的是'openailiked'，但是环境变量translator service文档中(https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/ADVANCED.md#services)API环境变量传入的时候，确实`OPENAILIKE_API_KEY`，注意其中OPEANILIKE后缀没有D.\n\n两者不一致导致的API调用错误。\n\n请大佬",
          "created_at": "2025-02-10T02:10:20Z"
        },
        {
          "author": "hellofinch",
          "body": "我的问题，我提交一下新的readme，当时写文档的时候，没对应好，嘿嘿。",
          "created_at": "2025-02-10T02:11:51Z"
        }
      ]
    },
    {
      "issue_number": 569,
      "title": "添加速率限制以解决一些api速率限制报错问题",
      "body": "## 问题描述\n在使用kimi的api是，由于默认的速率过高导致api要求1s重试，但由于程序自动快速重试，导致一直无法继续翻译\n```\nRROR:pdf2zh.converter:Error code: 429 - {'error': {'message': 'Your account cogpmspkqq4ttrhci8og<ak-eyiwc4c6mjd111f88bt1> request reached max request: 3, please try again after 1 seconds', 'type': 'rate_limit_reached_error'}}\n```\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n> 并发数：1\n> TPM：32000\n> RPM：3\n> TPD：1500000",
      "state": "closed",
      "author": "0gl20shk0sbt36",
      "author_type": "User",
      "created_at": "2025-02-04T08:03:00Z",
      "updated_at": "2025-02-06T04:20:01Z",
      "closed_at": "2025-02-06T04:20:01Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/569/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/569",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/569",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:30.685962",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "> `pdf2zh -t 1` should solve it\n\nSorry, I didn't see RPM=3.\n\nI suggest you switch to another API with a higher rate limit. This rate limit makes it difficult to effectively translate files with this project...",
          "created_at": "2025-02-04T13:49:32Z"
        }
      ]
    },
    {
      "issue_number": 562,
      "title": "timestamp seems very low",
      "body": "## 翻译完成后提示时间戳过低\n\nWARNING: 'modified' timestamp seems very low; regarding as unix timestamp\nWARNING: 'created' timestamp seems very low; regarding as unix timestamp\n\n这是在翻译结束后弹出的警告，翻译出来的文档公式全部乱掉。日志：\n\n\n\n![Image](https://github.com/user-attachments/assets/5ca343af-b72b-40ab-ac66-c0967720e96a)\n\n## 测试文档\n\n这是完整的文档和翻译后的文档，翻译其中的18-20页\n\n> 原文档\n\n[test.pdf](https://github.com/user-attachments/files/18631134/test.pdf)\n\n> 翻译后的文档：（请看18-20页）\n\n[test-moon.pdf](https://github.com/user-attachments/files/18631132/test-moon.pdf)",
      "state": "open",
      "author": "C-function",
      "author_type": "User",
      "created_at": "2025-02-02T04:33:46Z",
      "updated_at": "2025-02-02T04:33:46Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/562/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/562",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/562",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:30.887763",
      "comments": []
    },
    {
      "issue_number": 536,
      "title": "使用pythonAPI时报错，使用命令行和图形界面正常",
      "body": "## 问题描述\n使用pythonAPI时报错，使用命令行和图形界面正常\n\n```\nfrom pdf2zh import translate, translate_stream\n\nparams = {\"lang_in\": \"en\", \"lang_out\": \"zh\", \"service\": \"google\", \"thread\": 4}\n\nfile_mono, file_dual = translate(files=[\"/***/***/1.pdf\"], **params)[0]\n```\n\n测试地址在Singapore\n\n```\nfile_mono, file_dual = translate(files=[\"/Users/n/Code/AI-reads-books-page-by-page-ZH/1.pdf\"], **params)[0]`\n50% | 1/2 [00:00<00:00, 11.18it/s]\nTraceback (most recent call last):\n  File \"***/***/pdf_math_translate.py\", line 11, in <module>\n    file_mono, file_dual = translate(files=[\"***/***/1.pdf\"], **params)[0]\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/***/***/.conda/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 355, in translate\n    s_mono, s_dual = translate_stream(\n                     ^^^^^^^^^^^^^^^^^\n  File \"/***/***/.conda/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 215, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/***/***/.conda/lib/python3.11/site-packages/pdf2zh/high_level.py\", line 125, in translate_patch\n    page_layout = model.predict(image, imgsz=int(pix.height / 32) * 32)[0]\n                  ^^^^^^^^^^^^^\nAttributeError: 'NoneType' object has no attribute 'predict'\n```\n\n## 测试文档\n\n[1.pdf](https://github.com/user-attachments/files/18545077/1.pdf)\n",
      "state": "closed",
      "author": "NanheRoad",
      "author_type": "User",
      "created_at": "2025-01-25T06:45:38Z",
      "updated_at": "2025-01-31T13:28:21Z",
      "closed_at": "2025-01-31T13:25:14Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/536/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/536",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/536",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:30.887784",
      "comments": [
        {
          "author": "qinguangxu",
          "body": "我也遇到了一模一样的错误",
          "created_at": "2025-01-26T11:18:39Z"
        },
        {
          "author": "qinguangxu",
          "body": "应该是model参数没有赋值,我添加了以下代码:\nfrom pdf2zh.doclayout import OnnxModel\nmodel=OnnxModel.load_available()\n\n然后params中添加model:\n\nparams = {\n    \"model\": model,\n    'lang_in': 'en',\n    'lang_out': 'zh',\n    'service': 'google',\n    'thread': 4,\n}\n\n代码可以正常运行",
          "created_at": "2025-01-26T14:31:49Z"
        },
        {
          "author": "xxtyydsjdz",
          "body": "thanks",
          "created_at": "2025-01-30T08:16:49Z"
        },
        {
          "author": "NanheRoad",
          "body": "按楼上的办法，问题解决",
          "created_at": "2025-01-31T13:28:19Z"
        }
      ]
    },
    {
      "issue_number": 551,
      "title": "Bug Report: FzErrorLibrary when loading font in pdf2zh",
      "body": "## 问题描述\nWhen trying to translate a PDF file using pdf2zh, the program crashes with a FzErrorLibrary error related to font loading.\n### Error Message：\nFzErrorLibrary: code=3: FT_New_Memory_Face((null)): locations (loca) table missing\n### Steps to Reproduce\n1. Install pdf2zh\n2. Try to translate a PDF file using command:\n```bash\npdf2zh \"Shujun Wang_2023_HGIB Prognosis for Alzheimer's Disease via Hypergraph Information Bottleneck.pdf\"\n```\n\n<img width=\"717\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b82ea358-3312-4472-8d01-0227db36cd27\" />\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "open",
      "author": "keeplearning-again",
      "author_type": "User",
      "created_at": "2025-01-29T15:27:57Z",
      "updated_at": "2025-01-30T08:54:11Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/551/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/551",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/551",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:31.089023",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "Please provide the PDF document for reproducing the test",
          "created_at": "2025-01-30T06:13:10Z"
        },
        {
          "author": "keeplearning-again",
          "body": "[Shujun Wang_2023_HGIB Prognosis for Alzheimer's Disease via Hypergraph Information Bottleneck.pdf](https://github.com/user-attachments/files/18598445/Shujun.Wang_2023_HGIB.Prognosis.for.Alzheimer.s.Disease.via.Hypergraph.Information.Bottleneck.pdf)\n\nThis is my test data pdf.",
          "created_at": "2025-01-30T06:40:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "[Shujun.Wang_2023_HGIB.Prognosis.for.Alzheimer.s.Disease.via.Hypergraph.Information.Bottleneck.zh-CN.dual.pdf](https://github.com/user-attachments/files/18599827/Shujun.Wang_2023_HGIB.Prognosis.for.Alzheimer.s.Disease.via.Hypergraph.Information.Bottleneck.zh-CN.dual.pdf)\n[Shujun.Wang_2023_HGIB.Progn",
          "created_at": "2025-01-30T08:54:09Z"
        }
      ]
    },
    {
      "issue_number": 500,
      "title": "'pdf2zh' 不是内部或外部命令，也不是可运行的程序 或批处理文件。 请按任意键继续. . .",
      "body": "  File \"importlib\\__init__.py\", line 90, in import_module\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1310, in _find_and_load_unlocked\n  File \"<frozen importlib._bootstrap>\", line 488, in _call_with_frames_removed\n  File \"<frozen importlib._bootstrap>\", line 1387, in _gcd_import\n  File \"<frozen importlib._bootstrap>\", line 1360, in _find_and_load\n  File \"<frozen importlib._bootstrap>\", line 1324, in _find_and_load_unlocked\nModuleNotFoundError: No module named 'setuptools'\n\n'pdf2zh' 不是内部或外部命令，也不是可运行的程序\n或批处理文件。\n请按任意键继续. . .\n",
      "state": "closed",
      "author": "hengmeiliLLC",
      "author_type": "User",
      "created_at": "2025-01-21T04:29:48Z",
      "updated_at": "2025-01-30T08:52:00Z",
      "closed_at": "2025-01-30T08:52:00Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/500/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/500",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/500",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:31.270880",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/497 重复\n留一个issue就行，这个issue可以先关了。",
          "created_at": "2025-01-21T06:37:16Z"
        },
        {
          "author": "hellofinch",
          "body": "@Byaidu @Wybxc 请求关闭issue。",
          "created_at": "2025-01-21T07:15:58Z"
        },
        {
          "author": "hengmeiliLLC",
          "body": "在setup.bat第23行前加一行pip install --no-warn-script-location --upgrade setuptools -i !PIP_MIRROR!。\n\nCollecting cryptography>=36.0.0 (from pdfminer-six>=20240706->pdf2zh)\n  Using cached https://mirrors.aliyun.com/pypi/packages/97/9b/443270b9210f13f6ef240eff73fd32e02d381e7103969dc66ce8e89ee901/cryptography",
          "created_at": "2025-01-22T03:49:55Z"
        },
        {
          "author": "hellofinch",
          "body": "推荐把文件夹清空重新来，报错提示文件不一致。",
          "created_at": "2025-01-22T06:44:31Z"
        }
      ]
    },
    {
      "issue_number": 550,
      "title": "国内用户 raise LocalEntryNotFoundError 如何处理。",
      "body": "国内用户，经过一系列处理，现在报 \n\nraise LocalEntryNotFoundError(\n\n[huggingface](https://search.bilibili.com/all?from_source=webcommentline_search&keyword=huggingface&seid=9533809238718725865)_hub.errors.LocalEntryNotFoundError: An error happened while trying to locate the file on the Hub and we cannot find the requested files in the local cache. Please check your connection and try again or make sure your [Internet](https://search.bilibili.com/all?from_source=webcommentline_search&keyword=Internet&seid=9533809238718725865) connection is on.\n\n如何解决这个错误。\n\n",
      "state": "closed",
      "author": "changxinchang",
      "author_type": "User",
      "created_at": "2025-01-29T12:30:52Z",
      "updated_at": "2025-01-29T12:56:00Z",
      "closed_at": "2025-01-29T12:55:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/550/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/550",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/550",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:31.455924",
      "comments": [
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/134",
          "created_at": "2025-01-29T12:55:59Z"
        }
      ]
    },
    {
      "issue_number": 549,
      "title": "ImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。",
      "body": "\n使用  onnx-1.17.0  运行pdf2zh -i 显示 ImportError: DLL load failed while importing onnx_cpp2py_export: 动态链接库(DLL)初始化例程失败。\n降级 onnx到 1.16.1后 显示这个错误，\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\nyadt 0.0.1a28 requires onnx>=1.17.0, but you have onnx 1.16.1 which is incompatible.\n",
      "state": "closed",
      "author": "changxinchang",
      "author_type": "User",
      "created_at": "2025-01-28T14:49:37Z",
      "updated_at": "2025-01-29T09:53:49Z",
      "closed_at": "2025-01-29T09:08:13Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/549/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/549",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/549",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:36.659712",
      "comments": [
        {
          "author": "Califelia",
          "body": "我也遇到了：\n```\nTraceback (most recent call last):\n  File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 196, in _run_module_as_main\n    return _run_code(code, main_globals, None,\n  File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 86, in _run_code\n    exec(code, run_globals)\n  File \"D:\\Applications\\Anac",
          "created_at": "2025-01-28T17:28:32Z"
        },
        {
          "author": "Califelia",
          "body": "> 我也遇到了：\n> \n> ```\n> Traceback (most recent call last):\n>   File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 196, in _run_module_as_main\n>     return _run_code(code, main_globals, None,\n>   File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 86, in _run_code\n>     exec(code, run_globals)\n>   File \"D",
          "created_at": "2025-01-29T03:47:12Z"
        },
        {
          "author": "log2cn",
          "body": "for me, [this solution](https://github.com/Byaidu/PDFMathTranslate/issues/178#issuecomment-2540487455) works without downgrading ONNX.",
          "created_at": "2025-01-29T03:50:18Z"
        },
        {
          "author": "changxinchang",
          "body": "> > 我也遇到了：\n> > ```\n> > Traceback (most recent call last):\n> >   File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 196, in _run_module_as_main\n> >     return _run_code(code, main_globals, None,\n> >   File \"D:\\Applications\\Anaconda\\lib\\runpy.py\", line 86, in _run_code\n> >     exec(code, run_globals)\n",
          "created_at": "2025-01-29T08:52:33Z"
        },
        {
          "author": "changxinchang",
          "body": "> for me, [this solution](https://github.com/Byaidu/PDFMathTranslate/issues/178#issuecomment-2540487455) works without downgrading ONNX.\n\nI'll try. thank you",
          "created_at": "2025-01-29T09:02:42Z"
        }
      ]
    },
    {
      "issue_number": 547,
      "title": "添加代理选项",
      "body": "## 无法访问google\n添加代理选项",
      "state": "closed",
      "author": "Riocod",
      "author_type": "User",
      "created_at": "2025-01-28T10:43:54Z",
      "updated_at": "2025-01-29T09:09:03Z",
      "closed_at": "2025-01-29T09:09:03Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/547/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/547",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/547",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:36.896577",
      "comments": [
        {
          "author": "Byaidu",
          "body": "请自行配置代理",
          "created_at": "2025-01-29T09:09:00Z"
        }
      ]
    },
    {
      "issue_number": 543,
      "title": "翻译pdf文档后出现乱码",
      "body": "## PDFMathTranslate翻译pdf是乱码\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n翻译pdf文件后出现乱码，如截图所示，请问是什么原因呢？\n\n![Image](https://github.com/user-attachments/assets/60319619-d80a-467c-b6ed-60f2dbb4c918)\n![Image](https://github.com/user-attachments/assets/c04ad1cd-f56f-4d10-87e1-6996a582cad5)\n![Image](https://github.com/user-attachments/assets/5f5c281d-a721-4126-8e53-13a7a484125f)",
      "state": "open",
      "author": "tf20181218",
      "author_type": "User",
      "created_at": "2025-01-27T03:18:37Z",
      "updated_at": "2025-01-27T08:45:17Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/543/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/543",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/543",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.057037",
      "comments": [
        {
          "author": "tf20181218",
          "body": "使用的是1.9.0版本的，通过bat启动",
          "created_at": "2025-01-27T03:27:03Z"
        },
        {
          "author": "awwaawwa",
          "body": "请提供用于复现测试的原始 PDF 文档",
          "created_at": "2025-01-27T06:20:32Z"
        },
        {
          "author": "tf20181218",
          "body": "[harlianto-2025-measurable-disease-in-glioblastoma-using-pet-based-response-assessment-in-neuro-oncology-(pet-rano-1-0).pdf](https://github.com/user-attachments/files/18555603/harlianto-2025-measurable-disease-in-glioblastoma-using-pet-based-response-assessment-in-neuro-oncology-.pet-rano-1-0.pdf)请看",
          "created_at": "2025-01-27T08:42:34Z"
        },
        {
          "author": "awwaawwa",
          "body": "[harlianto-2025-measurable-disease-in-glioblastoma-using-pet-based-response-assessment-in-neuro-oncology-.pet-rano-1-0.zh-CN.dual.pdf](https://github.com/user-attachments/files/18555615/harlianto-2025-measurable-disease-in-glioblastoma-using-pet-based-response-assessment-in-neuro-oncology-.pet-rano-",
          "created_at": "2025-01-27T08:45:16Z"
        }
      ]
    },
    {
      "issue_number": 525,
      "title": "pip 库版本是不是要调整一下",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n使用 pip 安装 pdf2zh，已遇到的库版本问题包括且不止如下：\n\n```\nERROR: Could not find a version that satisfies the requirement azure-ai-translation-text<=1.0.1 (from pdf2zh) (from versions: 1.0.0b1)\nERROR: No matching distribution found for azure-ai-translation-text<=1.0.1 (from pdf2zh)\n```\n\n```\nERROR: Could not find a version that satisfies the requirement ollama (from pdf2zh) (from versions: none)\nERROR: No matching distribution found for ollama (from pdf2zh)\n```\n\n是不是应该检查升级一下，不要把版本限制的那么严格？使用的是 conda，python3.8，纯净 env 尚且 pip 失败\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n",
      "state": "closed",
      "author": "QAbot-zh",
      "author_type": "User",
      "created_at": "2025-01-24T08:16:30Z",
      "updated_at": "2025-01-25T01:31:49Z",
      "closed_at": "2025-01-25T01:31:49Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/525/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/525",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/525",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.228005",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "请使用python 3.10、3.11和3.12 。其余版本暂时不支持。",
          "created_at": "2025-01-24T12:38:25Z"
        },
        {
          "author": "QAbot-zh",
          "body": "> 请使用python 3.10、3.11和3.12 。其余版本暂时不支持。\n\npython 3.12 依旧报错：\n\n```\n~ pip install pdf2zh\n\nCollecting pdf2zh\n  Downloading pdf2zh-1.7.9-py3-none-any.whl (159 kB)\n     |████████████████████████████████| 159 kB 231 kB/s \nCollecting tenacity\n  Downloading tenacity-8.2.3-py3-none-any.whl (24 kB)\nCollecting gr",
          "created_at": "2025-01-24T13:56:41Z"
        },
        {
          "author": "awwaawwa",
          "body": "从 `Downloading torch-1.13.1-cp37-cp37m-manylinux1_x86_64.whl (887.5 MB)` 可知，您实际使用的是 python 3.7。\n\n您可以尝试使用[uv](https://github.com/astral-sh/uv#installation)来安装pdf2zh。\n```bash\nuv tool install --python 3.12 pdf2zh\npdf2zh --version\n```\n\n",
          "created_at": "2025-01-24T14:21:28Z"
        },
        {
          "author": "QAbot-zh",
          "body": "pip 环境变量出问题了，重新搞了下终于装上了",
          "created_at": "2025-01-25T01:31:49Z"
        }
      ]
    },
    {
      "issue_number": 507,
      "title": "pdfminer-six和pdfplumber版本兼容问题",
      "body": "## 问题描述\n我之前安装了pdfminer-six-20240706，安装贵软件时报告不兼容，说只跟20231228兼容。我卸载2024版本，安装20231228，然后再次运行贵软件的安装，结果它自动安装了20240706的pdfminer，然后报告pdfplumber需要20231228版本的pdfminer。我想，这次的2024版miner可不是我安装的。于是，我把贵软件和miner都卸载一遍，再运行贵软件的安装，结果它还是自动安装20240706的miner，同样报告pdfplumber跟miner不兼容。\n现在我没辙了。请教。\n\n## 测试文档\n把贵软件和miner都卸载一遍，再运行贵软件pip install pdf2zh的结果（最后几行）\nRequirement already satisfied: mdurl~=0.1 in c:\\users\\marco\\appdata\\local\\packages\\pythonsoftwarefoundation.python.3.10_qbz5n2kfra8p0\\localcache\\local-packages\\python310\\site-packages (from markdown-it-py>=2.2.0->rich>=10.11.0->typer<1.0,>=0.12->gradio->pdf2zh) (0.1.2)\nUsing cached pdf2zh-1.8.9-py3-none-any.whl (54 kB)\nUsing cached pdfminer.six-20240706-py3-none-any.whl (5.6 MB)\nInstalling collected packages: pdfminer-six, pdf2zh\n  WARNING: The script pdf2zh.exe is installed in 'C:\\Users\\marco\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.10_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python310\\Scripts' which is not on PATH.\n  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\npdfplumber 0.11.5 requires pdfminer.six==20231228, but you have pdfminer-six 20240706 which is incompatible.\nSuccessfully installed pdf2zh-1.8.9 pdfminer-six-20240706\n\n尝试运行贵软件，但出错\nPS C:\\Windows\\system32> pdf2zh -i\npdf2zh : Die Benennung \"pdf2zh\" wurde nicht als Name eines Cmdlet, einer Funktion, einer Skriptdatei oder eines\nausführbaren Programms erkannt. Überprüfen Sie die Schreibweise des Namens, oder ob der Pfad korrekt ist (sofern\nenthalten), und wiederholen Sie den Vorgang.\nIn Zeile:1 Zeichen:1\n+ pdf2zh -i\n+ ~~~~~~\n    + CategoryInfo          : ObjectNotFound: (pdf2zh:String) [], CommandNotFoundException\n    + FullyQualifiedErrorId : CommandNotFoundException",
      "state": "open",
      "author": "LukasCY",
      "author_type": "User",
      "created_at": "2025-01-21T13:27:49Z",
      "updated_at": "2025-01-23T12:22:24Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 17,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/507/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/507",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/507",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.395578",
      "comments": [
        {
          "author": "Byaidu",
          "body": "请确保python目录位于path中，否则pip日志会有如下报错导致无法运行pdf2zh\n\nConsider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.",
          "created_at": "2025-01-21T13:31:11Z"
        },
        {
          "author": "LukasCY",
          "body": "我python在path里面啊，我都可以python --version",
          "created_at": "2025-01-21T13:38:27Z"
        },
        {
          "author": "hellofinch",
          "body": "```\nD:\\Unix\\pdf2zh_dist>Scripts\\pip.exe list\nPackage                   Version\n------------------------- -----------\naiofiles                  23.2.1\naltgraph                  0.17.4\nannotated-types           0.7.0\nanyio                     4.7.0\nargostranslate            1.9.6\nazure-ai-translation-",
          "created_at": "2025-01-22T07:01:46Z"
        },
        {
          "author": "LukasCY",
          "body": "我之前运行pip uninstall pdfminer.six，这次用pip uninstall pdfminer卸载，然后pip uninstall pdfplumber，再卸载pdf2zh，重新安装，一切顺利，没有报错（结果还是显示pdfminer安装了2024版，但没报错就行）。我再把运行结尾提示的长长的路径加入path了。\n不过运行pdf2zh -i 又出现新问题\nTraceback (most recent call last):\n  File \"C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.10_3.1",
          "created_at": "2025-01-22T07:03:57Z"
        },
        {
          "author": "hellofinch",
          "body": "> ModuleNotFoundError: No module named 'pymupdf'\n\n你缺了`pymupdf`这个包。\n我推荐使用一个干净的环境来配置，我认为你的环境中有其他的内容在干扰。这些干扰会影响问题的定位。",
          "created_at": "2025-01-22T07:09:36Z"
        }
      ]
    },
    {
      "issue_number": 498,
      "title": "文本包含首字母大写设计时，翻译及布局不正确",
      "body": "如图\n\n![Image](https://github.com/user-attachments/assets/0172e69b-027d-499e-a61a-50119bb7fc76)\n\n![Image](https://github.com/user-attachments/assets/f002aa07-d446-4dcc-9817-cb706907bfc9)\n\n## 测试文档\n\n\n[2203.02953v2.pdf](https://github.com/user-attachments/files/18484422/2203.02953v2.pdf)\n\n\n",
      "state": "open",
      "author": "xuexin",
      "author_type": "User",
      "created_at": "2025-01-21T03:41:17Z",
      "updated_at": "2025-01-21T15:56:35Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/498/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/498",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/498",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.586421",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "New backend result: [2203.02953v2.zh-CN.dual.pdf](https://github.com/user-attachments/files/18493339/2203.02953v2.zh-CN.dual.pdf)\n\nCurrently, drop caps are not supported, please make do with it.\n\nThe coordinates in the upper right corner of this image are for the letter T, and below are the coordina",
          "created_at": "2025-01-21T15:56:34Z"
        }
      ]
    },
    {
      "issue_number": 496,
      "title": "pdf文档翻译后，目录页面结构会乱了",
      "body": "如图所示，上面是原始文件的目录样式，下面则是翻译过后的目录样式\n\n<img width=\"708\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/5b45e33d-73d6-4584-8d0a-f0f17c2233c9\" />\n",
      "state": "closed",
      "author": "jasonyen92",
      "author_type": "User",
      "created_at": "2025-01-20T09:38:58Z",
      "updated_at": "2025-01-20T09:57:34Z",
      "closed_at": "2025-01-20T09:50:00Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/496/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/496",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/496",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.738847",
      "comments": [
        {
          "author": "hellofinch",
          "body": "已知问题，可以尝试实验性后端。\nhttps://github.com/Byaidu/PDFMathTranslate/pull/475",
          "created_at": "2025-01-20T09:46:01Z"
        },
        {
          "author": "hellofinch",
          "body": "@Byaidu @Wybxc 重复问题，请求关闭issue。",
          "created_at": "2025-01-20T09:46:44Z"
        },
        {
          "author": "awwaawwa",
          "body": "@hellofinch 实验性后端暂时又无法处理目录了...，相关代码已暂时移除（和公式布局代码有冲突）。后面再想办法加回来。",
          "created_at": "2025-01-20T09:57:32Z"
        }
      ]
    },
    {
      "issue_number": 494,
      "title": "huggingface_hub.errors.LocalEntryNotFoundError: An error happened while trying to locate the file on the Hub and we cannot find the requested files in the local cache. Please check your connection and try again or make sure your Internet connection is on.",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n![Image](https://github.com/user-attachments/assets/08a1b6c1-be5c-4441-9075-a650093f4809)\n无法连接到huggingface，是要连接外网么  请各位大佬指教",
      "state": "closed",
      "author": "zhangjingpei",
      "author_type": "User",
      "created_at": "2025-01-20T02:13:09Z",
      "updated_at": "2025-01-20T04:07:10Z",
      "closed_at": "2025-01-20T04:07:10Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/494/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/494",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/494",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:37.915856",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/134\n@Byaidu @Wybxc 请求关闭issue",
          "created_at": "2025-01-20T02:40:17Z"
        }
      ]
    },
    {
      "issue_number": 489,
      "title": "Start by `pdf2zh --celery worker ` got error  `Cannot connect to redis://127.0.0.1:6379/0: Error 111`",
      "body": "\nroot@3cce59511836:/app# pdf2zh --celery worker \n/usr/local/lib/python3.12/site-packages/celery/platforms.py:829: SecurityWarning: You're running the worker with superuser privileges: this is\nabsolutely not recommended!\n\nPlease specify a different user using the --uid option.\n\nUser information: uid=0 euid=0 gid=0 egid=0\n\n  warnings.warn(SecurityWarning(ROOT_DISCOURAGED.format(\n \n -------------- celery@3cce59511836 v5.4.0 (opalescent)\n--- ***** ----- \n-- ******* ---- Linux-6.8.0-49-generic-x86_64-with-glibc2.36 2025-01-19 12:53:45\n- *** --- * --- \n- ** ---------- [config]\n- ** ---------- .> app:         pdf2zh:0x7a539df6a420\n- ** ---------- .> transport:   redis://127.0.0.1:6379/0\n- ** ---------- .> results:     redis://127.0.0.1:6379/0\n- *** --- * --- .> concurrency: 56 (prefork)\n-- ******* ---- .> task events: OFF (enable -E to monitor tasks in this worker)\n--- ***** ----- \n -------------- [queues]\n                .> celery           exchange=celery(direct) key=celery\n                \n\n[2025-01-19 12:53:48,053: WARNING/MainProcess] /usr/local/lib/python3.12/site-packages/celery/worker/consumer/consumer.py:508: CPendingDeprecationWarning: The broker_connection_retry configuration setting will no longer determine\nwhether broker connection retries are made during startup in Celery 6.0 and above.\nIf you wish to retain the existing behavior for retrying connections on startup,\nyou should set broker_connection_retry_on_startup to True.\n  warnings.warn(\n\n[2025-01-19 12:53:48,055: ERROR/MainProcess] consumer: Cannot connect to redis://127.0.0.1:6379/0: Error 111 connecting to 127.0.0.1:6379. Connection refused..\nTrying again in 2.00 seconds... (1/100)",
      "state": "closed",
      "author": "xiyuan-lee",
      "author_type": "User",
      "created_at": "2025-01-19T12:59:08Z",
      "updated_at": "2025-01-20T01:21:33Z",
      "closed_at": "2025-01-19T14:13:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/489/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/489",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/489",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.114853",
      "comments": [
        {
          "author": "Byaidu",
          "body": "需要redis",
          "created_at": "2025-01-19T14:13:46Z"
        },
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/docs/APIS.md#table-of-content\n请仔细阅读相关文档哦。",
          "created_at": "2025-01-20T01:21:32Z"
        }
      ]
    },
    {
      "issue_number": 491,
      "title": "pdf文档翻译后横排的文字变成了竖排文字",
      "body": "### **翻译pdf文档，横排的文字变成了竖排**\n\n原文件样式：\n![Image](https://github.com/user-attachments/assets/5f1fcbf5-db19-4798-adf0-550442752058)\n翻译后：\n![Image](https://github.com/user-attachments/assets/0fde8a5d-a1a0-43e2-8d8a-9af06e7f7747)\npdf文档：\n[爱普生 R280 R285 R290 R330 T50 T59 T60 P50 打印机英文维修手册.pdf](https://github.com/user-attachments/files/18468999/R280.R285.R290.R330.T50.T59.T60.P50.pdf)\n",
      "state": "closed",
      "author": "22yf1",
      "author_type": "User",
      "created_at": "2025-01-19T13:52:01Z",
      "updated_at": "2025-01-19T14:00:53Z",
      "closed_at": "2025-01-19T14:00:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/491/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/491",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/491",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.308185",
      "comments": [
        {
          "author": "22yf1",
          "body": "手动转换为 PDF/A 后正常翻译",
          "created_at": "2025-01-19T14:00:52Z"
        }
      ]
    },
    {
      "issue_number": 286,
      "title": "docs(README): Synchronize multilingual translation of README to align with the English README",
      "body": "Currently, the English README has undergone a major simplification, but the accompanying Chinese and Japanese READMEs have not been updated accordingly, so the multilingual READMEs are inconsistent.",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-19T01:04:51Z",
      "updated_at": "2025-01-19T05:21:43Z",
      "closed_at": null,
      "labels": [
        "documentation"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/286/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/286",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/286",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.524175",
      "comments": []
    },
    {
      "issue_number": 285,
      "title": "refactor: unify HTTP request library to httpx",
      "body": "The current project's network requests include requests and urllib, among others. Among these, urllib's API is not particularly user-friendly; requests do not support async. [encode/httpx: A next generation HTTP client for Python. 🦋 - GitHub](https://github.com/encode/httpx) natively provides async/sync APIs, and its API is similar to requests, offering better usability.",
      "state": "open",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-19T00:47:06Z",
      "updated_at": "2025-01-19T05:21:37Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/285/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/285",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/285",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.524198",
      "comments": [
        {
          "author": "reycn",
          "body": "The download operation currently blocks subsequent steps, so I don't see the necessity for it. However, contributions are welcome.",
          "created_at": "2024-12-19T07:12:16Z"
        },
        {
          "author": "awwaawwa",
          "body": "Mainly, when calling some translation APIs, HTTP requests need to be sent, and currently, requests is being used for that part, so I'm thinking of unifying everything to async when I get to it, since there aren't many anyway.",
          "created_at": "2024-12-19T07:18:38Z"
        }
      ]
    },
    {
      "issue_number": 364,
      "title": "翻译完成后浏览器弹出通知",
      "body": "## 功能描述\r\n一些网站在完成任务后会弹出通知，提醒用户任务已完成。这样，用户在翻译时无需一直查看进度，任务结束后浏览器会自动通知，非常方便。\r\n\r\n希望支持这个功能。",
      "state": "open",
      "author": "VectorZhao",
      "author_type": "User",
      "created_at": "2024-12-28T02:23:22Z",
      "updated_at": "2025-01-19T05:20:57Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/364/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/364",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/364",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.675951",
      "comments": [
        {
          "author": "timelic",
          "body": "其实更好的是能在浏览器的`document.title`同步进度条信息",
          "created_at": "2024-12-29T03:36:53Z"
        },
        {
          "author": "VectorZhao",
          "body": "> 其实更好的是能在浏览器的`document.title`同步进度条信息\r\n\r\n浏览器切到后台就看不到进度条了",
          "created_at": "2024-12-29T07:40:53Z"
        }
      ]
    },
    {
      "issue_number": 476,
      "title": "翻译被括号包裹的公式存在布局问题",
      "body": "## 问题描述\r\n使用的翻译服务是\r\nzhipu的 glm-4-plus\r\n\r\n例如对于测试文档第九页左下方\r\n原始内容如下\r\n![image](https://github.com/user-attachments/assets/d15416c7-b31c-4576-8885-a1c92d5640fa)\r\n翻译结果如下\r\n![image](https://github.com/user-attachments/assets/afbc4e4d-e24d-4a7b-b029-7bd44e25a529)\r\n可以观察到括号中的 (i-1)等内容与文本发生了错位\r\n\r\n类似的问题也发生在第十一页\r\n原始内容如下\r\n![image](https://github.com/user-attachments/assets/d1875420-4b02-4955-94a4-377d2adba995)\r\n翻译结果如下\r\n![image](https://github.com/user-attachments/assets/ce4bb8e0-f69c-42f0-bf5b-3683039b07dc)\r\n发生了公式与文本的堆叠\r\n\r\n## 测试文档\r\n[JCST-2023-2-4-2537-251.pdf](https://github.com/user-attachments/files/18434283/JCST-2023-2-4-2537-251.pdf)\r\n\r\n这个工具的效果真的很棒, 辛苦开发者们了\r\n",
      "state": "open",
      "author": "VaporTang",
      "author_type": "User",
      "created_at": "2025-01-16T06:24:34Z",
      "updated_at": "2025-01-19T05:19:38Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/476/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/476",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/476",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:38.852330",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "有时间了我瞅瞅",
          "created_at": "2025-01-16T11:14:45Z"
        },
        {
          "author": "hellofinch",
          "body": "看上去是行内公式没没放在句子中去翻译，估计是解析的时候加的判断给跳过去了。",
          "created_at": "2025-01-17T01:14:02Z"
        }
      ]
    },
    {
      "issue_number": 468,
      "title": "是否能支持竖排文字的识别？",
      "body": "测试了一下 比如我使用一页日本的漫画 由于是使用竖向排列 结果是无法识别到任何文字0 0\r\n[test1.pdf](https://github.com/user-attachments/files/18412604/test1.pdf)\r\n",
      "state": "open",
      "author": "YANG-Haruka",
      "author_type": "User",
      "created_at": "2025-01-14T15:46:00Z",
      "updated_at": "2025-01-19T05:19:01Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/468/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/468",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/468",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.036206",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "It will be adapted later. Currently, the focus is mainly on horizontally written text from left to right.",
          "created_at": "2025-01-15T02:48:35Z"
        },
        {
          "author": "hellofinch",
          "body": "漫画有专门针对漫画的工具，PDFMathTranslate不针对漫画进行设计。对话框可能识别不到。\r\n@awwaawwa 有专门的工具，我们还是应该把关注点放在文档处理上。",
          "created_at": "2025-01-15T02:54:01Z"
        }
      ]
    },
    {
      "issue_number": 486,
      "title": "UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc8 in position 9: invalid continuation byte 报错",
      "body": "## 问题描述\n请对问题进行描述:在上传一些pdf时会报错UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc8 in position 9: invalid continuation byte导致无法正常工作,我是直接使用docker拉取的，我看到 converter.py 应该是修复了这个问题的，请问下是docker的源代码没有更新吗？\n\n运行日志如下：\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc8 in position 9: invalid continuation byte\nFiles before translation: ['20250117233209_kzc84ja3-dual.pdf', 'BL24C256A-test.pdf', 'G_series_Lua_API-mono.pdf', 'BL24C256A-test1.pdf', 'mathematics-10-03413-v2-dual.pdf', 'BL24C256A-008.pdf', 'mathematics-10-03413-v2-mono.pdf', 'BL24C256A-3.pdf', 'Graph Equations Involving Tensor Product of Graphs.pdf', 'BL24C256A-2-mono.pdf', 'BL24C256A-2.pdf', 'Graph Equations Involving Tensor Product of Graphs-mono.pdf', 'BL24C256A.pdf', 'BL24C256A-1-mono.pdf', 'BL24C256A-1.pdf', 'BL24C256A-1-dual.pdf', 'C700177_模数转换芯片ADC_SGM58031XMS10G-TR_规格书_WJ1490145.PDF', 'BL24C256A-2-dual.pdf', '20250117233209_kzc84ja3.pdf', 'Graph Equations Involving Tensor Product of Graphs-dual.pdf', 'BL24C256A-09.pdf', 'C2859066_心率传感器_MAX30101EFDT_规格书_WJ09450.PDF', 'G_series_Lua_API.pdf', 'mathematics-10-03413-v2.pdf', 'G_series_Lua_API-dual.pdf', '20250117233209_kzc84ja3-mono.pdf']\n{'files': ['pdf2zh_files/BL24C256A-2.pdf'], 'pages': None, 'lang_in': 'en', 'lang_out': 'zh', 'service': 'google', 'output': PosixPath('pdf2zh_files'), 'thread': 4, 'callback': <function translate_file.<locals>.progress_bar at 0x7f232f5d2480>}\n\n  0%|          | 0/16 [00:00<?, ?it/s]\n  6%|▋         | 1/16 [00:01<00:15,  1.06s/it]\nTraceback (most recent call last):\n  File \"/usr/local/lib/python3.12/site-packages/gradio/queueing.py\", line 625, in process_events\n    response = await route_utils.call_process_api(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/gradio/route_utils.py\", line 322, in call_process_api\n    output = await app.get_blocks().process_api(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 2047, in process_api\n    result = await self.call_function(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/gradio/blocks.py\", line 1594, in call_function\n    prediction = await anyio.to_thread.run_sync(  # type: ignore\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/anyio/to_thread.py\", line 56, in run_sync\n    return await get_async_backend().run_sync_in_worker_thread(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 2505, in run_sync_in_worker_thread\n    return await future\n           ^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/anyio/_backends/_asyncio.py\", line 1005, in run\n    result = context.run(func, *args)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/gradio/utils.py\", line 869, in wrapper\n    response = f(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/gui.py\", line 165, in translate_file\n    translate(**param)\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 278, in translate\n    s_mono, s_dual = translate_stream(s_raw, **locals())\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 213, in translate_stream\n    obj_patch: dict = translate_patch(fp, **locals())\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 148, in translate_patch\n    interpreter.process_page(page)\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 266, in process_page\n    ops_new = self.device.end_page(page)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/converter.py\", line 56, in end_page\n    return self.receive_layout(self.cur_item)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/converter.py\", line 224, in receive_layout\n    or vflag(child.fontname, child.get_text())                                              # 3. 公式字体\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.12/site-packages/pdf2zh/converter.py\", line 175, in vflag\n    font = font.decode()\n           ^^^^^^^^^^^^^\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xc8 in position 9: invalid continuation byte\n\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n\n[BL24C256A.pdf](https://github.com/user-attachments/files/18465526/BL24C256A.pdf)\n",
      "state": "closed",
      "author": "konbakuyomu",
      "author_type": "User",
      "created_at": "2025-01-18T17:59:27Z",
      "updated_at": "2025-01-19T05:11:56Z",
      "closed_at": "2025-01-19T05:11:55Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/486/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/486",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/486",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.194598",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "根据测试，最新版源码是可以翻译的。docker的确实也没有更新。\n[现有后端BL24C256A-dual.pdf](https://github.com/user-attachments/files/18465710/BL24C256A-dual.pdf)\n\n[新后端BL24C256A.zh-CN.dual.pdf](https://github.com/user-attachments/files/18465696/BL24C256A.zh-CN.dual.pdf)\n\n另请注意，目前本项目并没有针对技术文档做优化，所以效果不一定好。针对技术文档的优化在相对远期的待办事项中，当前新后端的主要任",
          "created_at": "2025-01-18T18:49:34Z"
        },
        {
          "author": "konbakuyomu",
          "body": "好的，期待后面的更新 ",
          "created_at": "2025-01-18T20:27:04Z"
        },
        {
          "author": "Byaidu",
          "body": "已更新",
          "created_at": "2025-01-19T05:11:55Z"
        }
      ]
    },
    {
      "issue_number": 478,
      "title": "[Feature Request] The i18n-enabled interface of WebUI (Korean)",
      "body": "When I try to convert PDF to Korean on the demo page, I get an error and can't see the file itself. \r\nIs it possible that it says Korean support but it doesn't support Korean yet? \r\nI'd like to create a Korean version of the demo page because we have people in Korea who need this feature. Is that okay?\r\n\r\n![image](https://github.com/user-attachments/assets/9c32023f-939f-4506-bf70-989ba2e3fb30)\r\n\r\nThe page just keeps loading like that, with no result\r\n\r\n## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n",
      "state": "open",
      "author": "yoonmins",
      "author_type": "User",
      "created_at": "2025-01-16T06:36:00Z",
      "updated_at": "2025-01-19T05:01:31Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/478/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/478",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/478",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.361503",
      "comments": [
        {
          "author": "hellofinch",
          "body": "1. Maybe there is something wrong with the online demo; please try to run it locally. : )\r\n2. Yes, The pdf2zh supports Korean.\r\n\r\n> I'd like to create a Korean version of the demo page because we have people in Korea who need this feature. Is that okay?\r\n\r\nI don't get you on that point. Do you need ",
          "created_at": "2025-01-16T06:57:33Z"
        },
        {
          "author": "yoonmins",
          "body": "1. OKAY😊\r\n2. Not necessarily, but the technology is so good that it's easy to see why the\r\nI want to make it easier to optimize and access.\r\nNaturally, I'll leave all sources. ",
          "created_at": "2025-01-16T07:11:12Z"
        },
        {
          "author": "hellofinch",
          "body": "Well, we use the [gadio](https://www.gradio.app/docs) as the web server. You can make i18n by yourself. All web page functions are in `gui.py`.\r\nFeel at ease and have fun.\r\n: )",
          "created_at": "2025-01-16T07:28:52Z"
        }
      ]
    },
    {
      "issue_number": 482,
      "title": "中英混合的PDF翻译后布局有问题",
      "body": "源文件：\n\n[基于数据关联性聚类的数据布局算法.pdf](https://github.com/user-attachments/files/18448639/default.pdf)\n\n新文件：\n\n[基于数据关联性聚类的数据布局算法-mono.pdf](https://github.com/user-attachments/files/18448641/-mono.pdf)\n\n截图：\n\n<img width=\"350\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/81273ff3-db1c-422d-b406-90b458cc498e\" />\n\n<img width=\"350\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4aa80f86-5d4e-4fc3-8110-c77aa300bb9d\" />\n\n<img width=\"350\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/2154d408-4885-47bc-9143-c0705707d143\" />",
      "state": "closed",
      "author": "xiaobeicn",
      "author_type": "User",
      "created_at": "2025-01-17T04:26:39Z",
      "updated_at": "2025-01-19T04:58:27Z",
      "closed_at": "2025-01-19T04:58:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/482/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/482",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/482",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.533069",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "原始PDF的部分字体缺失相关信息，无法正确提取部分段落的文本。请使用基于OCR的PDF翻译技术，如沉浸式翻译 PDF Pro 或 Doc2X。",
          "created_at": "2025-01-17T10:40:49Z"
        },
        {
          "author": "awwaawwa",
          "body": "那一堆(cid:xxx)就是提取文本失败的\n![Image](https://github.com/user-attachments/assets/3ccf6c8c-bebb-497c-9214-cd805f4deff6)\n\n![Image](https://github.com/user-attachments/assets/ef252100-5173-4478-a4c3-c3d474a13c43)",
          "created_at": "2025-01-17T10:42:08Z"
        }
      ]
    },
    {
      "issue_number": 205,
      "title": "zotero集成支持",
      "body": "## 功能描述\r\n希望可以与zotero集成实现，也许得另开个专门的插件项目作为前端？#67\r\n\r\n希望实现加入文献自动运行翻译，添加到文献下，或者手动。\r\n",
      "state": "closed",
      "author": "starxjys",
      "author_type": "User",
      "created_at": "2024-12-10T10:15:44Z",
      "updated_at": "2025-01-19T04:56:48Z",
      "closed_at": "2025-01-19T04:56:48Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/205/reactions",
        "total_count": 15,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 15,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/205",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/205",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.697779",
      "comments": [
        {
          "author": "VectorZhao",
          "body": "期待",
          "created_at": "2024-12-28T02:04:30Z"
        },
        {
          "author": "duofengzhiling",
          "body": "期待，可能需要添加一些命令。插件化的话，文件可能会很大。实际上，已经有人开发了相关翻译插件，原理是转换文件类型，然后翻译，但是效果可能不是很好。",
          "created_at": "2024-12-31T10:56:04Z"
        },
        {
          "author": "guaguastandup",
          "body": "我写了一个插件，需要自己在后端run一下python脚本，欢迎使用：https://github.com/guaguastandup/zotero-pdf2zh",
          "created_at": "2025-01-18T17:01:07Z"
        }
      ]
    },
    {
      "issue_number": 481,
      "title": "translate error on shell",
      "body": "I am translating a huge file that has a total of 3500 pages. When the progress bar reaches over 50%, an error occurs.\n\n<!-- Failed to upload \"TMS320F280039_User_Maual.pdf\" -->\n\n![Image](https://github.com/user-attachments/assets/84d177ae-0896-44dd-9280-27e7759edb0c)",
      "state": "closed",
      "author": "xiaoweige123",
      "author_type": "User",
      "created_at": "2025-01-17T00:50:45Z",
      "updated_at": "2025-01-17T11:21:34Z",
      "closed_at": "2025-01-17T11:21:34Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/481/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/481",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/481",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:39.875664",
      "comments": [
        {
          "author": "xiaoweige123",
          "body": "-- Failed to upload \"TMS320F280039_User_Maual.pdf\" --\n\n\nThe PDF document upload failed. If you need it, please connect with me via my Google Mail at '[xiaoweigegong@gmail.com](mailto:xiaoweigegong@gmail.com)' or wechat is xiaowei514123.",
          "created_at": "2025-01-17T01:10:10Z"
        },
        {
          "author": "hellofinch",
          "body": "It seems OOM error. What size is a PDF page?\nYour PDF is so huge. Maybe you can split it into many parts?\nAs I know, you are the first one to use pdf2zh on such a huge PDF.\n\n: )",
          "created_at": "2025-01-17T01:27:15Z"
        },
        {
          "author": "xiaoweige123",
          "body": "\n> It seems OOM error. What size is a PDF page? Your PDF is so huge. Maybe you can split it into many parts? As I know, you are the first one to use pdf2zh on such a huge PDF.\n> \n> : )\nThe PDF file is in my repository, available for your testing。\n\nhttps://github.com/xiaoweige123/pdf.git     \n\n",
          "created_at": "2025-01-17T06:22:07Z"
        },
        {
          "author": "awwaawwa",
          "body": "How much memory does your computer have?",
          "created_at": "2025-01-17T10:43:08Z"
        },
        {
          "author": "awwaawwa",
          "body": "Additionally, your PDF mostly contains tables. However, since we are currently focusing on translating the main text of papers, we will overlook the text in chart and table areas, so there's no need to attempt it for now.\n\nYou can try using the PDF translation feature in the [immersive translation](",
          "created_at": "2025-01-17T10:46:04Z"
        }
      ]
    },
    {
      "issue_number": 483,
      "title": "ipv6支持",
      "body": "## 功能描述\n希望自带的gui能支持ipv6访问\n![Image](https://github.com/user-attachments/assets/972f2c07-fc33-41b6-b009-61869d4ed830)\n",
      "state": "closed",
      "author": "arcadia-ai",
      "author_type": "User",
      "created_at": "2025-01-17T07:38:52Z",
      "updated_at": "2025-01-17T08:30:46Z",
      "closed_at": "2025-01-17T08:30:46Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/483/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/483",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/483",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:40.043732",
      "comments": [
        {
          "author": "hellofinch",
          "body": "推荐到gradio仓库下边反馈。webui使用的是的gradio。\n@Byaidu 请求关闭issue。",
          "created_at": "2025-01-17T08:28:32Z"
        }
      ]
    },
    {
      "issue_number": 422,
      "title": "latex 還是有些問題",
      "body": "## 问题描述\r\n我將算法導論拿去翻譯，有些數學是沒有問題的，但還是有些會爆掉\r\n![image](https://github.com/user-attachments/assets/caca7b3f-f85a-46ce-a600-81677c737ded)\r\n![image](https://github.com/user-attachments/assets/9d626ba4-2048-46a0-bc13-7a919a3605bd)\r\n",
      "state": "open",
      "author": "yookooyoo",
      "author_type": "User",
      "created_at": "2025-01-07T05:05:19Z",
      "updated_at": "2025-01-15T02:56:34Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/422/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/422",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/422",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:40.235583",
      "comments": [
        {
          "author": "Byaidu",
          "body": "麻烦反馈文件",
          "created_at": "2025-01-07T05:06:43Z"
        },
        {
          "author": "yookooyoo",
          "body": "翻譯前\r\n[Introduction.to.Algorithms.4th.Leiserson.Stein.Rivest.Cormen.MIT.Press.9780262046305.EBooksWorld.ir-頁面-1.pdf](https://github.com/user-attachments/files/18327895/Introduction.to.Algorithms.4th.Leiserson.Stein.Rivest.Cormen.MIT.Press.9780262046305.EBooksWorld.ir-.-1.pdf)\r\n翻譯後\r\n[Introduction.to.A",
          "created_at": "2025-01-07T05:14:21Z"
        },
        {
          "author": "dhyuk54",
          "body": "我也遇到好多公式重叠的情况,和这个情况几乎类似",
          "created_at": "2025-01-10T01:54:38Z"
        },
        {
          "author": "al2698",
          "body": "+1 請修復\r\n[翻譯後](https://github.com/al2698/File/blob/20442fc405bd5e5f58828d02eae889702407d409/Paper/2302.04002v1-dual.pdf)",
          "created_at": "2025-01-15T02:34:55Z"
        }
      ]
    },
    {
      "issue_number": 466,
      "title": "有下划线格式会乱",
      "body": "## 问题描述\r\n只要有下划线，就乱了\r\n\r\n![photo_2025-01-14_15-57-26](https://github.com/user-attachments/assets/62fcd2a6-288e-4f43-afda-3d8d78d59d94)\r\n![photo_2025-01-14_15-57-35](https://github.com/user-attachments/assets/4c388807-a2de-4f5b-a806-18d4e564ebd7)\r\n",
      "state": "open",
      "author": "itwone",
      "author_type": "User",
      "created_at": "2025-01-14T07:57:57Z",
      "updated_at": "2025-01-14T14:58:31Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/466/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/466",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/466",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:40.421430",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "This issue with the new backend is being tracked here: https://github.com/funstory-ai/yadt/issues/15",
          "created_at": "2025-01-14T14:58:29Z"
        }
      ]
    },
    {
      "issue_number": 456,
      "title": "行内公式会出现很多排版混乱，重叠的问题",
      "body": "行内由公式会出现错版重叠，目录页排版与原文不一致\r\n[p14.pdf](https://github.com/user-attachments/files/18388253/p14.pdf)\r\n[p14原文.pdf](https://github.com/user-attachments/files/18388254/p14.pdf)\r\n[p36.pdf](https://github.com/user-attachments/files/18388255/p36.pdf)\r\n[p36原文.pdf](https://github.com/user-attachments/files/18388256/p36.pdf)\r\n",
      "state": "open",
      "author": "haosky001",
      "author_type": "User",
      "created_at": "2025-01-12T05:47:16Z",
      "updated_at": "2025-01-14T07:54:42Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 6,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/456/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/456",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/456",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:40.572880",
      "comments": [
        {
          "author": "haosky001",
          "body": "python 3.12.6\r\n翻译api：deepseekv3",
          "created_at": "2025-01-12T05:50:13Z"
        },
        {
          "author": "YYEDUL",
          "body": "请问你deepseek怎么配置的\r\nset OPENAI_BASE_URL=https://api.deepseek.com\r\nset OPENAI_API_KEY=sk-yyybbbxxxx\r\nset OPENAI_MODEL=deepseek-chat\r\npdf2zh example.pdf -s deepseek\r\n我使用这个指令配置不了",
          "created_at": "2025-01-12T06:42:13Z"
        },
        {
          "author": "haosky001",
          "body": "> 请问你deepseek怎么配置的 set OPENAI_BASE_URL=https://api.deepseek.com set OPENAI_API_KEY=sk-yyybbbxxxx set OPENAI_MODEL=deepseek-chat pdf2zh example.pdf -s deepseek 我使用这个指令配置不了\r\n\r\n直接在open ai里修改url、api、和模型就行，把url里的openai换成deepseek",
          "created_at": "2025-01-12T12:44:25Z"
        },
        {
          "author": "hellofinch",
          "body": "目录和重叠的问题新后端中已经处理，请等待新后端的接入。",
          "created_at": "2025-01-13T01:11:49Z"
        },
        {
          "author": "haosky001",
          "body": "> 目录和重叠的问题新后端中已经处理，请等待新后端的接入。\r\n\r\n感谢，是等待更新吗",
          "created_at": "2025-01-13T05:00:18Z"
        }
      ]
    },
    {
      "issue_number": 437,
      "title": "翻译的公式部分和文本重叠",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n请确认 issues 中没有相同问题且完整阅读 wiki\r\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\r\n出现问题：\r\n\r\n![1736346864419](https://github.com/user-attachments/assets/25ba06f0-07cf-4dec-8b5f-13f88841588f)\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n问题wen'dang文档：\r\n[yang-et-al-2024-mpcd-a-multitask-graph-transformer-for-molecular-property-prediction-by-integrating-common-and-domain.pdf](https://github.com/user-attachments/files/18348714/yang-et-al-2024-mpcd-a-multitask-graph-transformer-for-molecular-property-prediction-by-integrating-common-and-domain.pdf)\r\n",
      "state": "open",
      "author": "hotwa",
      "author_type": "User",
      "created_at": "2025-01-08T14:35:59Z",
      "updated_at": "2025-01-08T14:49:19Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/437/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/437",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/437",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:40.738884",
      "comments": [
        {
          "author": "hotwa",
          "body": "使用ollama qwen2.5-14b翻译",
          "created_at": "2025-01-08T14:49:17Z"
        }
      ]
    },
    {
      "issue_number": 271,
      "title": "默认中文字体为非衬线字体 / 自定义字体",
      "body": "## 问题描述\r\n\r\n在README中给出的示范截图中，中文字体为有衬线字体（如思源宋体等），而目前翻译结果，中文字体均为无衬线的黑体。论文PDF中的字体一般均为有衬线英文，公式等也是，翻译为中文会出现有衬线和无衬线相混杂的情况。\r\n\r\n建议：支持自定义字体（如CSS那种fallback规则）。或者默认使用**有衬线字体**。或者根据英文内容自行判断用什么字体。\r\n\r\n除此之外：中文标题字体一般比英文字体小，导致页面不平衡。\r\n\r\n<img width=\"822\" alt=\"截屏2024-12-18 15 24 44\" src=\"https://github.com/user-attachments/assets/9ecb46ae-48e3-4871-a7ba-a98ba041d32f\" />\r\n\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\n[3821_Scaling_In_the_Wild_Train.pdf](https://github.com/user-attachments/files/18176655/3821_Scaling_In_the_Wild_Train.pdf)\r\n",
      "state": "closed",
      "author": "timelic",
      "author_type": "User",
      "created_at": "2024-12-18T07:29:28Z",
      "updated_at": "2025-01-08T13:30:29Z",
      "closed_at": "2025-01-08T13:30:29Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/271/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/271",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/271",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:42.854767",
      "comments": [
        {
          "author": "timelic",
          "body": "对比了一下这个闭源的[竞品](https://github.com/WildDataX/Suppr.ai)的效果。\r\n\r\n竞品在排版上确实会更好一些，包括更精准的定位（行内公式和文本的重叠程度）。在中文排版上，如果中文字号过大导致溢出，会适当缩小中文字号以对齐原文。另外，原文的一些颜色、字重也得以保留。\r\n\r\n![image](https://github.com/user-attachments/assets/ccd4bbcc-729d-4836-bdaa-3c356c88d299)\r\n\r\n![image](https://github.com/user-attachments/assets",
          "created_at": "2024-12-18T07:50:08Z"
        },
        {
          "author": "Byaidu",
          "body": "确实，我早期也在用那个服务，体验确实不错，不过毕竟还是效率优先，暂时就没关注颜色和字体这些问题了",
          "created_at": "2024-12-18T08:11:20Z"
        },
        {
          "author": "timelic",
          "body": "> 确实，我早期也在用那个服务，体验确实不错，不过毕竟还是效率优先，暂时就没关注颜色和字体这些问题了\r\n\r\n衬线字体和自适应字号可以实现吗？有一个很粗浅的自适应字号解决方案，比如说先预排版一遍，如果遇到文本框溢出，那就适当减少字号。\r\n\r\n另外，默认字号是不是可以中文稍微比英文小一些，这本质上是由于两种文本的视觉效果决定的。",
          "created_at": "2024-12-18T08:17:32Z"
        }
      ]
    },
    {
      "issue_number": 355,
      "title": "关于gui几个问题",
      "body": "我通过docker创建访问内网穿透给朋友使用 但是遇到了一些问题 找了好久文档 没解决 所以冒昧打扰一下\r\n---\r\n1. 我没有指定其他环境变量 但是列表出现了所有翻译服务\r\n![image](https://github.com/user-attachments/assets/0af26fea-777f-45e8-a939-174b05fd5dfb)\r\n应该如何通过环境变量指定可用服务 像示例网站 https://pdf2zh.com/ 一样 \r\n![image](https://github.com/user-attachments/assets/c0b617bd-3a81-4629-a6b6-6ca0e2934f63)\r\n\r\n2. \r\n![image](https://github.com/user-attachments/assets/a4300907-7329-4d7f-aad4-a70b1a410ad2)\r\n通过环境变量指定的数据比如apikey似乎会在前端暴露 而且可以修改 这样说的话是前端请求? 请问能不能隐藏到后端访问 这样可以配置一些内网地址\r\n\r\n- 前两个可以优化成 只启用后端配置的环境变量翻译服务 且后端请求接口  然后前端不可以自己修改 方便分享\r\n\r\n3. 文档`[Nov. 22 2024] 图形用户界面现已支持意大利语，并获得了一些更新 (by [@Byaidu](https://github.com/Byaidu), [@reycn](https://github.com/reycn))`意思是gui早就别的语音 但是我好像没发现怎么切换前端语言?(虽然几个单词意思很简单 但是更习惯中文界面)\r\n![image](https://github.com/user-attachments/assets/4e7edc98-40ff-4a0e-af67-bd8251a47c88)\r\n这是我b部署的web 可以看到只有一部分是中文 其他好像不能修改语言 也没找到对应环境变量\r\n\r\n4. 高级部分能不能通过环境变量设置 \r\n![image](https://github.com/user-attachments/assets/9c372cde-20b2-4ad7-bf7a-a5723a267f74)\r\n比如有一些想默认开启 (比如密码访问 我现在是通过nginx加认证 否则因为2的缘故 爬虫可以获取我的所有key\r\n\r\n5. 除了英文其他语言文档因为路径在docs无法显示正确的图片 应该改一下路径 (如上图cmd)",
      "state": "open",
      "author": "wx-11",
      "author_type": "User",
      "created_at": "2024-12-27T05:59:15Z",
      "updated_at": "2025-01-07T17:34:13Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 15,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/355/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/355",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/355",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.043254",
      "comments": [
        {
          "author": "hellofinch",
          "body": "1. 示例网站做了额外的判断，所以没有其他的service显示。\r\n2. api泄漏这个问题在有一个pr中已经修改，但是新的版本还没发布。\r\n3. 这个语言支持不是前端显示的语言，前端是gradio应该和你浏览器语言有关。\r\n4. 目前你框出来的功能使用的非常少，所以没有设计读取环境变量。\r\n5. 图裂了，看不到。",
          "created_at": "2024-12-27T06:43:53Z"
        },
        {
          "author": "wx-11",
          "body": "1.那以后会有相关实现吗 \r\n\r\n5.图片没问题 是因为路径应该是直接ai翻译的docs路径 图片路径多了个docs 如果是ai翻译可以加一个prompt 路径一起改一下",
          "created_at": "2024-12-27T06:49:33Z"
        },
        {
          "author": "wx-11",
          "body": "问题5 我手动处理修复了 [已pr](https://github.com/Byaidu/PDFMathTranslate/pull/356/files)\r\n\r\n后续需要注意翻译的prompt 让他改路径",
          "created_at": "2024-12-27T06:59:18Z"
        },
        {
          "author": "hellofinch",
          "body": "第一个问题的话，还是第一次提出来。\r\n不过，你说的确实有道理，可能没有频繁切换service的需求。目前GUI正在重构，你这个想法可以纳入到考虑中。\r\n@reycn 可以考虑考虑是不是可以这样设计。",
          "created_at": "2024-12-27T07:39:02Z"
        },
        {
          "author": "wx-11",
          "body": "日志显示`To create a public link, set `share=True` in `launch()`.`\r\ndocker云托管很难随时执行命令 这个问题4 真的不能考虑改成环境变量吗 ",
          "created_at": "2024-12-27T07:56:09Z"
        }
      ]
    },
    {
      "issue_number": 398,
      "title": "用openai（第三方转接）翻译某个文档时，报错，用bing倒不会。",
      "body": "## 问题描述\r\n用openai翻译某个文档时报错，换另一个文档又可以了。而用bing倒不会，但是bing会有翻译不全的现象发生。\r\nERROR:pdf2zh.converter:'NoneType' object has no attribute 'strip'\r\n\r\n不确定是不是第三方转发的问题，但是换其他文档又可以了。\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[Feng et al_2019_A Method for Rockburst Prediction in the Deep Tunnels of Hydropower Stations.pdf](https://github.com/user-attachments/files/18303610/Feng.et.al_2019_A.Method.for.Rockburst.Prediction.in.the.Deep.Tunnels.of.Hydropower.Stations.pdf)\r\n\r\n## 建议\r\n使用便携式部署方式时，翻译服务每次都要重新输入不方便，建议重新设计ui，另外，希望添加停止功能，在一个服务不能时可以在ui截面切换其他服务进行翻译。\r\n\r\n",
      "state": "open",
      "author": "duofengzhiling",
      "author_type": "User",
      "created_at": "2025-01-03T20:34:51Z",
      "updated_at": "2025-01-06T01:13:00Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/398/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/398",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/398",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.257475",
      "comments": [
        {
          "author": "hellofinch",
          "body": "strip报错之前也有人遇到过 https://github.com/Byaidu/PDFMathTranslate/issues/388",
          "created_at": "2025-01-06T01:12:59Z"
        }
      ]
    },
    {
      "issue_number": 327,
      "title": "翻译结果不翻译+重叠+镜面翻转",
      "body": "大量pdf翻译后出现镜面反转且无法翻译文字的情况。\r\n<img width=\"448\" alt=\"微信图片_20241223172951\" src=\"https://github.com/user-attachments/assets/f6cc81dd-10df-4492-9651-b2a90a5566a3\" />\r\n样例pdf\r\n[bad_result.pdf](https://github.com/user-attachments/files/18227816/bad_result.pdf)\r\n",
      "state": "open",
      "author": "Hinsto-Moka",
      "author_type": "User",
      "created_at": "2024-12-23T09:32:38Z",
      "updated_at": "2025-01-05T17:06:38Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/327/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/327",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/327",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.428267",
      "comments": [
        {
          "author": "MC-shark",
          "body": "我试着也是",
          "created_at": "2024-12-25T03:43:08Z"
        },
        {
          "author": "yanfzhang",
          "body": "![image](https://github.com/user-attachments/assets/1272ef0e-6cf2-44ea-be89-52fc71e66256)\r\n我也有类似的问题；文字被挤压、重叠",
          "created_at": "2024-12-25T13:41:16Z"
        },
        {
          "author": "fersity",
          "body": "Heat Shock Proteins and Inflammation (Irun R. Cohen, Francisco J. Quintana (auth.) etc.) (Z-Library).pdf\r\n可能是因为\r\n[Uploading test.pdf…]()\r\n版式中已经叠加了OCR识别的文字层，造成重叠严重",
          "created_at": "2025-01-05T17:01:41Z"
        }
      ]
    },
    {
      "issue_number": 121,
      "title": "部分代码段落格式丢失",
      "body": "## 问题描述\r\n<img width=\"1647\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0da51738-6fde-42fe-9632-23c6c82a820b\">\r\n\r\n代码内容通过字体排除后没有被翻译但是段落信息丢失了。希望能保留段落多行结构。\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\n```bash\r\npdf2zh \"/tmp/tmpm_l2jpr3/input.pdf\" -lo zh -s deeplx -f \"(NCO.*|NCN.*)\" -p 1\r\n```\r\n[Fundamentals of Computer Graphics, Fourth Edition ( PDFDrive ) 第619 - 629页 第 1 页.pdf](https://github.com/user-attachments/files/17893158/Fundamentals.of.Computer.Graphics.Fourth.Edition.PDFDrive.619.-.629.1.pdf)\r\n[translated_Fundamentals of Computer Graphics Fourth Edition  PDFDrive  第619 - 629页 第 1 页.pdf](https://github.com/user-attachments/files/17893161/translated_Fundamentals.of.Computer.Graphics.Fourth.Edition.PDFDrive.619.-.629.1.pdf)\r\n\r\n",
      "state": "open",
      "author": "OceanApart",
      "author_type": "User",
      "created_at": "2024-11-24T12:07:56Z",
      "updated_at": "2025-01-05T02:44:59Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/121/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/121",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/121",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.596223",
      "comments": [
        {
          "author": "Byaidu",
          "body": "之后会加一个识别代码段的模型来解决这个问题，参考 https://github.com/Byaidu/PDFMathTranslate/issues/37",
          "created_at": "2024-11-24T12:14:19Z"
        }
      ]
    },
    {
      "issue_number": 389,
      "title": "翻譯不完全",
      "body": "## 问题描述\n请对问题进行描述，并提供日志或截图\n请确认 issues 中没有相同问题且完整阅读 wiki\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\n\n## 测试文档\n> [!IMPORTANT]\n> 请提供用于复现测试的 PDF 文档\n在翻譯時會有幾頁未翻譯",
      "state": "closed",
      "author": "Kevinoooliao",
      "author_type": "User",
      "created_at": "2025-01-02T05:48:15Z",
      "updated_at": "2025-01-02T11:07:08Z",
      "closed_at": "2025-01-02T11:07:08Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/389/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/389",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/389",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.880966",
      "comments": []
    },
    {
      "issue_number": 347,
      "title": "Enable Grok API",
      "body": "希望加入Grok API",
      "state": "closed",
      "author": "x18-1",
      "author_type": "User",
      "created_at": "2024-12-26T03:34:31Z",
      "updated_at": "2024-12-30T09:30:17Z",
      "closed_at": "2024-12-30T09:30:17Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/347/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/347",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/347",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:43.881010",
      "comments": [
        {
          "author": "x18-1",
          "body": "自己写的：\r\n1. 在pdf2zh.translator中加如：\r\n```python\r\nclass GrokTranslator(BaseTranslator):\r\n    name = \"grok\"\r\n    envs = {\r\n        \"GROK_BASE_URL\": \"https://api.x.ai/v1/chat/completions\",\r\n        \"GROK_API_KEY\": None,\r\n        \"GROK_MODEL\": \"grok-beta\",\r\n    }\r\n    def __init__(self, lang_in, lang_out, m",
          "created_at": "2024-12-26T04:42:16Z"
        },
        {
          "author": "hellofinch",
          "body": "兼容openai api，可以直接使用openai那个方法。\r\n考虑openai换个名字叫openai like，这样的话基本兼容大部分llm的api了。",
          "created_at": "2024-12-27T01:20:48Z"
        },
        {
          "author": "x18-1",
          "body": "我一开始就是这样做的，但是总是报错，之前尝试GPT-academic的时候也是不行。但是使用沉浸式翻译的时候就可以。\r\n@hellofinch 你是否有成功设置grok\r\n",
          "created_at": "2024-12-29T09:38:07Z"
        },
        {
          "author": "hellofinch",
          "body": "> 我一开始就是这样做的，但是总是报错，之前尝试GPT-academic的时候也是不行。但是使用沉浸式翻译的时候就可以。 @hellofinch 你是否有成功设置grok\r\n![image](https://github.com/user-attachments/assets/c565d58f-ae83-4657-9dc0-1b84d9408c3b)\r\n这个是他们提供的API文档，这里不是说明会兼容openai的api吗？\r\n这个llm会屏蔽中国大陆的IP访问好像，我还没去设置代理去尝试。\r\n",
          "created_at": "2024-12-30T01:09:03Z"
        }
      ]
    },
    {
      "issue_number": 353,
      "title": "deepseek",
      "body": "## 功能描述\r\n模型里能增加deepseek的api接口吗？deekapi用的多一些",
      "state": "closed",
      "author": "yifeigit",
      "author_type": "User",
      "created_at": "2024-12-26T14:09:04Z",
      "updated_at": "2024-12-30T09:30:06Z",
      "closed_at": "2024-12-30T09:30:06Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/353/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/353",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/353",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:44.201849",
      "comments": [
        {
          "author": "starxjys",
          "body": "和openai通用，https://api-docs.deepseek.com/zh-cn/\r\n参考链接中的基地址和模型设置",
          "created_at": "2024-12-26T16:03:55Z"
        }
      ]
    },
    {
      "issue_number": 65,
      "title": "无法正常排版旋转页面",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n横版本的表格识别的内容，变成竖向排版了\r\n可能是版面分析模型的效果不好？大佬有没有考虑换一个版面分析模型，感觉mineru做的版面分析模型pdf-extract还可以\r\n![image](https://github.com/user-attachments/assets/dac533b4-57b0-440b-8b6a-b19d7044b305)\r\n\r\n**本项目不处理网络环境引发的问题**（例如 Empty translation result/Connection reset）\r\n\r\n## 测试文档\r\n下面是复现的文档\r\n[3.pdf](https://github.com/user-attachments/files/17808715/3.pdf)\r\n\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n",
      "state": "closed",
      "author": "clareliu1234",
      "author_type": "User",
      "created_at": "2024-11-19T03:10:19Z",
      "updated_at": "2024-12-30T03:18:36Z",
      "closed_at": "2024-12-30T03:18:36Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/65/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/65",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/65",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:44.410867",
      "comments": [
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/327",
          "created_at": "2024-12-30T03:18:36Z"
        }
      ]
    },
    {
      "issue_number": 120,
      "title": "部分专有名词翻译有误",
      "body": "## 功能描述\r\n是否可以提供一个词典类文件，可以让使用者自行添加翻译时遇到的专有名词\r\n",
      "state": "closed",
      "author": "LouisNuh",
      "author_type": "User",
      "created_at": "2024-11-24T08:32:53Z",
      "updated_at": "2024-12-30T03:17:45Z",
      "closed_at": "2024-12-30T03:17:45Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/120/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/120",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/120",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:44.633381",
      "comments": [
        {
          "author": "reycn",
          "body": "@Byaidu deepl 应该支持自定义专业词典，但好像其他的服务不支持？如果服务不支持，应该会影响翻译上下文 。\r\n需求倒是明确且合理。",
          "created_at": "2024-11-29T05:25:00Z"
        },
        {
          "author": "Byaidu",
          "body": "要不然直接把pdf的标题喂给大模型好了，感觉加额外的字典文件有点费事费力",
          "created_at": "2024-11-29T05:26:55Z"
        },
        {
          "author": "reycn",
          "body": "大模型是不是直接 prompting 就好了。\r\n\r\n类似“请将 xx 翻译为 xxx 就行”",
          "created_at": "2024-11-29T05:47:55Z"
        },
        {
          "author": "LouisNuh",
          "body": "考虑到同一个词可能会在不同领域中翻译成不同的意思，可不可以搞一个空白文件，用户如果需要自己往里添加即可，不需要一个个的和大模型说，直接安文件批量",
          "created_at": "2024-11-29T06:20:45Z"
        },
        {
          "author": "Byaidu",
          "body": "要是prompt加上文档标题就相当于给定领域了吧，还可以省点维护词典的精力",
          "created_at": "2024-11-29T06:22:08Z"
        }
      ]
    },
    {
      "issue_number": 145,
      "title": "feat(doc): contributing guide",
      "body": "## 功能描述\r\n\r\n补充一份贡献指南，以指导新的开发者加入对项目的贡献。\r\n\r\n贡献指南的内容应包括：\r\n- 如何反馈问题\r\n\t- 如何报告一个新问题。\r\n\t- 如何提出新功能或改进建议。\r\n- 代码贡献流程\r\n\t- 如何设置开发环境。\r\n\t- 如何获取项目的源代码。\r\n\t- 如何创建分支、提交更改以及发起拉取请求。\r\n- 编码规范：\r\n\t- 代码风格指南，包括命名约定、注释风格等。\r\n\t- 代码格式化工具和代码质量检查工具的使用。\r\n- 测试指南 (#130)：\r\n\t- 如何运行测试。\r\n\t- 如何编写和提交新的测试用例。\r\n",
      "state": "closed",
      "author": "Wybxc",
      "author_type": "User",
      "created_at": "2024-11-28T06:52:34Z",
      "updated_at": "2024-12-30T03:17:26Z",
      "closed_at": "2024-12-30T03:17:26Z",
      "labels": [
        "documentation",
        "enhancement",
        "help wanted"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/145/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/145",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/145",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:44.909523",
      "comments": [
        {
          "author": "kowyo",
          "body": "我之前也想提 issue 增加一下编译的指南。\r\n\r\n我自己实践的编译步骤是：\r\n\r\n- 创建虚拟环境（venv）\r\n- python -m pip install .\r\n\r\n之后就可以运行了\r\n\r\n不知道这个步骤是否规范",
          "created_at": "2024-11-29T07:34:50Z"
        },
        {
          "author": "Wybxc",
          "body": "> 我自己实践的编译步骤是：\r\n> \r\n> * 创建虚拟环境（venv）\r\n> * python -m pip install .\r\n\r\n可以用 `pip install -e .`，这样安装的是开发版本的符号链接，方便即时开发修改\r\n",
          "created_at": "2024-11-30T05:23:15Z"
        },
        {
          "author": "hellofinch",
          "body": "提交代码之前使用black对修改的内容进行格式化，方便通过action的check。",
          "created_at": "2024-12-17T08:10:07Z"
        },
        {
          "author": "reycn",
          "body": "Draft: [Contribution Guide 贡献指南](https://github.com/Byaidu/PDFMathTranslate/wiki/%F0%9F%9A%A7-Contribution-Guide---%E8%B4%A1%E7%8C%AE%E6%8C%87%E5%8D%97)\r\nPlease drop your suggestions here, if any",
          "created_at": "2024-12-18T13:43:45Z"
        },
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/wiki/Contribution-Guide---%E8%B4%A1%E7%8C%AE%E6%8C%87%E5%8D%97",
          "created_at": "2024-12-30T03:17:26Z"
        }
      ]
    },
    {
      "issue_number": 315,
      "title": "没有翻译出结果，和原文一致",
      "body": "## 问题描述\r\ndocker部署，dual/mono文件没有翻译出结果，和原文一样的。\r\n\r\n`docker run -d -p 7860:7860 -e HF_ENDPOINT=\"https://hf-mirror.com\" -e OPENAI_MODEL=\"gpt-4o-mini\" -e OPENAI_BASE_URL=\"https://api.deepbricks.ai/v1/\" -e OPENAI_API_KEY=\"xxx\" --name pdf2zh byaidu/pdf2zh`\r\n\r\n![image](https://github.com/user-attachments/assets/c935a7f5-8d4b-4143-b67e-9d23fdcf460e)\r\n![image](https://github.com/user-attachments/assets/e8a405c6-0f3d-4298-b414-b89f6ac668b1)\r\n\r\n\r\n\r\n`* Running on local URL:  http://0.0.0.0:7860\r\nTo create a public link, set `share=True` in `launch()`.\r\nFiles before translation: ['Quantum error correction below the surface code threshold.pdf']\r\n{'files': ['pdf2zh_files/Quantum error correction below the surface code threshold.pdf'], 'pages': [0, 1, 2, 3, 4], 'lang_in': 'en', 'lang_out': 'zh', 'service': 'openai', 'output': PosixPath('pdf2zh_files'), 'thread': 4, 'callback': <function translate_file.<locals>.progress_bar at 0x72973c39efc0>}\r\n\r\n  0%|          | 0/5 [00:00<?, ?it/s]\r\n 40%|████      | 2/5 [00:08<00:12,  4.22s/it]\r\n 60%|██████    | 3/5 [00:19<00:14,  7.24s/it]\r\n 80%|████████  | 4/5 [00:45<00:14, 14.03s/it]\r\n100%|██████████| 5/5 [00:56<00:00, 13.14s/it]\r\n100%|██████████| 5/5 [01:03<00:00, 12.74s/it]\r\nFiles after translation: ['Quantum error correction below the surface code threshold-dual.pdf', 'Quantum error correction below the surface code threshold.pdf', 'Quantum error correction below the surface code threshold-mono.pdf']\r\nFiles before translation: ['Quantum error correction below the surface code threshold-dual.pdf', 'Quantum error correction below the surface code threshold.pdf', 'Quantum error correction below the surface code threshold-mono.pdf']\r\n{'files': ['pdf2zh_files/Quantum error correction below the surface code threshold.pdf'], 'pages': [0], 'lang_in': 'en', 'lang_out': 'zh', 'service': 'openai', 'output': PosixPath('pdf2zh_files'), 'thread': 4, 'callback': <function translate_file.<locals>.progress_bar at 0x72973d1c7d80>}`\r\n\r\n## 测试文档\r\n[Quantum error correction below the surface code threshold.pdf](https://github.com/user-attachments/files/18221085/Quantum.error.correction.below.the.surface.code.threshold.pdf)\r\n\r\n",
      "state": "closed",
      "author": "361586",
      "author_type": "User",
      "created_at": "2024-12-22T07:35:12Z",
      "updated_at": "2024-12-30T03:15:45Z",
      "closed_at": "2024-12-30T03:15:45Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/315/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/315",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/315",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:45.211110",
      "comments": [
        {
          "author": "361586",
          "body": "补充一下，使用新的文件，清除cookie缓存后可以正常翻译，不知道是不是#214[](https://github.com/Byaidu/PDFMathTranslate/issues/214)提到的原因\r\n",
          "created_at": "2024-12-22T07:40:09Z"
        }
      ]
    },
    {
      "issue_number": 303,
      "title": "部分行内公式翻译后乱码",
      "body": "## 问题描述\r\n\r\n### 问题1\r\n\r\n**行间公式翻译问题**\r\n\r\n部分问题图片\r\n\r\n> 原文档\r\n\r\n![image](https://github.com/user-attachments/assets/549f6129-ca51-4959-b99c-8b1d7895a0f0)\r\n\r\n> 翻译后（官网google翻译）\r\n\r\n![image](https://github.com/user-attachments/assets/def88d35-8034-4693-94d0-f4c64c060100)\r\n\r\n### 问题2\r\n\r\n**翻译后部分页面无法使用Adobe Acrobat Pro读取**，其他应用正常\r\n\r\n![image](https://github.com/user-attachments/assets/9cd324ba-ee55-4520-b3a8-d075c9041fe1)\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> [测试文档1.pdf](https://github.com/user-attachments/files/18207515/1.pdf)\r\n> [测试文档2.pdf](https://github.com/user-attachments/files/18207522/2.pdf)\r\n\r\n我把页面单独摘出来两页\r\n\r\n",
      "state": "closed",
      "author": "starxjys",
      "author_type": "User",
      "created_at": "2024-12-20T07:42:28Z",
      "updated_at": "2024-12-30T03:15:26Z",
      "closed_at": "2024-12-30T03:15:26Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/303/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/303",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/303",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:45.494485",
      "comments": [
        {
          "author": "starxjys",
          "body": "研究了一下，好像mineru的识别就有问题(v0.8.1)，用最新版提取markdown就识别正确了。也许与这个有关（仅限问题一）",
          "created_at": "2024-12-27T08:35:11Z"
        },
        {
          "author": "Byaidu",
          "body": "字体被混淆过了，这个暂时没法处理",
          "created_at": "2024-12-30T03:15:26Z"
        }
      ]
    },
    {
      "issue_number": 287,
      "title": "docs(Contribution Guide): Add detailed tutorials on using branches, forks, and PRs.",
      "body": "The main content includes: Fork, creating a branch, cloning the repository & checking out, making changes locally, pushing to GitHub and creating a PR.\r\n\r\nReason: Contributors may not be familiar with the full suite of GitHub PR operations. Providing a detailed guide can effectively address this issue.",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-19T01:45:53Z",
      "updated_at": "2024-12-30T03:14:02Z",
      "closed_at": "2024-12-30T03:14:02Z",
      "labels": [
        "documentation"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/287/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/287",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/287",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:45.769537",
      "comments": []
    },
    {
      "issue_number": 321,
      "title": "标题 Small caps 的样式未适配",
      "body": "## 问题描述\r\n\r\n<img width=\"764\" alt=\"截屏2024-12-23 10 53 59\" src=\"https://github.com/user-attachments/assets/d98562e9-848b-4f12-a146-0f7955621374\" />\r\n\r\n\r\n对于这种 [Small caps](https://en.wikipedia.org/wiki/Small_caps) 的标题字号，应该参考第一个字母而非后续字母。判定条件应该是段落字体本身较大，且段落内有多个较为突出的首字母。\r\n\r\n```py\r\n# converter.py\r\nif not cur_v:                                               # 文字入栈\r\n    if (                                                    # 根据当前字符修正段落属性\r\n        child.size > pstk[-1].size / 0.79                   # 1. 当前字符显著比段落字体大\r\n        or len(sstk[-1].strip()) == 1                       # 2. 当前字符为段落第二个文字（考虑首字母放大的情况）\r\n    ) and child.get_text() != \" \":                          # 3. 当前字符不是空格\r\n        pstk[-1].y -= child.size - pstk[-1].size            # 修正段落初始纵坐标，假设两个不同大小字符的上边界对齐\r\n        pstk[-1].size = child.size\r\n    sstk[-1] += child.get_text()\r\n```\r\n\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\nhttps://openreview.net/pdf?id=u1cQYxRI1H\r\n",
      "state": "closed",
      "author": "timelic",
      "author_type": "User",
      "created_at": "2024-12-23T03:01:31Z",
      "updated_at": "2024-12-30T03:11:12Z",
      "closed_at": "2024-12-30T03:11:12Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/321/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/321",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/321",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:45.769557",
      "comments": [
        {
          "author": "Byaidu",
          "body": "有一种类似的情况是这样，也是第一个字母比第二个字母大 https://github.com/Byaidu/PDFMathTranslate/issues/86\r\n\r\n想要区分两者需要额外的工作，而且启发式方法不一定准确",
          "created_at": "2024-12-23T03:17:18Z"
        },
        {
          "author": "timelic",
          "body": "@Byaidu 首字母下沉和small caps确实容易造成混淆，但是并非无法区分。关键是首字母下沉只会有一次，而small caps会有多个较大的首字母。",
          "created_at": "2024-12-23T03:54:10Z"
        },
        {
          "author": "Byaidu",
          "body": "想了一下，我们可能不需要在状态转移时维护“出现了几个突出的首字母”\r\n\r\n我们可以直接把代码里的规则1阈值去掉，改成child.size > pstk[-1].size就可以了，这样第二次突出大写出现的时候就会自动修正\r\n\r\n至于当初为啥写的0.79好像记不太清了，可能是历史遗留（x",
          "created_at": "2024-12-23T04:49:34Z"
        },
        {
          "author": "timelic",
          "body": "> 想了一下，我们可能不需要在状态转移时维护“出现了几个突出的首字母”\r\n> \r\n> 我们可以直接把代码里的规则1阈值去掉，改成child.size > pstk[-1].size就可以了，这样第二次突出大写出现的时候就会自动修正\r\n> \r\n> 至于当初为啥写的0.79好像记不太清了，可能是历史遗留（x\r\n\r\n是的，这似乎非常巧妙！",
          "created_at": "2024-12-23T06:47:48Z"
        }
      ]
    },
    {
      "issue_number": 368,
      "title": "Use subtitle",
      "body": "## 功能描述\n请描述需要添加的功能，以及是否有类似项目可以参考\n",
      "state": "closed",
      "author": "Fendyzainol9",
      "author_type": "User",
      "created_at": "2024-12-28T20:32:40Z",
      "updated_at": "2024-12-29T01:56:25Z",
      "closed_at": "2024-12-29T01:56:25Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/368/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/368",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/368",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:45.997127",
      "comments": [
        {
          "author": "Byaidu",
          "body": "What subtitile?",
          "created_at": "2024-12-29T01:56:25Z"
        }
      ]
    },
    {
      "issue_number": 174,
      "title": "现在是默认输出两份（一份纯中文，一份双语对照），能否自定义输出纯中文或者双语的？",
      "body": "## 功能描述\r\n现在是默认输出两份（一份纯中文，一份双语对照），能否自定义输出纯中文或者双语的？\r\n",
      "state": "closed",
      "author": "Arnold133",
      "author_type": "User",
      "created_at": "2024-12-06T05:44:46Z",
      "updated_at": "2024-12-25T02:43:52Z",
      "closed_at": "2024-12-25T02:43:52Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/174/reactions",
        "total_count": 4,
        "+1": 4,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/174",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/174",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:48.253108",
      "comments": [
        {
          "author": "leegang",
          "body": "<img width=\"1828\" alt=\"image\" src=\"https://github.com/user-attachments/assets/62b8fb3c-b327-4922-9ad1-799ce3928873\" /> 参考\r\nhttps://github.com/WildDataX/Suppr.ai",
          "created_at": "2024-12-16T06:58:49Z"
        }
      ]
    },
    {
      "issue_number": 298,
      "title": "能否翻译脚注",
      "body": "在翻译当中，只能翻译正文，好像无法翻译脚注，并且脚注的数字标号在正文中可能会被隐去，能否选择翻译脚注并保持脚注的数字标号。\r\n![image](https://github.com/user-attachments/assets/7fd56d1a-5a97-4be3-9632-e4391b442bf2)\r\n\r\n源文件如下：\r\n[Punitive Damages as Societal Damages.pdf](https://github.com/user-attachments/files/18199513/Punitive.Damages.as.Societal.Damages.pdf)\r\n",
      "state": "open",
      "author": "GH-white",
      "author_type": "User",
      "created_at": "2024-12-19T14:58:55Z",
      "updated_at": "2024-12-20T18:49:10Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/298/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/298",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/298",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:48.422868",
      "comments": [
        {
          "author": "Byaidu",
          "body": "是不是传错文件了，怎么和你截图的不一样",
          "created_at": "2024-12-19T15:08:28Z"
        },
        {
          "author": "GH-white",
          "body": "确实……传错文件了，文件应该是这个，抱歉抱歉\r\n[Sharkey - 2020 - Punitive Damages Transformed into Societal Damages.pdf](https://github.com/user-attachments/files/18199676/Sharkey.-.2020.-.Punitive.Damages.Transformed.into.Societal.Damages.pdf)\r\n",
          "created_at": "2024-12-19T15:10:51Z"
        },
        {
          "author": "Byaidu",
          "body": "由于布局模型的限制，暂时还没办法翻译脚注，可能以后会改进",
          "created_at": "2024-12-20T18:49:09Z"
        }
      ]
    },
    {
      "issue_number": 279,
      "title": "使用 GitHub Action 自动格式化代码",
      "body": "使用 GitHub Action 自动格式化代码",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-18T13:34:08Z",
      "updated_at": "2024-12-20T15:13:20Z",
      "closed_at": "2024-12-18T17:55:08Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/279/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/279",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/279",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:48.622359",
      "comments": [
        {
          "author": "awwaawwa",
          "body": "docs: https://black.readthedocs.io/en/stable/integrations/github_actions.html",
          "created_at": "2024-12-18T13:36:04Z"
        },
        {
          "author": "reycn",
          "body": "Implemented in [CMT#a4f0415ab3cac7a4abe72cd54d647585d2071dfa](https://github.com/Byaidu/PDFMathTranslate/commit/a4f0415ab3cac7a4abe72cd54d647585d2071dfa). Thanks!!",
          "created_at": "2024-12-18T17:55:08Z"
        },
        {
          "author": "Jensonss",
          "body": "你好请问你这个代码格式化怎么使用？",
          "created_at": "2024-12-20T15:13:19Z"
        }
      ]
    },
    {
      "issue_number": 82,
      "title": "feat (gui): simplified process",
      "body": "## Scenario\r\nOnce all variables are properly configured, the most frequent operation by the user is translate.\r\n\r\n## Feature\r\n- After a finished [set-up guide](https://github.com/Byaidu/PDFMathTranslate/issues/72),\r\n- The process of translation will be changed into the following\r\n   - If configured, drag and directly translate\r\n      *- In the main interface, we only have title, drag box, and a toggle list.*\r\n   - If not configured, enter configuration guide\r\n",
      "state": "open",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-21T02:33:44Z",
      "updated_at": "2024-12-19T11:06:07Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/82/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/82",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/82",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:48.796321",
      "comments": [
        {
          "author": "reycn",
          "body": "\r\n## Prototype\r\nFinished. \r\n\r\n<img width=\"2274\" alt=\"pdf2zh configuration guide proto\" src=\"https://github.com/user-attachments/assets/60270a54-6bf4-40f5-af09-c6f6db0cd333\">\r\n",
          "created_at": "2024-11-21T06:04:26Z"
        },
        {
          "author": "reycn",
          "body": "Progress:\r\n- [x] Simplified process, done\r\n   <img width=\"1130\" alt=\"image\" src=\"https://github.com/user-attachments/assets/06f31b2c-b4d2-4667-8684-448ae7931f19\">\r\n- [ ] Configuration guide in progress\r\n<img width=\"560\" alt=\"image\" src=\"https://github.com/user-attachments/assets/d63237b8-59b2-4ef3-a",
          "created_at": "2024-11-23T08:11:52Z"
        }
      ]
    },
    {
      "issue_number": 72,
      "title": "feat (gui): interactive configuration guide",
      "body": "## Secenario\r\nIt is still difficult for the average person to use the application.\r\n\r\n## Feature\r\nAs a solution, this feature request proposes the following: \r\n- Add an interactive tutorial for users to set up  \r\n\t- If the user selects Google as the service, enter the main interface\r\n\t- If the user selects any other services with configuration required, enter tutorial and provide additional external links to the service chosen\r\n- The tutorial will begin with a check and a demonstration  \r\n- The tutorial will appear only when: \r\n  - The user starts the interactive mode for the first time  \r\n  - The user proactively clicks on the tutorial button \r\n- *The interactive mode with tutorial checks set as the default method if without any additional arguments, i.e., `pdf2zh` in the command line. \r\n",
      "state": "open",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T03:54:14Z",
      "updated_at": "2024-12-19T11:06:06Z",
      "closed_at": null,
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/72/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/72",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/72",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.005395",
      "comments": []
    },
    {
      "issue_number": 296,
      "title": "翻译出来还是英文",
      "body": "## 问题描述\r\n翻译出来还是英文\r\n\r\n## 测试文档\r\n\r\n[Deployment from Scratch (Josef Strzibny) (Z-Library).pdf](https://github.com/user-attachments/files/18193692/Deployment.from.Scratch.Josef.Strzibny.Z-Library.pdf)\r\n",
      "state": "closed",
      "author": "yshi100",
      "author_type": "User",
      "created_at": "2024-12-19T06:49:08Z",
      "updated_at": "2024-12-19T07:23:50Z",
      "closed_at": "2024-12-19T07:23:49Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/296/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/296",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/296",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.005414",
      "comments": [
        {
          "author": "reycn",
          "body": "Replicated but I failed to figure out why. Thanks for raising the issue.",
          "created_at": "2024-12-19T06:53:28Z"
        },
        {
          "author": "charles7668",
          "body": "pdf 上的文字跟图片不合\r\n\r\n![圖片](https://github.com/user-attachments/assets/db86a948-3ee7-4aef-afc0-8931be62954b)\r\n\r\n![圖片](https://github.com/user-attachments/assets/06e45c16-3bf9-43af-96ff-5fec4b50ba4a)\r\n",
          "created_at": "2024-12-19T07:13:32Z"
        },
        {
          "author": "reycn",
          "body": "The issue has been closed & merged into the OCR issue: https://github.com/Byaidu/PDFMathTranslate/issues/19",
          "created_at": "2024-12-19T07:23:49Z"
        }
      ]
    },
    {
      "issue_number": 273,
      "title": "bug (gradio-pdf): preview not displaying CJK characters",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n请确认 issues 中没有相同问题且完整阅读 wiki\r\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\n1. gradio翻译完成后预览效果不正常\r\n\r\n![image](https://github.com/user-attachments/assets/110198af-29dd-4be3-8707-2178cfe1aff1)\r\n\r\n2. gradio在国内如果选择连接不通的translater会等待很长时间，影响使用，建议增加并发或者减少retry\r\n",
      "state": "closed",
      "author": "tastelikefeet",
      "author_type": "User",
      "created_at": "2024-12-18T08:31:45Z",
      "updated_at": "2024-12-19T07:21:04Z",
      "closed_at": "2024-12-19T07:21:03Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/273/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/273",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/273",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.211809",
      "comments": [
        {
          "author": "hellofinch",
          "body": "gradio翻译完成后预览效果不正常是因为没有获取到cmap的文件，可能需要向上游gradio-pdf反馈。\r\n",
          "created_at": "2024-12-18T08:33:13Z"
        },
        {
          "author": "awwaawwa",
          "body": "第二点我写 https://github.com/Byaidu/PDFMathTranslate/issues/216#issuecomment-2543347690 的时候看看",
          "created_at": "2024-12-18T12:18:53Z"
        },
        {
          "author": "reycn",
          "body": "If necessary, rollback to my image preview, lol",
          "created_at": "2024-12-18T17:58:26Z"
        },
        {
          "author": "Byaidu",
          "body": "其实还好，这个文字显示也不是大问题",
          "created_at": "2024-12-18T17:59:38Z"
        },
        {
          "author": "Issues-translate-bot",
          "body": " \n> The issue has been automatically translated into English.         \n----    \nActually, it’s okay. The text display isn’t a big problem either.  \n      ",
          "created_at": "2024-12-18T17:59:50Z"
        }
      ]
    },
    {
      "issue_number": 267,
      "title": "Docker 网页是否可以支持自定义 翻译页面范围",
      "body": "## 功能描述\r\n目前docker网页只提供 All , First , First 5 pages 三个选项，是否可以支持自定义输入 [start, end] 指定页面范围的翻译，这对排除一些不需要的内容很有用（比如paper末尾的引用列表等等）\r\n",
      "state": "closed",
      "author": "akoura123",
      "author_type": "User",
      "created_at": "2024-12-18T02:34:07Z",
      "updated_at": "2024-12-19T07:10:14Z",
      "closed_at": "2024-12-19T07:09:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/267/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/267",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/267",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.383259",
      "comments": [
        {
          "author": "reycn",
          "body": "The feature has been implemented by @hellofinch in [PR#275](https://github.com/Byaidu/PDFMathTranslate/pull/275).\r\n\r\nThank you so much.",
          "created_at": "2024-12-19T07:09:56Z"
        }
      ]
    },
    {
      "issue_number": 135,
      "title": "feat (gui): multi-threads option",
      "body": "## 功能描述\r\n如题，希望gui版本支持多线程翻译，并且能在gui上面选择线程数量。这个对于使用LLM api进行翻译的话，能加速很多~\r\n",
      "state": "closed",
      "author": "fslongjin",
      "author_type": "User",
      "created_at": "2024-11-27T08:49:51Z",
      "updated_at": "2024-12-19T07:09:04Z",
      "closed_at": "2024-12-19T07:09:04Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/135/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/135",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/135",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.535560",
      "comments": [
        {
          "author": "reycn",
          "body": "The feature has been implemented in GUI by @hellofinch and @charles7668.\r\nThanks!",
          "created_at": "2024-12-19T07:09:04Z"
        }
      ]
    },
    {
      "issue_number": 295,
      "title": "bug (pdf reader): unknown base font",
      "body": "## Bug\r\n\r\nIf the font name of a PDF file is unknown, the program will raise a `KeyError: <PDFType1Font: basefont='unknown'>`, as follows:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/rey/miniconda3/envs/pdf/bin/pdf2zh\", line 8, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/pdf2zh.py\", line 192, in main\r\n    translate(**vars(parsed_args))\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/high_level.py\", line 359, in translate\r\n    s_mono, s_dual = translate_stream(\r\n                     ^^^^^^^^^^^^^^^^^\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/high_level.py\", line 234, in translate_stream\r\n    obj_patch: dict = translate_patch(fp, prompt=kwarg[\"prompt\"], **locals())\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/high_level.py\", line 165, in translate_patch\r\n    interpreter.process_page(page)\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/pdfinterp.py\", line 270, in process_page\r\n    ops_new = self.device.end_page(page)\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/converter.py\", line 61, in end_page\r\n    return self.receive_layout(self.cur_item)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/rey/Developer/PDFMathTranslate.Origin/pdf2zh/converter.py\", line 429, in receive_layout\r\n    ops += f\"/{self.fontid[vch.font]} {vch.size:f} Tf 1 0 0 1 {x + vch.x0 - var[vid][0].x0:f} {fix + y + vch.y0 - var[vid][0].y0:f} Tm [<{raw_string(self.fontid[vch.font], vc)}>] TJ \"\r\n               ~~~~~~~~~~~^^^^^^^^^^\r\nKeyError: <PDFType1Font: basefont='unknown'>\r\n```\r\n\r\nThe program itself runs well, passing all tests and translating other documents.\r\n\r\n## Sample Document\r\n\r\n> [translate.cli.font.unknown.pdf](https://github.com/user-attachments/files/18193545/translate.cli.font.unknown.pdf)\r\n",
      "state": "open",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-12-19T06:34:17Z",
      "updated_at": "2024-12-19T06:53:52Z",
      "closed_at": null,
      "labels": [
        "bug",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/295/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/295",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/295",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.723981",
      "comments": [
        {
          "author": "reycn",
          "body": "A corresponding test case has been written in [CI](https://github.com/Byaidu/PDFMathTranslate/blob/979150ca2dfa48eb21a8d6fbbd9b817443a34823/.github/workflows/python-build.yml#L42), yet not active before fixing the bug.",
          "created_at": "2024-12-19T06:48:06Z"
        }
      ]
    },
    {
      "issue_number": 206,
      "title": "feat (main, gui): add option for converting non pdf/a to pdf/a",
      "body": "## 问题描述\r\n感觉是pdf的问题，其他文档正常\r\n\r\ngoogle日志如下，gpt的也试过，也是没有翻译的。官网的一样。\r\n\r\n看日志有翻译过程，合成出了问题？\r\n\r\n<details>\r\n<summary>google日志</summary>\r\n\r\n~\\Desktop via 🅒 pdf2zh took 6m24s\r\n❯ pdf2zh -d -p 1 .\\1.pdf\r\n  0%|                                                                                            | 0/1 [00:00<?, ?it/s]DEBUG:pdf2zh.converter:\r\n==========[VSTACK]==========\r\n\r\nDEBUG:pdf2zh.converter:< 235.0 320.7 217.7 65 KFOLAT+ArialMT 0 > $v0$ = AncillaData AData BData CData DEntangling operationsAncilla readoutτroτcyclem\r\nDEBUG:pdf2zh.converter:\r\n==========[SSTACK]==========\r\n\r\nDEBUG:pdf2zh.converter:< 217.69395547199997 320.698124958 320.698124958 555.73606589475 8.503995000000003 False > $v0$ | $v0$\r\nDEBUG:pdf2zh.converter:\r\n==========[VSTACK]==========\r\n\r\nDEBUG:pdf2zh.converter:< 12.6 119.1 709.3 49 KGVHWY+SFRM0700 0 > $v0$ = 1,∗\r\nDEBUG:pdf2zh.converter:< 12.6 170.6 709.3 49 KGVHWY+SFRM0700 0 > $v1$ = 1,∗\r\nDEBUG:pdf2zh.converter:< 4.0 242.7 709.3 49 KGVHWY+SFRM0700 0 > $v2$ = 1\r\nDEBUG:pdf2zh.converter:< 4.0 325.0 709.3 49 KGVHWY+SFRM0700 0 > $v3$ = 1\r\nDEBUG:pdf2zh.converter:< 4.0 373.3 709.3 49 KGVHWY+SFRM0700 0 > $v4$ = 1\r\nDEBUG:pdf2zh.converter:< 4.0 429.6 709.3 49 KGVHWY+SFRM0700 0 > $v5$ = 1\r\nDEBUG:pdf2zh.converter:< 12.2 520.9 709.3 49 KGVHWY+SFRM0700 0 > $v6$ = 1,†\r\nDEBUG:pdf2zh.converter:< 3.7 125.3 695.6 49 WMNOAL+SFRM0600 0 > $v7$ = 1\r\nDEBUG:pdf2zh.converter:< 9.0 354.8 642.9 84 EXHJPU+CMMI9 0 > $v8$ = T1\r\nDEBUG:pdf2zh.converter:< 2.6 428.1 580.1 58 EXHJPU+CMMI9 0 > $v9$ = .\r\nDEBUG:pdf2zh.converter:< 2.6 285.9 569.6 58 EXHJPU+CMMI9 0 > $v10$ = .\r\nDEBUG:pdf2zh.converter:< 2.6 111.4 559.2 58 EXHJPU+CMMI9 0 > $v11$ = .\r\nDEBUG:pdf2zh.converter:< 7.2 125.2 559.2 6 UZHLDS+CMSY9 0 > $v12$ = ±\r\nDEBUG:pdf2zh.converter:< 2.6 139.0 559.2 58 EXHJPU+CMMI9 0 > $v13$ = .\r\nDEBUG:pdf2zh.converter:< 9.4 299.5 563.0 0 VPCYBV+CMSY6 0 > $v14$ = −1\r\nDEBUG:pdf2zh.converter:< 13.8 282.6 263.9 31 ARPBMW+CMMI10 0 > $v15$ = χqr\r\nDEBUG:pdf2zh.converter:< 9.4 256.1 251.9 20 ARPBMW+CMMI10 0 > $v16$ = κr\r\nDEBUG:pdf2zh.converter:< 20.0 11.9 216.9 97 Times-Roman 0 > $v17$ = arXiv:2407.10934v1  [quant-ph]  15 Jul 2024\r\nDEBUG:pdf2zh.converter:\r\n==========[SSTACK]==========\r\n\r\nDEBUG:pdf2zh.converter:< 730.1200826099999 63.94310679000001 63.94310679000001 73.50697761762241 11.960818944000039 False > B | 乙\r\nDEBUG:pdf2zh.converter:< 730.1200826099999 73.50697761762241 73.50697761762241 548.2952738453856 11.960818944000039 False > enchmarking the readout of a superconducting qubit for repeated measurements | 对超导量子比特的读数进行重复测量的基 准测试\r\nDEBUG:pdf2zh.converter:< 705.69961038 78.64901531999999 78.64901531999999 533.0963816819267 9.96728242200004 True > S. Hazra,$v0$ W. Dai,$v1$ T. Connolly,$v2$ P. D. Kurilovich,$v3$ Z. Wang,$v4$ L. Frunzio,$v5$ and M. H. Devoret$v6$ $v7$Department of Applied Physics, Yale University, New Haven, Connecticut 06520, USA and Yale Quantum Institute, Yale University, New Haven, Connecticut 06520, USA (Dated: July 16, 2024) | S. Hazra、$v0$ W. Dai、$v1$ T. Connolly、$v2$ P. D. Kurilovich、$v3$ Z. Wang、$v4$ L. Frunzio、$v5$ 和 M. H. Devoret$v6$ $v7$耶鲁大学应用物理系，美国康涅狄格州纽黑文 06520 和耶鲁大学耶鲁量子研究所，美国康涅狄格州纽黑文 06520（日期：2024 年 7 月 16 日）\r\nDEBUG:pdf2zh.converter:< 653.3710275 115.99255853999999 106.7752284299999 505.4723827817181 8.970614208000029 True > Readout of superconducting qubits faces a trade-off between measurement speed and unwanted back-action on the qubit caused by the readout drive, such as $v8$ degradation and leakage out of the computational subspace. The readout is typically benchmarked by integrating the readout signal and choosing a binary threshold to extract the “readout fidelity”. We show that such a charac- terization may significantly overlook readout-induced leakage errors. We introduce a method to quantitatively assess this error by repeatedly executing a composite operation —a readout preceded by a randomized qubit-flip. We apply this technique to characterize the dispersive readout of an intrinsically Purcell-protected qubit. We report a binary readout fidelity of 99$v9$63% and quantum non-demolition (QND) fidelity exceeding 99$v10$00% which takes into account a leakage error rate of 0$v11$12 $v12$ 0$v13$03%, under a repetition rate of (380ns)$v14$ for the composite operation. | 超导量子比特的读出面临着测量速度与读出驱动对量子比特造成的不必要的反向作用（例如 $v8$ 退化和计算子空间泄漏）之间的权衡。通常通过积分读出信号并选择二进制阈值来提取“读出保真度”来对读出进行基准测试。我们表明，这种表征可能会大大忽略读出引起的泄漏误差。我们介绍了一种通过重复执行复合操作（读出之前是随机量子比特翻转）来定量评估此误差的方法。我们应用这种技术来表征本质上受 Purcell 保护的量子比特的色散读出。我们报告的二进制读出保真度为 99$v9$63%，量子非破坏 (QND) 保真度超过 99$v10$00%，其中考虑到泄漏错误率为 0$v11$12 $v12$ 0$v13$03%，在复合操作的重复率为 (380ns)$v14$ 的情况下。\r\nDEBUG:pdf2zh.converter:< 527.0356777799998 61.92215739 51.955475249999964 297.15460974416885 9.96728242200004 True > Fast and accurate single-shot qubit readout is crucial for a multitude of quantum computing experiments in- cluding, measurement-based state preparation [1], entan- glement generation [2–4] and quantum error correction (QEC) [5–10]. Recent advancements in superconducting qubit readout coupled with near-quantum-limited mea- surement efficiency have made it possible to demonstrate quantum error correction with both surface code [8, 9] and bosonic codes [5–7]. In these experiments, efficient entropy removal from the quantum system is achieved by repeated application of high fidelity readout and reset of the physical ancilla qubits. A quantum non-demolition (QND) measurement [11] perfectly correlates the post- readout state of the qubit with the readout outcome, alle- viating the need for unconditional reset [12] of the ancilla. A purely dispersive interaction between a qubit and its readout resonator would yield a QND readout scheme. In reality, this interaction is approximately realized in superconducting circuits [13] when an artificial atom is linearly coupled to the readout resonator. The linear hy- bridization of the qubit and the readout resonator leads to Purcell decay of the qubit. This prevents arbitrary increase of the qubit-resonator dispersive interaction $v15$ and the external coupling rate of the resonator $v16$, which sets a maximum speed of the readout for a given power. Moreover, at higher readout power, the dispersive ap- proximation breaks down [14], causing readout-induced leakage [15, 16] into the non-computational states of the physical qubit. These limitations prohibit the simultane- ous pursuit of the readout speed, fidelity and QND-ness. | 快速准确的单次量子比特读出对于大量量子计算实验至关重要，包括基于测量的状态准备 [1]、纠缠生成 [2–4] 和量子误差校正 (QEC) [5–10]。超导量子比特读出方面的最新进展加上接近量子极限的测量效率，使得使用表面码 [8, 9] 和玻色子码 [5–7] 展示量子误差校正成为可能。在这些实验中，通过反复应用高保真读出和物理辅助量子比特的复位，可以有效地从量子系统中去除熵。量子非拆除 (QND) 测量 [11] 将量子比特的读出后状态与读出结果完美关联，从而无需对辅助量子比特进行无条件复位 [12]。量子比特与其读出谐振器之间的纯色散相互作用将产生 QND 读出方案。实际上，当人造原子线性耦合到读出谐振器时，这种相互作用在超导电路 [13] 中近 似实现。量子比特和读出谐振器的线性杂化导致量子比特的珀塞尔衰变。这阻止了量子比特-谐振器色散相互作用 $v15$ 和谐振器外部耦合率 $v16$ 的任意增加，这设定了给定功率下读出的最大速度。此外，在较高的读出功率下，色散近似会失效 [14]，导致读出引起的泄漏 [15, 16] 进入物理量子比特的非计算状态。这些限制禁止同时追求读出速度、保真度和 QND 性。\r\nDEBUG:pdf2zh.converter:< 163.97511947999988 61.92215738999996 51.955475249999964 297.1543878599321 9.967282422000011 True > In QEC, entangling operations and ancilla readouts are repeated, as illustrated in Fig.1. The readout-induced leakage errors can leave the ancilla in undesirable highly- excited states for multiple cycles, and can also spread into neighbouring qubits [17]. Thus, even a small leak- age probability poses a greater threat compared to dis- crimination error or Pauli error. Often, the “readout fi- delity” [1, 18–23] extracted from the binary-thresholded outcomes is used as the only metric to experimentally | 在 QEC 中，纠缠操作和辅助读出重复进行，如图 1 所示。读出引起的泄漏误差可能会使辅助处于 不良的高激发态多个周期，并且还会扩散到相邻的量子位 [17]。因此，即使是很小的泄漏概率也会比鉴别误差或泡利误差造成更大的威 胁。通常，从二进制阈值结果中提取的“读出保真度”[1, 18–23] 被用作实验性地检测辅助量子位的唯一指标。\r\nDEBUG:pdf2zh.converter:< 527.0356777799998 315.0920913599999 315.0920913599999 560.2912258541688 9.96728242200004 True > optimize the readout parameters. While such a metric is sufficient to quantify the Pauli error (occurring during the readout process) and the discrimination error, it fails to faithfully identify readout-induced leakage, especially if the latter occurs with a low probability compared to other readout errors. The standard measure of QND-ness as the correlation of two successive binary readout out- comes [21–23] also overlooks leakage when the readout outcomes of the leakage states predominantly fall on one side of the threshold. Therefore, such methods do not reflect the true character of the repeated readout opera- tions. Is there a complete way to benchmark the readout operation with binary outcome? | 优化读 出参数。虽然这种度量足以量化泡利误差（发生在读出过程中）和鉴别误差，但它无法如实地识别读出引起的泄漏，特别是当后者发生的概率与其他读出误差相比较低时。QND 性的标准度量是两个连续二进制读出结果的相关性 [21–23]，当泄漏状态的读出结果主要落在阈值的一侧时，它也会忽略泄漏。因此，这种方法不能反映重复读出操作的真实特性。有没有一种完整的方法可以用二进制结果对读出操作进行基准测试？\r\nDEBUG:pdf2zh.converter:< 367.4477066699999 325.05977397 315.0920913599999 560.2932193106531 9.967282421999982 True > In this Letter, we demonstrate a novel readout bench- marking technique, “pseudo-syndrome detection”, where we mimic a syndrome detection cycle in QEC by repeat- ing a composite operation—a readout preceded by a ran- dom qubit flip. This method offers a faithful character- ization of the readout under repeated implementations and provides an accurate estimation of the readout QND- ness. We perform the dispersive readout on a Purcell- protected transmon. We optimize the readout pulses | 在本信中，我们展示了一种新颖的读出基准测试技术“伪综合征检测”，其中我们通过重复复合操作（读出之前是随机量子比特翻转）来模拟 QEC 中的综合征检测周期。此方法在重复实施下提供了对读出的忠实表征，并提供了对读出 QND 的准确估计。我们在 Purcell 保护的 transmon 上执行色散读出。我们优化了读出脉冲\r\nDEBUG:pdf2zh.converter:< 134.82142367999998 315.09209136 315.09209136 560.2912718757887 8.970614208 True > Figure 1. A syndrome detection cycle in QEC. Each cycle consists of an ancilla readout preceded by entangling opera- tions with data qubits, mapping the syndrome onto the an- cilla. We characterize the readout performance by mimicing this experiment on a single ancilla, with the “syndrome” arti- ficially generated by randomly applying identity and bit-flip operations. | 图 1. QEC 中的综合征检测周期。每个周期由辅助设备读出组成，随后进行数据量子位纠缠操作，将综合征映射到辅助设备上。我们通过在单个辅助设备上模拟此实验来表征读出性能，其中“综合征”是通过随机应用身份和位翻转操作人工生成的。\r\nDEBUG:pdf2zh.converter:< 216.91599 11.861640000000001 11.861640000000001 31.87104 8.884173599999997 False > $v17$ | $v17$\r\nDEBUG:pdf2zh.converter:\r\n==========[VSTACK]==========\r\n\r\nDEBUG:pdf2zh.converter:\r\n==========[SSTACK]==========\r\n\r\n100%|████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:00<00:00,  1.64it/s]\r\n(pdf2zh)\r\n\r\n</details>\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> [1.pdf](https://github.com/user-attachments/files/18078190/1.pdf)\r\n\r\n",
      "state": "closed",
      "author": "starxjys",
      "author_type": "User",
      "created_at": "2024-12-10T10:59:47Z",
      "updated_at": "2024-12-19T06:50:35Z",
      "closed_at": "2024-12-19T06:50:34Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/206/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "reycn"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/206",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/206",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:49.898656",
      "comments": [
        {
          "author": "Byaidu",
          "body": "可以先转pdf/a再试一下",
          "created_at": "2024-12-10T11:01:10Z"
        },
        {
          "author": "starxjys",
          "body": "试了几个在线转的，只有[这个](https://tools.pdf24.org/zh/pdf-to-pdfa#s=1733828720164)可以，但是转换后有黑线，其他的还是英语\r\n\r\n[pdfa.pdf](https://github.com/user-attachments/files/18078408/1.1.pdf)\r\n\r\n\r\n[1 (1)-zh.pdf](https://github.com/user-attachments/files/18078399/1.1.-zh.pdf)\r\n\r\n<details>\r\n<summary>不知道有没有用的日志</summary>\r\n\r\n❯ pd",
          "created_at": "2024-12-10T11:17:45Z"
        },
        {
          "author": "Byaidu",
          "body": "有黑线是因为你加了-d参数，这是个调试功能",
          "created_at": "2024-12-11T06:23:25Z"
        },
        {
          "author": "leegang",
          "body": "<img width=\"1898\" alt=\"image\" src=\"https://github.com/user-attachments/assets/62e48dee-57ed-4f0b-9a8c-ead61b9f0b91\" />\r\n\r\n我用这个项目翻译的  https://github.com/WildDataX/Suppr.ai",
          "created_at": "2024-12-16T06:29:10Z"
        },
        {
          "author": "reycn",
          "body": "The feature has been implemented in [CMT#6b293ab38e9d4c67b82a7fbb4837fa4e80416012](https://github.com/Byaidu/PDFMathTranslate/commit/6b293ab38e9d4c67b82a7fbb4837fa4e80416012).\r\n\r\nFor now, auto-converting is not enabled; in other words, users have to explicitly specify `-cp` or `--compatible` to enab",
          "created_at": "2024-12-19T06:50:34Z"
        }
      ]
    },
    {
      "issue_number": 248,
      "title": "LLM 单请求翻译多段原文本",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n参照沉浸式翻译：\r\n```\r\nYou will be given a YAML formatted input containing entries with \"id\" and \"{{imt_source_field}}\" fields. Here is the input:\r\n\r\n<yaml>\r\n{{yaml}}\r\n</yaml>\r\n\r\nFor each entry in the YAML, translate the contents of the \"{{imt_source_field}}\" field into {{to}},{{html_only}} Write the translation back into the \"{{imt_source_field}}\" field for that entry.\r\n\r\nHere is an example of the expected format:\r\n\r\n<example>\r\nInput:\r\n  - id: 1\r\n    {{imt_source_field}}: Source\r\nOutput:\r\n  - id: 1\r\n    {{imt_trans_field}}: Translation\r\n</example>\r\n\r\nPlease return the translated YAML directly without wrapping <yaml> tag or include any additional information.\r\n```\r\n\r\nps：其实用json也行",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-16T15:56:23Z",
      "updated_at": "2024-12-18T18:33:47Z",
      "closed_at": "2024-12-18T18:33:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/248/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/248",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/248",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:50.076810",
      "comments": [
        {
          "author": "reycn",
          "body": "I do not recommend this change. \r\n\r\nThe reason is that, different models do have diverse levels of the ability to follow commands, in which case, small models are highly possible to fail in following such a complex prompt.",
          "created_at": "2024-12-18T18:11:58Z"
        }
      ]
    },
    {
      "issue_number": 250,
      "title": "feat (gui): add cancel support",
      "body": "前端页面中没有取消按钮进程，也没有任何刷新按钮，在等待时候没法知道到底是出了什么问题。可能等待五分钟之后发现是网络卡了或者后端报错，而前端没有显示。\r\n\r\n想要更详细的进度显示，如“扫描中”/“翻译中”/“生成文件中”。而非只是一个囊括一切的纯数字进度条。",
      "state": "closed",
      "author": "timelic",
      "author_type": "User",
      "created_at": "2024-12-17T02:36:15Z",
      "updated_at": "2024-12-18T17:57:38Z",
      "closed_at": "2024-12-18T17:57:16Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/250/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/250",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/250",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:50.262493",
      "comments": [
        {
          "author": "hellofinch",
          "body": "https://github.com/Byaidu/PDFMathTranslate/pull/240\r\n接下来的版本中会有哦，请期待。\r\n: )",
          "created_at": "2024-12-17T02:41:11Z"
        },
        {
          "author": "awwaawwa",
          "body": "我后面搓 https://github.com/Byaidu/PDFMathTranslate/issues/216#issuecomment-2543347690 的时候考虑一下详细进度追踪",
          "created_at": "2024-12-17T19:02:20Z"
        },
        {
          "author": "awwaawwa",
          "body": "不知道为啥，现版的取消我没法用",
          "created_at": "2024-12-18T12:41:30Z"
        },
        {
          "author": "Issues-translate-bot",
          "body": " \n> The issue has been automatically translated into English.         \n----    \nI don’t know why, but I can’t use the current version of cancel.  \n      ",
          "created_at": "2024-12-18T12:41:43Z"
        },
        {
          "author": "reycn",
          "body": "The feature has been implemented by @hellofinch in [PR#240](https://github.com/Byaidu/PDFMathTranslate/pull/240).\r\n\r\nThanks!!",
          "created_at": "2024-12-18T17:57:16Z"
        }
      ]
    },
    {
      "issue_number": 130,
      "title": "feat (test): unit tests for modules and in ci",
      "body": "## 功能描述\r\n\r\n项目目前没有单元测试，这不利于新的贡献者验证自己引入更改的正确性，也不利于理解每个模块的功能。\r\n\r\n## TODOs\r\n\r\n- [x] 梳理项目的模块结构\r\n- [x] 为每个模块编写单元测试\r\n- [x] 在 CI 中设置测试运行",
      "state": "closed",
      "author": "Wybxc",
      "author_type": "User",
      "created_at": "2024-11-26T13:33:07Z",
      "updated_at": "2024-12-18T17:57:19Z",
      "closed_at": "2024-12-18T17:57:19Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/130/reactions",
        "total_count": 2,
        "+1": 2,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/130",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/130",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:50.470842",
      "comments": [
        {
          "author": "Byaidu",
          "body": "项目结构大概是这样子，可能有点粗糙（\r\n- cache.py\r\n  - 缓存翻译\r\n- translator.py\r\n  - 提供多种翻译服务\r\n- doclayout.py\r\n  - 提供 onnx/torch 模型\r\n- converter.py\r\n  - 解析原页面，拆分成不同的段落并解析公式\r\n  - 翻译并缓存段落，调用 translator 和 cache\r\n  - 排版新页面，将公式插入到翻译后的段落\r\n  - 返回页面的新指令流\r\n- high_level.py\r\n  - 解析布局，调用 doclayout\r\n  - 解析页面集合，调用 convertor\r\n  - 返回页面集",
          "created_at": "2024-11-26T14:08:06Z"
        },
        {
          "author": "Wybxc",
          "body": ">   * 其余文件继承自 pdfminer，用于解析指令流，基本不需要进行改动，lic 位于 docs\r\n\r\n这一部分与 pdfminer 上游相比有哪些不同之处？是否可以考虑将 pdfminer 作为依赖直接引入呢？",
          "created_at": "2024-11-27T08:01:13Z"
        },
        {
          "author": "Byaidu",
          "body": "只有 init 提交的部分都和上游一模一样，只有 converter、high_level 和 pdfinterp 是魔改过来的\r\n\r\nconverter 负责解析和排版，应该可以把 TextConverter 剥离出来\r\npdfinterp 负责解析指令流，应该也可以剥离 PDFPageInterpreter\r\nhigh_level 这里我们把 TextConverter 和 PDFPageInterpreter 替换成自己的，然后调用上游库应该就行\r\n\r\n分离之后项目结构应该能简单很多，我这几天试试",
          "created_at": "2024-11-27T08:19:14Z"
        },
        {
          "author": "Byaidu",
          "body": "重构完成，现在需要维护/测试的模块只有8个了",
          "created_at": "2024-11-27T15:08:19Z"
        },
        {
          "author": "awwaawwa",
          "body": "建议先搞个最基础的CI自动测试，提交PR时简单测测cli和gui能不能跑起来，会不会直接报错",
          "created_at": "2024-12-18T12:16:36Z"
        }
      ]
    },
    {
      "issue_number": 247,
      "title": "feat (docker): onnx model preloading and font embedded",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n在Docker镜像构建时预下载HF模型，解决 https://github.com/Byaidu/PDFMathTranslate/issues/184 这种问题。比如说 [gpt_academic](https://github.com/binary-husky/gpt_academic/blob/98e5cb7b7750b89025103d0c5865f29d6457b83a/docs/GithubAction%2BNoLocal%2BLatex#L30C1-L32C1) 就做了这个处理。\r\n\r\n- [x] 优化docker构建\r\n- [ ] 利用 [github-cache](https://docs.docker.com/build/ci/github-actions/cache/#github-cache)\r\n- [x] 输出个log",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-16T15:37:57Z",
      "updated_at": "2024-12-18T17:49:57Z",
      "closed_at": "2024-12-18T17:49:26Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/247/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/247",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/247",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:50.663620",
      "comments": [
        {
          "author": "reycn",
          "body": "我记得群里有一位朋友自己实现了一下，但他没有提交 PR",
          "created_at": "2024-12-17T04:04:31Z"
        },
        {
          "author": "awwaawwa",
          "body": "https://github.com/Byaidu/PDFMathTranslate/pull/276",
          "created_at": "2024-12-18T10:56:06Z"
        },
        {
          "author": "reycn",
          "body": "The feature has been implemented by @awwaawwa in [PR#276](https://github.com/Byaidu/PDFMathTranslate/pull/276). Thanks!!!",
          "created_at": "2024-12-18T17:49:26Z"
        }
      ]
    },
    {
      "issue_number": 260,
      "title": "feat (main): add custom prompt",
      "body": "- 默认翻译prompt有可能导致翻译为繁体中文。\r\n- 部分内容（人名、论文引用）其实应该保留原文。\r\n- 希望允许用户自定义不同翻译源的Prompt。",
      "state": "closed",
      "author": "timelic",
      "author_type": "User",
      "created_at": "2024-12-17T12:47:28Z",
      "updated_at": "2024-12-18T17:44:54Z",
      "closed_at": "2024-12-18T17:43:56Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/260/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/260",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/260",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:50.852844",
      "comments": [
        {
          "author": "timelic",
          "body": "<img width=\"752\" alt=\"截屏2024-12-17 20 59 07\" src=\"https://github.com/user-attachments/assets/04437206-49fe-48d7-b29a-2f32dc5630db\" />\r\n\r\n<img width=\"840\" alt=\"截屏2024-12-17 20 59 23\" src=\"https://github.com/user-attachments/assets/85709620-c50c-4eb5-a508-1fa711a653c0\" />\r\n",
          "created_at": "2024-12-17T12:59:35Z"
        },
        {
          "author": "reycn",
          "body": "The feature has been implemented in [PR#275](https://github.com/Byaidu/PDFMathTranslate/pull/275)",
          "created_at": "2024-12-18T17:44:33Z"
        }
      ]
    },
    {
      "issue_number": 264,
      "title": "扫描件检测&输出警告",
      "body": "既然目前处理扫描件存在许多技术难题，那搞个检测&输出个暂时无法处理的提示？",
      "state": "closed",
      "author": "awwaawwa",
      "author_type": "User",
      "created_at": "2024-12-18T01:30:28Z",
      "updated_at": "2024-12-18T17:43:18Z",
      "closed_at": "2024-12-18T17:43:05Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/264/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/264",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/264",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.061486",
      "comments": [
        {
          "author": "hellofinch",
          "body": "其实应该是可以弄的，现在的模型可以提取出不同类型文本的位置，然后ocr也是可以复用这个框的。\r\n我之前没搞定的地方在于怎么生成一个新的pdf页。",
          "created_at": "2024-12-18T01:53:18Z"
        },
        {
          "author": "awwaawwa",
          "body": "这样啊，哪天有空了我试试。",
          "created_at": "2024-12-18T01:57:14Z"
        },
        {
          "author": "hellofinch",
          "body": "OCR我之前甩了一段在那个help wanted issue里，可以直接拿去用。\r\n现在的这个pdf的解析我没看明白怎么做的，但是注意一下box的框框和ocr用的框框不太一样。box的框框我记得会小一些，不能用box的框框给ocr，会出错。",
          "created_at": "2024-12-18T02:00:45Z"
        },
        {
          "author": "reycn",
          "body": "合并讨论至 [Issue#19](https://github.com/Byaidu/PDFMathTranslate/issues/19)",
          "created_at": "2024-12-18T17:43:05Z"
        },
        {
          "author": "Issues-translate-bot",
          "body": " \n> The issue has been automatically translated into English.         \n----    \nMerged discussion into [Issue#19](https://github.com/Byaidu/PDFMathTranslate/issues/19)  \n      ",
          "created_at": "2024-12-18T17:43:17Z"
        }
      ]
    },
    {
      "issue_number": 204,
      "title": "部分文件未翻译",
      "body": "## 问题描述\r\n官网测试和本地使用Qwen72B模型\r\n![image](https://github.com/user-attachments/assets/4a53a1fd-9440-484d-95a9-290c044710c7)\r\n\r\n## 测试文档\r\n[2023.findings-eacl.22-zh (5).pdf](https://github.com/user-attachments/files/18076029/2023.findings-eacl.22-zh.5.pdf)\r\n[2023.findings-eacl.22.pdf](https://github.com/user-attachments/files/18076032/2023.findings-eacl.22.pdf)\r\n[2023.findings-eacl.22-dual (1).pdf](https://github.com/user-attachments/files/18076040/2023.findings-eacl.22-dual.1.pdf)\r\n",
      "state": "closed",
      "author": "lhj1304",
      "author_type": "User",
      "created_at": "2024-12-10T08:54:14Z",
      "updated_at": "2024-12-17T08:07:57Z",
      "closed_at": "2024-12-17T08:01:04Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/204/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/204",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/204",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.255478",
      "comments": [
        {
          "author": "lhj1304",
          "body": "官网链接https://pdf2zh.com/",
          "created_at": "2024-12-10T08:54:42Z"
        },
        {
          "author": "hellofinch",
          "body": "@Byaidu  我在本地使用webui和自己部署的deeplxservice能够正常翻译，但是文字有重叠。\r\n[2023.findings-eacl.22-dual.pdf](https://github.com/user-attachments/files/18162072/2023.findings-eacl.22-dual.pdf)\r\n[2023.findings-eacl.22-mono.pdf](https://github.com/user-attachments/files/18162074/2023.findings-eacl.22-mono.pdf)\r\n",
          "created_at": "2024-12-10T10:21:37Z"
        },
        {
          "author": "Byaidu",
          "body": "确实，它这个用webui翻译不了，但是命令行就可以，很神奇",
          "created_at": "2024-12-10T10:22:32Z"
        },
        {
          "author": "hellofinch",
          "body": "我在本地用的是webui，deeplx的服务，可以出结果。",
          "created_at": "2024-12-11T01:17:19Z"
        },
        {
          "author": "reycn",
          "body": "> 确实，它这个用webui翻译不了，但是命令行就可以，很神奇\r\n\r\n还有这种 case，gui 目前调用的就是命令行啊，我研究研究……",
          "created_at": "2024-12-16T05:39:26Z"
        }
      ]
    },
    {
      "issue_number": 213,
      "title": "翻译后标题字体变得很大",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n请确认 issues 中没有相同问题且完整阅读 wiki\r\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed/unable to connect to proxy/LocalEntryNotFoundError）\r\n\r\n![screenshot_2024-12-11_17-56-54](https://github.com/user-attachments/assets/29292a9a-8615-4eb9-a30b-3af3e7e78c71)\r\n\r\n\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[cjim-12-294.pdf](https://github.com/user-attachments/files/18104160/cjim-12-294.pdf)\r\n",
      "state": "closed",
      "author": "sunshian021",
      "author_type": "User",
      "created_at": "2024-12-12T01:10:25Z",
      "updated_at": "2024-12-17T07:43:54Z",
      "closed_at": "2024-12-17T07:43:54Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/213/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/213",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/213",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.463963",
      "comments": []
    },
    {
      "issue_number": 167,
      "title": "请问能否增加一个停止翻译的选项或者按钮",
      "body": "## 功能描述\r\n现在翻译过程没法被强制打断，有时候参数选错了需要强制停止进程，能否增加一个停止翻译的功能\r\n",
      "state": "closed",
      "author": "yang478",
      "author_type": "User",
      "created_at": "2024-12-04T07:58:39Z",
      "updated_at": "2024-12-17T05:57:50Z",
      "closed_at": "2024-12-17T05:57:49Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/167/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/167",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/167",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.463985",
      "comments": [
        {
          "author": "Byaidu",
          "body": "现在 threadpool 那里实现的有问题，等有缘人来改 async 了",
          "created_at": "2024-12-04T07:59:39Z"
        },
        {
          "author": "yang478",
          "body": "> 现在 threadpool 那里实现的有问题，等有缘人来改 async 了\r\n\r\n好的，谢谢回答",
          "created_at": "2024-12-04T08:01:04Z"
        },
        {
          "author": "ios-ios",
          "body": "> > 现在 threadpool 那里实现的有问题，等有缘人来改 async 了\r\n> \r\n> 好的，谢谢回答\r\n\r\n请教下，你是在本地部署的吗，我在本地服务器部署了，设置翻译服务器ollana：qwen2.57：72b  不生效，总是报连接异常，可是ollama的服务都是好的，没找到原因",
          "created_at": "2024-12-10T02:08:28Z"
        },
        {
          "author": "yang478",
          "body": "> > > 现在 threadpool 那里实现的有问题，等有缘人来改 async 了\r\n> > \r\n> > \r\n> > 好的，谢谢回答\r\n> \r\n> 请教下，你是在本地部署的吗，我在本地服务器部署了，设置翻译服务器ollana：qwen2.57：72b 不生效，总是报连接异常，可是ollama的服务都是好的，没找到原因\r\n\r\n我本地docker部署的。ollama不生效的原因有几种，如果是本机，那要用127.0.0.1，如果是不是同一个台机子，那ollama要设置跨域，另外看他终端里怎么报错的，另外确认自己模型id是不是正确的",
          "created_at": "2024-12-10T02:14:35Z"
        },
        {
          "author": "Byaidu",
          "body": "supported",
          "created_at": "2024-12-17T05:57:50Z"
        }
      ]
    },
    {
      "issue_number": 177,
      "title": "feat (gui): option for gui authentication",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n首先非常感谢如此优秀的项目！\r\n\r\n想要为gradio添加访问密码，只需要在`launch`的时候添加`auth`参数即可，具体可见官方文档。\r\n[https://www.gradio.app/docs/gradio/interface#methods](https://www.gradio.app/docs/gradio/interface#methods)",
      "state": "closed",
      "author": "MingfuYAN",
      "author_type": "User",
      "created_at": "2024-12-07T02:06:17Z",
      "updated_at": "2024-12-17T04:03:10Z",
      "closed_at": "2024-12-17T04:03:10Z",
      "labels": [
        "enhancement",
        "good first issue"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/177/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/177",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/177",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.610825",
      "comments": [
        {
          "author": "reycn",
          "body": "好的，可以作为可选项",
          "created_at": "2024-12-16T05:38:06Z"
        },
        {
          "author": "reycn",
          "body": "This feature has been implemented by @hellofinch at [pr#246](https://github.com/Byaidu/PDFMathTranslate/pull/246)",
          "created_at": "2024-12-17T04:03:10Z"
        }
      ]
    },
    {
      "issue_number": 215,
      "title": "针对AI翻译，是否支持模型的temperature等值？",
      "body": "## 功能描述\r\n目前的各大模型都支持temperature、topk等参数，是否可以将这些参数作为超参数嵌入命令行中，允许设置。\r\n\r\nCurrent major models all support parameters such as temperature and top-k. Is it possible to embed these parameters as hyperparameters into the command line, allowing them to be set?\r\n\r\n\r\nThanks!!!",
      "state": "closed",
      "author": "BaseBlank",
      "author_type": "User",
      "created_at": "2024-12-12T07:34:05Z",
      "updated_at": "2024-12-15T07:43:34Z",
      "closed_at": "2024-12-15T07:43:34Z",
      "labels": [
        "enhancement",
        "good first issue"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/215/reactions",
        "total_count": 2,
        "+1": 1,
        "-1": 0,
        "laugh": 1,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/215",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/215",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.780057",
      "comments": [
        {
          "author": "Byaidu",
          "body": "温度参数有时破坏公式标记，所以暂时不考虑支持",
          "created_at": "2024-12-15T07:43:34Z"
        }
      ]
    },
    {
      "issue_number": 62,
      "title": "译文存在大量重叠",
      "body": "## 问题描述\r\n\r\n中文PDF：\r\n![屏幕截图 2024-11-19 020453](https://github.com/user-attachments/assets/fc4a1adf-f012-44d0-a91c-8e34d0054879)\r\n\r\n中英文对照PDF：\r\n![屏幕截图 2024-11-19 020559](https://github.com/user-attachments/assets/65227965-73cc-4f79-b68a-c9a63ea762fc)\r\n\r\n\r\n## 测试文档\r\n\r\n[vm-ft.pdf](https://github.com/user-attachments/files/17804535/vm-ft.pdf)\r\n\r\n",
      "state": "closed",
      "author": "night-cruise",
      "author_type": "User",
      "created_at": "2024-11-18T18:08:31Z",
      "updated_at": "2024-12-15T07:42:37Z",
      "closed_at": "2024-12-15T07:41:51Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/62/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/62",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/62",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:51.943557",
      "comments": [
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/f0409471-fd8f-4191-89d3-001b310628b3)\r\n\r\n看起来是 pdfminer 解析器的问题，也可能是原文档有扫描文字，~~我看看怎么修~~",
          "created_at": "2024-11-20T02:06:45Z"
        },
        {
          "author": "DuanH98",
          "body": "类似但不同问题，且转换PDF/A后仍存在。\r\n![image](https://github.com/user-attachments/assets/791dd67c-bbdf-4746-aec6-20233231b412)\r\n\r\n[Test.pdf](https://github.com/user-attachments/files/18117052/Test.pdf)\r\n",
          "created_at": "2024-12-12T20:20:28Z"
        },
        {
          "author": "hellofinch",
          "body": "> 类似但不同问题，且转换PDF/A后仍存在。 ![image](https://private-user-images.githubusercontent.com/16163941/395313577-791dd67c-bbdf-4746-aec6-20233231b412.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzQwODExMDQsIm5i",
          "created_at": "2024-12-13T09:08:20Z"
        }
      ]
    },
    {
      "issue_number": 158,
      "title": "将中文文档翻译为英文时遇到的两类错误：字体处理异常与 PDF 对象解析问题",
      "body": "## 问题描述\r\n在使用 pdf2zh 翻译将中文 PDF 文档翻译为英文时，遇到两类不同的问题，导致翻译失败。以下是详细描述：\r\n\r\n### 第一类错误：字体解析问题\r\nA.pdf 是通过使用 pdf2zh 将英文文档翻译为中文文档得到的结果。\r\n\r\n**复现步骤**\r\n1. 下载下方提供的 A.pdf 文档\r\n2. 使用以下命令将 A.pdf 翻译回中文文档\r\n```bash\r\npdf2zh A.pdf -li zh-CN -lo en\r\n```\r\n3. 中间文件 A-en.pdf正常生成\r\n4. 字体解析出现问题\r\n\r\n**报错日志**\r\n```text\r\n(base) mac@macs-MacBook-Air test % pdf2zh A.pdf -li zh-CN -lo en\r\n  0%|                                | 0/6 [00:01<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/Users/mac/micromamba/bin/pdf2zh\", line 8, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 259, in main\r\n    extract_text(**vars(parsed_args))\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 102, in extract_text\r\n    obj_patch: dict = pdf2zh.high_level.extract_text_to_fp(fp, **locals())\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 112, in extract_text_to_fp\r\n    interpreter.process_page(page)\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 266, in process_page\r\n    ops_new = self.device.end_page(page)\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/converter.py\", line 50, in end_page\r\n    return self.receive_layout(self.cur_item)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/converter.py\", line 216, in receive_layout\r\n    or vflag(child.fontname, child.get_text())                                              # 3. 公式字体\r\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/converter.py\", line 172, in vflag\r\n    font = font.split(\"+\")[-1]      # 字体名截断\r\n           ^^^^^^^^^^^^^^^\r\nTypeError: a bytes-like object is required, not 'str'\r\n```\r\n\r\n**图片展示：**\r\n<img width=\"1440\" alt=\"截屏2024-12-01 20 51 51\" src=\"https://github.com/user-attachments/assets/94235f7b-80c6-4872-9bde-861ce4edcf83\">\r\n\r\n### 第二类错误：PDF 对象解析问题\r\nB.pdf 是使用 overleaf 平台，由 LaTeX 编写的原生中文文档\r\n\r\n**复现步骤**\r\n1. 下载下方提供的 B.pdf 文档\r\n2. 使用以下命令将 B.pdf 翻译为中文文档\r\n```bash\r\npdf2zh B.pdf -li zh-CN -lo en\r\n```\r\n3. 中间文件 B-en.pdf正常生成\r\n4. PDF 对象解析出现问题\r\n\r\n**报错日志**\r\n```text\r\n(base) mac@macs-MacBook-Air test % pdf2zh B.pdf -li zh-CN -lo en\r\n  0%|                                | 0/7 [00:00<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"/Users/mac/micromamba/bin/pdf2zh\", line 8, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 259, in main\r\n    extract_text(**vars(parsed_args))\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 102, in extract_text\r\n    obj_patch: dict = pdf2zh.high_level.extract_text_to_fp(fp, **locals())\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 69, in extract_text_to_fp\r\n    for pageno, page in progress:\r\n                        ^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/tqdm/std.py\", line 1181, in __iter__\r\n    for obj in iterable:\r\n               ^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdfminer/pdfpage.py\", line 127, in create_pages\r\n    yield cls(document, objid, tree, next(page_labels))\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdfminer/pdfpage.py\", line 63, in __init__\r\n    mediabox_params: List[Any] = [\r\n                                 ^\r\nTypeError: 'PDFObjRef' object is not iterable\r\n```\r\n\r\n**图片展示**\r\n<img width=\"1440\" alt=\"截屏2024-12-01 20 52 13\" src=\"https://github.com/user-attachments/assets/e937f94c-e753-443e-870d-6a829698cc5b\">\r\n\r\n## 排除网络问题与中文文档的问题\r\n**排除网络问题**\r\n<img width=\"1440\" alt=\"截屏2024-12-01 21 40 10\" src=\"https://github.com/user-attachments/assets/06fa11d2-c9b9-4181-871a-29dd0ca7f9c8\">\r\n\r\n**排除中文的问题**\r\nC.pdf 是我在本地使用 Visual Studio Code + TexShop + XeLaTeX 编写的中文 PDF，翻译完全正常（虽然生成的文档命名不太对，被命名成了 C-zh.pdf，但是无伤大雅，实际上确实是翻译成了英文），小部分字体重叠问题是因为英文比中文长导致放不下。\r\n\r\n<img width=\"496\" alt=\"截屏2024-12-01 22 11 24\" src=\"https://github.com/user-attachments/assets/4036553e-363a-4028-a425-c4da7738c73a\">\r\n\r\n## 环境信息\r\n1. 应该可以确认不是网络问题，翻译其他 PDF 时完全正确，可能与字体有关，overleaf 使用的与我本地的字体不同。\r\n2. 操作系统：ProductName: macOS\r\nProductVersion: 14.6.1\r\nBuildVersion: 23G93\r\n3. python 版本：3.12\r\n4. 安装方式：micromamba\r\n\r\n## 测试文档\r\n[A.pdf](https://github.com/user-attachments/files/17969009/A.pdf)\r\n[B.pdf](https://github.com/user-attachments/files/17969010/B.pdf)\r\nC.pdf 是能够正常翻译的中文文档，且其中出现了我的姓名，恕无法提供，十分抱歉。",
      "state": "closed",
      "author": "milk2715093695",
      "author_type": "User",
      "created_at": "2024-12-01T14:15:04Z",
      "updated_at": "2024-12-15T07:40:32Z",
      "closed_at": "2024-12-15T07:40:32Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/158/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/158",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/158",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:52.094774",
      "comments": [
        {
          "author": "Byaidu",
          "body": "感谢反馈，A已修复\r\n\r\nB是pdfminer的问题，超出项目范围了",
          "created_at": "2024-12-15T07:40:32Z"
        }
      ]
    },
    {
      "issue_number": 202,
      "title": "是否有支持API 的计划",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n主要是希望服务提供api 接口和其他系统对接",
      "state": "closed",
      "author": "haodaohong",
      "author_type": "User",
      "created_at": "2024-12-09T17:42:12Z",
      "updated_at": "2024-12-14T16:47:12Z",
      "closed_at": "2024-12-14T16:47:12Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/202/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/202",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/202",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:52.273594",
      "comments": [
        {
          "author": "Byaidu",
          "body": "短期内不会\r\n\r\n不过等项目热度上去了，自然会有人来加这个功能（",
          "created_at": "2024-12-09T17:48:12Z"
        },
        {
          "author": "RonaldJEN",
          "body": "可以自己改造下,主要注意几点\r\n1.把extract_text/extract_text_to_fp都改为异步的\r\n2.converter.py里的线程执行把它拿掉\r\n`news = [worker(item) for item in sstk]`\r\n`# with concurrent.futures.ThreadPoolExecutor(`\r\n`#     max_workers=self.thread`\r\n`# ) as executor:`\r\n`#     news = list(executor.map(worker, sstk))`\r\n\r\n\r\n3.pdf2zh.py的模型加载放在最",
          "created_at": "2024-12-12T00:50:59Z"
        },
        {
          "author": "Byaidu",
          "body": "感谢反馈，已添加 https://github.com/Byaidu/PDFMathTranslate?tab=readme-ov-file#api",
          "created_at": "2024-12-14T16:47:12Z"
        }
      ]
    },
    {
      "issue_number": 230,
      "title": "gemini api 支持",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n支持 gemini api, 在 readme 里没提到, <https://ai.google.dev/pricing?hl=zh-cn#1_5flash>\r\n\r\n类似项目: <https://github.com/pot-app/pot-desktop/blob/b213fd342049326bdac0989ff8494ab5ed232449/src/services/translate/geminipro/index.jsx#L9>\r\n\r\n看上去加在这里就行 <https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/translator.py>\r\n\r\n\r\n",
      "state": "closed",
      "author": "asukaminato0721",
      "author_type": "User",
      "created_at": "2024-12-14T06:34:22Z",
      "updated_at": "2024-12-14T16:45:25Z",
      "closed_at": "2024-12-14T16:45:25Z",
      "labels": [
        "enhancement",
        "good first issue"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/230/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/230",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/230",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:52.482034",
      "comments": [
        {
          "author": "Byaidu",
          "body": "感谢反馈，已添加 https://github.com/Byaidu/PDFMathTranslate/commit/3a23b4fbef403ba935aeddbe1519004f8e89100e",
          "created_at": "2024-12-14T16:45:25Z"
        }
      ]
    },
    {
      "issue_number": 229,
      "title": "可否使用{v} 来替换$v$",
      "body": "我测试了openai和deepl是可以的\r\n\r\n![image](https://github.com/user-attachments/assets/e9470c97-6c33-404a-b6ea-03d6591a0b4f)\r\nopenai 翻译的 这个划线的标题头是因为没有传递数据导致的.\r\n\r\n\r\n\r\n![image](https://github.com/user-attachments/assets/fb178455-0eef-4cb9-9c28-eabdd23ecce9)\r\n\r\n![image](https://github.com/user-attachments/assets/70e92ebb-02d0-4250-a3a9-d68a7825082e)\r\n\r\n\r\n\r\n具体其他接口未测试过.详细请大佬评估.",
      "state": "closed",
      "author": "noenif",
      "author_type": "User",
      "created_at": "2024-12-13T13:35:21Z",
      "updated_at": "2024-12-13T16:02:12Z",
      "closed_at": "2024-12-13T16:02:12Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/229/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/229",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/229",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:52.636663",
      "comments": [
        {
          "author": "Byaidu",
          "body": "感谢反馈，已改进 https://github.com/Byaidu/PDFMathTranslate/commit/b63ff573fcec4be3c9f0fc678942b2868eebec63",
          "created_at": "2024-12-13T16:02:12Z"
        }
      ]
    },
    {
      "issue_number": 217,
      "title": "这个数学公式无法翻译",
      "body": "这是原文的pdf.\r\n[Encyclopedia of Algorithms (Ming-Yang Kao (Editor)) (Z-Library)_189-198.pdf](https://github.com/user-attachments/files/18113891/Encyclopedia.of.Algorithms.Ming-Yang.Kao.Editor.Z-Library._189-198.pdf)\r\n![dd85458667aa874dbc9c65cf2b124c8c](https://github.com/user-attachments/assets/e7d7edc4-e2ed-4f72-b23f-ca395de128c9)\r\n![image](https://github.com/user-attachments/assets/6e8c7b7a-a54e-4b86-ae6c-db6e98fccdcf)\r\n这是中英对照的pdf.\r\n[Uploading Encyclopedia of Algorithms Ming-Yang Kao Editor _189-19-dual.pdf…]()\r\n",
      "state": "closed",
      "author": "noenif",
      "author_type": "User",
      "created_at": "2024-12-12T15:34:57Z",
      "updated_at": "2024-12-13T13:31:48Z",
      "closed_at": "2024-12-13T03:21:59Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 20,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/217/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/217",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/217",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:52.791928",
      "comments": [
        {
          "author": "Byaidu",
          "body": "可以加上字体过滤参数-f \".*MT2\"",
          "created_at": "2024-12-13T03:11:05Z"
        },
        {
          "author": "noenif",
          "body": "> 可以加上字体过滤参数-f \".*MT2\"\r\n\r\n大佬厉害,请问以后遇到类似问题,不打扰您,我如何排查呢.就是查看字体就行了嘛?",
          "created_at": "2024-12-13T03:19:35Z"
        },
        {
          "author": "Byaidu",
          "body": "对的，比如用WPS编辑模式看一下公式的字体名就行",
          "created_at": "2024-12-13T03:21:17Z"
        },
        {
          "author": "noenif",
          "body": "> 对的，比如用WPS编辑模式看一下公式的字体名就行\r\n\r\n\r\n\r\n> MT2\r\n![image](https://github.com/user-attachments/assets/32555e1a-36e3-4d7c-a2f1-26db563fc91e)\r\n\r\n![image](https://github.com/user-attachments/assets/cf7e3609-67b8-4608-a5e8-969223b907d8)\r\n大佬但是我wps显示的是这个WxnbnvWnfgdvXmmlplMT2MIT  这我怎么选择字符",
          "created_at": "2024-12-13T03:43:31Z"
        },
        {
          "author": "Byaidu",
          "body": "你看着后面不是有个MT2MIT",
          "created_at": "2024-12-13T03:51:35Z"
        }
      ]
    },
    {
      "issue_number": 214,
      "title": "从缓存读取结果的功能建议默认关闭",
      "body": "我用的是本地ollama来执行翻译。我尝试用不同模型对同一本书进行翻译，以对比不同模型的效果。\r\n但我发现，第二次它实际上没有执行真正的翻译：而是直接从某个缓存处读取了已经翻译过的结果——这个路径位于%temp%\\cache。当我把cache目录中的一个子目录删掉后，大模型真正重新开始工作了。\r\n\r\n从生产力的角度，从缓存中读取已经存在的结果，这似乎是一个很好的设置，可以节约资源。但是：\r\n1、真正的生产场景，不太可能出现完全相同的待翻译原文，从缓存中读取的设置对资源的节约效果有限；\r\n2、不能确保翻译质量的一致性：当使用较大、较好的模型翻译时，它可能会错误地读取了之前用较小、较差模型翻译的结果。\r\n\r\n而这种设置对测试来说很不友好。\r\n\r\n建议：缓存机制默认关闭，可以通过开关手动打开。",
      "state": "closed",
      "author": "ozil56",
      "author_type": "User",
      "created_at": "2024-12-12T02:21:11Z",
      "updated_at": "2024-12-12T05:22:56Z",
      "closed_at": "2024-12-12T05:22:56Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/214/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/214",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/214",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:55.072204",
      "comments": [
        {
          "author": "ozil56",
          "body": "目前可以通过临时性地修改 \\lib\\site-packages\\pdf2zh\\cache.py 来解决。",
          "created_at": "2024-12-12T02:48:35Z"
        },
        {
          "author": "Byaidu",
          "body": "感谢反馈，已修复cache，请等待版本更新",
          "created_at": "2024-12-12T05:22:56Z"
        }
      ]
    },
    {
      "issue_number": 71,
      "title": "无法保留原文字体颜色",
      "body": "## 问题描述\r\n翻译完成后，目录消失，代码引用部分变黑屏\r\n**本项目不处理网络环境引发的问题**（例如 Empty translation result/Connection reset）\r\n代码部分缺失\r\n![image](https://github.com/user-attachments/assets/90da9e6b-edc1-44eb-abfb-e2a6d8f22ff3)\r\n目录缺失\r\n![image](https://github.com/user-attachments/assets/96ccafd1-993d-4dd8-bf9e-7934f06ab785)\r\n命令执行情况\r\n![image](https://github.com/user-attachments/assets/3220a577-6ef1-4a70-a10f-19592488e384)\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[Level_up_your_code_with_design_patterns_and_SOLID_e-book.pdf](https://github.com/user-attachments/files/17824053/Level_up_your_code_with_design_patterns_and_SOLID_e-book.pdf)\r\n",
      "state": "open",
      "author": "t1633361",
      "author_type": "User",
      "created_at": "2024-11-20T02:53:00Z",
      "updated_at": "2024-12-11T06:27:27Z",
      "closed_at": null,
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/71/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/71",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/71",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:55.258849",
      "comments": [
        {
          "author": "t1633361",
          "body": "虽然有些小问题，但已经很好用了。感谢作者。期待修复上面的问题",
          "created_at": "2024-11-20T02:54:42Z"
        },
        {
          "author": "Byaidu",
          "body": "翻译之后原来的白色文字会变成黑色，就和背景融到一起了看不到了\r\n\r\n之后会看看能不能保留原始颜色",
          "created_at": "2024-11-20T05:40:06Z"
        }
      ]
    },
    {
      "issue_number": 194,
      "title": "能否翻译pdf的目录",
      "body": "能否翻译pdf的目录",
      "state": "closed",
      "author": "noenif",
      "author_type": "User",
      "created_at": "2024-12-09T06:46:35Z",
      "updated_at": "2024-12-11T06:25:09Z",
      "closed_at": "2024-12-11T06:25:08Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/194/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/194",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/194",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:55.473640",
      "comments": [
        {
          "author": "Byaidu",
          "body": "可能短期之内不会实现，因为没有明显需求（",
          "created_at": "2024-12-09T06:47:40Z"
        },
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/issues/53",
          "created_at": "2024-12-11T06:25:08Z"
        }
      ]
    },
    {
      "issue_number": 153,
      "title": "韩文文献的翻译结果与原文一模一样没变化",
      "body": "## 韩文文献的翻译结果与原文一模一样没变化\r\n在翻译韩文PDF的过程中有些PDF翻译的结果与原文一模一样。\r\n![K(DLF7VZ4}BLB`CX{Z1UDF0](https://github.com/user-attachments/assets/cd8f4164-e4f5-48ab-be37-102b6c77bd7f)\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 这是是翻译失败的文档。\r\n[translated_The Relationship Between Baekje and Southern-North.pdf](https://github.com/user-attachments/files/17959666/translated_The.Relationship.Between.Baekje.and.Southern-North.pdf)\r\n\r\n\r\n",
      "state": "closed",
      "author": "AnnaKomnenos",
      "author_type": "User",
      "created_at": "2024-11-29T13:27:56Z",
      "updated_at": "2024-12-09T06:12:50Z",
      "closed_at": "2024-12-02T17:50:11Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/153/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/153",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/153",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:55.653545",
      "comments": [
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/946e2dc9-a0f7-48fa-8e3b-2b1bd967da9f)\r\n\r\n你这个版本看起来有点旧，建议更新一下用命令行翻译",
          "created_at": "2024-12-02T17:50:11Z"
        },
        {
          "author": "AnnaKomnenos",
          "body": "![image](https://github.com/user-attachments/assets/fe49dc24-4609-4f27-90c0-2ad5c9638171)\r\n更新至1.8.7之后依然无法翻译出来，无论是命令行还是可视化窗口，请问一下上图成功翻译使用了什么参数\r\n原pdf如下：\r\n[ex.pdf](https://github.com/user-attachments/files/18056917/ex.pdf)\r\n",
          "created_at": "2024-12-09T05:54:45Z"
        },
        {
          "author": "Byaidu",
          "body": "转成pdf/a再翻译",
          "created_at": "2024-12-09T06:12:48Z"
        }
      ]
    },
    {
      "issue_number": 37,
      "title": "编程代码段有时候会重叠显示",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n**本项目不处理网络环境引发的问题**（例如 Empty translation result/Connection reset）\r\n\r\n翻译包含编程代码块儿的部分，有些时候会产生代码重叠的问题（并不是所有代码都会出现这个问题）。\r\n![image](https://github.com/user-attachments/assets/47b0bd6a-543b-40c0-b702-e147fff81cbf)\r\n\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n\r\n[test.pdf](https://github.com/user-attachments/files/17710151/test.pdf)\r\n[test-zh.pdf](https://github.com/user-attachments/files/17710153/test-zh.pdf)\r\n\r\n",
      "state": "closed",
      "author": "fivestrong",
      "author_type": "User",
      "created_at": "2024-11-12T02:08:33Z",
      "updated_at": "2024-12-08T14:56:52Z",
      "closed_at": "2024-12-08T14:56:52Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/37/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/37",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/37",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:55.829316",
      "comments": [
        {
          "author": "Byaidu",
          "body": "有的时候这个布局分析模型的识别效果不太稳定",
          "created_at": "2024-11-12T03:41:05Z"
        },
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/9e31bd1e-1fd6-4df4-a524-f4062b0867c6)\r\n\r\n已修复，请等待新版本发布",
          "created_at": "2024-12-08T14:04:34Z"
        }
      ]
    },
    {
      "issue_number": 144,
      "title": "feat (gui): standalone application",
      "body": "## 功能描述\r\n\r\n打包一个可以独立运行的版本，方便直接下载使用。\r\n\r\n## 相关技术\r\n\r\n可以使用 Pyinstaller 或 nuitka 等工具进行打包。\r\n\r\n## 问题\r\n\r\n- 目前的配置方式多使用环境变量进行，不太适合在桌面环境中独立运行。\r\n",
      "state": "closed",
      "author": "Wybxc",
      "author_type": "User",
      "created_at": "2024-11-28T06:42:09Z",
      "updated_at": "2024-12-06T19:01:32Z",
      "closed_at": "2024-12-06T19:01:32Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/144/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/144",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/144",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.018301",
      "comments": [
        {
          "author": "reycn",
          "body": "哈哈之前尝试过一次，发现打包有点问题，没有深入看，以后考虑！",
          "created_at": "2024-11-29T05:23:51Z"
        },
        {
          "author": "hellofinch",
          "body": "可以先尝试把目前使用环境变量的方式转换为使用配置文件的方式。",
          "created_at": "2024-12-02T01:47:27Z"
        },
        {
          "author": "Byaidu",
          "body": "pyinstaller 依赖分析好像有点问题，试了下没打包成功\r\n\r\n刚才加了个功能差不多的一键启动脚本 `start.bat`，这样也方便之后交互式设置环境变量什么的",
          "created_at": "2024-12-02T08:28:20Z"
        }
      ]
    },
    {
      "issue_number": 154,
      "title": "[Enhancement] Bullet point display",
      "body": "## 问题描述\r\n在对通过PPT导出后的PDF进行翻译的时候，分点符号会被处理成\"煉\"。\r\n目前测试了Google和OpenAI，都出现了如图所示的问题，因此应该不是translator所引起的问题。\r\n\r\n## 图例\r\n左边为测试源文档，右侧为处理后的文档：\r\n<img width=\"1956\" alt=\"image\" src=\"https://github.com/user-attachments/assets/0b479846-acb4-4dec-8752-d11c7eb13e1e\">\r\n\r\n## 测试文档\r\n[input.pdf](https://github.com/user-attachments/files/17960893/input.pdf)\r\n",
      "state": "closed",
      "author": "BiboyQG",
      "author_type": "User",
      "created_at": "2024-11-29T15:17:31Z",
      "updated_at": "2024-12-05T22:11:20Z",
      "closed_at": "2024-12-05T22:10:53Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/154/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/154",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/154",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.229644",
      "comments": [
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/d32f1328-c2ce-4b58-a24d-eff0e6015525)\r\n\r\n问题应该解决了，请等待下个版本发布",
          "created_at": "2024-12-05T12:12:01Z"
        },
        {
          "author": "BiboyQG",
          "body": "太牛逼了！我立马速速打赏！",
          "created_at": "2024-12-05T22:10:44Z"
        }
      ]
    },
    {
      "issue_number": 126,
      "title": "feat (gui): translate file via link",
      "body": "## 功能描述\r\n翻译页面支持文档链接，省去下载和上传的操作",
      "state": "closed",
      "author": "Byaidu",
      "author_type": "User",
      "created_at": "2024-11-25T11:19:08Z",
      "updated_at": "2024-12-03T12:39:11Z",
      "closed_at": "2024-12-03T12:39:11Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/126/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/126",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/126",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.401774",
      "comments": [
        {
          "author": "reycn",
          "body": "- [x] CLI supported [@feat (main): support online PDF file(s)](https://github.com/Byaidu/PDFMathTranslate/commit/1263568a31bfb798dc90e068d8222ba88e1e68a8)\r\n- [x] GUI to be implemented in the next refactored version",
          "created_at": "2024-11-26T07:58:00Z"
        }
      ]
    },
    {
      "issue_number": 81,
      "title": "feat (main): batch translation for deepl",
      "body": "## Related Issue\r\n- [Issue#26](https://github.com/Byaidu/PDFMathTranslate/issues/26)\r\n\r\n## Feature\r\n- For DeepL, batch translation using its batch API",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T18:10:28Z",
      "updated_at": "2024-12-02T17:53:34Z",
      "closed_at": "2024-12-02T17:53:34Z",
      "labels": [
        "enhancement",
        "help wanted",
        "good first issue"
      ],
      "label_count": 3,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/81/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/81",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/81",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.575179",
      "comments": []
    },
    {
      "issue_number": 148,
      "title": "翻译时自动去除斜的水印",
      "body": "## 功能描述\r\n建议通过判断文本的方向去除水印不要翻译",
      "state": "closed",
      "author": "RonaldJEN",
      "author_type": "User",
      "created_at": "2024-11-28T08:36:43Z",
      "updated_at": "2024-12-02T17:52:22Z",
      "closed_at": "2024-12-02T17:52:22Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/148/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/148",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/148",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.575202",
      "comments": [
        {
          "author": "reycn",
          "body": "感觉是一个很复杂的功能，好像没有很成熟的模型+工具可以纳入。",
          "created_at": "2024-11-29T05:21:47Z"
        }
      ]
    },
    {
      "issue_number": 136,
      "title": "翻译格式以及无法完全翻译问题",
      "body": "使用Method II. GUI方法进行翻译，选择openai的gpt-4进行翻译，\r\n部分英文部分未成功翻译，且汉语格式”加粗“与”不加粗“十分杂乱，无法统一\r\n[222-dual.pdf](https://github.com/user-attachments/files/17931579/222-dual.pdf)\r\n翻译完毕文档如上\r\n![image](https://github.com/user-attachments/assets/c1feb248-4f61-4a1c-8e1e-e22c4b15558c)\r\n部分错误如上",
      "state": "closed",
      "author": "wangdp9918",
      "author_type": "User",
      "created_at": "2024-11-27T08:51:00Z",
      "updated_at": "2024-12-02T06:04:27Z",
      "closed_at": "2024-12-02T06:04:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/136/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/136",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/136",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.773799",
      "comments": [
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/1ba1e054-ad00-4783-9d04-bfacf6d53a13)\r\n\r\n我这里所有阅读器（Acrobat/Chrome/WPS）的显示样式都是正常的，没有加粗情况，不知道你是什么环境\r\n\r\n没翻译的部分应该是大模型的问题，google 是正常的：\r\n\r\n![image](https://github.com/user-attachments/assets/f412d54a-03c4-44c6-94d3-7c430ae9a588)\r\n",
          "created_at": "2024-12-02T06:04:27Z"
        }
      ]
    },
    {
      "issue_number": 59,
      "title": "行内公式乱码问题",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n**本项目不处理网络环境引发的问题**（例如 Empty translation result/Connection reset）\r\n开发者您好，对文献进行翻译时，行内公式乱码\r\n![image](https://github.com/user-attachments/assets/f8abc108-081d-4778-a1f3-ecec14882683)\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[pdf.pdf](https://github.com/user-attachments/files/17796998/pdf.pdf)\r\n",
      "state": "closed",
      "author": "wangjinbaor",
      "author_type": "User",
      "created_at": "2024-11-18T08:22:19Z",
      "updated_at": "2024-11-29T06:09:27Z",
      "closed_at": "2024-11-29T06:09:27Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/59/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/59",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/59",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:56.917871",
      "comments": [
        {
          "author": "Byaidu",
          "body": "已修复，感谢反馈",
          "created_at": "2024-11-29T06:09:27Z"
        }
      ]
    },
    {
      "issue_number": 150,
      "title": "IndexError: string index out of range during PDF translation",
      "body": "## 问题描述\r\n在使用 pdf2zh 命令翻译 PDF 文件时，程序正常生成了中间文件 2024 APMCM Problem A-en.pdf，但翻译过程中出现索引越界错误 `IndexError: string index out of range`，最终程序终止，翻译失败。\r\n\r\n## 重现步骤\r\n1. 下载并且使用下方提供的测试 PDF 文档（文件名为 2024 APMCM Problem A.pdf ）\r\n2. 在终端运行以下命令：\r\n```bash \r\npdf2zh 2024\\ APMCM\\ Problem\\ A.pdf\r\n```\r\n3. 程序生成中间文件 2024 APMCM Problem A-en.pdf。\r\n4. 翻译进行到 67% 时，报错并终止。\r\n\r\n## 错误信息和日志\r\n\r\n错误日志如下所示：\r\n\r\n```text\r\n(base) mac@macs-MacBook-Air 2024 APMCM Problem A % pdf2zh 2024\\ APMCM\\ Problem\\ A.pdf\r\n 67%|███████████████████████████████████▎                 | 4/6 [00:02<00:01,  1.38it/s]\r\nTraceback (most recent call last):\r\n  File \"/Users/mac/micromamba/bin/pdf2zh\", line 8, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 279, in main\r\n    extract_text(**vars(parsed_args))\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 121, in extract_text\r\n    obj_patch: dict = pdf2zh.high_level.extract_text_to_fp(fp, **locals())\r\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/high_level.py\", line 212, in extract_text_to_fp\r\n    interpreter.process_page(page)\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/pdfinterp.py\", line 1021, in process_page\r\n    ops_new = self.device.end_page(page)\r\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/converter.py\", line 112, in end_page\r\n    return self.receive_layout(self.cur_item)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/Users/mac/micromamba/lib/python3.12/site-packages/pdf2zh/converter.py\", line 638, in receive_layout\r\n    if len(var[vid]) == 1 and unicodedata.category(var[vid][0].get_text()[0]) in [\"Lm\", \"Mn\", \"Sk\"]:  # 文字修饰符\r\n                                                   ~~~~~~~~~~~~~~~~~~~~~~^^^\r\nIndexError: string index out of range\r\n```\r\n\r\n如下图所示：\r\n<img width=\"1440\" alt=\"截屏2024-11-28 22 10 38\" src=\"https://github.com/user-attachments/assets/b83b1119-32ac-4815-9261-c0bf8f9e69d6\">\r\n\r\n## 环境信息\r\n1. 应该可以确认不是网络问题，翻译其他 PDF 时完全正确。\r\n2. 操作系统：ProductName: macOS\r\nProductVersion: 14.6.1\r\nBuildVersion: 23G93\r\n3. python 版本：3.12\r\n4. 安装方式：micromamba\r\n\r\n\r\n## 测试文档\r\n问题可能与特定 PDF 文件相关，已附上出现问题的 PDF 文件供测试：\r\n\r\n[2024 APMCM Problem A.pdf](https://github.com/user-attachments/files/17949145/2024.APMCM.Problem.A.pdf)\r\n",
      "state": "closed",
      "author": "milk2715093695",
      "author_type": "User",
      "created_at": "2024-11-28T14:17:56Z",
      "updated_at": "2024-11-29T05:30:14Z",
      "closed_at": "2024-11-29T05:20:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/150/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/150",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/150",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:57.120200",
      "comments": [
        {
          "author": "reycn",
          "body": "最新版本未能复现此问题，暂时关闭 Issue；如有进一步的线索再次打开追踪。\r\n\r\n## 复现截图\r\n<img width=\"1364\" alt=\"image\" src=\"https://github.com/user-attachments/assets/75bdd03d-4ca1-4d6f-8eae-5f598d625054\">\r\n",
          "created_at": "2024-11-29T05:20:46Z"
        },
        {
          "author": "Byaidu",
          "body": "哦这个是刚修复，但是还没推送",
          "created_at": "2024-11-29T05:22:11Z"
        },
        {
          "author": "reycn",
          "body": "> 哦这个是刚修复，但是还没推送\r\n\r\n太快了！！",
          "created_at": "2024-11-29T05:30:13Z"
        }
      ]
    },
    {
      "issue_number": 75,
      "title": "翻译内容镜像翻转",
      "body": "## 问题描述\r\n\r\n翻译内容镜像翻转\r\n\r\n![image](https://github.com/user-attachments/assets/aa1ac9cd-8c89-4c6a-bdf8-6195773c00c3)\r\n![image](https://github.com/user-attachments/assets/bd812f0d-da73-48df-b79f-dd9523ded1fe)\r\n\r\n\r\n## 测试文档\r\n\r\n[gbctr.pdf](https://github.com/user-attachments/files/17826807/gbctr.pdf)\r\n\r\n[translated_gbctr.pdf](https://github.com/user-attachments/files/17826811/translated_gbctr.pdf)\r\n\r\n",
      "state": "closed",
      "author": "jerryshell",
      "author_type": "User",
      "created_at": "2024-11-20T07:40:11Z",
      "updated_at": "2024-11-27T12:24:50Z",
      "closed_at": "2024-11-27T12:22:57Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/75/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/75",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/75",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:57.319653",
      "comments": [
        {
          "author": "jerryshell",
          "body": "手动转换为 PDF/A 后正常翻译",
          "created_at": "2024-11-27T12:22:57Z"
        },
        {
          "author": "Byaidu",
          "body": "感谢反馈",
          "created_at": "2024-11-27T12:24:48Z"
        }
      ]
    },
    {
      "issue_number": 123,
      "title": "参考文献的 点击转跳绿色框 完全没有对上",
      "body": "参考文献的 点击转跳绿色框 完全没有对上\r\n\r\n<img width=\"717\" alt=\"2024-11-25_110607\" src=\"https://github.com/user-attachments/assets/24ddc7a0-5b49-4c59-8b96-aa15551a7166\">\r\n<img width=\"522\" alt=\"2024-11-25_110557\" src=\"https://github.com/user-attachments/assets/adce5b15-d516-4023-9a5a-11e791c3d851\">\r\n<img width=\"623\" alt=\"2024-11-25_110547\" src=\"https://github.com/user-attachments/assets/9593b02b-dea2-4695-8a5f-a9a285fee8e7\">\r\n",
      "state": "closed",
      "author": "cathy345345",
      "author_type": "User",
      "created_at": "2024-11-25T03:06:54Z",
      "updated_at": "2024-11-26T05:51:47Z",
      "closed_at": "2024-11-26T05:51:47Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/123/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/123",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/123",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:57.465194",
      "comments": [
        {
          "author": "cathy345345",
          "body": "复现测试的 PDF 文档 https://arxiv.org/pdf/2409.10542",
          "created_at": "2024-11-25T03:34:30Z"
        },
        {
          "author": "Byaidu",
          "body": "可以暂时先用双语文档跳转",
          "created_at": "2024-11-25T04:18:50Z"
        },
        {
          "author": "reycn",
          "body": "这个暂时不修复吧？因为按链接来识别的话，会影响翻译的上下文进而影响翻译的效果",
          "created_at": "2024-11-25T05:36:09Z"
        },
        {
          "author": "cathy345345",
          "body": "> 可以暂时先用双语文档跳转\r\n嗯嗯，好的",
          "created_at": "2024-11-26T05:39:15Z"
        }
      ]
    },
    {
      "issue_number": 86,
      "title": "Duplicated content in the output",
      "body": "## 问题描述\r\n\r\n- [x] I have checked the wiki.\r\n- [x] I have checked the same issues\r\n\r\nIn the output file, some content was duplicated, as #37 has mentioned, is this an issue of pdfminer?\r\n\r\n## 测试文档\r\n\r\n[Lin et al. - 2018 - All-optical machine learning using diffractive deep neural networks.pdf](https://github.com/user-attachments/files/17841056/Lin.et.al.-.2018.-.All-optical.machine.learning.using.diffractive.deep.neural.networks.pdf)\r\n\r\nOrigin:\r\n\r\n<img width=\"702\" alt=\"image\" src=\"https://github.com/user-attachments/assets/7fc35002-377a-42f5-872f-b9cf11016633\">\r\n\r\nTranslation:\r\n\r\n<img width=\"703\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9ba42993-cadd-45d4-93c8-b349f5e09639\">\r\n\r\n",
      "state": "closed",
      "author": "kowyo",
      "author_type": "User",
      "created_at": "2024-11-21T06:51:52Z",
      "updated_at": "2024-11-25T13:57:17Z",
      "closed_at": "2024-11-25T13:57:17Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 7,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/86/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/86",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/86",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:57.634554",
      "comments": [
        {
          "author": "Byaidu",
          "body": "It is caused by special font size of the first character in the paragraph, as mentioned in https://github.com/Byaidu/PDFMathTranslate/issues/26#issuecomment-2466624709",
          "created_at": "2024-11-21T07:00:47Z"
        },
        {
          "author": "kowyo",
          "body": "Thank you for the quick reply. I am good to close it as a duplication of #26. It's a wonderful work, so hopefully I can contribute to it in the future.",
          "created_at": "2024-11-21T07:04:09Z"
        },
        {
          "author": "Byaidu",
          "body": "已修复",
          "created_at": "2024-11-25T13:08:02Z"
        },
        {
          "author": "kowyo",
          "body": "我通过 pip 安装了版本  v1.7.9，翻译出来的文档仍然有相同问题\r\n\r\n![image](https://github.com/user-attachments/assets/afb3c29a-c497-4797-8309-9f7d77645cd5)\r\n",
          "created_at": "2024-11-25T13:17:02Z"
        },
        {
          "author": "Byaidu",
          "body": "稍等，正在推送新版本",
          "created_at": "2024-11-25T13:17:54Z"
        }
      ]
    },
    {
      "issue_number": 99,
      "title": "论文首页翻译格式混乱，部分内容未翻译",
      "body": "## 问题描述\r\n如图，双栏带脚注的pdf发现不好识别似乎，试了两个pdf都有这个问题\r\n![图片](https://github.com/user-attachments/assets/1399923e-d038-48dd-8a6d-97cf92bf7032)\r\n![图片](https://github.com/user-attachments/assets/477cb3a8-879c-4d35-b574-cac2b752082f)\r\n\r\n## 测试文档\r\n1. [Samuel 等 - 2024 - Outer-loop admittance and motion control dual improvement via a multi-function observer.pdf](https://github.com/user-attachments/files/17854028/Samuel.-.2024.-.Outer-loop.admittance.and.motion.control.dual.improvement.via.a.multi-function.observer.pdf)\r\n2. [Chaudhuri 等 - 2021 - An attention-based deep sequential GRU model for sensor drift compensation.pdf](https://github.com/user-attachments/files/17854032/Chaudhuri.-.2021.-.An.attention-based.deep.sequential.GRU.model.for.sensor.drift.compensation.pdf)\r\n\r\n",
      "state": "closed",
      "author": "x1any",
      "author_type": "User",
      "created_at": "2024-11-22T01:41:55Z",
      "updated_at": "2024-11-25T13:07:46Z",
      "closed_at": "2024-11-25T13:07:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/99/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/99",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/99",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:57.871801",
      "comments": [
        {
          "author": "Byaidu",
          "body": "参考 https://github.com/Byaidu/PDFMathTranslate/issues/86",
          "created_at": "2024-11-22T02:26:34Z"
        },
        {
          "author": "Byaidu",
          "body": "已修复",
          "created_at": "2024-11-25T13:07:46Z"
        }
      ]
    },
    {
      "issue_number": 85,
      "title": "feat (main): support onnx as torch's alternative",
      "body": "## 功能描述\r\n\r\n用 ONNX 模型代替 torch 模型进行推理，避免引入巨大的 torch 依赖。",
      "state": "closed",
      "author": "Wybxc",
      "author_type": "User",
      "created_at": "2024-11-21T04:44:19Z",
      "updated_at": "2024-11-23T17:43:36Z",
      "closed_at": "2024-11-23T17:43:36Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 9,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/85/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/85",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/85",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:58.020293",
      "comments": [
        {
          "author": "Wybxc",
          "body": "我可以帮忙完成这个问题并提交PR。",
          "created_at": "2024-11-21T04:49:06Z"
        },
        {
          "author": "Byaidu",
          "body": "> 我可以帮忙完成这个问题并提交PR。\n\n感谢支持！",
          "created_at": "2024-11-21T04:53:39Z"
        },
        {
          "author": "reycn",
          "body": "看起来很 promising！唯一的担忧是这个框架的兼容性。torch 用得广泛跨平台兼容性好，这个 Byaidu 看看。",
          "created_at": "2024-11-21T04:53:48Z"
        },
        {
          "author": "Wybxc",
          "body": "> 看起来很 promising！唯一的担忧是这个框架的兼容性。torch 用得广泛跨平台兼容性好，这个 Byaidu 看看。\r\n\r\n可以将onnxruntime和torch都作为可选依赖，用户选择其一安装",
          "created_at": "2024-11-21T04:55:26Z"
        },
        {
          "author": "reycn",
          "body": "- 可以考虑 `pip install phf2zh` 默认安装 torch （后续 onnx 几乎没有 bug 反馈可考虑切换）\r\n  - `pip install 'phf2zh[onnx]'` \r\n  - `pip install 'phf2zh[torch]'` \r\n \r\n参考 pandas 实现： https://arc.net/l/quote/fveaitzg\r\n\r\n感觉这样比较好，你们觉得呢？",
          "created_at": "2024-11-21T05:07:46Z"
        }
      ]
    },
    {
      "issue_number": 101,
      "title": "feat (main): pdf/a converter",
      "body": "## Scenario\r\nIf a PDF file is not PDF/A compatible, there's a chance of failure.\r\n\r\n## Feature\r\nIf detected, try to convert to PDF/A\r\n\r\n## Related Issue\r\n- [Issue#100](https://github.com/Byaidu/PDFMathTranslate/issues/100)\r\n\r\n## Replication Note\r\n<img width=\"1366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9e4662a9-9026-4248-9cab-bb9abc5899bd\">\r\n\r\n## Related PDF File\r\n- Before conversion\r\n[Kubus.Wahl.-.2009.-.Scaling.and.eliminating.non-contact.forces.and.torques.to.improve.bilateral.teleoperation.pdf](https://github.com/user-attachments/files/17856953/Kubus.Wahl.-.2009.-.Scaling.and.eliminating.non-contact.forces.and.torques.to.improve.bilateral.teleoperation.pdf)\r\n\r\n- Converted to PDF/A\r\n[Kubus.Wahl.-.2009.-.Scaling.and.eliminating.non-contact.forces.and.torques.to.improve.bilateral.teleoperation.pdf](https://github.com/user-attachments/files/17856957/Kubus.Wahl.-.2009.-.Scaling.and.eliminating.non-contact.forces.and.torques.to.improve.bilateral.teleoperation.pdf)\r\n\r\n",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-22T04:28:33Z",
      "updated_at": "2024-11-23T08:57:13Z",
      "closed_at": "2024-11-23T08:51:49Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/101/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/101",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/101",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:58.228813",
      "comments": [
        {
          "author": "reycn",
          "body": "Bug fixed [@feat: pdf/a auto covnerter](https://github.com/Byaidu/PDFMathTranslate/commit/bb6fdbff6d4c77c8c4426ea427b5ade241d72b7c)\r\n\r\n<img width=\"1283\" alt=\"image\" src=\"https://github.com/user-attachments/assets/2e5e4c92-30b4-4bf8-b8fc-92d76e12e428\">\r\n",
          "created_at": "2024-11-23T08:51:49Z"
        }
      ]
    },
    {
      "issue_number": 102,
      "title": "bug (main): non-pdf/a not translated",
      "body": "## 问题描述\r\n`pdf2zh document.pdf -li en -lo zh`输出了`document-zh.pdf`和`document-dual.pdf`，但是里面没有中文翻译\r\n\r\n平台 Windows 10，py 3.11.5\r\n\r\n```PowerShell\r\n(pdf2zh_ri) D:\\software\\green\\pdf2zh_ri> pdf2zh document.pdf -li en -lo zh\r\nD:\\software\\green\\pdf2zh_ri\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py:733: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.\r\n  ckpt = torch.load(file, map_location=\"cpu\")\r\n100%|████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:33<00:00,  4.77s/it]\r\n```\r\n\r\n## 测试文档\r\n\r\n[document.pdf](https://github.com/user-attachments/files/17866145/document.pdf)\r\n[document-zh.pdf](https://github.com/user-attachments/files/17866147/document-zh.pdf)\r\n[document-dual.pdf](https://github.com/user-attachments/files/17866148/document-dual.pdf)\r\n",
      "state": "closed",
      "author": "Andy-AO",
      "author_type": "User",
      "created_at": "2024-11-22T07:02:00Z",
      "updated_at": "2024-11-23T08:56:58Z",
      "closed_at": "2024-11-23T08:51:40Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/102/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/102",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/102",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:29:58.460871",
      "comments": [
        {
          "author": "reycn",
          "body": "Same issue due to PDF/A format & feature scheduled @[#101](https://github.com/Byaidu/PDFMathTranslate/issues/101).\r\n\r\nFor now, please convert the file into PDF/A so you can get a translated document.\r\n\r\nReplication note:\r\n<img width=\"1256\" alt=\"image\" src=\"https://github.com/user-attachments/assets/",
          "created_at": "2024-11-22T07:31:53Z"
        },
        {
          "author": "reycn",
          "body": "Bug fixed [@feat: pdf/a auto covnerter](https://github.com/Byaidu/PDFMathTranslate/commit/bb6fdbff6d4c77c8c4426ea427b5ade241d72b7c)\r\n\r\n<img width=\"1283\" alt=\"image\" src=\"https://github.com/user-attachments/assets/8fa5beaa-1e12-4fd0-8511-01e4c922e9b9\">\r\n",
          "created_at": "2024-11-23T08:51:41Z"
        }
      ]
    },
    {
      "issue_number": 79,
      "title": "feat (main): rpm control",
      "body": "## Scenario\r\n- Models with low RPM limits, e.g. deepseek, according to user Bryce.\r\n\r\n## Feature\r\n- RPM control\r\n- `pdf2zh -rpm 30`",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T18:04:01Z",
      "updated_at": "2024-11-22T12:01:06Z",
      "closed_at": "2024-11-22T12:01:06Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/79/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/79",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/79",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:00.434476",
      "comments": [
        {
          "author": "Byaidu",
          "body": "too complicated with multi-thread",
          "created_at": "2024-11-22T12:01:06Z"
        }
      ]
    },
    {
      "issue_number": 103,
      "title": "feat (gui): sharing option",
      "body": "最近想在本地跑然后让同学使用，可以用Gradio的share功能，但是每次需要手动修改python库文件，有点麻烦。能否直接作为参数传入？",
      "state": "closed",
      "author": "Zxis233",
      "author_type": "User",
      "created_at": "2024-11-22T07:25:36Z",
      "updated_at": "2024-11-22T11:58:06Z",
      "closed_at": "2024-11-22T11:58:06Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/103/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "reycn"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/103",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/103",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:00.587527",
      "comments": [
        {
          "author": "reycn",
          "body": "Will be added in the next version of gui.",
          "created_at": "2024-11-22T07:27:29Z"
        },
        {
          "author": "Zxis233",
          "body": "Thank you.",
          "created_at": "2024-11-22T09:47:42Z"
        }
      ]
    },
    {
      "issue_number": 98,
      "title": "网页版无法使用，没有任何输出",
      "body": "## 问题描述\r\n请对问题进行描述，并提供日志或截图\r\n\r\n网页版点击translate以后没有任何输出文档。\r\n\r\n\r\n\r\n请确认 issues 中没有相同问题且完整阅读 wiki\r\n**本项目不处理网络环境引发的问题**（例如 empty translation result/connection reset/check_hostname requires server_hostname/certificate verify failed）\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[Pioneering_Chiplet_Technology_and_Design_for_the_AMD_EPYC_and_Ryzen_Processor_Families__Industrial_Product.pdf](https://github.com/user-attachments/files/17853932/Pioneering_Chiplet_Technology_and_Design_for_the_AMD_EPYC_and_Ryzen_Processor_Families__Industrial_Product.pdf)\r\n",
      "state": "closed",
      "author": "killerljj",
      "author_type": "User",
      "created_at": "2024-11-22T01:19:00Z",
      "updated_at": "2024-11-22T04:32:45Z",
      "closed_at": "2024-11-22T04:32:45Z",
      "labels": [
        "invalid"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/98/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/98",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/98",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:00.754549",
      "comments": [
        {
          "author": "reycn",
          "body": "同样的文档未能复现。“网页版”是指的 demo 吗？那个这两天用的人有点多一直在排队。",
          "created_at": "2024-11-22T04:18:36Z"
        }
      ]
    },
    {
      "issue_number": 100,
      "title": "部分pdf无法翻译",
      "body": "## 问题描述\r\n翻译前后内容无变化，如图\r\n![图片](https://github.com/user-attachments/assets/6ab19999-958c-41fe-acb2-2efd0c805de0)\r\n\r\n## 测试文档\r\n[Kubus和Wahl - 2009 - Scaling and eliminating non-contact forces and torques to improve bilateral teleoperation.pdf](https://github.com/user-attachments/files/17854056/Kubus.Wahl.-.2009.-.Scaling.and.eliminating.non-contact.forces.and.torques.to.improve.bilateral.teleoperation.pdf)\r\n",
      "state": "closed",
      "author": "x1any",
      "author_type": "User",
      "created_at": "2024-11-22T01:47:23Z",
      "updated_at": "2024-11-22T04:25:45Z",
      "closed_at": "2024-11-22T04:25:45Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/100/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/100",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/100",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:00.957798",
      "comments": [
        {
          "author": "reycn",
          "body": "已复现，文档格式不符合 PDF/A 标准解析失败。\r\n在手动转换为 PDF/A 标准后，翻译成功，如图：\r\n<img width=\"1366\" alt=\"image\" src=\"https://github.com/user-attachments/assets/725ca8c4-50c0-4612-8e66-4bd5dfc90c26\">\r\n\r\n单独开启 feature issue，关闭此 issue。",
          "created_at": "2024-11-22T04:25:45Z"
        }
      ]
    },
    {
      "issue_number": 93,
      "title": "图像参数传递格式有误",
      "body": "https://github.com/Byaidu/PDFMathTranslate/blob/4f45be5952156dd44e33ac627f5031dbf0855d9b/pdf2zh/high_level.py#L166-L172\r\n\r\n按照 [PyMuPDF 的文档](https://pymupdf.readthedocs.io/en/latest/pixmap.html#Pixmap.samples)，`PixMap.samples` 得到的是 RGB 格式的图片，而 Yolov10 接受的是 BGR 格式的图片（[文档](https://docs.ultralytics.com/modes/predict/#inference-sources)）。\r\n\r\n这个错误影响不大，但可能会导致模型对彩色部分检测的准确率下降。\r\n",
      "state": "closed",
      "author": "Wybxc",
      "author_type": "User",
      "created_at": "2024-11-21T16:42:12Z",
      "updated_at": "2024-11-21T17:16:37Z",
      "closed_at": "2024-11-21T17:16:37Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 0,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/93/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/93",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/93",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.133841",
      "comments": []
    },
    {
      "issue_number": 26,
      "title": "翻译的时候存在未翻译的情况，BaseTranslator基类建议增加批量翻译",
      "body": "# 翻译的时候存在未翻译的情况，BaseTranslator基类建议增加批量翻译\r\n# 测试版本：V1.6.9\r\n# 示例全文下载地址：https://elifesciences.org/articles/45779#downloads\r\n\r\n## 文本未翻译\r\n![image](https://github.com/user-attachments/assets/f25c29c2-4ef4-470c-a085-e543c3b2d799)\r\n![image](https://github.com/user-attachments/assets/e91e76e9-aa6d-4a1e-a72c-5c7cfc64c65c)\r\n\r\n## BaseTranslator基类建议增加批量翻译\r\n现在绝大多数的翻译引擎已经支持批量翻译的功能了，单次可以翻译整页，比如deepl\r\n![image](https://github.com/user-attachments/assets/aa77551c-02af-494c-af54-475b01ecb203)\r\n",
      "state": "closed",
      "author": "Williamsunsir",
      "author_type": "User",
      "created_at": "2024-11-10T07:28:32Z",
      "updated_at": "2024-11-21T11:31:02Z",
      "closed_at": "2024-11-21T11:31:02Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/26/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/26",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/26",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.133865",
      "comments": [
        {
          "author": "Byaidu",
          "body": "文本未翻译的原因是那个“Abstract”的字体是12号，但是后面正文字体是9号，所以被当成角标处理了……暂时没想到简单的识别办法\r\n\r\ndeepl 愿意的话可以加个 PR，主要是我不经常用这个",
          "created_at": "2024-11-10T07:38:07Z"
        },
        {
          "author": "Byaidu",
          "body": "还有一种类似的情况，有些阴间书喜欢放大章节的第一个段落的首字母，导致整个段落炸掉",
          "created_at": "2024-11-10T07:40:50Z"
        },
        {
          "author": "reycn",
          "body": "暂时关闭 Issue 因为我们已经单独作为 feature issue 等待开源帮助实现 （https://github.com/Byaidu/PDFMathTranslate/issues/81），并解决了第二个问题（https://github.com/Byaidu/PDFMathTranslate/issues/86）。\r\n",
          "created_at": "2024-11-21T11:31:02Z"
        }
      ]
    },
    {
      "issue_number": 69,
      "title": "翻译后的输出文件，中文英文都重叠在一起，没法看",
      "body": "## 问题描述\r\n翻译后两个文件，中文英文都重叠在一起\r\nexample-zh如下图\r\n![image](https://github.com/user-attachments/assets/5cd5b07f-647e-45e2-b2aa-3f84c8fab2ff)\r\n\r\nexample-dual如下图\r\npage1\r\n![image](https://github.com/user-attachments/assets/9ab1d134-9798-4c72-9bc5-73ad78aac059)\r\npage2\r\n![image](https://github.com/user-attachments/assets/030a96b1-cbcc-49bb-b88e-553007ff98e8)\r\n\r\n## 测试文档\r\n> [!IMPORTANT]\r\n> 请提供用于复现测试的 PDF 文档\r\n[example.pdf](https://github.com/user-attachments/files/17813348/example.pdf)\r\n\r\n操作过程截图\r\n![image](https://github.com/user-attachments/assets/8958a6c5-2249-4a1f-8a85-72ae7b6fab04)\r\n\r\n",
      "state": "closed",
      "author": "ghostdavid",
      "author_type": "User",
      "created_at": "2024-11-19T10:23:35Z",
      "updated_at": "2024-11-21T07:46:46Z",
      "closed_at": "2024-11-20T02:01:09Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/69/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/69",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/69",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.306674",
      "comments": [
        {
          "author": "Robertirini",
          "body": "相同的问题\r\n![2024-11-20_09-29-12](https://github.com/user-attachments/assets/32c96b3f-8c63-462a-8468-f87632ebb635)\r\n![2024-11-20_09-29-40](https://github.com/user-attachments/assets/1f61fd91-b06c-462a-a25c-797a55e7c0d5)\r\n",
          "created_at": "2024-11-20T01:30:42Z"
        },
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/c3f2e909-c088-4097-abf7-bc6050739570)\r\n\r\n你这个文档是扫描件，目前没办法处理……",
          "created_at": "2024-11-20T02:01:09Z"
        },
        {
          "author": "ghostdavid",
          "body": "@Byaidu 了解了，是我的问题，可能是我的pdf软件是自带ocr的，导致我以为是个非扫描件。找了篇正常论文后，能正常翻译了",
          "created_at": "2024-11-21T07:46:46Z"
        }
      ]
    },
    {
      "issue_number": 84,
      "title": "input-en.pdf 文件访问无权限",
      "body": "## 问题描述\r\n\r\n使用OpenAI翻译，身份验证正常，使用`git-4o-mini`模型翻译后，进度条正常走完，但报错：\r\n```\r\nExecuting command: cd \"R:\\Temp\\tmpu5gmxg3g\" && pdf2zh \"R:\\Temp\\tmpu5gmxg3g\\input.pdf\" -lo zh -s openai:gpt-4o-mini  -p 1\r\nFiles in temp directory: ['input.pdf']\r\nCommand output: C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py:733: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.\r\nCommand output: ckpt = torch.load(file, map_location=\"cpu\")\r\nCommand output: Traceback (most recent call last):\r\nCommand output: File \"<frozen runpy>\", line 198, in _run_module_as_main\r\nCommand output: File \"<frozen runpy>\", line 88, in _run_code\r\nCommand output: File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\r\nCommand output: File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 262, in main\r\nCommand output: extract_text(**vars(parsed_args))\r\nCommand output: File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 113, in extract_text\r\nCommand output: doc_en.save(f'{filename}-en.pdf')\r\nCommand output: File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pymupdf\\__init__.py\", line 5659, in save\r\nCommand output: mupdf.pdf_save_document(pdf, filename, opts)\r\nCommand output: File \"C:\\Users\\Admin\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pymupdf\\mupdf.py\", line 51731, in pdf_save_document\r\nCommand output: return _mupdf.pdf_save_document(doc, filename, opts)\r\nCommand output: ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nCommand output: pymupdf.mupdf.FzErrorSystem: code=2: cannot remove file 'input-en.pdf': Permission denied\r\nCommand completed with return code: 1\r\nFiles after translation: ['input.pdf']\r\nTranslation failed: No output files found\r\n```\r\n\r\n## 测试文档\r\n[electronics-11-03244-v3.pdf](https://github.com/user-attachments/files/17839680/electronics-11-03244-v3.pdf)\r\n\r\n",
      "state": "closed",
      "author": "Zxis233",
      "author_type": "User",
      "created_at": "2024-11-21T04:14:51Z",
      "updated_at": "2024-11-21T05:34:57Z",
      "closed_at": "2024-11-21T05:34:45Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/84/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/84",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/84",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.516314",
      "comments": [
        {
          "author": "Byaidu",
          "body": "可以看下是不是用阅读器打开文件导致文件占用了",
          "created_at": "2024-11-21T04:47:55Z"
        },
        {
          "author": "reycn",
          "body": "The bug has been fixed [@ fix (main): permission error](https://github.com/Byaidu/PDFMathTranslate/commit/8a66da7842c660d5e666193267ec3c563a8e3ced)",
          "created_at": "2024-11-21T05:34:45Z"
        }
      ]
    },
    {
      "issue_number": 80,
      "title": "feat (main, gui): language code maps",
      "body": "## Scenario\r\n- Different translation services requires different languages codes\r\n\r\n## Feature\r\n- For frequently used languages, we provide intuitive mapping across them.\r\n- e.g., `zh` to `ZH-CN`, `chinese` to `zh` , `中文` to `zh` etc.",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T18:05:58Z",
      "updated_at": "2024-11-20T18:13:03Z",
      "closed_at": "2024-11-20T18:13:03Z",
      "labels": [
        "enhancement",
        "help wanted"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/80/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/80",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/80",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.701297",
      "comments": [
        {
          "author": "Byaidu",
          "body": "just copy raw codes from google/deepl and let users select, keep it simple",
          "created_at": "2024-11-20T18:12:01Z"
        }
      ]
    },
    {
      "issue_number": 78,
      "title": "feat (gui): supports bilingual outputs",
      "body": "## Feature\r\nUser Jostle requests for downloading bilingual documents in GUI.",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T11:24:27Z",
      "updated_at": "2024-11-20T17:38:02Z",
      "closed_at": "2024-11-20T17:38:02Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/78/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "reycn"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/78",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/78",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:01.860345",
      "comments": [
        {
          "author": "reycn",
          "body": "This feature has been implemented [@CMT#5c406d11c434ea40b48ceef05928efaf1391a1ec](https://github.com/Byaidu/PDFMathTranslate/commit/5c406d11c434ea40b48ceef05928efaf1391a1ec)",
          "created_at": "2024-11-20T17:38:02Z"
        }
      ]
    },
    {
      "issue_number": 77,
      "title": "ValueError: When localhost is not accessible, a shareable link must be created. Please set share=True or check your settings to allow access to localhost.",
      "body": "## 问题描述\r\n启动UI界面，\r\npdf2zh -i\r\n错误\r\nValueError: When localhost is not accessible, a shareable link must be created. Please set share=True or check your p settings to allow access to localhost.\r\n\r\n## 解决方案\r\n找到D:\\Anaconda\\anaconda3\\envs\\worktools\\Lib\\site-packages\\pdf2zh\\gui.py\r\n将303与308行的0.0.0.0修改为127.0.0.1\r\n",
      "state": "closed",
      "author": "BaseBlank",
      "author_type": "User",
      "created_at": "2024-11-20T08:55:21Z",
      "updated_at": "2024-11-20T13:48:06Z",
      "closed_at": "2024-11-20T11:12:36Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 10,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/77/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/77",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/77",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.036590",
      "comments": [
        {
          "author": "WillowWL",
          "body": "请问如果输入了http://localhost:7860/显示拒绝连接是什么问题呢？\r\npdf2zh -i这个是直接输入在浏览器网址就行吗，为啥我一输入就是普通搜索浏览器界面\r\n（实在抱歉打扰，本人水平实在是差，很麻烦打扰了）\r\n",
          "created_at": "2024-11-20T09:05:30Z"
        },
        {
          "author": "WillowWL",
          "body": "> 请问如果输入了[http://localhost:7860/显示拒绝连接是什么问题呢？](http://localhost:7860/%E6%98%BE%E7%A4%BA%E6%8B%92%E7%BB%9D%E8%BF%9E%E6%8E%A5%E6%98%AF%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%91%A2%EF%BC%9F) pdf2zh -i这个是直接输入在浏览器网址就行吗，为啥我一输入就是普通搜索浏览器界面 （实在抱歉打扰，本人水平实在是差，很麻烦打扰了）\r\n\r\n**解决方案（一种替代法）**\r\n在命令行中，找到输入地址（gui.py所在地址",
          "created_at": "2024-11-20T09:11:29Z"
        },
        {
          "author": "BaseBlank",
          "body": "系统网络设置被用的软件修改了\r\n我是在虚拟环境中安装的pdf2z，\r\n你也可以直接安装，都行，然后找到安装的pdf2z的gui.py，拷贝一份备份，之后按照楼上的修改.py文件\r\n将303与308行的0.0.0.0修改为127.0.0.1\r\n之后在CMD里进入你的python环境，输入pdf2zh -i，不是在浏览器输入，\r\n之后CMD会生成一个网址，自动跳转本地浏览器。",
          "created_at": "2024-11-20T09:11:50Z"
        },
        {
          "author": "WillowWL",
          "body": "您好，您的邮件我已收到。顺祝时祺",
          "created_at": "2024-11-20T09:12:24Z"
        },
        {
          "author": "BaseBlank",
          "body": "如果系统设置没有修改，直接\r\n之后在CMD里进入你的python环境，输入pdf2zh -i，不是在浏览器输入，\r\n之后CMD会生成一个网址，自动跳转本地浏览器。\r\n就可以",
          "created_at": "2024-11-20T09:12:46Z"
        }
      ]
    },
    {
      "issue_number": 76,
      "title": "feat (demo): add a demo on Hugging Face space",
      "body": "## Scenario\r\n- When new users arrive, they want to quickly view the GUI.\r\n\r\n## Features\r\n- Provide an online demo on Hugging Face Spaces",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T08:39:11Z",
      "updated_at": "2024-11-20T09:07:09Z",
      "closed_at": "2024-11-20T09:07:09Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/76/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "reycn"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/76",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/76",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.241913",
      "comments": [
        {
          "author": "reycn",
          "body": "Feature implemented [@commit#47ee968264fac8355b9463dc2fa5d0d85f403409](https://github.com/Byaidu/PDFMathTranslate/commit/47ee968264fac8355b9463dc2fa5d0d85f403409)",
          "created_at": "2024-11-20T09:07:09Z"
        }
      ]
    },
    {
      "issue_number": 74,
      "title": "fix (docker): label latest missing",
      "body": "## Feature\r\nAdd label `latest` for docker images\r\n\r\n## Related Issue\r\n- [Comment to #70](https://github.com/Byaidu/PDFMathTranslate/issues/70#issuecomment-2487584766)\r\n\r\n## Replication \r\n- `docker pull byaidu/pdf2zh:1.7.6` succeed\r\n- `docker pull byaidu/pdf2zh` failed, with the following outputs\r\n\r\n\t```bash\r\n\tUsing default tag: latest\r\n\tError response from daemon: manifest for byaidu/pdf2zh:latest not found: manifest unknown: manifest unknown\r\n\t```",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-20T06:20:03Z",
      "updated_at": "2024-11-20T06:41:01Z",
      "closed_at": "2024-11-20T06:41:01Z",
      "labels": [
        "bug",
        "enhancement"
      ],
      "label_count": 2,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/74/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [
        "Byaidu"
      ],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/74",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/74",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.407585",
      "comments": [
        {
          "author": "Byaidu",
          "body": "现在应该可以了",
          "created_at": "2024-11-20T06:41:01Z"
        }
      ]
    },
    {
      "issue_number": 43,
      "title": "多文档时应当可以并行，或者允许设置并行请求。",
      "body": "如题",
      "state": "closed",
      "author": "etjec4",
      "author_type": "User",
      "created_at": "2024-11-12T15:09:19Z",
      "updated_at": "2024-11-20T06:24:49Z",
      "closed_at": "2024-11-20T06:24:49Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/43/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/43",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/43",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.591407",
      "comments": [
        {
          "author": "Byaidu",
          "body": "多开几个进程就并行了",
          "created_at": "2024-11-12T15:25:07Z"
        },
        {
          "author": "reycn",
          "body": "This feature ([multi-threads](https://github.com/Byaidu/PDFMathTranslate#threads)) has been finished by Byaidu. Now your can specify the number of threads by `-t 1` etc.\r\n\r\n\r\n这个功能（[多线程](https://github.com/Byaidu/PDFMathTranslate#threads)）已经由Byaidu完成。现在你可以通过 `-t 1` 等来指定线程数。",
          "created_at": "2024-11-20T06:24:49Z"
        }
      ]
    },
    {
      "issue_number": 67,
      "title": "想出个网页版，这样子可以和一些软件可能配合更好一些",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n\r\n类似这样子，封装成docker镜像，然后浏览器访问7860，妥妥的selfhost，完全无需命令行。\r\n\r\n然后出网页版，可以更方便在浏览器\r\n或者是，和flomo，obsidian，这些在线笔记合并在一起🤔然后这样子不用两个页面来回切换了\r\n\r\n我们也可以就是，两个网页切换，不用多个东西这样子一直来回切换了\r\n",
      "state": "closed",
      "author": "hhxy11",
      "author_type": "User",
      "created_at": "2024-11-19T08:25:59Z",
      "updated_at": "2024-11-20T03:57:01Z",
      "closed_at": "2024-11-20T03:57:01Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/67/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/67",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/67",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.758702",
      "comments": [
        {
          "author": "Byaidu",
          "body": "可以的，之前想集成 zotero 来着，结果发现 firefox 的 api 有点搞\r\n\r\ndocker 应该肯快就会上，之后有时间会看看能不能集成 obsidian 之类的",
          "created_at": "2024-11-19T08:53:45Z"
        },
        {
          "author": "reycn",
          "body": "We've added GUI support (`pdf2zh -i`)that enables you to drag and translate directly in the browser, eliminating the need to switch between terminals and browsers. Let's check if it works.\r\n\r\n我们添加了图形用户界面支持 (`pdf2zh -i`)，使您可以直接在浏览器中拖动和翻译，无需在终端和浏览器之间切换。让我们来看看它是否有效。",
          "created_at": "2024-11-19T11:36:08Z"
        },
        {
          "author": "Byaidu",
          "body": "已支持 docker",
          "created_at": "2024-11-20T03:57:01Z"
        }
      ]
    },
    {
      "issue_number": 63,
      "title": "目前表格直接跳过",
      "body": "## 功能描述\r\n请描述需要添加的功能，以及是否有类似项目可以参考\r\n我发现目前表格也无法进行翻译，各位大佬有什么好的建议吗",
      "state": "closed",
      "author": "yz-Python",
      "author_type": "User",
      "created_at": "2024-11-19T01:21:04Z",
      "updated_at": "2024-11-19T09:18:41Z",
      "closed_at": "2024-11-19T09:18:41Z",
      "labels": [
        "wontfix"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/63/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/63",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/63",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:02.982002",
      "comments": [
        {
          "author": "Byaidu",
          "body": "表格是故意设计成不翻译的…要不然实验数据会乱掉",
          "created_at": "2024-11-19T01:57:20Z"
        },
        {
          "author": "yz-Python",
          "body": "哦哦哦 那代码是不是把vcls=['abandon','figure','table','isolate_formula','formula_caption']\r\n这个里面的 table去掉 就可以了呀\r\n",
          "created_at": "2024-11-19T02:05:56Z"
        },
        {
          "author": "Byaidu",
          "body": "对的",
          "created_at": "2024-11-19T02:24:37Z"
        },
        {
          "author": "yz-Python",
          "body": "我试一下 谢谢大佬\r\n",
          "created_at": "2024-11-19T02:31:45Z"
        }
      ]
    },
    {
      "issue_number": 44,
      "title": " ckpt = torch.load(file, map_location=\"cpu\")",
      "body": "## 问题描述\r\n启动后控制台有显示“ ckpt = torch.load(file, map_location=\"cpu\")”，然后加载模型速度很慢，我是Ubuntu下有4080s，如何才能使用GPU？\r\n\r\n## 测试文档\r\n已安装 CUDN 12 & cudnn\r\n\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2024 NVIDIA Corporation\r\nBuilt on Tue_Feb_27_16:19:38_PST_2024\r\nCuda compilation tools, release 12.4, V12.4.99\r\nBuild cuda_12.4.r12.4/compiler.33961263_0",
      "state": "closed",
      "author": "colin4k",
      "author_type": "User",
      "created_at": "2024-11-13T03:12:11Z",
      "updated_at": "2024-11-19T07:51:21Z",
      "closed_at": "2024-11-19T07:51:21Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/44/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/44",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/44",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:03.153225",
      "comments": [
        {
          "author": "CLDYG7240",
          "body": "有同样的问题 可以优化一下吗？",
          "created_at": "2024-11-13T05:02:40Z"
        },
        {
          "author": "reycn",
          "body": "Fixed @ [PR#66](https://github.com/Byaidu/PDFMathTranslate/pull/66)\r\n\r\n@colin4k @CLDYG7240 @Byaidu ",
          "created_at": "2024-11-19T07:46:36Z"
        }
      ]
    },
    {
      "issue_number": 64,
      "title": "进度条走完了但是并没有翻译",
      "body": "麻烦作者看下，进度条走完了，但是查看输出的文档发现并没有翻译\r\n文件：\r\n[1.pdf](https://github.com/user-attachments/files/17808700/1.pdf)\r\n",
      "state": "closed",
      "author": "GeorgeRudd",
      "author_type": "User",
      "created_at": "2024-11-19T03:06:39Z",
      "updated_at": "2024-11-19T03:57:22Z",
      "closed_at": "2024-11-19T03:57:21Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/64/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/64",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/64",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:03.373656",
      "comments": [
        {
          "author": "Byaidu",
          "body": "![image](https://github.com/user-attachments/assets/8275c352-7547-4e08-be18-7ec050fa6a61)\r\n\r\n目前还不能翻译这种扫描版的 PDF，参考 https://github.com/Byaidu/PDFMathTranslate/issues/19",
          "created_at": "2024-11-19T03:12:50Z"
        },
        {
          "author": "GeorgeRudd",
          "body": "好的谢谢 我以为只要能复制就能翻译",
          "created_at": "2024-11-19T03:57:21Z"
        }
      ]
    },
    {
      "issue_number": 47,
      "title": "feat (gui): supports gui",
      "body": "## Description\r\nSupport GUI-based interactions for users to translate their PDFs locally.\r\n\r\nSimilar functions were provided by the following projects:\r\n\r\n1. https://github.com/immersive-translate/immersive-translate\r\n\r\nI can implement if I have time in the near future.",
      "state": "closed",
      "author": "reycn",
      "author_type": "User",
      "created_at": "2024-11-14T07:06:44Z",
      "updated_at": "2024-11-18T11:18:39Z",
      "closed_at": "2024-11-18T11:18:39Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/47/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/47",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/47",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:03.553467",
      "comments": [
        {
          "author": "reycn",
          "body": "Done",
          "created_at": "2024-11-18T10:02:31Z"
        }
      ]
    },
    {
      "issue_number": 50,
      "title": "deeplx的DEEPL_AUTH_KEY怎么获得",
      "body": "DEEPL_AUTH_KEY怎么设置，需要deepl pro账号吗\r\n",
      "state": "closed",
      "author": "ygc666666",
      "author_type": "User",
      "created_at": "2024-11-15T02:50:57Z",
      "updated_at": "2024-11-18T11:15:20Z",
      "closed_at": "2024-11-18T11:15:20Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 5,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/50/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/50",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/50",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:03.714440",
      "comments": [
        {
          "author": "Byaidu",
          "body": "如果 deeplx 的提供者没有设置鉴权，可以随便填一个 key 进去",
          "created_at": "2024-11-15T03:32:03Z"
        },
        {
          "author": "reycn",
          "body": "The auth_key was designed for project DeepLX (link available in the readme doc) only, instead of the official version. \r\n\r\nauth_key 是为 DeepLX 项目设计的（链接在自述文档中可用），而不是官方版本。",
          "created_at": "2024-11-15T07:31:08Z"
        },
        {
          "author": "Byaidu",
          "body": "> The auth_key was designed for project DeepLX (link available in the readme doc) only, instead of the official version. \n> \n> \n> \n> auth_key 是为 DeepLX 项目设计的（链接在自述文档中可用），而不是官方版本。\n\ndeeplx 那个好像被我改糊了……现在可能只有官方 deepl 服务能用\n\n你看看要不要再单独实现一个 deeplx 的逻辑加回来（",
          "created_at": "2024-11-15T07:34:35Z"
        },
        {
          "author": "reycn",
          "body": "> > The auth_key was designed for project DeepLX (link available in the readme doc) only, instead of the official version.\r\n> > auth_key 是为 DeepLX 项目设计的（链接在自述文档中可用），而不是官方版本。\r\n> \r\n> deeplx 那个好像被我改糊了……现在可能只有官方 deepl 服务能用\r\n> \r\n> 你看看要不要再单独实现一个 deeplx 的逻辑加回来（\r\n\r\n........... 尬住了",
          "created_at": "2024-11-18T10:25:46Z"
        },
        {
          "author": "reycn",
          "body": "Done",
          "created_at": "2024-11-18T11:05:05Z"
        }
      ]
    },
    {
      "issue_number": 31,
      "title": "some formatting issues.",
      "body": "\r\n![telegram-cloud-photo-size-1-5012867463620177258-y](https://github.com/user-attachments/assets/caa1b13d-064b-41f6-b3d0-43120d16ee89)\r\n\r\nThe text is overlapping.",
      "state": "closed",
      "author": "llleonzhao",
      "author_type": "User",
      "created_at": "2024-11-11T08:15:25Z",
      "updated_at": "2024-11-18T08:35:55Z",
      "closed_at": "2024-11-18T08:35:55Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/31/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/31",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/31",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:03.903512",
      "comments": [
        {
          "author": "Byaidu",
          "body": "日语排版有难度的，有需要可以手动调整字体大小和间隔 https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/converter.py#L586",
          "created_at": "2024-11-11T09:18:48Z"
        }
      ]
    },
    {
      "issue_number": 52,
      "title": "新手请求帮助",
      "body": "你好，我下载python是Python 3.11.9，按照文件要求是的使用pip安装pip install pdf2zh完成，之后我在test文件中放入一个名称为21.pdf的文件，在命令行中执行，PS C:\\Users\\QHQ\\Desktop\\test> pdf2zh 21.pdf，出现以下问题，请问能帮忙看一下这是为什么嘛？\r\n\r\nPS C:\\Users\\QHQ\\Desktop\\test> pdf2zh 21.pdf\r\nC:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py:733: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.\r\n  ckpt = torch.load(file, map_location=\"cpu\")\r\nTraceback (most recent call last):\r\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\r\n  File \"<frozen runpy>\", line 88, in _run_code\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Scripts\\pdf2zh.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 229, in main\r\n    extract_text(**vars(parsed_args))\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\pdf2zh\\pdf2zh.py\", line 74, in extract_text\r\n    model = doclayout_yolo.YOLOv10(pth)\r\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\models\\yolov10\\model.py\", line 10, in __init__\r\n    super().__init__(model=model, task=task, verbose=verbose)\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\engine\\model.py\", line 144, in __init__\r\n    self._load(model, task=task)\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\engine\\model.py\", line 233, in _load\r\n    self.model, self.ckpt = attempt_load_one_weight(weights)\r\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py\", line 807, in attempt_load_one_weight\r\n    ckpt, weight = torch_safe_load(weight)  # load ckpt\r\n                   ^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\doclayout_yolo\\nn\\tasks.py\", line 733, in torch_safe_load\r\n    ckpt = torch.load(file, map_location=\"cpu\")\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\torch\\serialization.py\", line 1326, in load\r\n    with _open_zipfile_reader(opened_file) as opened_zipfile:\r\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\QHQ\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\torch\\serialization.py\", line 671, in __init__\r\n    super().__init__(torch._C.PyTorchFileReader(name_or_buffer))\r\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nRuntimeError: PytorchStreamReader failed reading zip archive: failed finding central directory\r\n",
      "state": "closed",
      "author": "QHQ-QHQ",
      "author_type": "User",
      "created_at": "2024-11-15T09:48:54Z",
      "updated_at": "2024-11-18T08:33:58Z",
      "closed_at": "2024-11-18T08:33:58Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/52/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/52",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/52",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.058147",
      "comments": [
        {
          "author": "Byaidu",
          "body": "参考 https://github.com/Byaidu/PDFMathTranslate/issues/4",
          "created_at": "2024-11-15T12:43:05Z"
        },
        {
          "author": "duskdusts",
          "body": "我是下载了pdf2zh.py里面的http://huggingface.co/juliozhao/DocLayout-YOLO-DocStructBench/resolve/main/doclayout_yolo_docstructbench_imgsz1024.pt的模型，复制到C:\\Users\\username\\AppData\\Local\\Temp里面解决的",
          "created_at": "2024-11-16T12:17:33Z"
        },
        {
          "author": "QHQ-QHQ",
          "body": "> 我是下载了pdf2zh.py里面的[http://huggingface.co/juliozhao/DocLayout-YOLO-DocStructBench/resolve/main/doclayout_yolo_docstructbench_imgsz1024.pt的模型，复制到C:\\Users\\username\\AppData\\Local\\Temp里面解决的](http://huggingface.co/juliozhao/DocLayout-YOLO-DocStructBench/resolve/main/doclayout_yolo_docstructbench_imgsz102",
          "created_at": "2024-11-17T07:34:23Z"
        }
      ]
    },
    {
      "issue_number": 51,
      "title": "行内公式识别问题？",
      "body": "在识别过程中行间公式识别正常且排版正常，但是行内公式识别存在错误且出现大量横线遮挡文字和公式部分，请问应该如何处理呢？\r\n\r\n![image](https://github.com/user-attachments/assets/4dbce98a-4bbf-4e10-9bdf-bcbaef6fb273)\r\n\r\n![image](https://github.com/user-attachments/assets/b91faa63-b5fc-497a-9219-a41397634c28)\r\n\r\n\r\n",
      "state": "closed",
      "author": "wendribss",
      "author_type": "User",
      "created_at": "2024-11-15T07:12:30Z",
      "updated_at": "2024-11-18T08:33:24Z",
      "closed_at": "2024-11-18T08:33:24Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/51/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/51",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/51",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.257382",
      "comments": [
        {
          "author": "Byaidu",
          "body": "目前行内多行公式还在进一步优化，不过大部份简单公式应该是没问题的",
          "created_at": "2024-11-15T07:31:36Z"
        },
        {
          "author": "Byaidu",
          "body": "方便的话可以发一下 pdf 文档",
          "created_at": "2024-11-15T07:32:26Z"
        },
        {
          "author": "wendribss",
          "body": "好的，非常感谢\r\n\r\n",
          "created_at": "2024-11-15T07:44:36Z"
        }
      ]
    },
    {
      "issue_number": 48,
      "title": "我想在完全离线的内网使用，但好像刚开始运行pdf2zh时要下载一个文件，请问是下载哪个文件，放到哪里呢？",
      "body": "如题。\r\n办公时只能用内网，不能连接到互联网。\r\n另外，使用ollama本地模型翻译时，远慢于google在线模型，有什么加速方法么？",
      "state": "closed",
      "author": "ying06",
      "author_type": "User",
      "created_at": "2024-11-14T14:56:36Z",
      "updated_at": "2024-11-16T06:17:21Z",
      "closed_at": "2024-11-16T06:17:21Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/48/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/48",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/48",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.428521",
      "comments": [
        {
          "author": "Byaidu",
          "body": "https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/pdf2zh.py#L73\r\n\r\n不知道为什么会有离线办公还需要翻译文档的场景，建议找网管开个规则",
          "created_at": "2024-11-14T15:02:07Z"
        },
        {
          "author": "JiNanPiWang",
          "body": "> https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/pdf2zh.py#L73\r\n> \r\n> 不知道为什么会有离线办公还需要翻译文档的场景，建议找网管开个规则\r\n\r\n有一些保密文档是英文的，而且很长，实在是看不懂",
          "created_at": "2024-11-15T05:58:00Z"
        },
        {
          "author": "ying06",
          "body": "> > https://github.com/Byaidu/PDFMathTranslate/blob/main/pdf2zh/pdf2zh.py#L73\r\n> > 不知道为什么会有离线办公还需要翻译文档的场景，建议找网管开个规则\r\n> \r\n> 有一些保密文档是英文的，而且很长，实在是看不懂\r\n\r\n是在物理断网的情况下做科研，确实有点funny，还经常BM检查。。。",
          "created_at": "2024-11-15T09:57:08Z"
        }
      ]
    },
    {
      "issue_number": 35,
      "title": "翻译文章用后面的参考文献",
      "body": "![image](https://github.com/user-attachments/assets/b2d76b1e-3e7e-46d7-a050-4dd8ddddd6fe)\r\n多页发生这种问题",
      "state": "closed",
      "author": "gillmeshz",
      "author_type": "User",
      "created_at": "2024-11-11T12:48:36Z",
      "updated_at": "2024-11-13T18:29:46Z",
      "closed_at": "2024-11-13T18:29:46Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 4,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/35/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/35",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/35",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.599186",
      "comments": [
        {
          "author": "Byaidu",
          "body": "请提供测试用文件",
          "created_at": "2024-11-11T12:57:31Z"
        },
        {
          "author": "gillmeshz",
          "body": "[54、Mechanical properties and durability of FRP-reinforced coral aggregate concrete structures A critical review.pdf](https://github.com/user-attachments/files/17702905/54.Mechanical.properties.and.durability.of.FRP-reinforced.coral.aggregate.concrete.structures.A.critical.review.pdf)\r\n",
          "created_at": "2024-11-11T13:17:20Z"
        },
        {
          "author": "gillmeshz",
          "body": "但不得不说公式保留的很好，如果这个翻译排版问题解决了就完美了💪",
          "created_at": "2024-11-11T13:23:42Z"
        },
        {
          "author": "Byaidu",
          "body": "已修复",
          "created_at": "2024-11-13T18:29:46Z"
        }
      ]
    },
    {
      "issue_number": 40,
      "title": "pymupdf.mupdf.FzErrorFormat: code=7: cannot find object in xref (8683 0 R)",
      "body": "  ckpt = torch.load(file, map_location=\"cpu\")\r\nTraceback (most recent call last):\r\n  File \"/home/yshi/.pyenv/versions/3.12.0/bin/pdf2zh\", line 8, in <module>\r\n    sys.exit(main())\r\n             ^^^^^^\r\n  File \"/home/yshi/.pyenv/versions/3.12.0/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 229, in main\r\n    extract_text(**vars(parsed_args))\r\n  File \"/home/yshi/.pyenv/versions/3.12.0/lib/python3.12/site-packages/pdf2zh/pdf2zh.py\", line 90, in extract_text\r\n    font_res=doc_en.xref_get_key(xref,f'{label}Font')\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/yshi/.pyenv/versions/3.12.0/lib/python3.12/site-packages/pymupdf/__init__.py\", line 5987, in xref_get_key\r\n    obj = mupdf.pdf_load_object(pdf, xref)\r\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File \"/home/yshi/.pyenv/versions/3.12.0/lib/python3.12/site-packages/pymupdf/mupdf.py\", line 50782, in pdf_load_object\r\n    return _mupdf.pdf_load_object(doc, num)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n[The Software Developers Guide to Linux A practical, no-nonsense guide to using the Linux command line and utilities as a... (David Cohen, Christian Sturm) (Z-Library).pdf](https://github.com/user-attachments/files/17711308/The.Software.Developers.Guide.to.Linux.A.practical.no-nonsense.guide.to.using.the.Linux.command.line.and.utilities.as.a.David.Cohen.Christian.Sturm.Z-Library.pdf)\r\n",
      "state": "closed",
      "author": "yshi100",
      "author_type": "User",
      "created_at": "2024-11-12T04:58:48Z",
      "updated_at": "2024-11-13T18:29:36Z",
      "closed_at": "2024-11-13T18:29:36Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/40/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/40",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/40",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.774762",
      "comments": [
        {
          "author": "Byaidu",
          "body": "已修复",
          "created_at": "2024-11-13T18:29:36Z"
        }
      ]
    },
    {
      "issue_number": 45,
      "title": "APA参考文献部分会有问题，格式不匹配",
      "body": "## 问题描述\r\n没有自动换行，参考文献全部识别为一个段落\r\n![image](https://github.com/user-attachments/assets/3b3c732d-6165-411d-b19a-84c32e40a119)\r\n\r\n",
      "state": "closed",
      "author": "zifeiyu1999",
      "author_type": "User",
      "created_at": "2024-11-13T08:15:57Z",
      "updated_at": "2024-11-13T08:21:05Z",
      "closed_at": "2024-11-13T08:21:05Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 3,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/45/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/45",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/45",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:04.946945",
      "comments": [
        {
          "author": "zifeiyu1999",
          "body": "文件名好像还不能有空格，不然会报错，找不到文件",
          "created_at": "2024-11-13T08:18:38Z"
        },
        {
          "author": "Byaidu",
          "body": "已知问题，可以暂时先看双语文档的原文部分\r\n\r\n文件名包含空格请参考 https://github.com/Byaidu/PDFMathTranslate/issues/30",
          "created_at": "2024-11-13T08:19:37Z"
        },
        {
          "author": "zifeiyu1999",
          "body": "好的，感谢大佬，非常棒的项目",
          "created_at": "2024-11-13T08:21:01Z"
        }
      ]
    },
    {
      "issue_number": 39,
      "title": "多处代码显示重叠",
      "body": "![1](https://github.com/user-attachments/assets/22a7909e-1e64-409e-a43d-c3d53ed7376d)\r\n[Uploading Modern Front-End Development for Rails Hotwire, Stimulus, Turbo, and React, 2nd Edition (Noel Rappin) (Z-Library).pdf…]()\r\n",
      "state": "closed",
      "author": "yshi100",
      "author_type": "User",
      "created_at": "2024-11-12T04:29:14Z",
      "updated_at": "2024-11-12T12:22:36Z",
      "closed_at": "2024-11-12T12:22:36Z",
      "labels": [
        "duplicate"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 2,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/39/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/39",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/39",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:05.122118",
      "comments": [
        {
          "author": "yshi100",
          "body": "转换后的代码能保持原来的配色吗？",
          "created_at": "2024-11-12T04:41:09Z"
        },
        {
          "author": "Byaidu",
          "body": "暂时不能，以后可能会加上颜色支持",
          "created_at": "2024-11-12T04:42:25Z"
        }
      ]
    },
    {
      "issue_number": 18,
      "title": "能否支持gpt的api呀",
      "body": "这个效果挺好的，ollama都支持了，看作者能否支持更多的api呀，比如gpt、claude等",
      "state": "closed",
      "author": "Soclatos",
      "author_type": "User",
      "created_at": "2024-11-07T01:24:58Z",
      "updated_at": "2024-11-10T06:26:55Z",
      "closed_at": "2024-11-10T06:26:55Z",
      "labels": [
        "enhancement"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/18/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/18",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/18",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:05.293932",
      "comments": [
        {
          "author": "Byaidu",
          "body": "已支持",
          "created_at": "2024-11-10T06:26:55Z"
        }
      ]
    },
    {
      "issue_number": 22,
      "title": "解析写入都是正常的，输出的是空白文件",
      "body": "[1.pdf](https://github.com/user-attachments/files/17659727/1.pdf)\r\n",
      "state": "closed",
      "author": "more-strive",
      "author_type": "User",
      "created_at": "2024-11-07T10:10:09Z",
      "updated_at": "2024-11-08T14:55:37Z",
      "closed_at": "2024-11-08T14:55:37Z",
      "labels": [
        "bug"
      ],
      "label_count": 1,
      "has_labels": true,
      "comments_count": 1,
      "reactions": {
        "url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/22/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
      },
      "assignees": [],
      "milestone": null,
      "html_url": "https://github.com/Byaidu/PDFMathTranslate/issues/22",
      "api_url": "https://api.github.com/repos/Byaidu/PDFMathTranslate/issues/22",
      "repository": "Byaidu/PDFMathTranslate",
      "extraction_date": "2025-06-21T23:30:05.462522",
      "comments": [
        {
          "author": "Byaidu",
          "body": "已修复",
          "created_at": "2024-11-08T14:55:37Z"
        }
      ]
    }
  ]
}